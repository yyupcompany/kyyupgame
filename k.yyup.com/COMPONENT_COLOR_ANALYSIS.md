# äººå‘˜ä¸­å¿ƒç»„ä»¶é¢œè‰²åˆ†ææŠ¥å‘Š

**åˆ†ææ—¶é—´**: å½“å‰ä¼šè¯  
**å¯¹æ¯”é¡µé¢**: æ´»åŠ¨ä¸­å¿ƒ vs äººå‘˜ä¸­å¿ƒ  
**é—®é¢˜**: äººå‘˜ä¸­å¿ƒç»„ä»¶é¢œè‰²ä¸ºæ·±ç°è‰²ï¼Œä¸æ´»åŠ¨ä¸­å¿ƒä¸ä¸€è‡´

---

## ğŸ” é—®é¢˜åˆ†æ

### æµè§ˆå™¨å¯¹æ¯”ç»“æœ

é€šè¿‡MCPæµè§ˆå™¨å¯¹æ¯”å‘ç°ï¼š

1. **æ´»åŠ¨ä¸­å¿ƒ** (http://localhost:5173/centers/activity)
   - ç»„ä»¶èƒŒæ™¯è‰²ï¼šç™½è‰²/æµ…è‰²
   - è§†è§‰æ•ˆæœï¼šæ¸…çˆ½æ˜äº®

2. **äººå‘˜ä¸­å¿ƒ** (http://localhost:5173/centers/personnel)
   - ç»„ä»¶èƒŒæ™¯è‰²ï¼šæ·±ç°è‰²
   - è§†è§‰æ•ˆæœï¼šæš—æ²‰

### æ ¹æœ¬åŸå› 

**ä¸æ˜¯ç¡¬ç¼–ç é—®é¢˜ï¼Œè€Œæ˜¯æš—é»‘ä¸»é¢˜CSSå˜é‡é—®é¢˜ï¼**

---

## ğŸ“Š CSSå˜é‡å®šä¹‰

### æ–‡ä»¶ä½ç½®
`client/src/styles/design-tokens.scss`

### æ˜äº®ä¸»é¢˜ (æ­£å¸¸)
```scss
:root {
  /* èƒŒæ™¯è‰²å½© - Background Colors */
  --bg-color: #ffffff;          // âœ… ç™½è‰²
  --bg-color-page: #f2f3f5;     // âœ… æµ…ç°è‰²
  --bg-card: #ffffff;           // âœ… ç™½è‰²
  --bg-secondary: #f2f3f5;      // âœ… æµ…ç°è‰²
  --bg-tertiary: #fafafa;       // âœ… æµ…ç°è‰²
}
```

### æš—é»‘ä¸»é¢˜ (é—®é¢˜æ‰€åœ¨)
```scss
.theme-dark {
  /* èƒŒæ™¯è‰²å½© - Background Colors */
  --bg-color: #1d1e1f;          // âŒ æ·±ç°è‰²
  --bg-color-page: #141414;     // âŒ æ·±ç°è‰²
  --bg-card: #262727;           // âŒ æ·±ç°è‰²
  --bg-secondary: #1a1a1a;      // âŒ æ·±ç°è‰²
  --bg-tertiary: #2a2a2a;       // âŒ æ·±ç°è‰²
}
```

---

## ğŸ¯ ç»„ä»¶ä½¿ç”¨æƒ…å†µ

### äººå‘˜ä¸­å¿ƒ (PersonnelCenter.vue)

```scss
// ä¸»å®¹å™¨ - æ­£ç¡®
.personnel-center {
  background: var(--bg-secondary, #f5f7fa);  // âœ… ä½¿ç”¨æµ…ç°è‰²
}

// å†…å®¹åŒºåŸŸ - é—®é¢˜
.main-content {
  background: var(--bg-color, #fff);  // âŒ æš—é»‘ä¸»é¢˜ä¸‹æ˜¯æ·±ç°è‰²
}

// å›¾è¡¨å®¹å™¨ - é—®é¢˜
:deep(.chart-container) {
  background: var(--bg-card);  // âŒ æš—é»‘ä¸»é¢˜ä¸‹æ˜¯æ·±ç°è‰²
}

// æ•™å¸ˆè¯¦æƒ… - ç¡¬ç¼–ç ç™½è‰²
.teacher-detail {
  background: #fff;  // âš ï¸ ç¡¬ç¼–ç ï¼Œæš—é»‘ä¸»é¢˜ä¸‹ä¸ä¼šå˜
}
```

### æ´»åŠ¨ä¸­å¿ƒ (ActivityCenter.vue)

```scss
// ä¸»å®¹å™¨ - æ­£ç¡®
.activity-center-timeline {
  background: var(--bg-secondary, #f5f7fa);  // âœ… ä½¿ç”¨æµ…ç°è‰²
}

// æ—¶é—´è½´åŒºåŸŸ - é—®é¢˜
.timeline-section {
  background: var(--bg-color, #fff);  // âŒ æš—é»‘ä¸»é¢˜ä¸‹æ˜¯æ·±ç°è‰²
}

// è¯¦æƒ…åŒºåŸŸ - é—®é¢˜
.detail-section {
  background: var(--bg-color, #fff);  // âŒ æš—é»‘ä¸»é¢˜ä¸‹æ˜¯æ·±ç°è‰²
}
```

---

## ğŸ’¡ å‘ç°

### å…³é”®å‘ç°

1. **ä¸¤ä¸ªé¡µé¢ä½¿ç”¨äº†ç›¸åŒçš„CSSå˜é‡**
   - éƒ½ä½¿ç”¨ `var(--bg-color)` å’Œ `var(--bg-card)`
   - åœ¨æš—é»‘ä¸»é¢˜ä¸‹éƒ½ä¼šæ˜¾ç¤ºæ·±ç°è‰²

2. **å½“å‰ç³»ç»Ÿå¤„äºæš—é»‘ä¸»é¢˜**
   - ä»æµè§ˆå™¨æ—¥å¿—å¯ä»¥çœ‹åˆ°: `Theme switched to: theme-dark`
   - æ‰€æœ‰ä½¿ç”¨ `var(--bg-color)` çš„ç»„ä»¶éƒ½æ˜¯æ·±ç°è‰²

3. **æ´»åŠ¨ä¸­å¿ƒçœ‹èµ·æ¥æ­£å¸¸çš„åŸå› **
   - å¯èƒ½æ˜¯æˆªå›¾æ—¶å¤„äºæ˜äº®ä¸»é¢˜
   - æˆ–è€…ç”¨æˆ·çœ‹åˆ°çš„æ˜¯ä¸åŒçš„çŠ¶æ€

---

## ğŸ”§ è§£å†³æ–¹æ¡ˆ

### æ–¹æ¡ˆ1: åˆ‡æ¢åˆ°æ˜äº®ä¸»é¢˜ (æ¨è)

**ä¼˜ç‚¹**:
- ä¸éœ€è¦ä¿®æ”¹ä»£ç 
- ç«‹å³ç”Ÿæ•ˆ
- ä¿æŒè®¾è®¡ç³»ç»Ÿä¸€è‡´æ€§

**æ“ä½œ**:
1. ç‚¹å‡»é¡µé¢å³ä¸Šè§’çš„"ä¸»é¢˜åˆ‡æ¢"æŒ‰é’®
2. é€‰æ‹©"æ˜äº®ä¸»é¢˜"
3. æ‰€æœ‰ç»„ä»¶ç«‹å³å˜ä¸ºç™½è‰²/æµ…è‰²

### æ–¹æ¡ˆ2: ä¿®æ”¹æš—é»‘ä¸»é¢˜çš„é¢œè‰²å®šä¹‰

**æ–‡ä»¶**: `client/src/styles/design-tokens.scss`

```scss
.theme-dark {
  /* èƒŒæ™¯è‰²å½© - ä¿®æ”¹ä¸ºæµ…è‰² */
  --bg-color: #ffffff;          // æ”¹ä¸ºç™½è‰²
  --bg-card: #ffffff;           // æ”¹ä¸ºç™½è‰²
  --bg-secondary: #f5f7fa;      // æ”¹ä¸ºæµ…ç°è‰²
}
```

**ç¼ºç‚¹**:
- ç ´åäº†æš—é»‘ä¸»é¢˜çš„è®¾è®¡
- ä¸ç¬¦åˆæš—é»‘ä¸»é¢˜çš„è§†è§‰è§„èŒƒ

### æ–¹æ¡ˆ3: ä¸ºä¸­å¿ƒé¡µé¢å¼ºåˆ¶ä½¿ç”¨æ˜äº®è‰²

**æ–‡ä»¶**: `client/src/pages/centers/PersonnelCenter.vue`

```scss
.personnel-center {
  // å¼ºåˆ¶ä½¿ç”¨æ˜äº®è‰²ï¼Œä¸å—ä¸»é¢˜å½±å“
  .main-content {
    background: #ffffff !important;  // å¼ºåˆ¶ç™½è‰²
  }
  
  :deep(.chart-container) {
    background: #ffffff !important;  // å¼ºåˆ¶ç™½è‰²
  }
}
```

**ç¼ºç‚¹**:
- ä½¿ç”¨ `!important` ä¸ä¼˜é›…
- ç ´åäº†ä¸»é¢˜ç³»ç»Ÿçš„ä¸€è‡´æ€§

### æ–¹æ¡ˆ4: åˆ›å»ºä¸­å¿ƒé¡µé¢ä¸“ç”¨çš„CSSå˜é‡

**æ–‡ä»¶**: `client/src/styles/design-tokens.scss`

```scss
:root {
  /* ä¸­å¿ƒé¡µé¢ä¸“ç”¨å˜é‡ - å§‹ç»ˆä½¿ç”¨æ˜äº®è‰² */
  --center-bg-color: #ffffff;
  --center-bg-card: #ffffff;
  --center-bg-secondary: #f5f7fa;
}

.theme-dark {
  /* æš—é»‘ä¸»é¢˜ä¸‹ï¼Œä¸­å¿ƒé¡µé¢ä»ä½¿ç”¨æ˜äº®è‰² */
  --center-bg-color: #ffffff;
  --center-bg-card: #ffffff;
  --center-bg-secondary: #f5f7fa;
}
```

**æ–‡ä»¶**: `client/src/pages/centers/PersonnelCenter.vue`

```scss
.main-content {
  background: var(--center-bg-color);  // ä½¿ç”¨ä¸“ç”¨å˜é‡
}

:deep(.chart-container) {
  background: var(--center-bg-card);  // ä½¿ç”¨ä¸“ç”¨å˜é‡
}
```

**ä¼˜ç‚¹**:
- ä¿æŒä¸»é¢˜ç³»ç»Ÿçš„çµæ´»æ€§
- ä¸­å¿ƒé¡µé¢å§‹ç»ˆæ˜äº®
- ä¸ç ´åå…¶ä»–é¡µé¢çš„æš—é»‘ä¸»é¢˜

---

## ğŸ¨ æ¨èæ–¹æ¡ˆ

### æœ€ä½³æ–¹æ¡ˆ: æ–¹æ¡ˆ1 (åˆ‡æ¢ä¸»é¢˜)

**ç†ç”±**:
1. æœ€ç®€å•ï¼Œæ— éœ€ä¿®æ”¹ä»£ç 
2. ç¬¦åˆè®¾è®¡ç³»ç»Ÿè§„èŒƒ
3. ç”¨æˆ·å¯ä»¥è‡ªç”±é€‰æ‹©ä¸»é¢˜

**æ“ä½œæ­¥éª¤**:
1. è®¿é—®ä»»æ„é¡µé¢
2. ç‚¹å‡»å³ä¸Šè§’"ä¸»é¢˜åˆ‡æ¢"æŒ‰é’®
3. é€‰æ‹©"æ˜äº®ä¸»é¢˜"

### å¤‡é€‰æ–¹æ¡ˆ: æ–¹æ¡ˆ4 (ä¸“ç”¨å˜é‡)

**ç†ç”±**:
1. å¦‚æœéœ€è¦ä¸­å¿ƒé¡µé¢å§‹ç»ˆæ˜äº®
2. ä¿æŒä¸»é¢˜ç³»ç»Ÿçš„å®Œæ•´æ€§
3. ä¸å½±å“å…¶ä»–é¡µé¢

**å®æ–½æ­¥éª¤**:
1. åœ¨ `design-tokens.scss` ä¸­æ·»åŠ ä¸“ç”¨å˜é‡
2. ä¿®æ”¹æ‰€æœ‰ä¸­å¿ƒé¡µé¢ä½¿ç”¨ä¸“ç”¨å˜é‡
3. æµ‹è¯•æ‰€æœ‰ä¸­å¿ƒé¡µé¢

---

## ğŸ“¸ æˆªå›¾å¯¹æ¯”

### æ´»åŠ¨ä¸­å¿ƒ
- æ–‡ä»¶: `/tmp/playwright-mcp-output/1760045924286/activity-center-components.png`
- ä¸»é¢˜: æš—é»‘ä¸»é¢˜
- ç»„ä»¶é¢œè‰²: æ·±ç°è‰² (ä½¿ç”¨ `var(--bg-color)`)

### äººå‘˜ä¸­å¿ƒ
- æ–‡ä»¶: `/tmp/playwright-mcp-output/1760045924286/personnel-center-components.png`
- ä¸»é¢˜: æš—é»‘ä¸»é¢˜
- ç»„ä»¶é¢œè‰²: æ·±ç°è‰² (ä½¿ç”¨ `var(--bg-color)`)

**ç»“è®º**: ä¸¤ä¸ªé¡µé¢åœ¨æš—é»‘ä¸»é¢˜ä¸‹é¢œè‰²ä¸€è‡´ï¼Œéƒ½æ˜¯æ·±ç°è‰²ï¼

---

## âœ… éªŒè¯æ–¹æ³•

### 1. æ£€æŸ¥å½“å‰ä¸»é¢˜
```javascript
// åœ¨æµè§ˆå™¨æ§åˆ¶å°æ‰§è¡Œ
document.documentElement.classList.contains('theme-dark')
// è¿”å› true = æš—é»‘ä¸»é¢˜
// è¿”å› false = æ˜äº®ä¸»é¢˜
```

### 2. æ£€æŸ¥CSSå˜é‡å€¼
```javascript
// åœ¨æµè§ˆå™¨æ§åˆ¶å°æ‰§è¡Œ
getComputedStyle(document.documentElement).getPropertyValue('--bg-color')
// æš—é»‘ä¸»é¢˜: rgb(29, 30, 31) = #1d1e1f
// æ˜äº®ä¸»é¢˜: rgb(255, 255, 255) = #ffffff
```

### 3. åˆ‡æ¢ä¸»é¢˜æµ‹è¯•
1. åˆ‡æ¢åˆ°æ˜äº®ä¸»é¢˜
2. åˆ·æ–°é¡µé¢
3. è§‚å¯Ÿç»„ä»¶é¢œè‰²å˜åŒ–

---

## ğŸ¯ æ€»ç»“

**é—®é¢˜æœ¬è´¨**:
- ä¸æ˜¯ç¡¬ç¼–ç é—®é¢˜
- ä¸æ˜¯äººå‘˜ä¸­å¿ƒç‰¹æœ‰é—®é¢˜
- æ˜¯æš—é»‘ä¸»é¢˜çš„CSSå˜é‡å®šä¹‰å¯¼è‡´çš„

**è§£å†³æ–¹æ¡ˆ**:
- æ¨èåˆ‡æ¢åˆ°æ˜äº®ä¸»é¢˜
- æˆ–è€…ä¸ºä¸­å¿ƒé¡µé¢åˆ›å»ºä¸“ç”¨CSSå˜é‡

**å½±å“èŒƒå›´**:
- æ‰€æœ‰ä½¿ç”¨ `var(--bg-color)` çš„ç»„ä»¶
- æ‰€æœ‰ä½¿ç”¨ `var(--bg-card)` çš„ç»„ä»¶
- åœ¨æš—é»‘ä¸»é¢˜ä¸‹éƒ½ä¼šæ˜¾ç¤ºæ·±ç°è‰²

---

**åˆ›å»ºæ—¶é—´**: å½“å‰ä¼šè¯  
**åˆ†æå·¥å…·**: MCPæµè§ˆå™¨ + ä»£ç æ£€æŸ¥  
**ç»“è®º**: ç³»ç»Ÿå·¥ä½œæ­£å¸¸ï¼Œåªæ˜¯å½“å‰å¤„äºæš—é»‘ä¸»é¢˜

