# æ•™å¸ˆå®¢æˆ·è·Ÿè¸ªSOPæ·±åº¦è§£å†³æ–¹æ¡ˆ

## ğŸ¯ æ ¸å¿ƒç†å¿µ

**è®©æ¯ä¸ªè€å¸ˆéƒ½èƒ½æˆä¸ºé”€å”®é«˜æ‰‹** - é€šè¿‡æ ‡å‡†åŒ–çš„SOPæµç¨‹ + AIæ™ºèƒ½è¾…åŠ©ï¼Œå³ä½¿æ˜¯æ–°æ‰‹æ•™å¸ˆä¹Ÿèƒ½é«˜æ•ˆè½¬åŒ–å®¢æˆ·ã€‚

---

## ğŸ“‹ å®Œæ•´SOPæµç¨‹è®¾è®¡

### é˜¶æ®µåˆ’åˆ†ï¼ˆ7ä¸ªæ ¸å¿ƒé˜¶æ®µï¼‰

```
é™Œç”Ÿå®¢æˆ· â†’ åˆæ¬¡æ¥è§¦ â†’ éœ€æ±‚æŒ–æ˜ â†’ æ–¹æ¡ˆå‘ˆç° â†’ å¼‚è®®å¤„ç† â†’ ä¸´é—¨ä¸€è„š â†’ æˆäº¤ç­¾çº¦
```

æ¯ä¸ªé˜¶æ®µéƒ½æœ‰ï¼š
- âœ… **æ ‡å‡†åŠ¨ä½œæ¸…å•** - å¿…é¡»å®Œæˆçš„åŠ¨ä½œ
- âœ… **è¯æœ¯æ¨¡æ¿** - å¯ç›´æ¥ä½¿ç”¨çš„æ²Ÿé€šè¯æœ¯
- âœ… **æˆåŠŸæ ‡å¿—** - è¿›å…¥ä¸‹ä¸€é˜¶æ®µçš„æ ‡å‡†
- âœ… **å¸¸è§é—®é¢˜** - è¯¥é˜¶æ®µå¸¸è§é—®é¢˜åŠåº”å¯¹
- âœ… **AIå»ºè®®å…¥å£** - ä¸€é”®è·å–ä¸ªæ€§åŒ–å»ºè®®

---

## ğŸ¨ UI/UXè®¾è®¡æ–¹æ¡ˆ

### 1. ä¸»ç•Œé¢å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å®¢æˆ·ï¼šå¼ å¥³å£« (3å²ç”·å­©)                    [AIå…¨å±€åˆ†æ] [å¯¼å‡ºæŠ¥å‘Š] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  SOPè¿›åº¦æ¡                                              â”‚   â”‚
â”‚  â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  â”‚   â”‚
â”‚  â”‚  â‘  â‘¡ â‘¢ â‘£ â‘¤ â‘¥ â‘¦                                        â”‚   â”‚
â”‚  â”‚  åˆ éœ€ æ–¹ å¼‚ ä¸´ æˆ å”®                                    â”‚   â”‚
â”‚  â”‚  æ¬¡ æ±‚ æ¡ˆ è®® é—¨ äº¤ å                                    â”‚   â”‚
â”‚  â”‚  æ¥ æŒ– å‘ˆ å¤„ ä¸€ ç­¾                                       â”‚   â”‚
â”‚  â”‚  è§¦ æ˜ ç° ç† è„š çº¦                                       â”‚   â”‚
â”‚  â”‚                                                         â”‚   â”‚
â”‚  â”‚  å½“å‰é˜¶æ®µï¼šâ‘¢ æ–¹æ¡ˆå‘ˆç°  è¿›åº¦ï¼š42%  é¢„è®¡æˆäº¤ï¼š7å¤©å        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  SOPä»»åŠ¡æ¸…å•    â”‚  æ²Ÿé€šè®°å½• & Timeline                  â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                       â”‚   â”‚
â”‚  â”‚                 â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚ â˜‘ å‘é€è¯¾ç¨‹ä»‹ç»  â”‚  â”‚ 2025-10-06 14:30                â”‚ â”‚   â”‚
â”‚  â”‚ â˜‘ äº†è§£å­©å­æƒ…å†µ  â”‚  â”‚ ğŸ“ ç”µè¯æ²Ÿé€š [AIå»ºè®®]            â”‚ â”‚   â”‚
â”‚  â”‚ â˜ é‚€è¯·è¯•å¬è¯¾    â”‚  â”‚                                 â”‚ â”‚   â”‚
â”‚  â”‚   [AIå»ºè®®]      â”‚  â”‚ ğŸ’¬ å¯¹è¯è®°å½•ï¼š                   â”‚ â”‚   â”‚
â”‚  â”‚ â˜ å‘é€æˆåŠŸæ¡ˆä¾‹  â”‚  â”‚ è€å¸ˆï¼šæ‚¨å¥½å¼ å¥³å£«...             â”‚ â”‚   â”‚
â”‚  â”‚   [AIå»ºè®®]      â”‚  â”‚ å®¢æˆ·ï¼šæˆ‘æƒ³äº†è§£...               â”‚ â”‚   â”‚
â”‚  â”‚ â˜ è§£ç­”ç–‘é—®      â”‚  â”‚                                 â”‚ â”‚   â”‚
â”‚  â”‚   [AIå»ºè®®]      â”‚  â”‚ ğŸ“· [æˆªå›¾1] [æˆªå›¾2]              â”‚ â”‚   â”‚
â”‚  â”‚                 â”‚  â”‚                                 â”‚ â”‚   â”‚
â”‚  â”‚ ä¸‹ä¸€æ­¥å»ºè®®ï¼š    â”‚  â”‚ ğŸ¤– AIåˆ†æï¼š                     â”‚ â”‚   â”‚
â”‚  â”‚ 48å°æ—¶å†…é‚€è¯·    â”‚  â”‚ å®¢æˆ·æ„å‘åº¦ï¼š85%                 â”‚ â”‚   â”‚
â”‚  â”‚ è¯•å¬è¯¾          â”‚  â”‚ å…³æ³¨ç‚¹ï¼šä»·æ ¼ã€å¸ˆèµ„              â”‚ â”‚   â”‚
â”‚  â”‚ [æŸ¥çœ‹AIåˆ†æ]    â”‚  â”‚ å»ºè®®ï¼šå¼ºè°ƒæ€§ä»·æ¯”...             â”‚ â”‚   â”‚
â”‚  â”‚                 â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”§ æ ¸å¿ƒåŠŸèƒ½è®¾è®¡

### åŠŸèƒ½1: å¯¹è¯è®°å½• + æˆªå›¾åˆ†æ

#### 1.1 å¯¹è¯è®°å½•ç»„ä»¶

```vue
<template>
  <div class="conversation-record">
    <!-- å¯¹è¯è¾“å…¥åŒº -->
    <div class="conversation-input">
      <el-button @click="startRecording" type="primary">
        <el-icon><Microphone /></el-icon>
        è¯­éŸ³è½¬æ–‡å­—
      </el-button>
      <el-button @click="uploadScreenshot">
        <el-icon><Picture /></el-icon>
        ä¸Šä¼ æˆªå›¾
      </el-button>
      <el-button @click="quickInput">
        <el-icon><ChatDotRound /></el-icon>
        å¿«é€Ÿè¾“å…¥
      </el-button>
    </div>

    <!-- å¯¹è¯å†…å®¹ -->
    <div class="conversation-content">
      <div class="message teacher">
        <div class="avatar">ğŸ‘¨â€ğŸ«</div>
        <div class="bubble">
          <div class="text">æ‚¨å¥½å¼ å¥³å£«ï¼Œæˆ‘æ˜¯XXå¹¼å„¿å›­çš„æè€å¸ˆ...</div>
          <div class="time">14:30</div>
        </div>
      </div>

      <div class="message customer">
        <div class="bubble">
          <div class="text">ä½ å¥½ï¼Œæˆ‘æƒ³äº†è§£ä¸€ä¸‹ä½ ä»¬çš„è¯¾ç¨‹...</div>
          <div class="time">14:32</div>
        </div>
        <div class="avatar">ğŸ‘©</div>
      </div>

      <!-- æˆªå›¾å±•ç¤º -->
      <div class="message teacher">
        <div class="avatar">ğŸ‘¨â€ğŸ«</div>
        <div class="bubble">
          <div class="text">è¿™æ˜¯æˆ‘ä»¬çš„è¯¾ç¨‹ä»‹ç»</div>
          <div class="screenshots">
            <el-image 
              v-for="img in screenshots" 
              :key="img.id"
              :src="img.url"
              :preview-src-list="allScreenshots"
              fit="cover"
            >
              <template #error>
                <div class="image-error">åŠ è½½å¤±è´¥</div>
              </template>
            </el-image>
          </div>
          <el-button size="small" @click="analyzeScreenshots">
            ğŸ¤– AIåˆ†ææˆªå›¾
          </el-button>
        </div>
      </div>
    </div>

    <!-- AIåˆ†æç»“æœ -->
    <div v-if="aiAnalysis" class="ai-analysis-result">
      <el-alert type="success" :closable="false">
        <template #title>
          <el-icon><MagicStick /></el-icon>
          AIæˆªå›¾åˆ†æ
        </template>
        <div class="analysis-content">
          <p><strong>è¯†åˆ«å†…å®¹ï¼š</strong>{{ aiAnalysis.recognizedText }}</p>
          <p><strong>å®¢æˆ·å…³æ³¨ç‚¹ï¼š</strong>{{ aiAnalysis.focusPoints.join('ã€') }}</p>
          <p><strong>å»ºè®®è¯æœ¯ï¼š</strong>{{ aiAnalysis.suggestedResponse }}</p>
        </div>
      </el-alert>
    </div>
  </div>
</template>
```

#### 1.2 æˆªå›¾åˆ†æåŠŸèƒ½

**æŠ€æœ¯å®ç°**:
```typescript
// æˆªå›¾ä¸Šä¼ å’Œåˆ†æ
async function uploadAndAnalyzeScreenshot(file: File) {
  // 1. ä¸Šä¼ æˆªå›¾
  const uploadResult = await uploadScreenshot(file);
  
  // 2. OCRè¯†åˆ«æ–‡å­—
  const ocrResult = await recognizeText(uploadResult.url);
  
  // 3. AIåˆ†æå†…å®¹
  const analysis = await analyzeConversationScreenshot({
    imageUrl: uploadResult.url,
    recognizedText: ocrResult.text,
    customerInfo: currentCustomer,
    conversationHistory: conversationRecords
  });
  
  // 4. è¿”å›åˆ†æç»“æœ
  return {
    screenshot: uploadResult,
    recognizedText: ocrResult.text,
    focusPoints: analysis.focusPoints,      // å®¢æˆ·å…³æ³¨ç‚¹
    sentiment: analysis.sentiment,          // æƒ…æ„Ÿå€¾å‘
    suggestedResponse: analysis.response,   // å»ºè®®å›å¤
    nextAction: analysis.nextAction         // ä¸‹ä¸€æ­¥åŠ¨ä½œ
  };
}
```

---

### åŠŸèƒ½2: SOPæ ‡å‡†æµç¨‹

#### 2.1 SOPé˜¶æ®µé…ç½®

```typescript
interface SOPStage {
  id: number;
  name: string;                    // é˜¶æ®µåç§°
  description: string;             // é˜¶æ®µæè¿°
  order: number;                   // æ’åº
  estimatedDays: number;           // é¢„è®¡å¤©æ•°
  
  // ä»»åŠ¡æ¸…å•
  tasks: SOPTask[];
  
  // æˆåŠŸæ ‡å¿—
  successCriteria: {
    description: string;
    checkpoints: string[];
  };
  
  // è¯æœ¯æ¨¡æ¿
  scripts: {
    opening: string;               // å¼€åœºç™½
    keyPoints: string[];           // å…³é”®è¯æœ¯
    closing: string;               // ç»“æŸè¯­
  };
  
  // å¸¸è§é—®é¢˜
  faqs: {
    question: string;
    answer: string;
    tips: string[];
  }[];
}

interface SOPTask {
  id: number;
  title: string;                   // ä»»åŠ¡æ ‡é¢˜
  description: string;             // ä»»åŠ¡æè¿°
  isRequired: boolean;             // æ˜¯å¦å¿…éœ€
  estimatedTime: number;           // é¢„è®¡è€—æ—¶ï¼ˆåˆ†é’Ÿï¼‰
  order: number;                   // æ’åº
  
  // ä»»åŠ¡æŒ‡å¯¼
  guidance: {
    steps: string[];               // æ‰§è¡Œæ­¥éª¤
    tips: string[];                // æ³¨æ„äº‹é¡¹
    examples: string[];            // ç¤ºä¾‹
  };
  
  // AIå»ºè®®é…ç½®
  aiSuggestion: {
    enabled: boolean;
    prompt: string;                // AIæç¤ºè¯æ¨¡æ¿
  };
}
```

#### 2.2 SOPæ•°æ®ç¤ºä¾‹

```typescript
const sopStages: SOPStage[] = [
  {
    id: 1,
    name: "åˆæ¬¡æ¥è§¦",
    description: "ä¸å®¢æˆ·å»ºç«‹ç¬¬ä¸€æ¬¡è”ç³»ï¼Œç•™ä¸‹è‰¯å¥½å°è±¡",
    order: 1,
    estimatedDays: 1,
    
    tasks: [
      {
        id: 1,
        title: "è‡ªæˆ‘ä»‹ç»",
        description: "ä¸“ä¸šã€äº²åˆ‡åœ°ä»‹ç»è‡ªå·±å’Œå¹¼å„¿å›­",
        isRequired: true,
        estimatedTime: 5,
        order: 1,
        guidance: {
          steps: [
            "1. é—®å€™å®¢æˆ·ï¼Œç¡®è®¤å¯¹æ–¹æ–¹ä¾¿æ²Ÿé€š",
            "2. ç®€çŸ­ä»‹ç»è‡ªå·±çš„å§“åå’ŒèŒä½",
            "3. è¯´æ˜è”ç³»åŸå› ï¼ˆå¦‚ä½•è·å¾—è”ç³»æ–¹å¼ï¼‰",
            "4. è¯¢é—®å®¢æˆ·æ˜¯å¦æ–¹ä¾¿äº†è§£æˆ‘ä»¬çš„è¯¾ç¨‹"
          ],
          tips: [
            "è¯­æ°”è¦äº²åˆ‡è‡ªç„¶ï¼Œä¸è¦å¤ªæ­£å¼",
            "æ§åˆ¶æ—¶é—´åœ¨3-5åˆ†é’Ÿ",
            "æ³¨æ„å€¾å¬å®¢æˆ·çš„ååº”"
          ],
          examples: [
            "æ‚¨å¥½ï¼Œæˆ‘æ˜¯XXå¹¼å„¿å›­çš„æè€å¸ˆï¼Œçœ‹åˆ°æ‚¨åœ¨æˆ‘ä»¬å®˜ç½‘ç•™äº†è”ç³»æ–¹å¼ï¼Œæƒ³äº†è§£ä¸€ä¸‹æˆ‘ä»¬çš„è¯¾ç¨‹ï¼Œç°åœ¨æ–¹ä¾¿èŠå‡ åˆ†é’Ÿå—ï¼Ÿ"
          ]
        },
        aiSuggestion: {
          enabled: true,
          prompt: "æ ¹æ®å®¢æˆ·ä¿¡æ¯ï¼Œç”Ÿæˆä¸ªæ€§åŒ–çš„è‡ªæˆ‘ä»‹ç»è¯æœ¯"
        }
      },
      {
        id: 2,
        title: "äº†è§£åŸºæœ¬ä¿¡æ¯",
        description: "æ”¶é›†å®¢æˆ·å’Œå­©å­çš„åŸºæœ¬ä¿¡æ¯",
        isRequired: true,
        estimatedTime: 10,
        order: 2,
        guidance: {
          steps: [
            "1. è¯¢é—®å­©å­çš„å¹´é¾„å’Œæ€§åˆ«",
            "2. äº†è§£å­©å­çš„æ€§æ ¼ç‰¹ç‚¹",
            "3. è¯¢é—®å®¶é•¿çš„æ•™è‚²ç†å¿µ",
            "4. äº†è§£é€‰æ‹©å¹¼å„¿å›­çš„ä¸»è¦è€ƒè™‘å› ç´ "
          ],
          tips: [
            "é‡‡ç”¨å¼€æ”¾å¼æé—®ï¼Œè®©å®¢æˆ·å¤šè¯´",
            "è®¤çœŸè®°å½•å…³é”®ä¿¡æ¯",
            "è¡¨ç°å‡ºå¯¹å­©å­çš„å…³å¿ƒ"
          ],
          examples: [
            "å®å®ä»Šå¹´å¤šå¤§äº†ï¼Ÿå¹³æ—¶æ€§æ ¼æ€ä¹ˆæ ·ï¼Ÿ",
            "æ‚¨åœ¨é€‰æ‹©å¹¼å„¿å›­æ—¶ï¼Œæœ€çœ‹é‡å“ªäº›æ–¹é¢å‘¢ï¼Ÿ"
          ]
        },
        aiSuggestion: {
          enabled: true,
          prompt: "æ ¹æ®å·²æœ‰ä¿¡æ¯ï¼Œç”Ÿæˆæ·±å…¥äº†è§£å®¢æˆ·çš„é—®é¢˜æ¸…å•"
        }
      },
      {
        id: 3,
        title: "å»ºç«‹ä¿¡ä»»",
        description: "é€šè¿‡ä¸“ä¸šå’ŒçœŸè¯šå»ºç«‹åˆæ­¥ä¿¡ä»»",
        isRequired: true,
        estimatedTime: 10,
        order: 3,
        guidance: {
          steps: [
            "1. åˆ†äº«ç›¸ä¼¼æ¡ˆä¾‹ï¼ˆåŒé¾„å­©å­çš„æˆé•¿æ•…äº‹ï¼‰",
            "2. å±•ç¤ºä¸“ä¸šæ€§ï¼ˆæ•™è‚²ç†å¿µã€å¸ˆèµ„åŠ›é‡ï¼‰",
            "3. è¡¨è¾¾å¯¹å­©å­æˆé•¿çš„å…³æ³¨",
            "4. çº¦å®šä¸‹æ¬¡æ²Ÿé€šæ—¶é—´"
          ],
          tips: [
            "ç”¨æ•…äº‹è€Œéæ•°æ®æ‰“åŠ¨äººå¿ƒ",
            "å±•ç°çœŸè¯šï¼Œä¸è¦è¿‡åº¦æ¨é”€",
            "ç»™å®¢æˆ·æ€è€ƒçš„æ—¶é—´"
          ],
          examples: [
            "æˆ‘ä»¬ä¹‹å‰æœ‰ä¸ªå’Œæ‚¨å®¶å®å®å·®ä¸å¤šå¤§çš„å­©å­ï¼Œåˆšæ¥çš„æ—¶å€™ä¹Ÿæ¯”è¾ƒå†…å‘ï¼Œç»è¿‡åŠå¹´çš„åŸ¹å…»ï¼Œç°åœ¨ç‰¹åˆ«æ´»æ³¼å¼€æœ—..."
          ]
        },
        aiSuggestion: {
          enabled: true,
          prompt: "æ ¹æ®å®¢æˆ·å…³æ³¨ç‚¹ï¼Œæ¨èåˆé€‚çš„æˆåŠŸæ¡ˆä¾‹"
        }
      }
    ],
    
    successCriteria: {
      description: "å®¢æˆ·æ„¿æ„ç»§ç»­æ²Ÿé€šï¼Œå¹¶çº¦å®šäº†ä¸‹æ¬¡è”ç³»æ—¶é—´",
      checkpoints: [
        "âœ“ è·å¾—äº†å®¢æˆ·çš„åŸºæœ¬ä¿¡æ¯",
        "âœ“ äº†è§£äº†å®¢æˆ·çš„ä¸»è¦éœ€æ±‚",
        "âœ“ å®¢æˆ·è¡¨ç°å‡ºä¸€å®šå…´è¶£",
        "âœ“ çº¦å®šäº†ä¸‹æ¬¡æ²Ÿé€šæ—¶é—´"
      ]
    },
    
    scripts: {
      opening: "æ‚¨å¥½ï¼Œæˆ‘æ˜¯XXå¹¼å„¿å›­çš„æè€å¸ˆï¼Œçœ‹åˆ°æ‚¨åœ¨æˆ‘ä»¬å®˜ç½‘ç•™äº†è”ç³»æ–¹å¼...",
      keyPoints: [
        "æˆ‘ä»¬å¹¼å„¿å›­ä¸“æ³¨äº3-6å²å„¿ç«¥çš„å…¨é¢å‘å±•",
        "æˆ‘ä»¬æœ‰15å¹´çš„åŠå­¦ç»éªŒï¼ŒåŸ¹å…»äº†è¶…è¿‡3000åä¼˜ç§€å­¦å‘˜",
        "æˆ‘ä»¬çš„å¸ˆèµ„å›¢é˜Ÿéƒ½æ˜¯å­¦å‰æ•™è‚²ä¸“ä¸šï¼Œå¹³å‡æ•™é¾„8å¹´ä»¥ä¸Š"
      ],
      closing: "ä»Šå¤©å…ˆèŠåˆ°è¿™é‡Œï¼Œæˆ‘æ•´ç†ä¸€ä»½è¯¦ç»†çš„è¯¾ç¨‹ä»‹ç»å‘ç»™æ‚¨ï¼Œæ˜å¤©è¿™ä¸ªæ—¶å€™æˆ‘å†ç»™æ‚¨æ‰“ç”µè¯è¯¦ç»†ä»‹ç»ï¼Œæ‚¨çœ‹å¯ä»¥å—ï¼Ÿ"
    },
    
    faqs: [
      {
        question: "ä½ ä»¬å­¦è´¹å¤šå°‘ï¼Ÿ",
        answer: "æˆ‘ä»¬çš„å­¦è´¹æ ¹æ®ä¸åŒç­å‹æœ‰æ‰€ä¸åŒï¼Œæœˆè´¹åœ¨3000-5000å…ƒä¹‹é—´ã€‚ä¸è¿‡æˆ‘å»ºè®®æ‚¨å…ˆäº†è§£ä¸€ä¸‹æˆ‘ä»¬çš„è¯¾ç¨‹å†…å®¹å’Œå¸ˆèµ„ï¼Œçœ‹çœ‹æ˜¯å¦é€‚åˆæ‚¨çš„å­©å­ï¼Œç„¶åæˆ‘ä»¬å†è¯¦ç»†èŠè´¹ç”¨çš„äº‹æƒ…ã€‚",
        tips: [
          "ä¸è¦åœ¨ç¬¬ä¸€æ¬¡æ²Ÿé€šå°±è¯¦ç»†è°ˆä»·æ ¼",
          "å…ˆå»ºç«‹ä»·å€¼è®¤åŒ",
          "å¼•å¯¼å®¢æˆ·å…³æ³¨è¯¾ç¨‹è´¨é‡"
        ]
      },
      {
        question: "å¯ä»¥è¯•å¬å—ï¼Ÿ",
        answer: "å½“ç„¶å¯ä»¥ï¼æˆ‘ä»¬éå¸¸æ¬¢è¿å®¶é•¿å¸¦å­©å­æ¥è¯•å¬ã€‚ä¸è¿‡åœ¨è¯•å¬ä¹‹å‰ï¼Œæˆ‘æƒ³å…ˆäº†è§£ä¸€ä¸‹æ‚¨çš„éœ€æ±‚ï¼Œè¿™æ ·æˆ‘å¯ä»¥ä¸ºæ‚¨å®‰æ’æœ€åˆé€‚çš„è¯•å¬è¯¾ç¨‹ã€‚",
        tips: [
          "ç§¯æå“åº”è¯•å¬éœ€æ±‚",
          "å…ˆäº†è§£éœ€æ±‚å†å®‰æ’è¯•å¬",
          "ä¸ºè¯•å¬åšå¥½é“ºå«"
        ]
      }
    ]
  },
  
  {
    id: 2,
    name: "éœ€æ±‚æŒ–æ˜",
    description: "æ·±å…¥äº†è§£å®¢æˆ·éœ€æ±‚ï¼Œæ‰¾åˆ°ç—›ç‚¹",
    order: 2,
    estimatedDays: 2,
    tasks: [
      // ... ç±»ä¼¼ç»“æ„
    ]
  },
  
  // ... å…¶ä»–é˜¶æ®µ
];
```

---

### åŠŸèƒ½3: AIæ™ºèƒ½å»ºè®®ç³»ç»Ÿ

#### 3.1 AIå»ºè®®è§¦å‘ç‚¹

**æ¯ä¸ªä»»åŠ¡æ—è¾¹éƒ½æœ‰AIå»ºè®®æŒ‰é’®**:

```vue
<template>
  <div class="sop-task-item">
    <el-checkbox v-model="task.completed">
      {{ task.title }}
    </el-checkbox>
    
    <!-- AIå»ºè®®æŒ‰é’® -->
    <el-button 
      size="small" 
      type="primary" 
      text
      @click="showAISuggestion(task)"
    >
      <el-icon><MagicStick /></el-icon>
      AIå»ºè®®
    </el-button>
    
    <!-- ä»»åŠ¡è¯¦æƒ… -->
    <el-collapse-transition>
      <div v-show="task.expanded" class="task-detail">
        <div class="guidance">
          <h5>æ‰§è¡Œæ­¥éª¤ï¼š</h5>
          <ol>
            <li v-for="step in task.guidance.steps" :key="step">
              {{ step }}
            </li>
          </ol>
        </div>
        
        <div class="tips">
          <h5>æ³¨æ„äº‹é¡¹ï¼š</h5>
          <ul>
            <li v-for="tip in task.guidance.tips" :key="tip">
              {{ tip }}
            </li>
          </ul>
        </div>
        
        <div class="examples">
          <h5>è¯æœ¯ç¤ºä¾‹ï¼š</h5>
          <el-tag 
            v-for="example in task.guidance.examples" 
            :key="example"
            type="success"
            effect="plain"
          >
            {{ example }}
          </el-tag>
        </div>
      </div>
    </el-collapse-transition>
  </div>
</template>
```

#### 3.2 AIå»ºè®®å¼¹çª—

```vue
<template>
  <el-dialog
    v-model="showAIDialog"
    title="AIæ™ºèƒ½å»ºè®®"
    width="800px"
    :close-on-click-modal="false"
  >
    <div class="ai-suggestion-dialog">
      <!-- å®¢æˆ·ä¿¡æ¯æ‘˜è¦ -->
      <el-card class="customer-summary" shadow="never">
        <template #header>
          <div class="card-header">
            <span>å®¢æˆ·ç”»åƒ</span>
            <el-tag type="info" size="small">åŸºäºå†å²æ•°æ®åˆ†æ</el-tag>
          </div>
        </template>
        
        <el-descriptions :column="2" border>
          <el-descriptions-item label="å®¢æˆ·å§“å">{{ customer.name }}</el-descriptions-item>
          <el-descriptions-item label="å­©å­å¹´é¾„">{{ customer.childAge }}å²</el-descriptions-item>
          <el-descriptions-item label="æ„å‘åº¦">
            <el-progress 
              :percentage="aiAnalysis.intentionScore" 
              :color="getIntentionColor(aiAnalysis.intentionScore)"
            />
          </el-descriptions-item>
          <el-descriptions-item label="è·Ÿè¿›æ¬¡æ•°">{{ followRecords.length }}æ¬¡</el-descriptions-item>
          <el-descriptions-item label="å…³æ³¨ç‚¹" :span="2">
            <el-tag 
              v-for="point in aiAnalysis.focusPoints" 
              :key="point"
              size="small"
              style="margin-right: 8px"
            >
              {{ point }}
            </el-tag>
          </el-descriptions-item>
        </el-descriptions>
      </el-card>

      <!-- AIåˆ†æåŠ è½½ -->
      <div v-loading="aiLoading" class="ai-analysis-content">
        <!-- æ²Ÿé€šç­–ç•¥ -->
        <el-card class="strategy-card" shadow="never">
          <template #header>
            <el-icon><ChatDotRound /></el-icon>
            æ²Ÿé€šç­–ç•¥
          </template>
          <div class="strategy-content">
            <el-alert 
              :title="aiSuggestion.strategy.title"
              type="success"
              :closable="false"
              show-icon
            >
              <p>{{ aiSuggestion.strategy.description }}</p>
            </el-alert>
            
            <div class="strategy-points">
              <h5>å…³é”®è¦ç‚¹ï¼š</h5>
              <ul>
                <li v-for="point in aiSuggestion.strategy.keyPoints" :key="point">
                  <el-icon color="#67C23A"><Check /></el-icon>
                  {{ point }}
                </li>
              </ul>
            </div>
          </div>
        </el-card>

        <!-- æ¨èè¯æœ¯ -->
        <el-card class="script-card" shadow="never">
          <template #header>
            <el-icon><ChatLineRound /></el-icon>
            æ¨èè¯æœ¯
          </template>
          <div class="script-content">
            <el-tabs v-model="activeScriptTab">
              <el-tab-pane label="å¼€åœºç™½" name="opening">
                <div class="script-text">
                  {{ aiSuggestion.scripts.opening }}
                </div>
                <el-button size="small" @click="copyScript(aiSuggestion.scripts.opening)">
                  <el-icon><CopyDocument /></el-icon>
                  å¤åˆ¶
                </el-button>
              </el-tab-pane>
              
              <el-tab-pane label="æ ¸å¿ƒè¯æœ¯" name="core">
                <div 
                  v-for="(script, index) in aiSuggestion.scripts.core" 
                  :key="index"
                  class="script-item"
                >
                  <div class="script-text">{{ script }}</div>
                  <el-button size="small" @click="copyScript(script)">
                    <el-icon><CopyDocument /></el-icon>
                    å¤åˆ¶
                  </el-button>
                </div>
              </el-tab-pane>
              
              <el-tab-pane label="å¼‚è®®å¤„ç†" name="objection">
                <div 
                  v-for="objection in aiSuggestion.scripts.objections" 
                  :key="objection.question"
                  class="objection-item"
                >
                  <div class="question">
                    <el-tag type="warning" size="small">å®¢æˆ·å¯èƒ½è¯´</el-tag>
                    {{ objection.question }}
                  </div>
                  <div class="answer">
                    <el-tag type="success" size="small">å»ºè®®å›å¤</el-tag>
                    {{ objection.answer }}
                  </div>
                  <el-button size="small" @click="copyScript(objection.answer)">
                    <el-icon><CopyDocument /></el-icon>
                    å¤åˆ¶
                  </el-button>
                </div>
              </el-tab-pane>
            </el-tabs>
          </div>
        </el-card>

        <!-- ä¸‹ä¸€æ­¥è¡ŒåŠ¨ -->
        <el-card class="action-card" shadow="never">
          <template #header>
            <el-icon><Promotion /></el-icon>
            ä¸‹ä¸€æ­¥è¡ŒåŠ¨
          </template>
          <div class="action-content">
            <el-timeline>
              <el-timeline-item
                v-for="(action, index) in aiSuggestion.nextActions"
                :key="index"
                :timestamp="action.timing"
                placement="top"
              >
                <el-card>
                  <h4>{{ action.title }}</h4>
                  <p>{{ action.description }}</p>
                  <div class="action-tips">
                    <el-tag 
                      v-for="tip in action.tips" 
                      :key="tip"
                      size="small"
                      type="info"
                      effect="plain"
                    >
                      {{ tip }}
                    </el-tag>
                  </div>
                </el-card>
              </el-timeline-item>
            </el-timeline>
          </div>
        </el-card>

        <!-- æˆåŠŸæ¦‚ç‡é¢„æµ‹ -->
        <el-card class="prediction-card" shadow="never">
          <template #header>
            <el-icon><TrendCharts /></el-icon>
            æˆåŠŸæ¦‚ç‡é¢„æµ‹
          </template>
          <div class="prediction-content">
            <div class="probability-chart">
              <el-progress 
                type="dashboard" 
                :percentage="aiSuggestion.successProbability"
                :color="getProbabilityColor(aiSuggestion.successProbability)"
              >
                <template #default="{ percentage }">
                  <span class="percentage-value">{{ percentage }}%</span>
                  <span class="percentage-label">æˆäº¤æ¦‚ç‡</span>
                </template>
              </el-progress>
            </div>
            
            <div class="factors">
              <h5>å½±å“å› ç´ ï¼š</h5>
              <el-row :gutter="12">
                <el-col :span="12" v-for="factor in aiSuggestion.factors" :key="factor.name">
                  <div class="factor-item">
                    <div class="factor-name">{{ factor.name }}</div>
                    <el-progress 
                      :percentage="factor.score" 
                      :status="factor.score > 70 ? 'success' : 'warning'"
                    />
                  </div>
                </el-col>
              </el-row>
            </div>
          </div>
        </el-card>
      </div>

      <!-- åº•éƒ¨æ“ä½œ -->
      <template #footer>
        <el-button @click="showAIDialog = false">å…³é—­</el-button>
        <el-button type="primary" @click="applyAISuggestion">
          <el-icon><Select /></el-icon>
          åº”ç”¨å»ºè®®
        </el-button>
        <el-button type="success" @click="regenerateAISuggestion">
          <el-icon><Refresh /></el-icon>
          é‡æ–°ç”Ÿæˆ
        </el-button>
      </template>
    </div>
  </el-dialog>
</template>
```

#### 3.3 AIå»ºè®®APIè°ƒç”¨

```typescript
// AIå»ºè®®æœåŠ¡
class AISuggestionService {
  /**
   * è·å–ä»»åŠ¡çº§AIå»ºè®®
   */
  async getTaskSuggestion(params: {
    customerId: number;
    taskId: number;
    stage: number;
    conversationHistory: ConversationRecord[];
    followRecords: FollowRecord[];
  }) {
    // è°ƒç”¨åç«¯AIBridgeæœåŠ¡
    const response = await request.post('/api/ai-bridge/task-suggestion', {
      customer: {
        id: params.customerId,
        info: await this.getCustomerInfo(params.customerId),
        profile: await this.getCustomerProfile(params.customerId)
      },
      task: {
        id: params.taskId,
        stage: params.stage,
        sopConfig: await this.getSOPConfig(params.stage, params.taskId)
      },
      context: {
        conversationHistory: params.conversationHistory,
        followRecords: params.followRecords,
        screenshots: await this.getScreenshots(params.customerId),
        previousSuggestions: await this.getPreviousSuggestions(params.customerId)
      },
      prompt: this.buildPrompt(params)
    });

    return response.data;
  }

  /**
   * æ„å»ºAIæç¤ºè¯
   */
  private buildPrompt(params: any): string {
    return `
ä½ æ˜¯ä¸€ä½ç»éªŒä¸°å¯Œçš„å¹¼å„¿å›­æ‹›ç”Ÿé¡¾é—®ï¼Œç°åœ¨éœ€è¦å¸®åŠ©æ•™å¸ˆå®Œæˆå®¢æˆ·è·Ÿè¿›ä»»åŠ¡ã€‚

ã€å®¢æˆ·ä¿¡æ¯ã€‘
- å§“åï¼š${params.customer.name}
- å­©å­å¹´é¾„ï¼š${params.customer.childAge}å²
- å…³æ³¨ç‚¹ï¼š${params.customer.focusPoints.join('ã€')}
- æ„å‘åº¦ï¼š${params.customer.intentionScore}%

ã€å½“å‰é˜¶æ®µã€‘
- é˜¶æ®µï¼š${params.stage.name}
- ä»»åŠ¡ï¼š${params.task.title}
- ç›®æ ‡ï¼š${params.task.description}

ã€å†å²æ²Ÿé€šè®°å½•ã€‘
${this.formatConversationHistory(params.conversationHistory)}

ã€è·Ÿè¿›è®°å½•ã€‘
${this.formatFollowRecords(params.followRecords)}

è¯·åŸºäºä»¥ä¸Šä¿¡æ¯ï¼Œæä¾›ï¼š
1. é’ˆå¯¹æ€§çš„æ²Ÿé€šç­–ç•¥
2. 3-5æ¡å¯ç›´æ¥ä½¿ç”¨çš„è¯æœ¯
3. å¯èƒ½é‡åˆ°çš„å¼‚è®®åŠåº”å¯¹æ–¹æ³•
4. ä¸‹ä¸€æ­¥å…·ä½“è¡ŒåŠ¨å»ºè®®ï¼ˆåŒ…æ‹¬æ—¶æœºï¼‰
5. æˆäº¤æ¦‚ç‡è¯„ä¼°åŠå½±å“å› ç´ åˆ†æ

è¦æ±‚ï¼š
- è¯æœ¯è¦è‡ªç„¶ã€äº²åˆ‡ã€ä¸“ä¸š
- ç­–ç•¥è¦å…·ä½“ã€å¯æ‰§è¡Œ
- è€ƒè™‘å®¢æˆ·çš„ä¸ªæ€§åŒ–éœ€æ±‚
- æä¾›å®ç”¨çš„æŠ€å·§å’Œæ³¨æ„äº‹é¡¹
    `.trim();
  }

  /**
   * åˆ†ææˆªå›¾å†…å®¹
   */
  async analyzeScreenshot(params: {
    imageUrl: string;
    customerId: number;
    context: string;
  }) {
    const response = await request.post('/api/ai-bridge/analyze-screenshot', {
      imageUrl: params.imageUrl,
      customerId: params.customerId,
      context: params.context,
      prompt: `
åˆ†æè¿™å¼ èŠå¤©æˆªå›¾ï¼Œæå–ä»¥ä¸‹ä¿¡æ¯ï¼š
1. å¯¹è¯å†…å®¹æ‘˜è¦
2. å®¢æˆ·çš„å…³æ³¨ç‚¹å’Œç–‘è™‘
3. å®¢æˆ·çš„æƒ…æ„Ÿå€¾å‘ï¼ˆç§¯æ/ä¸­æ€§/æ¶ˆæï¼‰
4. å»ºè®®çš„å›å¤è¯æœ¯
5. éœ€è¦æ³¨æ„çš„å…³é”®ä¿¡æ¯
      `.trim()
    });

    return response.data;
  }

  /**
   * å…¨å±€å®¢æˆ·åˆ†æ
   */
  async getGlobalAnalysis(customerId: number) {
    const response = await request.post('/api/ai-bridge/global-analysis', {
      customerId,
      includeHistory: true,
      includeScreenshots: true,
      includePrediction: true
    });

    return response.data;
  }
}
```

---

## ğŸ“Š æ•°æ®åº“è®¾è®¡

### æ–°å¢è¡¨ç»“æ„

#### 1. sop_stagesï¼ˆSOPé˜¶æ®µè¡¨ï¼‰

```sql
CREATE TABLE sop_stages (
  id INT PRIMARY KEY AUTO_INCREMENT,
  name VARCHAR(100) NOT NULL COMMENT 'é˜¶æ®µåç§°',
  description TEXT COMMENT 'é˜¶æ®µæè¿°',
  order_num INT NOT NULL COMMENT 'æ’åº',
  estimated_days INT COMMENT 'é¢„è®¡å¤©æ•°',
  success_criteria JSON COMMENT 'æˆåŠŸæ ‡å¿—',
  scripts JSON COMMENT 'è¯æœ¯æ¨¡æ¿',
  faqs JSON COMMENT 'å¸¸è§é—®é¢˜',
  is_active BOOLEAN DEFAULT TRUE,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);
```

#### 2. sop_tasksï¼ˆSOPä»»åŠ¡è¡¨ï¼‰

```sql
CREATE TABLE sop_tasks (
  id INT PRIMARY KEY AUTO_INCREMENT,
  stage_id INT NOT NULL COMMENT 'æ‰€å±é˜¶æ®µ',
  title VARCHAR(200) NOT NULL COMMENT 'ä»»åŠ¡æ ‡é¢˜',
  description TEXT COMMENT 'ä»»åŠ¡æè¿°',
  is_required BOOLEAN DEFAULT FALSE COMMENT 'æ˜¯å¦å¿…éœ€',
  estimated_time INT COMMENT 'é¢„è®¡è€—æ—¶ï¼ˆåˆ†é’Ÿï¼‰',
  order_num INT NOT NULL COMMENT 'æ’åº',
  guidance JSON COMMENT 'ä»»åŠ¡æŒ‡å¯¼',
  ai_suggestion_config JSON COMMENT 'AIå»ºè®®é…ç½®',
  is_active BOOLEAN DEFAULT TRUE,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  FOREIGN KEY (stage_id) REFERENCES sop_stages(id)
);
```

#### 3. customer_sop_progressï¼ˆå®¢æˆ·SOPè¿›åº¦è¡¨ï¼‰

```sql
CREATE TABLE customer_sop_progress (
  id INT PRIMARY KEY AUTO_INCREMENT,
  customer_id INT NOT NULL COMMENT 'å®¢æˆ·ID',
  teacher_id INT NOT NULL COMMENT 'æ•™å¸ˆID',
  current_stage_id INT NOT NULL COMMENT 'å½“å‰é˜¶æ®µ',
  stage_progress DECIMAL(5,2) COMMENT 'é˜¶æ®µè¿›åº¦ç™¾åˆ†æ¯”',
  completed_tasks JSON COMMENT 'å·²å®Œæˆä»»åŠ¡IDåˆ—è¡¨',
  estimated_close_date DATE COMMENT 'é¢„è®¡æˆäº¤æ—¥æœŸ',
  success_probability DECIMAL(5,2) COMMENT 'æˆåŠŸæ¦‚ç‡',
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  FOREIGN KEY (customer_id) REFERENCES customers(id),
  FOREIGN KEY (teacher_id) REFERENCES teachers(id),
  FOREIGN KEY (current_stage_id) REFERENCES sop_stages(id)
);
```

#### 4. conversation_recordsï¼ˆå¯¹è¯è®°å½•è¡¨ï¼‰

```sql
CREATE TABLE conversation_records (
  id INT PRIMARY KEY AUTO_INCREMENT,
  customer_id INT NOT NULL COMMENT 'å®¢æˆ·ID',
  teacher_id INT NOT NULL COMMENT 'æ•™å¸ˆID',
  follow_record_id INT COMMENT 'å…³è”çš„è·Ÿè¿›è®°å½•ID',
  speaker_type ENUM('teacher', 'customer') NOT NULL COMMENT 'è¯´è¯äººç±»å‹',
  content TEXT NOT NULL COMMENT 'å¯¹è¯å†…å®¹',
  message_type ENUM('text', 'image', 'voice', 'video') DEFAULT 'text',
  media_url VARCHAR(500) COMMENT 'åª’ä½“æ–‡ä»¶URL',
  sentiment VARCHAR(50) COMMENT 'æƒ…æ„Ÿå€¾å‘',
  ai_analysis JSON COMMENT 'AIåˆ†æç»“æœ',
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (customer_id) REFERENCES customers(id),
  FOREIGN KEY (teacher_id) REFERENCES teachers(id),
  FOREIGN KEY (follow_record_id) REFERENCES customer_follow_records(id)
);
```

#### 5. conversation_screenshotsï¼ˆå¯¹è¯æˆªå›¾è¡¨ï¼‰

```sql
CREATE TABLE conversation_screenshots (
  id INT PRIMARY KEY AUTO_INCREMENT,
  conversation_id INT NOT NULL COMMENT 'å¯¹è¯è®°å½•ID',
  customer_id INT NOT NULL COMMENT 'å®¢æˆ·ID',
  image_url VARCHAR(500) NOT NULL COMMENT 'æˆªå›¾URL',
  recognized_text TEXT COMMENT 'OCRè¯†åˆ«æ–‡å­—',
  ai_analysis JSON COMMENT 'AIåˆ†æç»“æœ',
  uploaded_by INT NOT NULL COMMENT 'ä¸Šä¼ è€…ID',
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (conversation_id) REFERENCES conversation_records(id),
  FOREIGN KEY (customer_id) REFERENCES customers(id)
);
```

#### 6. ai_suggestions_historyï¼ˆAIå»ºè®®å†å²è¡¨ï¼‰

```sql
CREATE TABLE ai_suggestions_history (
  id INT PRIMARY KEY AUTO_INCREMENT,
  customer_id INT NOT NULL COMMENT 'å®¢æˆ·ID',
  teacher_id INT NOT NULL COMMENT 'æ•™å¸ˆID',
  task_id INT COMMENT 'ä»»åŠ¡ID',
  suggestion_type VARCHAR(50) COMMENT 'å»ºè®®ç±»å‹',
  input_context JSON COMMENT 'è¾“å…¥ä¸Šä¸‹æ–‡',
  ai_response JSON COMMENT 'AIå“åº”å†…å®¹',
  is_applied BOOLEAN DEFAULT FALSE COMMENT 'æ˜¯å¦å·²åº”ç”¨',
  feedback_score INT COMMENT 'åé¦ˆè¯„åˆ†(1-5)',
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (customer_id) REFERENCES customers(id),
  FOREIGN KEY (teacher_id) REFERENCES teachers(id),
  FOREIGN KEY (task_id) REFERENCES sop_tasks(id)
);
```

---

## ğŸ”Œ åç«¯APIè®¾è®¡

### APIè·¯ç”±ç»“æ„

```
/api/teacher-sop/
â”œâ”€â”€ stages                          # SOPé˜¶æ®µç®¡ç†
â”‚   â”œâ”€â”€ GET /                      # è·å–æ‰€æœ‰é˜¶æ®µ
â”‚   â”œâ”€â”€ GET /:id                   # è·å–é˜¶æ®µè¯¦æƒ…
â”‚   â””â”€â”€ GET /:id/tasks             # è·å–é˜¶æ®µä»»åŠ¡åˆ—è¡¨
â”‚
â”œâ”€â”€ customers/:customerId/
â”‚   â”œâ”€â”€ progress                    # å®¢æˆ·SOPè¿›åº¦
â”‚   â”‚   â”œâ”€â”€ GET /                  # è·å–è¿›åº¦
â”‚   â”‚   â”œâ”€â”€ PUT /                  # æ›´æ–°è¿›åº¦
â”‚   â”‚   â””â”€â”€ POST /advance          # æ¨è¿›åˆ°ä¸‹ä¸€é˜¶æ®µ
â”‚   â”‚
â”‚   â”œâ”€â”€ tasks                       # ä»»åŠ¡ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ GET /                  # è·å–ä»»åŠ¡åˆ—è¡¨
â”‚   â”‚   â”œâ”€â”€ POST /:taskId/complete # å®Œæˆä»»åŠ¡
â”‚   â”‚   â””â”€â”€ POST /:taskId/skip     # è·³è¿‡ä»»åŠ¡
â”‚   â”‚
â”‚   â”œâ”€â”€ conversations               # å¯¹è¯è®°å½•
â”‚   â”‚   â”œâ”€â”€ GET /                  # è·å–å¯¹è¯è®°å½•
â”‚   â”‚   â”œâ”€â”€ POST /                 # æ·»åŠ å¯¹è¯è®°å½•
â”‚   â”‚   â”œâ”€â”€ POST /batch            # æ‰¹é‡æ·»åŠ å¯¹è¯
â”‚   â”‚   â””â”€â”€ POST /voice-to-text    # è¯­éŸ³è½¬æ–‡å­—
â”‚   â”‚
â”‚   â”œâ”€â”€ screenshots                 # æˆªå›¾ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ POST /upload           # ä¸Šä¼ æˆªå›¾
â”‚   â”‚   â”œâ”€â”€ POST /:id/analyze      # åˆ†ææˆªå›¾
â”‚   â”‚   â””â”€â”€ GET /                  # è·å–æˆªå›¾åˆ—è¡¨
â”‚   â”‚
â”‚   â””â”€â”€ ai-suggestions              # AIå»ºè®®
â”‚       â”œâ”€â”€ POST /task             # è·å–ä»»åŠ¡å»ºè®®
â”‚       â”œâ”€â”€ POST /global           # è·å–å…¨å±€åˆ†æ
â”‚       â”œâ”€â”€ POST /regenerate       # é‡æ–°ç”Ÿæˆå»ºè®®
â”‚       â””â”€â”€ POST /:id/feedback     # æäº¤å»ºè®®åé¦ˆ
â”‚
â””â”€â”€ analytics                       # ç»Ÿè®¡åˆ†æ
    â”œâ”€â”€ GET /conversion-rate       # è½¬åŒ–ç‡ç»Ÿè®¡
    â”œâ”€â”€ GET /stage-distribution    # é˜¶æ®µåˆ†å¸ƒ
    â””â”€â”€ GET /teacher-performance   # æ•™å¸ˆä¸šç»©
```

---

## ğŸ¨ å®Œæ•´å®ç°ç¤ºä¾‹

ç”±äºç¯‡å¹…é™åˆ¶ï¼Œå®Œæ•´ä»£ç å°†åœ¨åç»­æ–‡ä»¶ä¸­æä¾›ã€‚

---

## ğŸ“ˆ é¢„æœŸæ•ˆæœ

### å¯¹æ•™å¸ˆçš„ä»·å€¼

1. **é™ä½å­¦ä¹ æˆæœ¬** - æ–°æ‰‹æ•™å¸ˆä¹Ÿèƒ½å¿«é€Ÿä¸Šæ‰‹
2. **æé«˜è½¬åŒ–ç‡** - æ ‡å‡†åŒ–æµç¨‹ + AIè¾…åŠ©ï¼Œè½¬åŒ–ç‡æå‡30%+
3. **èŠ‚çœæ—¶é—´** - å‡å°‘50%çš„æ€è€ƒå’Œå‡†å¤‡æ—¶é—´
4. **å¢å¼ºä¿¡å¿ƒ** - æœ‰SOPå’ŒAIæ”¯æŒï¼Œæ²Ÿé€šæ›´æœ‰åº•æ°”

### å¯¹æœºæ„çš„ä»·å€¼

1. **æ ‡å‡†åŒ–ç®¡ç†** - ç»Ÿä¸€çš„æœåŠ¡æ ‡å‡†
2. **æ•°æ®æ²‰æ·€** - ç§¯ç´¯ä¼˜ç§€æ¡ˆä¾‹å’Œè¯æœ¯
3. **æŒç»­ä¼˜åŒ–** - åŸºäºæ•°æ®ä¸æ–­ä¼˜åŒ–SOP
4. **è§„æ¨¡åŒ–å¤åˆ¶** - æˆåŠŸç»éªŒå¯å¿«é€Ÿå¤åˆ¶

---

**ä¸‹ä¸€æ­¥**: æˆ‘å°†ä¸ºä½ åˆ›å»ºè¯¦ç»†çš„ä»£ç å®ç°æ–‡æ¡£ã€‚

