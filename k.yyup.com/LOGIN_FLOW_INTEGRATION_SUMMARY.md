# ğŸš¨ é“¾è·¯æ ¸å¯¹ç»“è®ºï¼šé“¾è·¯ä¸é€šé¡º

## âš¡ æ ¸å¿ƒé—®é¢˜ä¸€å¥è¯

**k.yyup.com è°ƒç”¨ admin.yyup.cc çš„è®¤è¯æ¥å£ï¼Œä½† admin.yyup.cc æ ¹æœ¬ä¸æ˜¯è®¤è¯ä¸­å¿ƒï¼Œè®¾è®¡ä¸Šå°±æœ‰é—®é¢˜ã€‚**

---

## ğŸ“Š é—®é¢˜åˆ†å¸ƒå›¾

```
k.yyup.com ç™»å½•æµç¨‹è¦æ±‚
â”‚
â”œâ”€ âœ… ç”¨æˆ·è¾“å…¥æ‰‹æœºå·+å¯†ç 
â”‚
â”œâ”€ ğŸ“¡ è°ƒç”¨ç»Ÿä¸€è®¤è¯ä¸­å¿ƒï¼ˆæœŸæœ› admin.yyup.ccï¼‰
â”‚  â”‚
â”‚  â”œâ”€ ğŸ”´ é—®é¢˜1: ç™»å½•æ¥å£
â”‚  â”‚   éœ€è¦: æ‰‹æœºå·+å¯†ç  â†’ å…¨å±€ç”¨æˆ·ID + token
â”‚  â”‚   å®é™…: ç”¨æˆ·å+å¯†ç  â†’ adminç”¨æˆ· (âœ— ä¸åŒ¹é…)
â”‚  â”‚
â”‚  â”œâ”€ ğŸ”´ é—®é¢˜2: ç”¨æˆ·-ç§Ÿæˆ·ç»‘å®š
â”‚  â”‚   éœ€è¦: /api/v1/tenants/bind æ¥å£
â”‚  â”‚   å®é™…: æ ¹æœ¬ä¸å­˜åœ¨ (âœ— ç¼ºå¤±)
â”‚  â”‚
â”‚  â”œâ”€ ğŸ”´ é—®é¢˜3: è·å–ç”¨æˆ·ç§Ÿæˆ·åˆ—è¡¨
â”‚  â”‚   éœ€è¦: /api/v1/auth/tenants æ¥å£
â”‚  â”‚   å®é™…: æ ¹æœ¬ä¸å­˜åœ¨ (âœ— ç¼ºå¤±)
â”‚  â”‚
â”‚  â””â”€ ğŸŸ¡ é—®é¢˜4: TokenéªŒè¯
â”‚      éœ€è¦: POST /api/v1/auth/verify-token (bodyä¼ )
â”‚      å®é™…: GET /api/auth/verify (headerä¼ ) (âš ï¸ å¯æ”¹é€ )
â”‚
â””â”€ âŒ æ— æ³•æ­£å¸¸ç™»å½•
```

---

## ğŸ¯ é—®é¢˜å¯¹ç…§è¡¨

### é—®é¢˜ 1: æ‰‹æœºå·ç™»å½•

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ k.yyup.com æœŸæœ›         â”‚ admin.yyup.cc å®é™…æä¾›             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ è¯·æ±‚:                   â”‚ è¯·æ±‚:                              â”‚
â”‚ {                       â”‚ {                                  â”‚
â”‚   phone: "138...",  ğŸ†•  â”‚   username: "admin",   âŒ ä¸åŒ      â”‚
â”‚   password: "..."   âœ“   â”‚   password: "..."      âœ“           â”‚
â”‚ }                       â”‚ }                                  â”‚
â”‚                         â”‚                                    â”‚
â”‚ å“åº”:                   â”‚ å“åº”:                              â”‚
â”‚ {                       â”‚ {                                 â”‚
â”‚   user: {               â”‚   user: {                         â”‚
â”‚     id: "user-123",     â”‚     id: 1,                        â”‚
â”‚     phone: "138...",    â”‚     username: "admin",            â”‚
â”‚     realName: "å¼ ä¸‰",   â”‚     role: "admin",                â”‚
â”‚     globalUserId: "g1"  â”‚     email: "..."                  â”‚
â”‚   },                    â”‚   },                              â”‚
â”‚   token: "..."          â”‚   token: "..."                    â”‚
â”‚ }                       â”‚ }                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ç»“æœ: âŒ å®Œå…¨ä¸å…¼å®¹
    - è¾“å…¥å‚æ•°æ ¼å¼ä¸åŒ
    - è¾“å‡ºç”¨æˆ·ä¿¡æ¯å­—æ®µä¸åŒ
    - è¿”å›çš„ ID ç±»å‹ä¸åŒ (string vs number)
```

### é—®é¢˜ 2: ç”¨æˆ·-ç§Ÿæˆ·ç»‘å®š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ k.yyup.com è°ƒç”¨              â”‚ admin.yyup.cc æä¾›       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ POST /api/v1/tenants/bind    â”‚ âŒ æ­¤ç«¯ç‚¹ä¸å­˜åœ¨          â”‚
â”‚                              â”‚                          â”‚
â”‚ {                            â”‚ ç›¸å…³æ¥å£:                â”‚
â”‚   globalUserId: "user-123",  â”‚ - GET /api/tenants      â”‚
â”‚   tenantCode: "k001",        â”‚ - POST /api/tenants     â”‚
â”‚   role: "teacher",           â”‚ - GET /api/tenants/:id  â”‚
â”‚   ...                        â”‚ - PUT /api/tenants/:id  â”‚
â”‚ }                            â”‚                          â”‚
â”‚                              â”‚ (éƒ½æ˜¯ç§Ÿæˆ·ç®¡ç†ï¼Œä¸æ˜¯ç”¨æˆ· â”‚
â”‚ è¿”å›:                        â”‚  ç»‘å®š)                   â”‚
â”‚ {                            â”‚                          â”‚
â”‚   token: "...",              â”‚                          â”‚
â”‚   user: { ... }              â”‚                          â”‚
â”‚ }                            â”‚                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ç»“æœ: âŒ æ¥å£å®Œå…¨ç¼ºå¤±
    - æ²¡æœ‰ç”¨æˆ·-ç§Ÿæˆ·å…³ç³»ç®¡ç†
    - æ²¡æœ‰ç»‘å®šé€»è¾‘
    - æ— æ³•å¤„ç†"ç”¨æˆ·æœªç»‘å®š"çš„åœºæ™¯
```

### é—®é¢˜ 3: è·å–ç”¨æˆ·ç§Ÿæˆ·åˆ—è¡¨

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ k.yyup.com è°ƒç”¨            â”‚ admin.yyup.cc æä¾›       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ POST /api/v1/auth/tenants  â”‚ âŒ æ­¤ç«¯ç‚¹ä¸å­˜åœ¨          â”‚
â”‚                            â”‚                          â”‚
â”‚ {                          â”‚ ç›¸å…³æ¥å£:                â”‚
â”‚   globalUserId: "u-123",   â”‚ GET /api/tenants        â”‚
â”‚   phone: "138..."          â”‚ (è¿”å›æ‰€æœ‰ç§Ÿæˆ·ï¼Œéœ€è¦è®¤è¯) â”‚
â”‚ }                          â”‚                          â”‚
â”‚                            â”‚ é—®é¢˜:                    â”‚
â”‚ è¿”å›:                      â”‚ 1. æ— æ³•æŒ‰ globalUserId  â”‚
â”‚ {                          â”‚    è¿‡æ»¤                 â”‚
â”‚   tenants: [               â”‚ 2. æ— æ³•æŒ‰ phone è¿‡æ»¤   â”‚
â”‚     {                      â”‚ 3. è¿”å›æ‰€æœ‰ç§Ÿæˆ·è€Œä¸æ˜¯   â”‚
â”‚       tenantCode: "k001",  â”‚    ç”¨æˆ·ç›¸å…³çš„ç§Ÿæˆ·      â”‚
â”‚       tenantName: "...",   â”‚                        â”‚
â”‚       domain: "...",       â”‚                        â”‚
â”‚       role: "teacher",     â”‚                        â”‚
â”‚       loginCount: 5        â”‚                        â”‚
â”‚     }                      â”‚                        â”‚
â”‚   ]                        â”‚                        â”‚
â”‚ }                          â”‚                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ç»“æœ: âŒ æ¥å£ä¸ç¬¦åˆéœ€æ±‚
    - æ— æ³•æŒ‰ç”¨æˆ·è¿‡æ»¤
    - é€»è¾‘å®Œå…¨ä¸åŒ
    - æ— æ³•è¿”å›ç”¨æˆ·è§’è‰²ç­‰ç›¸å…³ä¿¡æ¯
```

---

## ğŸ”„ å®Œæ•´é“¾è·¯å¯¹æ¯”

### ç™»å½•æµç¨‹æ‰§è¡Œå›¾

```
ğŸ”µ å·²æˆåŠŸçš„éƒ¨åˆ†ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ k.yyup.com å‰ç«¯                             â”‚
â”‚ â”œâ”€ ç”¨æˆ·è¾“å…¥æ‰‹æœºå· + å¯†ç                     â”‚
â”‚ â”œâ”€ validateForm() âœ…                        â”‚
â”‚ â”œâ”€ handleLogin() âœ…                         â”‚
â”‚ â””â”€ POST /api/auth/unified-login âœ…          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ k.yyup.com åç«¯ä¸­é—´ä»¶                      â”‚
â”‚ â”œâ”€ tenantResolverMiddleware âœ…              â”‚
â”‚ â”‚  â””â”€ è¯†åˆ«ç§Ÿæˆ·: k001.yyup.cc â†’ tenant_k001 â”‚
â”‚ â”œâ”€ tenantSecurityMiddleware âœ…              â”‚
â”‚ â”‚  â””â”€ éªŒè¯ç§Ÿæˆ·å®‰å…¨                         â”‚
â”‚ â”œâ”€ authenticateWithUnifiedAuth âœ…           â”‚
â”‚ â”‚  â””â”€ isDemoSystem() = false âœ…             â”‚
â”‚ â””â”€ è°ƒç”¨ adminIntegrationService âœ…          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“ ğŸ”´ é“¾è·¯ä¸­æ–­
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ admin.yyup.cc è®¤è¯ç«¯ç‚¹                     â”‚
â”‚ ğŸ”´ POST /api/auth/login                    â”‚
â”‚    æœŸæœ›: phone + è¿”å› globalUserId         â”‚
â”‚    å®é™…: username + è¿”å› admin ç”¨æˆ·        â”‚
â”‚    âŒ å‚æ•°ç±»å‹ä¸åŒ¹é…                        â”‚
â”‚    âŒ è¿”å›æ•°æ®ç»“æ„ä¸åŒ¹é…                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

åç»­æ­¥éª¤å…¨éƒ¨æ— æ³•è¿›è¡Œï¼š
âŒ æ— æ³•è·å– globalUserId
âŒ æ— æ³•åœ¨ tenant_k001.users æŸ¥è¯¢
âŒ æ— æ³•åˆ¤æ–­ç”¨æˆ·æ˜¯å¦å·²ç»‘å®š
âŒ ç™»å½•å¤±è´¥
```

---

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„é—®é¢˜

### å½“å‰æ¶æ„ï¼ˆé”™è¯¯çš„ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  ç”¨æˆ·æµè§ˆå™¨                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†‘ HTTP
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  k.yyup.com (ç§Ÿæˆ·åº”ç”¨ç³»ç»Ÿ)                            â”‚
â”‚  â”œâ”€ å‰ç«¯: ç™»å½•é¡µé¢ã€ä»ªè¡¨æ¿                           â”‚
â”‚  â”œâ”€ åç«¯: ç§Ÿæˆ·ä¸šåŠ¡é€»è¾‘                              â”‚
â”‚  â””â”€ æœŸæœ›: è°ƒç”¨è®¤è¯ä¸­å¿ƒè¿›è¡Œç”¨æˆ·è®¤è¯                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“ HTTP
                   æœŸæœ›è°ƒç”¨ â†™
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  admin.yyup.cc (???)                                 â”‚
â”‚  è®¾è®¡ç›®çš„: ç§Ÿæˆ·ç®¡ç†åå°                              â”‚
â”‚  å®é™…åŠŸèƒ½:                                           â”‚
â”‚  â”œâ”€ âœ… ç®¡ç†å‘˜ç”¨æˆ·è®¤è¯ (ç”¨æˆ·å+å¯†ç )                  â”‚
â”‚  â”œâ”€ âœ… ç§Ÿæˆ·ç®¡ç† (åˆ›å»ºã€ç¼–è¾‘ã€åˆ é™¤)                   â”‚
â”‚  â”œâ”€ âœ… è´¦æˆ·ç®¡ç† (å……å€¼ã€æ‰£è´¹)                         â”‚
â”‚  â”œâ”€ âœ… AIæ¨¡å‹ç®¡ç†                                   â”‚
â”‚  â””â”€ âŒ ç»Ÿä¸€ç”¨æˆ·è®¤è¯ (ç¼ºå¤±)                           â”‚
â”‚  â””â”€ âŒ ç”¨æˆ·-ç§Ÿæˆ·ç»‘å®š (ç¼ºå¤±)                          â”‚
â”‚  â””â”€ âŒ å…¨å±€ç”¨æˆ·ç®¡ç† (ç¼ºå¤±)                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

é—®é¢˜: admin.yyup.cc ä¸æ˜¯è®¤è¯ä¸­å¿ƒï¼
     k.yyup.com æœŸæœ›çš„æ¥å£åœ¨è¿™é‡Œæ‰¾ä¸åˆ°ï¼
```

### æ¨èæ¶æ„ï¼ˆæ­£ç¡®çš„ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  ç”¨æˆ·æµè§ˆå™¨                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†‘                           â†‘
         â”‚ HTTP                      â”‚ HTTP
         â†“                           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ k.yyup.com (å›­æ‰€1)  â”‚      â”‚ k002.yyup.cc (å›­æ‰€2) â”‚
â”‚ ç§Ÿæˆ·åº”ç”¨ç³»ç»Ÿ         â”‚      â”‚ ç§Ÿæˆ·åº”ç”¨ç³»ç»Ÿ          â”‚
â”‚ â”œâ”€ å›­æ‰€ä¸šåŠ¡          â”‚      â”‚ â”œâ”€ å›­æ‰€ä¸šåŠ¡           â”‚
â”‚ â”œâ”€ æ•™å¸ˆåŠŸèƒ½          â”‚      â”‚ â”œâ”€ æ•™å¸ˆåŠŸèƒ½           â”‚
â”‚ â””â”€ å®¶é•¿åŠŸèƒ½          â”‚      â”‚ â””â”€ å®¶é•¿åŠŸèƒ½           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                         â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â†“ HTTP
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  ğŸ†• è®¤è¯ä¸­å¿ƒ (auth-center)        â”‚
        â”‚  â”œâ”€ âœ… æ‰‹æœºå·+å¯†ç ç™»å½•            â”‚
        â”‚  â”œâ”€ âœ… å…¨å±€ç”¨æˆ·ç®¡ç†              â”‚
        â”‚  â”œâ”€ âœ… ç”¨æˆ·-ç§Ÿæˆ·ç»‘å®šç®¡ç†         â”‚
        â”‚  â”œâ”€ âœ… Token éªŒè¯                â”‚
        â”‚  â””â”€ âœ… ç”¨æˆ·æƒé™ç®¡ç†              â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  admin.yyup.cc (ç®¡ç†åå°)         â”‚
        â”‚  â”œâ”€ âœ… ç®¡ç†å‘˜è®¤è¯                 â”‚
        â”‚  â”œâ”€ âœ… ç§Ÿæˆ·ç®¡ç†                   â”‚
        â”‚  â”œâ”€ âœ… è´¦æˆ·ç®¡ç†                   â”‚
        â”‚  â”œâ”€ âœ… AIæ¨¡å‹ç®¡ç†                â”‚
        â”‚  â””â”€ âœ… ä¸šåŠ¡æ•°æ®ç»Ÿè®¡               â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  ç»Ÿä¸€æ•°æ®åº“                       â”‚
        â”‚  â”œâ”€ å…¨å±€ç”¨æˆ·è¡¨                    â”‚
        â”‚  â”œâ”€ ç”¨æˆ·-ç§Ÿæˆ·å…³ç³»è¡¨               â”‚
        â”‚  â”œâ”€ ç§Ÿæˆ·è¡¨                        â”‚
        â”‚  â”œâ”€ è´¦æˆ·è¡¨                        â”‚
        â”‚  â””â”€ AIæ¨¡å‹è¡¨                      â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ ä¿®å¤æ–¹æ¡ˆ

### çŸ­æœŸæ–¹æ¡ˆï¼ˆå¿«é€Ÿä¿®å¤ï¼Œ1-2å‘¨ï¼‰
åœ¨ admin.yyup.cc ä¸­è¡¥å……è®¤è¯æ¥å£

```typescript
// âŒ é—®é¢˜: ç¼ºå°‘æ‰‹æœºå·ç™»å½•
// âœ… æ–¹æ¡ˆ: æ‰©å±•ç™»å½•æ¥å£æ”¯æŒæ‰‹æœºå·

POST /api/auth/login
{
  phone?: "13800138000",    // æ–°å¢æ‰‹æœºå·æ”¯æŒ
  username?: "admin",        // ä¿ç•™ç”¨æˆ·åæ”¯æŒ
  password: "xxx",
  clientType: "web"
}

å“åº”å¢åŠ å­—æ®µ:
{
  globalUserId: "user-123",  // æ–°å¢
  realName: "å¼ ä¸‰"           // æ–°å¢
}
```

```typescript
// âŒ é—®é¢˜: ç¼ºå°‘ç”¨æˆ·-ç§Ÿæˆ·ç»‘å®šæ¥å£
// âœ… æ–¹æ¡ˆ: æ–°å¢ç»‘å®šæ¥å£

POST /api/v1/tenants/bind
{
  globalUserId: "user-123",
  tenantCode: "k001",
  role: "teacher"
}
```

```typescript
// âŒ é—®é¢˜: ç¼ºå°‘ç”¨æˆ·ç§Ÿæˆ·åˆ—è¡¨æ¥å£
// âœ… æ–¹æ¡ˆ: æ–°å¢åˆ—è¡¨æ¥å£

POST /api/v1/auth/tenants
{
  globalUserId: "user-123"
}

è¿”å›: [{ tenantCode, tenantName, role, ... }]
```

### é•¿æœŸæ–¹æ¡ˆï¼ˆæ¶æ„é‡æ„ï¼Œ1-2æœˆï¼‰
å»ºç«‹ç‹¬ç«‹çš„è®¤è¯ä¸­å¿ƒç³»ç»Ÿ

```
æ–°å»ºé¡¹ç›®: authentication-center
â”œâ”€ ä¸“é—¨ç”¨äºç”¨æˆ·è®¤è¯
â”œâ”€ ç®¡ç†å…¨å±€ç”¨æˆ·
â”œâ”€ ç®¡ç†ç”¨æˆ·-ç§Ÿæˆ·ç»‘å®š
â”œâ”€ æä¾›ç»Ÿä¸€çš„ Token éªŒè¯
â””â”€ å¯è¢«æ‰€æœ‰å­ç³»ç»Ÿè°ƒç”¨
```

---

## ğŸ¯ ç«‹å³è¡ŒåŠ¨

### ğŸ”´ å¿…é¡»ä¿®å¤ï¼ˆå¦åˆ™ç³»ç»Ÿä¸èƒ½ç”¨ï¼‰
1. [ ] admin.yyup.cc æ·»åŠ æ‰‹æœºå·ç™»å½•æ”¯æŒ
2. [ ] admin.yyup.cc æ·»åŠ ç”¨æˆ·-ç§Ÿæˆ·ç»‘å®šæ¥å£
3. [ ] admin.yyup.cc æ·»åŠ è·å–ç”¨æˆ·ç§Ÿæˆ·åˆ—è¡¨æ¥å£

### ğŸŸ¡ åº”è¯¥æ”¹è¿›ï¼ˆå¦åˆ™ç³»ç»Ÿä¸ç¨³å®šï¼‰
4. [ ] ç»Ÿä¸€ Token éªŒè¯æ¥å£æ ¼å¼
5. [ ] æ·»åŠ ç”¨æˆ·è¡¨æ¥å­˜å‚¨å…¨å±€ç”¨æˆ·ä¿¡æ¯
6. [ ] æ·»åŠ ç”¨æˆ·-ç§Ÿæˆ·å…³ç³»è¡¨

### ğŸŸ¢ å¯ä»¥ä¼˜åŒ–ï¼ˆé•¿æœŸæ”¹è¿›ï¼‰
7. [ ] å»ºç«‹ç‹¬ç«‹è®¤è¯ä¸­å¿ƒ
8. [ ] å®ç° OAuth2 è®¤è¯æµç¨‹
9. [ ] æ·»åŠ ç¬¬ä¸‰æ–¹ç™»å½•æ”¯æŒ

---

## âœ… æ£€éªŒæ¸…å•

åœ¨ admin.yyup.cc å®ç°è¿™äº›æ¥å£åï¼Œå¯ä»¥æ£€éªŒï¼š

- [ ] k.yyup.cc ç”¨æˆ·èƒ½ç”¨æ‰‹æœºå·ç™»å½•
- [ ] k.yyup.cc èƒ½è¯†åˆ«ç”¨æˆ·æ˜¯å¦å·²ç»‘å®šç§Ÿæˆ·
- [ ] k.yyup.cc èƒ½è·å–ç”¨æˆ·çš„ç§Ÿæˆ·åˆ—è¡¨
- [ ] k.yyup.cc èƒ½å¤„ç†"ç”¨æˆ·æœªç»‘å®š"çš„åœºæ™¯
- [ ] k.yyup.cc èƒ½æ­£ç¡®è·³è½¬åˆ°ä»ªè¡¨æ¿
- [ ] ç”¨æˆ·åœ¨å„ç§Ÿæˆ·é—´åˆ‡æ¢æ—¶ Token æœ‰æ•ˆ
- [ ] å®‰å…¨å®¡è®¡æ—¥å¿—è®°å½•æ‰€æœ‰è®¤è¯æ“ä½œ

---

## ğŸ“Š å½±å“åˆ†æ

### å¦‚æœä¸ä¿®å¤
```
âŒ k.yyup.com ç³»ç»Ÿæ— æ³•æ­£å¸¸ç™»å½•
âŒ ç§Ÿæˆ·ç”¨æˆ·æ— æ³•è®¿é—®å›­æ‰€ç³»ç»Ÿ
âŒ æ•´ä¸ªä¸šåŠ¡æµç¨‹è¢«é˜»æ–­
ğŸ“Š ä¸šåŠ¡å½±å“: ä¸¥é‡ ğŸ”´
```

### ä¿®å¤åçš„æ”¶ç›Š
```
âœ… æ”¯æŒè·¨ç§Ÿæˆ·çš„ç»Ÿä¸€è®¤è¯
âœ… æ”¯æŒç”¨æˆ·ä¸å¤šä¸ªç§Ÿæˆ·å…³è”
âœ… æ”¯æŒçµæ´»çš„ç”¨æˆ·-ç§Ÿæˆ·ç»‘å®š
âœ… æ”¯æŒæœªæ¥çš„ç³»ç»Ÿæ‰©å±•
ğŸ“Š ä¸šåŠ¡å½±å“: æ­£å¸¸ ğŸŸ¢
```

---

## ğŸ“ æ€»ç»“

| æŒ‡æ ‡ | è¯„ä¼° |
|------|------|
| **é“¾è·¯é€šé¡ºæ€§** | ğŸ”´ **ä¸é€šé¡º** |
| **ç³»ç»Ÿå…¼å®¹æ€§** | ğŸ”´ **ä¸å…¼å®¹** |
| **æ¥å£å®Œæ•´æ€§** | ğŸ”´ **ç¼ºå¤±å…³é”®æ¥å£** |
| **æ•°æ®æ¨¡å‹** | ğŸŸ¡ **éœ€è¦æ‰©å±•** |
| **æ¶æ„åˆç†æ€§** | ğŸŸ¡ **éœ€è¦è°ƒæ•´** |
| **ä¿®å¤éš¾åº¦** | ğŸŸ¢ **ä¸­ç­‰ï¼ˆ1-2å‘¨ï¼‰** |
| **ä¼˜å…ˆçº§** | ğŸ”´ **ä¸¥é‡ä¼˜å…ˆå¤„ç†** |

**ç»“è®ºï¼šé“¾è·¯ç›®å‰å®Œå…¨ä¸é€šé¡ºï¼Œå¿…é¡»ç«‹å³ä¿®å¤ admin.yyup.cc çš„è®¤è¯æ¥å£ã€‚**

