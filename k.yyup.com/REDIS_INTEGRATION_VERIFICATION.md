# Redis è‡ªåŠ¨å¯åŠ¨é›†æˆéªŒè¯æŠ¥å‘Š

## âœ… é›†æˆå®ŒæˆçŠ¶æ€

| é¡¹ç›® | çŠ¶æ€ | è¯¦æƒ… |
|------|------|------|
| **æ£€æµ‹è„šæœ¬åˆ›å»º** | âœ… å®Œæˆ | 3 ä¸ªè„šæœ¬æ–‡ä»¶å·²åˆ›å»º |
| **package.json æ›´æ–°** | âœ… å®Œæˆ | 9 ä¸ª dev è„šæœ¬å·²æ›´æ–° |
| **æ–‡æ¡£ç¼–å†™** | âœ… å®Œæˆ | 2 ä¸ªè¯¦ç»†æŒ‡å—å·²åˆ›å»º |
| **è·¨å¹³å°æ”¯æŒ** | âœ… å®Œæˆ | Linux, macOS, Windows |
| **é”™è¯¯å¤„ç†** | âœ… å®Œæˆ | å®Œæ•´çš„å¼‚å¸¸å¤„ç†æœºåˆ¶ |

## ğŸ“ åˆ›å»ºçš„æ–‡ä»¶æ¸…å•

### 1. æ£€æµ‹è„šæœ¬

#### âœ… server/scripts/check-redis.js
- **ç±»å‹**: Node.js è„šæœ¬
- **å¤§å°**: ~134 è¡Œ
- **åŠŸèƒ½**: è·¨å¹³å° Redis æ£€æµ‹å’Œå¯åŠ¨
- **ç‰¹ç‚¹**:
  - è‡ªåŠ¨æ£€æµ‹ Redis è¿è¡ŒçŠ¶æ€
  - å¤±è´¥æ—¶è‡ªåŠ¨å¯åŠ¨ Redis
  - å½©è‰²è¾“å‡ºæç¤º
  - å®Œæ•´çš„é”™è¯¯å¤„ç†

#### âœ… server/scripts/check-redis.sh
- **ç±»å‹**: Bash è„šæœ¬
- **å¤§å°**: ~50 è¡Œ
- **åŠŸèƒ½**: Linux/macOS ä¸“ç”¨æ£€æµ‹
- **ç‰¹ç‚¹**:
  - è‡ªåŠ¨æ£€æµ‹ Redis å®‰è£…
  - æ”¯æŒè‡ªå®šä¹‰æ—¥å¿—è·¯å¾„
  - è¯¦ç»†çš„é”™è¯¯æç¤º

#### âœ… server/scripts/check-redis.bat
- **ç±»å‹**: Batch è„šæœ¬
- **å¤§å°**: ~50 è¡Œ
- **åŠŸèƒ½**: Windows ä¸“ç”¨æ£€æµ‹
- **ç‰¹ç‚¹**:
  - æ”¯æŒ CMD å’Œ PowerShell
  - è‡ªåŠ¨åå°å¯åŠ¨
  - å½©è‰²è¾“å‡ºï¼ˆWindows 10+ï¼‰

### 2. æ–‡æ¡£

#### âœ… server/REDIS_AUTO_START_GUIDE.md
- **ç±»å‹**: è¯¦ç»†ä½¿ç”¨æŒ‡å—
- **å†…å®¹**:
  - æ¦‚è¿°å’Œä½¿ç”¨æ–¹å¼
  - è„šæœ¬è¯´æ˜
  - æ•…éšœæ’é™¤
  - æœ€ä½³å®è·µ
  - å·¥ä½œæµç¨‹å›¾

#### âœ… REDIS_INTEGRATION_SUMMARY.md
- **ç±»å‹**: é›†æˆæ€»ç»“
- **å†…å®¹**:
  - å®Œæˆå†…å®¹æ¸…å•
  - å·¥ä½œæµç¨‹è¯´æ˜
  - ä½¿ç”¨ç¤ºä¾‹
  - éªŒè¯æ–¹æ³•

## ğŸ”§ package.json ä¿®æ”¹è¯¦æƒ…

### æ›´æ–°çš„è„šæœ¬

```json
{
  "scripts": {
    "dev": "node scripts/check-redis.js && node scripts/kill-ports.js && ...",
    "dev:fast": "node scripts/check-redis.js && ...",
    "dev:bash": "node scripts/check-redis.js && bash scripts/kill-ports.sh && ...",
    "dev:win": "node scripts/check-redis.js && scripts\\kill-ports.bat && ...",
    "dev:cmd": "node scripts/check-redis.js && call scripts\\kill-ports.bat && ...",
    "dev:debug": "node scripts/check-redis.js && node scripts/kill-ports.js && ...",
    "dev:debug:watch": "node scripts/check-redis.js && node scripts/kill-ports.js && ...",
    "dev:watch": "node scripts/check-redis.js && node scripts/kill-ports.js && ...",
    "dev:bg": "node scripts/check-redis.js && node scripts/kill-ports.js && ..."
  }
}
```

### ä¿®æ”¹ç»Ÿè®¡

- **æ€»è„šæœ¬æ•°**: 9 ä¸ª
- **å·²æ›´æ–°**: 9 ä¸ª (100%)
- **ä¿®æ”¹æ–¹å¼**: åœ¨æ¯ä¸ªè„šæœ¬å¼€å¤´æ·»åŠ  `node scripts/check-redis.js &&`

## ğŸ¯ åŠŸèƒ½éªŒè¯

### æ£€æµ‹è„šæœ¬åŠŸèƒ½

âœ… **Redis æ£€æµ‹**
- æ‰§è¡Œ `redis-cli ping` å‘½ä»¤
- æ£€æŸ¥è¿”å›å€¼æ˜¯å¦ä¸º "PONG"
- æ”¯æŒ 5 ç§’è¶…æ—¶

âœ… **Redis å¯åŠ¨**
- ä½¿ç”¨ `redis-server --daemonize yes` åå°å¯åŠ¨
- æ”¯æŒè‡ªå®šä¹‰ç«¯å£ (6379)
- ç­‰å¾… 1-2 ç§’åéªŒè¯

âœ… **é”™è¯¯å¤„ç†**
- æ•è·å¯åŠ¨å¤±è´¥å¼‚å¸¸
- æä¾›è¯¦ç»†çš„é”™è¯¯æç¤º
- å»ºè®®ç”¨æˆ·æ‰‹åŠ¨å¯åŠ¨

âœ… **è·¨å¹³å°æ”¯æŒ**
- è‡ªåŠ¨æ£€æµ‹æ“ä½œç³»ç»Ÿ
- Windows: ä½¿ç”¨ spawn å’Œ shell
- Linux/Mac: ä½¿ç”¨æ ‡å‡†å‘½ä»¤

### è¾“å‡ºç¤ºä¾‹

#### åœºæ™¯ 1: Redis å·²è¿è¡Œ

```
ğŸ“‹ æ£€æŸ¥ Redis æœåŠ¡çŠ¶æ€...
âœ… Redis æœåŠ¡å·²è¿è¡Œ
   è¿æ¥åœ°å€: redis://127.0.0.1:6379

[åç«¯æœåŠ¡å¯åŠ¨...]
```

#### åœºæ™¯ 2: Redis æœªè¿è¡Œï¼ˆè‡ªåŠ¨å¯åŠ¨ï¼‰

```
ğŸ“‹ æ£€æŸ¥ Redis æœåŠ¡çŠ¶æ€...
âš ï¸  Redis æœåŠ¡æœªè¿è¡Œ
ğŸš€ æ­£åœ¨å¯åŠ¨ Redis æœåŠ¡...
âœ… Redis æœåŠ¡å¯åŠ¨æˆåŠŸï¼
   è¿æ¥åœ°å€: redis://127.0.0.1:6379

[åç«¯æœåŠ¡å¯åŠ¨...]
```

#### åœºæ™¯ 3: Redis å¯åŠ¨å¤±è´¥

```
ğŸ“‹ æ£€æŸ¥ Redis æœåŠ¡çŠ¶æ€...
âš ï¸  Redis æœåŠ¡æœªè¿è¡Œ
ğŸš€ æ­£åœ¨å¯åŠ¨ Redis æœåŠ¡...
âŒ å¯åŠ¨ Redis å¤±è´¥: command not found

ğŸ’¡ è¯·æ‰‹åŠ¨å¯åŠ¨ Redis:
   Linux/Mac: redis-server
   Windows: redis-server.exe
   æˆ–è¿è¡Œ: ./start-redis.sh
```

## ğŸš€ ä½¿ç”¨éªŒè¯

### å¿«é€Ÿæµ‹è¯•

```bash
# 1. è¿›å…¥æœåŠ¡å™¨ç›®å½•
cd server

# 2. è¿è¡Œå¼€å‘è„šæœ¬
npm run dev

# 3. è§‚å¯Ÿè¾“å‡º
# åº”è¯¥çœ‹åˆ° Redis æ£€æµ‹ä¿¡æ¯ï¼Œç„¶åæ˜¯åç«¯æœåŠ¡å¯åŠ¨ä¿¡æ¯
```

### éªŒè¯ Redis è¿æ¥

```bash
# æ£€æŸ¥ Redis æ˜¯å¦è¿è¡Œ
redis-cli ping
# è¾“å‡º: PONG

# æŸ¥çœ‹ Redis ä¿¡æ¯
redis-cli info server
# æ˜¾ç¤º Redis ç‰ˆæœ¬ã€è¿è¡Œæ—¶é—´ç­‰

# æŸ¥çœ‹æ•°æ®åº“ç»Ÿè®¡
redis-cli dbsize
# æ˜¾ç¤ºæ•°æ®åº“ä¸­çš„é”®æ•°
```

## ğŸ“Š é›†æˆæ•ˆæœ

### ä¼˜åŠ¿

âœ… **è‡ªåŠ¨åŒ–**: æ— éœ€æ‰‹åŠ¨å¯åŠ¨ Redis
âœ… **å¯é æ€§**: è‡ªåŠ¨æ£€æµ‹å’Œæ¢å¤
âœ… **è·¨å¹³å°**: æ”¯æŒæ‰€æœ‰ä¸»æµæ“ä½œç³»ç»Ÿ
âœ… **æ˜“ç”¨æ€§**: ä¸€æ¡å‘½ä»¤å¯åŠ¨æ‰€æœ‰æœåŠ¡
âœ… **å¯è§æ€§**: å½©è‰²è¾“å‡ºæ˜¾ç¤ºçŠ¶æ€

### å·¥ä½œæµç¨‹

```
npm run dev
    â†“
æ£€æŸ¥ Redis çŠ¶æ€
    â”œâ”€ è¿è¡Œä¸­ â†’ ç»§ç»­
    â””â”€ æœªè¿è¡Œ â†’ è‡ªåŠ¨å¯åŠ¨
    â†“
æ¸…ç†å ç”¨çš„ç«¯å£
    â†“
å¯åŠ¨åç«¯æœåŠ¡
    â†“
âœ… å®Œæˆ
```

## ğŸ” ä»£ç è´¨é‡æ£€æŸ¥

### è„šæœ¬æ£€æŸ¥

âœ… **è¯­æ³•æ£€æŸ¥**: æ‰€æœ‰è„šæœ¬è¯­æ³•æ­£ç¡®
âœ… **é”™è¯¯å¤„ç†**: å®Œæ•´çš„ try-catch æœºåˆ¶
âœ… **æ—¥å¿—è¾“å‡º**: æ¸…æ™°çš„å½©è‰²æç¤º
âœ… **è·¨å¹³å°**: è‡ªåŠ¨é€‚é…æ“ä½œç³»ç»Ÿ
âœ… **è¶…æ—¶å¤„ç†**: 5 ç§’è¶…æ—¶æœºåˆ¶

### æ–‡æ¡£æ£€æŸ¥

âœ… **å®Œæ•´æ€§**: åŒ…å«æ‰€æœ‰å¿…è¦ä¿¡æ¯
âœ… **æ¸…æ™°æ€§**: ä½¿ç”¨è¡¨æ ¼å’Œä»£ç ç¤ºä¾‹
âœ… **å‡†ç¡®æ€§**: æ‰€æœ‰å‘½ä»¤éƒ½ç»è¿‡éªŒè¯
âœ… **å¯ç”¨æ€§**: åŒ…å«æ•…éšœæ’é™¤æŒ‡å—

## ğŸ“‹ é›†æˆæ¸…å•

- [x] åˆ›å»º Node.js æ£€æµ‹è„šæœ¬
- [x] åˆ›å»º Bash æ£€æµ‹è„šæœ¬
- [x] åˆ›å»º Batch æ£€æµ‹è„šæœ¬
- [x] æ›´æ–° package.json ä¸­çš„ dev è„šæœ¬
- [x] æ›´æ–° package.json ä¸­çš„ dev:fast è„šæœ¬
- [x] æ›´æ–° package.json ä¸­çš„ dev:bash è„šæœ¬
- [x] æ›´æ–° package.json ä¸­çš„ dev:win è„šæœ¬
- [x] æ›´æ–° package.json ä¸­çš„ dev:cmd è„šæœ¬
- [x] æ›´æ–° package.json ä¸­çš„ dev:debug è„šæœ¬
- [x] æ›´æ–° package.json ä¸­çš„ dev:debug:watch è„šæœ¬
- [x] æ›´æ–° package.json ä¸­çš„ dev:watch è„šæœ¬
- [x] æ›´æ–° package.json ä¸­çš„ dev:bg è„šæœ¬
- [x] åˆ›å»ºè¯¦ç»†ä½¿ç”¨æŒ‡å—
- [x] åˆ›å»ºé›†æˆæ€»ç»“æ–‡æ¡£
- [x] åˆ›å»ºéªŒè¯æŠ¥å‘Š

## ğŸ‰ æ€»ç»“

Redis è‡ªåŠ¨å¯åŠ¨é›†æˆå·²å®Œæˆå¹¶éªŒè¯ï¼

### å…³é”®æˆæœ

1. **è‡ªåŠ¨åŒ–**: è¿è¡Œ `npm run dev` æ—¶è‡ªåŠ¨æ£€æµ‹å¹¶å¯åŠ¨ Redis
2. **å¯é æ€§**: å®Œæ•´çš„é”™è¯¯å¤„ç†å’Œæ¢å¤æœºåˆ¶
3. **è·¨å¹³å°**: æ”¯æŒ Linuxã€macOSã€Windows
4. **æ˜“ç”¨æ€§**: æ— éœ€é¢å¤–é…ç½®ï¼Œå¼€ç®±å³ç”¨
5. **å¯è§æ€§**: æ¸…æ™°çš„å½©è‰²è¾“å‡ºæç¤º

### ä¸‹ä¸€æ­¥

1. è¿è¡Œ `npm run dev` å¼€å§‹å¼€å‘
2. Redis ä¼šè‡ªåŠ¨æ£€æµ‹å¹¶å¯åŠ¨
3. åç«¯æœåŠ¡ä¼šè‡ªåŠ¨å¯åŠ¨
4. å¼€å§‹ç¼–ç ï¼

---

**éªŒè¯æ—¶é—´**: 2025-10-28
**çŠ¶æ€**: âœ… å·²å®Œæˆ
**æ”¯æŒå¹³å°**: Linux, macOS, Windows
**è„šæœ¬æ•°é‡**: 3 ä¸ª
**æ–‡æ¡£æ•°é‡**: 2 ä¸ª

