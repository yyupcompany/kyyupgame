{
  "openapi": "3.0.0",
  "info": {
    "title": "幼儿园管理系统 API",
    "version": "1.0.0",
    "description": "幼儿园管理系统的完整API文档，包含所有业务模块的接口说明",
    "contact": {
      "name": "API Support",
      "email": "support@kindergarten.com"
    },
    "license": {
      "name": "MIT",
      "url": "https://spdx.org/licenses/MIT.html"
    }
  },
  "servers": [
    {
      "url": "http://localhost:3000",
      "description": "开发环境"
    },
    {
      "url": "https://shlxlyzagqnc.sealoshzh.site",
      "description": "生产环境"
    }
  ],
  "components": {
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT",
        "description": "JWT Bearer token认证"
      },
      "BearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    },
    "schemas": {
      "Activities-backup-1751799168": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Activities-backup-1751799168 ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Activities-backup-1751799168 名称",
            "example": "示例Activities-backup-1751799168"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateActivities-backup-1751799168Request": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Activities-backup-1751799168 名称",
            "example": "新Activities-backup-1751799168"
          }
        }
      },
      "UpdateActivities-backup-1751799168Request": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Activities-backup-1751799168 名称",
            "example": "更新后的Activities-backup-1751799168"
          }
        }
      },
      "Activities-backup-1751799168ListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Activities-backup-1751799168"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取activities-backup-1751799168列表成功"
          }
        }
      },
      "Activities-backup-1751799168Response": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Activities-backup-1751799168"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "ErrorResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": false,
            "description": "操作是否成功"
          },
          "message": {
            "type": "string",
            "example": "操作失败",
            "description": "错误消息"
          },
          "code": {
            "type": "string",
            "example": "INTERNAL_ERROR",
            "description": "错误代码"
          },
          "error": {
            "type": "string",
            "description": "错误信息",
            "example": "权限不足"
          }
        }
      },
      "Activity": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "活动ID",
            "example": 1
          },
          "title": {
            "type": "string",
            "description": "活动标题",
            "example": "春季运动会"
          },
          "description": {
            "type": "string",
            "description": "活动描述",
            "example": "幼儿园春季运动会活动"
          },
          "type": {
            "type": "string",
            "enum": [
              "outdoor",
              "indoor",
              "sports",
              "arts",
              "science",
              "social"
            ],
            "description": "活动类型"
          },
          "date": {
            "type": "string",
            "format": "date",
            "description": "活动日期"
          },
          "startTime": {
            "type": "string",
            "format": "date-time",
            "description": "开始时间",
            "example": "2025-04-15T09:00:00Z"
          },
          "endTime": {
            "type": "string",
            "format": "date-time",
            "description": "结束时间",
            "example": "2025-04-15T12:00:00Z"
          },
          "location": {
            "type": "string",
            "description": "活动地点",
            "example": "幼儿园操场"
          },
          "maxParticipants": {
            "type": "integer",
            "description": "最大参与人数",
            "example": 200
          },
          "currentParticipants": {
            "type": "integer",
            "description": "当前参与人数",
            "example": 150
          },
          "status": {
            "type": "string",
            "enum": [
              "planned",
              "ongoing",
              "completed",
              "cancelled"
            ],
            "description": "活动状态",
            "example": "planned"
          },
          "targetAgeGroup": {
            "type": "string",
            "description": "目标年龄组"
          },
          "requirements": {
            "type": "string",
            "description": "参与要求"
          },
          "materials": {
            "type": "string",
            "description": "所需材料"
          },
          "fee": {
            "type": "number",
            "format": "decimal",
            "description": "活动费用"
          },
          "organizer": {
            "type": "string",
            "description": "组织者"
          },
          "contactInfo": {
            "type": "string",
            "description": "联系信息"
          },
          "registrationDeadline": {
            "type": "string",
            "format": "date-time",
            "description": "报名截止时间"
          },
          "isActive": {
            "type": "boolean",
            "description": "是否启用"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间"
          }
        }
      },
      "ActivityRegistration": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "报名ID"
          },
          "activityId": {
            "type": "integer",
            "description": "活动ID"
          },
          "studentId": {
            "type": "integer",
            "description": "学生ID"
          },
          "student": {
            "type": "object",
            "properties": {
              "id": {
                "type": "integer"
              },
              "name": {
                "type": "string"
              },
              "class": {
                "type": "string"
              }
            },
            "description": "学生信息"
          },
          "parentId": {
            "type": "integer",
            "description": "家长ID"
          },
          "parent": {
            "type": "object",
            "properties": {
              "id": {
                "type": "integer"
              },
              "name": {
                "type": "string"
              },
              "phone": {
                "type": "string"
              }
            },
            "description": "家长信息"
          },
          "registrationDate": {
            "type": "string",
            "format": "date",
            "description": "报名日期"
          },
          "status": {
            "type": "string",
            "enum": [
              "pending",
              "confirmed",
              "cancelled"
            ],
            "description": "报名状态"
          },
          "remarks": {
            "type": "string",
            "description": "备注信息"
          }
        }
      },
      "ActivityStatistics": {
        "type": "object",
        "properties": {
          "totalActivities": {
            "type": "integer",
            "description": "总活动数量",
            "example": 150
          },
          "activeActivities": {
            "type": "integer",
            "description": "进行中的活动数"
          },
          "completedActivities": {
            "type": "integer",
            "description": "已完成的活动数量",
            "example": 120
          },
          "totalParticipants": {
            "type": "integer",
            "description": "总参与人数",
            "example": 3200
          },
          "averageParticipation": {
            "type": "number",
            "format": "decimal",
            "description": "平均参与率"
          },
          "popularActivityTypes": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "type": {
                  "type": "string"
                },
                "count": {
                  "type": "integer"
                }
              }
            },
            "description": "热门活动类型"
          },
          "total_activities": {
            "type": "integer",
            "description": "活动总数"
          },
          "active": {
            "type": "integer",
            "description": "活跃活动数"
          },
          "completed": {
            "type": "integer",
            "description": "已完成活动数"
          },
          "cancelled": {
            "type": "integer",
            "description": "已取消活动数"
          },
          "ongoingActivities": {
            "type": "integer",
            "description": "进行中的活动数量",
            "example": 12
          },
          "cancelledActivities": {
            "type": "integer",
            "description": "已取消的活动数量",
            "example": 18
          },
          "totalRegistrations": {
            "type": "integer",
            "description": "总报名数量",
            "example": 2850
          },
          "activeRegistrations": {
            "type": "integer",
            "description": "活跃报名数量",
            "example": 450
          },
          "averageRating": {
            "type": "number",
            "format": "float",
            "description": "平均活动评分",
            "example": 4.6
          },
          "monthlyGrowth": {
            "type": "number",
            "format": "float",
            "description": "月度增长率",
            "example": 15.5
          }
        }
      },
      "CreateActivityRequest": {
        "type": "object",
        "required": [
          "title",
          "type",
          "date",
          "startTime",
          "endTime",
          "location",
          "maxParticipants"
        ],
        "properties": {
          "title": {
            "type": "string",
            "description": "活动标题"
          },
          "description": {
            "type": "string",
            "description": "活动描述"
          },
          "type": {
            "type": "string",
            "enum": [
              "outdoor",
              "indoor",
              "sports",
              "arts",
              "science",
              "social"
            ],
            "description": "活动类型"
          },
          "date": {
            "type": "string",
            "format": "date",
            "description": "活动日期"
          },
          "startTime": {
            "type": "string",
            "format": "time",
            "description": "开始时间"
          },
          "endTime": {
            "type": "string",
            "format": "time",
            "description": "结束时间"
          },
          "location": {
            "type": "string",
            "description": "活动地点"
          },
          "maxParticipants": {
            "type": "integer",
            "minimum": 1,
            "description": "最大参与人数"
          },
          "targetAgeGroup": {
            "type": "string",
            "description": "目标年龄组"
          },
          "requirements": {
            "type": "string",
            "description": "参与要求"
          },
          "materials": {
            "type": "string",
            "description": "所需材料"
          },
          "fee": {
            "type": "number",
            "format": "decimal",
            "minimum": 0,
            "description": "活动费用"
          },
          "organizer": {
            "type": "string",
            "description": "组织者"
          },
          "contactInfo": {
            "type": "string",
            "description": "联系信息"
          },
          "registrationDeadline": {
            "type": "string",
            "format": "date-time",
            "description": "报名截止时间"
          }
        }
      },
      "UpdateActivityRequest": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string",
            "description": "活动标题"
          },
          "description": {
            "type": "string",
            "description": "活动描述"
          },
          "type": {
            "type": "string",
            "enum": [
              "outdoor",
              "indoor",
              "sports",
              "arts",
              "science",
              "social"
            ],
            "description": "活动类型"
          },
          "date": {
            "type": "string",
            "format": "date",
            "description": "活动日期"
          },
          "startTime": {
            "type": "string",
            "format": "time",
            "description": "开始时间"
          },
          "endTime": {
            "type": "string",
            "format": "time",
            "description": "结束时间"
          },
          "location": {
            "type": "string",
            "description": "活动地点"
          },
          "maxParticipants": {
            "type": "integer",
            "minimum": 1,
            "description": "最大参与人数"
          },
          "targetAgeGroup": {
            "type": "string",
            "description": "目标年龄组"
          },
          "requirements": {
            "type": "string",
            "description": "参与要求"
          },
          "materials": {
            "type": "string",
            "description": "所需材料"
          },
          "fee": {
            "type": "number",
            "format": "decimal",
            "minimum": 0,
            "description": "活动费用"
          },
          "organizer": {
            "type": "string",
            "description": "组织者"
          },
          "contactInfo": {
            "type": "string",
            "description": "联系信息"
          },
          "registrationDeadline": {
            "type": "string",
            "format": "date-time",
            "description": "报名截止时间"
          },
          "isActive": {
            "type": "boolean",
            "description": "是否启用"
          }
        }
      },
      "UpdateActivityStatusRequest": {
        "type": "object",
        "required": [
          "status"
        ],
        "properties": {
          "status": {
            "type": "string",
            "enum": [
              "draft",
              "published",
              "cancelled",
              "completed"
            ],
            "description": "活动状态"
          }
        }
      },
      "Activity-checkin": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Activity-checkin ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Activity-checkin 名称",
            "example": "示例Activity-checkin"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateActivity-checkinRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Activity-checkin 名称",
            "example": "新Activity-checkin"
          }
        }
      },
      "UpdateActivity-checkinRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Activity-checkin 名称",
            "example": "更新后的Activity-checkin"
          }
        }
      },
      "Activity-checkinListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Activity-checkin"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取activity-checkin列表成功"
          }
        }
      },
      "Activity-checkinResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Activity-checkin"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Activity-evaluation": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Activity-evaluation ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Activity-evaluation 名称",
            "example": "示例Activity-evaluation"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateActivity-evaluationRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Activity-evaluation 名称",
            "example": "新Activity-evaluation"
          }
        }
      },
      "UpdateActivity-evaluationRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Activity-evaluation 名称",
            "example": "更新后的Activity-evaluation"
          }
        }
      },
      "Activity-evaluationListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Activity-evaluation"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取activity-evaluation列表成功"
          }
        }
      },
      "Activity-evaluationResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Activity-evaluation"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Activity-plan": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Activity-plan ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Activity-plan 名称",
            "example": "示例Activity-plan"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateActivity-planRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Activity-plan 名称",
            "example": "新Activity-plan"
          }
        }
      },
      "UpdateActivity-planRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Activity-plan 名称",
            "example": "更新后的Activity-plan"
          }
        }
      },
      "Activity-planListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Activity-plan"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取activity-plan列表成功"
          }
        }
      },
      "Activity-planResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Activity-plan"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Activity-poster": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Activity-poster ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Activity-poster 名称",
            "example": "示例Activity-poster"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateActivity-posterRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Activity-poster 名称",
            "example": "新Activity-poster"
          }
        }
      },
      "UpdateActivity-posterRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Activity-poster 名称",
            "example": "更新后的Activity-poster"
          }
        }
      },
      "Activity-posterListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Activity-poster"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取activity-poster列表成功"
          }
        }
      },
      "Activity-posterResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Activity-poster"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Activity-registration-page": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Activity-registration-page ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Activity-registration-page 名称",
            "example": "示例Activity-registration-page"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateActivity-registration-pageRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Activity-registration-page 名称",
            "example": "新Activity-registration-page"
          }
        }
      },
      "UpdateActivity-registration-pageRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Activity-registration-page 名称",
            "example": "更新后的Activity-registration-page"
          }
        }
      },
      "Activity-registration-pageListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Activity-registration-page"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取activity-registration-page列表成功"
          }
        }
      },
      "Activity-registration-pageResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Activity-registration-page"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Activity-registration": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Activity-registration ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Activity-registration 名称",
            "example": "示例Activity-registration"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateActivity-registrationRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Activity-registration 名称",
            "example": "新Activity-registration"
          }
        }
      },
      "UpdateActivity-registrationRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Activity-registration 名称",
            "example": "更新后的Activity-registration"
          }
        }
      },
      "Activity-registrationListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Activity-registration"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取activity-registration列表成功"
          }
        }
      },
      "Activity-registrationResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Activity-registration"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Activity-template": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Activity-template ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Activity-template 名称",
            "example": "示例Activity-template"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateActivity-templateRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Activity-template 名称",
            "example": "新Activity-template"
          }
        }
      },
      "UpdateActivity-templateRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Activity-template 名称",
            "example": "更新后的Activity-template"
          }
        }
      },
      "Activity-templateListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Activity-template"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取activity-template列表成功"
          }
        }
      },
      "Activity-templateResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Activity-template"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "SystemInfo": {
        "type": "object",
        "properties": {
          "nodeVersion": {
            "type": "string",
            "description": "Node.js版本",
            "example": "v18.17.0"
          },
          "platform": {
            "type": "string",
            "description": "操作系统平台",
            "example": "linux"
          },
          "arch": {
            "type": "string",
            "description": "系统架构",
            "example": "x64"
          },
          "uptime": {
            "type": "number",
            "description": "系统运行时间（秒）",
            "example": 3600
          },
          "memory": {
            "type": "object",
            "description": "内存使用情况",
            "properties": {
              "rss": {
                "type": "number"
              },
              "heapTotal": {
                "type": "number"
              },
              "heapUsed": {
                "type": "number"
              },
              "external": {
                "type": "number"
              }
            }
          },
          "cpuUsage": {
            "type": "object",
            "description": "CPU使用情况",
            "properties": {
              "user": {
                "type": "number"
              },
              "system": {
                "type": "number"
              }
            }
          },
          "environment": {
            "type": "string",
            "description": "运行环境",
            "example": "development"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "description": "获取时间"
          }
        }
      },
      "LogEntry": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "日志ID"
          },
          "level": {
            "type": "string",
            "enum": [
              "info",
              "warn",
              "error",
              "debug"
            ],
            "description": "日志级别"
          },
          "message": {
            "type": "string",
            "description": "日志消息"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "description": "日志时间"
          },
          "module": {
            "type": "string",
            "description": "日志模块"
          }
        }
      },
      "EnvironmentInfo": {
        "type": "object",
        "properties": {
          "NODE_ENV": {
            "type": "string",
            "description": "运行环境"
          },
          "API_PREFIX": {
            "type": "string",
            "description": "API前缀"
          },
          "PORT": {
            "type": "string",
            "description": "端口号"
          },
          "HOST": {
            "type": "string",
            "description": "主机地址"
          },
          "DB_HOST": {
            "type": "string",
            "description": "数据库主机"
          },
          "LOG_LEVEL": {
            "type": "string",
            "description": "日志级别"
          },
          "SKIP_AUTH": {
            "type": "string",
            "description": "跳过认证"
          },
          "MOCK_PERMISSIONS": {
            "type": "string",
            "description": "模拟权限"
          }
        }
      },
      "DatabaseMetrics": {
        "type": "object",
        "properties": {
          "totalQueries": {
            "type": "number",
            "description": "总查询数"
          },
          "slowQueries": {
            "type": "number",
            "description": "慢查询数"
          },
          "averageQueryTime": {
            "type": "number",
            "description": "平均查询时间"
          },
          "poolSize": {
            "type": "number",
            "description": "连接池大小"
          },
          "poolAvailable": {
            "type": "number",
            "description": "可用连接数"
          }
        }
      },
      "TableStats": {
        "type": "object",
        "properties": {
          "tableName": {
            "type": "string",
            "description": "表名"
          },
          "rowCount": {
            "type": "number",
            "description": "行数"
          },
          "size": {
            "type": "string",
            "description": "表大小"
          }
        }
      },
      "Admission-notification": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Admission-notification ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Admission-notification 名称",
            "example": "示例Admission-notification"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateAdmission-notificationRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Admission-notification 名称",
            "example": "新Admission-notification"
          }
        }
      },
      "UpdateAdmission-notificationRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Admission-notification 名称",
            "example": "更新后的Admission-notification"
          }
        }
      },
      "Admission-notificationListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Admission-notification"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取admission-notification列表成功"
          }
        }
      },
      "Admission-notificationResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Admission-notification"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Admission-result": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Admission-result ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Admission-result 名称",
            "example": "示例Admission-result"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateAdmission-resultRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Admission-result 名称",
            "example": "新Admission-result"
          }
        }
      },
      "UpdateAdmission-resultRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Admission-result 名称",
            "example": "更新后的Admission-result"
          }
        }
      },
      "Admission-resultListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Admission-result"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取admission-result列表成功"
          }
        }
      },
      "Admission-resultResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Admission-result"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Advertisement": {
        "type": "object",
        "required": [
          "title",
          "type",
          "content",
          "targetAudience",
          "startDate",
          "endDate"
        ],
        "properties": {
          "id": {
            "type": "integer",
            "description": "Advertisement ID",
            "example": 1
          },
          "title": {
            "type": "string",
            "description": "广告标题"
          },
          "type": {
            "type": "string",
            "enum": [
              "banner",
              "popup",
              "video",
              "image",
              "text"
            ],
            "description": "广告类型"
          },
          "content": {
            "type": "string",
            "description": "广告内容"
          },
          "imageUrl": {
            "type": "string",
            "description": "图片URL"
          },
          "linkUrl": {
            "type": "string",
            "description": "链接URL"
          },
          "targetAudience": {
            "type": "string",
            "enum": [
              "all",
              "parent",
              "teacher",
              "admin"
            ],
            "description": "目标受众"
          },
          "priority": {
            "type": "integer",
            "minimum": 1,
            "maximum": 10,
            "description": "优先级"
          },
          "startDate": {
            "type": "string",
            "format": "date-time",
            "description": "开始时间"
          },
          "endDate": {
            "type": "string",
            "format": "date-time",
            "description": "结束时间"
          },
          "status": {
            "type": "string",
            "enum": [
              "active",
              "paused",
              "expired",
              "draft"
            ],
            "description": "状态",
            "example": "active"
          },
          "clickCount": {
            "type": "integer",
            "description": "点击次数"
          },
          "viewCount": {
            "type": "integer",
            "description": "查看次数"
          },
          "createdBy": {
            "type": "integer",
            "description": "创建者ID"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "name": {
            "type": "string",
            "description": "Advertisement 名称",
            "example": "示例Advertisement"
          }
        }
      },
      "AdvertisementStatistics": {
        "type": "object",
        "properties": {
          "totalAds": {
            "type": "integer",
            "description": "总广告数"
          },
          "activeAds": {
            "type": "integer",
            "description": "活跃广告数"
          },
          "pausedAds": {
            "type": "integer",
            "description": "暂停广告数"
          },
          "expiredAds": {
            "type": "integer",
            "description": "过期广告数"
          },
          "totalViews": {
            "type": "integer",
            "description": "总查看次数"
          },
          "totalClicks": {
            "type": "integer",
            "description": "总点击次数"
          },
          "clickThroughRate": {
            "type": "number",
            "format": "float",
            "description": "点击率"
          }
        }
      },
      "CreateAdvertisementRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Advertisement 名称",
            "example": "新Advertisement"
          }
        }
      },
      "UpdateAdvertisementRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Advertisement 名称",
            "example": "更新后的Advertisement"
          }
        }
      },
      "AdvertisementListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Advertisement"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取advertisement列表成功"
          }
        }
      },
      "AdvertisementResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Advertisement"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Ai-analysi": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Ai-analysi ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Ai-analysi 名称",
            "example": "示例Ai-analysi"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateAi-analysiRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Ai-analysi 名称",
            "example": "新Ai-analysi"
          }
        }
      },
      "UpdateAi-analysiRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Ai-analysi 名称",
            "example": "更新后的Ai-analysi"
          }
        }
      },
      "Ai-analysiListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Ai-analysi"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取ai-analysi列表成功"
          }
        }
      },
      "Ai-analysiResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Ai-analysi"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Ai-assistant-optimized": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Ai-assistant-optimized ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Ai-assistant-optimized 名称",
            "example": "示例Ai-assistant-optimized"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateAi-assistant-optimizedRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Ai-assistant-optimized 名称",
            "example": "新Ai-assistant-optimized"
          }
        }
      },
      "UpdateAi-assistant-optimizedRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Ai-assistant-optimized 名称",
            "example": "更新后的Ai-assistant-optimized"
          }
        }
      },
      "Ai-assistant-optimizedListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Ai-assistant-optimized"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取ai-assistant-optimized列表成功"
          }
        }
      },
      "Ai-assistant-optimizedResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Ai-assistant-optimized"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Ai-cache": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Ai-cache ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Ai-cache 名称",
            "example": "示例Ai-cache"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateAi-cacheRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Ai-cache 名称",
            "example": "新Ai-cache"
          }
        }
      },
      "UpdateAi-cacheRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Ai-cache 名称",
            "example": "更新后的Ai-cache"
          }
        }
      },
      "Ai-cacheListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Ai-cache"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取ai-cache列表成功"
          }
        }
      },
      "Ai-cacheResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Ai-cache"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Ai-curriculum": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Ai-curriculum ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Ai-curriculum 名称",
            "example": "示例Ai-curriculum"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateAi-curriculumRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Ai-curriculum 名称",
            "example": "新Ai-curriculum"
          }
        }
      },
      "UpdateAi-curriculumRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Ai-curriculum 名称",
            "example": "更新后的Ai-curriculum"
          }
        }
      },
      "Ai-curriculumListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Ai-curriculum"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取ai-curriculum列表成功"
          }
        }
      },
      "Ai-curriculumResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Ai-curriculum"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Ai-knowledge": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Ai-knowledge ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Ai-knowledge 名称",
            "example": "示例Ai-knowledge"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateAi-knowledgeRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Ai-knowledge 名称",
            "example": "新Ai-knowledge"
          }
        }
      },
      "UpdateAi-knowledgeRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Ai-knowledge 名称",
            "example": "更新后的Ai-knowledge"
          }
        }
      },
      "Ai-knowledgeListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Ai-knowledge"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取ai-knowledge列表成功"
          }
        }
      },
      "Ai-knowledgeResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Ai-knowledge"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Ai-performance": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Ai-performance ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Ai-performance 名称",
            "example": "示例Ai-performance"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateAi-performanceRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Ai-performance 名称",
            "example": "新Ai-performance"
          }
        }
      },
      "UpdateAi-performanceRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Ai-performance 名称",
            "example": "更新后的Ai-performance"
          }
        }
      },
      "Ai-performanceListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Ai-performance"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取ai-performance列表成功"
          }
        }
      },
      "Ai-performanceResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Ai-performance"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Ai-query": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Ai-query ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Ai-query 名称",
            "example": "示例Ai-query"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateAi-queryRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Ai-query 名称",
            "example": "新Ai-query"
          }
        }
      },
      "UpdateAi-queryRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Ai-query 名称",
            "example": "更新后的Ai-query"
          }
        }
      },
      "Ai-queryListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Ai-query"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取ai-query列表成功"
          }
        }
      },
      "Ai-queryResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Ai-query"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Ai-scoring": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Ai-scoring ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Ai-scoring 名称",
            "example": "示例Ai-scoring"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateAi-scoringRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Ai-scoring 名称",
            "example": "新Ai-scoring"
          }
        }
      },
      "UpdateAi-scoringRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Ai-scoring 名称",
            "example": "更新后的Ai-scoring"
          }
        }
      },
      "Ai-scoringListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Ai-scoring"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取ai-scoring列表成功"
          }
        }
      },
      "Ai-scoringResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Ai-scoring"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Ai-shortcut": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Ai-shortcut ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Ai-shortcut 名称",
            "example": "示例Ai-shortcut"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateAi-shortcutRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Ai-shortcut 名称",
            "example": "新Ai-shortcut"
          }
        }
      },
      "UpdateAi-shortcutRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Ai-shortcut 名称",
            "example": "更新后的Ai-shortcut"
          }
        }
      },
      "Ai-shortcutListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Ai-shortcut"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取ai-shortcut列表成功"
          }
        }
      },
      "Ai-shortcutResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Ai-shortcut"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Ai-smart-assign": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Ai-smart-assign ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Ai-smart-assign 名称",
            "example": "示例Ai-smart-assign"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateAi-smart-assignRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Ai-smart-assign 名称",
            "example": "新Ai-smart-assign"
          }
        }
      },
      "UpdateAi-smart-assignRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Ai-smart-assign 名称",
            "example": "更新后的Ai-smart-assign"
          }
        }
      },
      "Ai-smart-assignListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Ai-smart-assign"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取ai-smart-assign列表成功"
          }
        }
      },
      "Ai-smart-assignResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Ai-smart-assign"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Ai-stat": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Ai-stat ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Ai-stat 名称",
            "example": "示例Ai-stat"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateAi-statRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Ai-stat 名称",
            "example": "新Ai-stat"
          }
        }
      },
      "UpdateAi-statRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Ai-stat 名称",
            "example": "更新后的Ai-stat"
          }
        }
      },
      "Ai-statListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Ai-stat"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取ai-stat列表成功"
          }
        }
      },
      "Ai-statResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Ai-stat"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Api-list": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Api-list ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Api-list 名称",
            "example": "示例Api-list"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateApi-listRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Api-list 名称",
            "example": "新Api-list"
          }
        }
      },
      "UpdateApi-listRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Api-list 名称",
            "example": "更新后的Api-list"
          }
        }
      },
      "Api-listListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Api-list"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取api-list列表成功"
          }
        }
      },
      "Api-listResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Api-list"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Api": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Api ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Api 名称",
            "example": "示例Api"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateApiRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Api 名称",
            "example": "新Api"
          }
        }
      },
      "UpdateApiRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Api 名称",
            "example": "更新后的Api"
          }
        }
      },
      "ApiListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Api"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取api列表成功"
          }
        }
      },
      "ApiResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true,
            "description": "操作是否成功"
          },
          "data": {
            "$ref": "#/components/schemas/Api",
            "type": "object",
            "description": "响应数据"
          },
          "message": {
            "type": "string",
            "example": "操作成功",
            "description": "响应消息"
          },
          "total": {
            "type": "integer",
            "description": "总数（用于分页）",
            "example": 100
          },
          "page": {
            "type": "integer",
            "description": "当前页码",
            "example": 1
          },
          "pageSize": {
            "type": "integer",
            "description": "每页数量",
            "example": 10
          },
          "error": {
            "type": "string",
            "description": "错误信息（失败时返回）"
          }
        }
      },
      "SystemLog": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "系统日志ID",
            "example": 1
          },
          "level": {
            "type": "string",
            "enum": [
              "info",
              "warn",
              "error",
              "debug"
            ],
            "description": "日志级别",
            "example": "info"
          },
          "message": {
            "type": "string",
            "description": "日志消息内容",
            "example": "用户登录成功"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "description": "时间戳",
            "example": "2025-07-01T10:00:00Z"
          },
          "userId": {
            "type": "integer",
            "description": "用户ID",
            "example": 1
          },
          "ip": {
            "type": "string",
            "description": "IP地址",
            "example": "192.168.1.100",
            "nullable": true
          },
          "userAgent": {
            "type": "string",
            "description": "用户代理",
            "example": "Mozilla/5.0..."
          },
          "module": {
            "type": "string",
            "description": "模块名称"
          },
          "user_id": {
            "type": "integer",
            "nullable": true,
            "description": "用户ID"
          },
          "user_agent": {
            "type": "string",
            "nullable": true,
            "description": "用户代理"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间"
          }
        }
      },
      "Todo": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "待办事项ID",
            "example": 1
          },
          "title": {
            "type": "string",
            "description": "任务标题",
            "example": "完成月度报告"
          },
          "description": {
            "type": "string",
            "description": "任务描述",
            "example": "编写和提交月度工作报告"
          },
          "status": {
            "type": "string",
            "enum": [
              "pending",
              "in_progress",
              "completed",
              "cancelled",
              "overdue"
            ],
            "description": "任务状态",
            "example": "pending"
          },
          "priority": {
            "type": "integer",
            "enum": [
              1,
              2,
              3,
              4,
              5
            ],
            "description": "优先级（1-最低，5-最高）",
            "example": "high"
          },
          "dueDate": {
            "type": "string",
            "format": "date-time",
            "description": "截止日期",
            "example": "2025-07-20T18:00:00Z"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2025-07-01T09:00:00Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2025-07-01T09:00:00Z"
          },
          "userId": {
            "type": "integer",
            "description": "创建用户ID"
          },
          "assignedTo": {
            "type": "integer",
            "description": "分配给用户ID"
          },
          "tags": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "标签列表"
          },
          "relatedId": {
            "type": "integer",
            "description": "关联ID"
          },
          "relatedType": {
            "type": "string",
            "description": "关联类型"
          },
          "notify": {
            "type": "boolean",
            "description": "是否通知"
          },
          "notifyTime": {
            "type": "string",
            "format": "date-time",
            "description": "通知时间"
          }
        },
        "required": [
          "id",
          "title",
          "status",
          "userId"
        ]
      },
      "Schedule": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "日程ID",
            "example": 1
          },
          "title": {
            "type": "string",
            "description": "日程标题",
            "example": "教师评估会议"
          },
          "description": {
            "type": "string",
            "description": "日程描述",
            "example": "讨论教师绩效评估"
          },
          "startTime": {
            "type": "string",
            "format": "date-time",
            "description": "开始时间",
            "example": "2025-07-15T09:00:00Z"
          },
          "endTime": {
            "type": "string",
            "format": "date-time",
            "description": "结束时间",
            "example": "2025-07-15T11:00:00Z"
          },
          "location": {
            "type": "string",
            "description": "地点",
            "example": "会议室A"
          },
          "type": {
            "type": "string",
            "enum": [
              "meeting",
              "class",
              "event",
              "activity"
            ],
            "description": "日程类型",
            "example": "meeting"
          },
          "attendees": {
            "type": "array",
            "description": "参与人员",
            "items": {
              "type": "string"
            },
            "example": [
              "王主任",
              "李老师",
              "张老师"
            ]
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2025-07-01T09:00:00Z"
          },
          "userId": {
            "type": "integer",
            "description": "用户ID"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间"
          }
        }
      },
      "EnrollmentApplication": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "申请ID",
            "example": 1
          },
          "studentName": {
            "type": "string",
            "description": "学生姓名",
            "example": "张小明"
          },
          "parentName": {
            "type": "string",
            "description": "家长姓名",
            "example": "张先生"
          },
          "phone": {
            "type": "string",
            "description": "联系电话",
            "example": "13800138000"
          },
          "email": {
            "type": "string",
            "format": "email",
            "description": "邮箱地址",
            "example": "parent@example.com"
          },
          "enrollmentPlanId": {
            "type": "integer",
            "description": "报名计划ID",
            "example": 1
          },
          "status": {
            "type": "string",
            "enum": [
              "PENDING",
              "APPROVED",
              "REJECTED"
            ],
            "description": "申请状态",
            "example": "pending"
          },
          "notes": {
            "type": "string",
            "description": "备注",
            "example": "希望尽快安排面试"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "申请时间",
            "example": "2025-07-01T10:00:00Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2025-07-01T10:00:00Z"
          },
          "gender": {
            "type": "string",
            "enum": [
              "男",
              "女"
            ],
            "description": "性别"
          },
          "birthDate": {
            "type": "string",
            "format": "date",
            "description": "出生日期"
          },
          "age": {
            "type": "integer",
            "description": "年龄"
          },
          "ageGroup": {
            "type": "string",
            "enum": [
              "小班",
              "中班",
              "大班",
              "学前班"
            ],
            "description": "年龄组"
          },
          "parentPhone": {
            "type": "string",
            "description": "家长电话"
          },
          "source": {
            "type": "string",
            "description": "申请来源"
          },
          "contactPhone": {
            "type": "string",
            "description": "联系电话"
          },
          "remarks": {
            "type": "string",
            "description": "备注"
          },
          "createTime": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间"
          },
          "consultant": {
            "type": "string",
            "description": "咨询师"
          }
        }
      },
      "AssessmentConfig": {
        "type": "object",
        "required": [
          "name",
          "minAge",
          "maxAge",
          "dimensions"
        ],
        "properties": {
          "id": {
            "type": "integer",
            "description": "测评配置ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "maxLength": 100,
            "description": "测评配置名称",
            "example": "幼儿发展综合测评"
          },
          "description": {
            "type": "string",
            "description": "测评配置描述",
            "example": "针对3-6岁幼儿的综合发展能力测评"
          },
          "minAge": {
            "type": "integer",
            "minimum": 0,
            "maximum": 18,
            "description": "最小年龄（月）",
            "example": 36
          },
          "maxAge": {
            "type": "integer",
            "minimum": 0,
            "maximum": 18,
            "description": "最大年龄（月）",
            "example": 72
          },
          "dimensions": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string",
                  "example": "注意力"
                },
                "code": {
                  "type": "string",
                  "example": "attention"
                },
                "weight": {
                  "type": "number",
                  "minimum": 0,
                  "maximum": 1,
                  "example": 0.2
                }
              }
            },
            "description": "测评维度配置",
            "example": [
              {
                "name": "注意力",
                "code": "attention",
                "weight": 0.2
              },
              {
                "name": "记忆力",
                "code": "memory",
                "weight": 0.2
              },
              {
                "name": "逻辑思维",
                "code": "logic",
                "weight": 0.2
              },
              {
                "name": "语言能力",
                "code": "language",
                "weight": 0.2
              },
              {
                "name": "运动能力",
                "code": "motor",
                "weight": 0.1
              },
              {
                "name": "社交能力",
                "code": "social",
                "weight": 0.1
              }
            ]
          },
          "status": {
            "type": "string",
            "enum": [
              "active",
              "inactive"
            ],
            "description": "配置状态",
            "example": "active"
          },
          "creatorId": {
            "type": "integer",
            "description": "创建者ID",
            "example": 1
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间"
          }
        }
      },
      "AssessmentQuestion": {
        "type": "object",
        "required": [
          "configId",
          "dimension",
          "ageGroup",
          "questionType",
          "title",
          "content",
          "difficulty",
          "score",
          "sortOrder"
        ],
        "properties": {
          "id": {
            "type": "integer",
            "description": "题目ID",
            "example": 1
          },
          "configId": {
            "type": "integer",
            "description": "所属测评配置ID",
            "example": 1
          },
          "dimension": {
            "type": "string",
            "enum": [
              "attention",
              "memory",
              "logic",
              "language",
              "motor",
              "social"
            ],
            "description": "测评维度",
            "example": "attention"
          },
          "ageGroup": {
            "type": "string",
            "maxLength": 20,
            "description": "年龄组",
            "example": "3-4岁"
          },
          "questionType": {
            "type": "string",
            "enum": [
              "qa",
              "game",
              "interactive"
            ],
            "description": "题目类型",
            "example": "qa"
          },
          "title": {
            "type": "string",
            "maxLength": 200,
            "description": "题目标题",
            "example": "找出红色的苹果"
          },
          "content": {
            "type": "string",
            "description": "题目内容",
            "example": "孩子能够独立完成穿衣动作吗？"
          },
          "gameConfig": {
            "type": "object",
            "description": "游戏配置（游戏类型题目）",
            "example": {
              "gameType": "drag_drop",
              "timeLimit": 60,
              "maxAttempts": 3
            }
          },
          "imageUrl": {
            "type": "string",
            "format": "uri",
            "description": "题目配图URL",
            "example": "https://example.com/images/apple-question.jpg"
          },
          "imagePrompt": {
            "type": "string",
            "description": "AI生成图片的提示词",
            "example": "卡通风格的红色苹果，适合幼儿认知"
          },
          "audioUrl": {
            "type": "string",
            "format": "uri",
            "description": "题目语音播报URL",
            "example": "https://example.com/audio/question-1.mp3"
          },
          "audioText": {
            "type": "string",
            "description": "语音播报文本内容",
            "example": "请找出图片中的红色苹果"
          },
          "difficulty": {
            "type": "string",
            "minimum": 1,
            "maximum": 5,
            "description": "难度等级",
            "example": "medium",
            "enum": [
              "easy",
              "medium",
              "hard"
            ]
          },
          "score": {
            "type": "number",
            "minimum": 0,
            "description": "题目分值",
            "example": 10
          },
          "sortOrder": {
            "type": "integer",
            "minimum": 0,
            "description": "排序顺序",
            "example": 1
          },
          "status": {
            "type": "string",
            "enum": [
              "active",
              "inactive"
            ],
            "description": "题目状态",
            "example": "active"
          },
          "creatorId": {
            "type": "integer",
            "description": "创建者ID",
            "example": 1
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间"
          },
          "config": {
            "$ref": "#/components/schemas/AssessmentConfig",
            "description": "关联的测评配置"
          },
          "type": {
            "type": "string",
            "enum": [
              "choice",
              "scale",
              "text",
              "multiple"
            ],
            "description": "题目类型",
            "example": "choice"
          },
          "category": {
            "type": "string",
            "enum": [
              "cognitive",
              "physical",
              "social",
              "emotional",
              "language"
            ],
            "description": "题目类别",
            "example": "physical"
          },
          "options": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "integer",
                  "example": 1
                },
                "text": {
                  "type": "string",
                  "example": "完全可以"
                },
                "value": {
                  "type": "integer",
                  "example": 4
                }
              }
            },
            "description": "选项列表",
            "example": [
              {
                "id": 1,
                "text": "完全可以",
                "value": 4
              },
              {
                "id": 2,
                "text": "基本可以",
                "value": 3
              },
              {
                "id": 3,
                "text": "需要帮助",
                "value": 2
              },
              {
                "id": 4,
                "text": "完全不能",
                "value": 1
              }
            ]
          },
          "ageRange": {
            "type": "object",
            "properties": {
              "min": {
                "type": "integer",
                "example": 3
              },
              "max": {
                "type": "integer",
                "example": 6
              }
            },
            "description": "适合年龄范围"
          },
          "explanation": {
            "type": "string",
            "description": "题目解释说明",
            "example": "此题评估孩子的自理能力发展水平"
          }
        }
      },
      "PhysicalItem": {
        "type": "object",
        "required": [
          "name",
          "category",
          "description"
        ],
        "properties": {
          "id": {
            "type": "integer",
            "description": "体能项目ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "项目名称",
            "example": "平衡木行走"
          },
          "category": {
            "type": "string",
            "enum": [
              "balance",
              "strength",
              "flexibility",
              "coordination",
              "endurance"
            ],
            "description": "项目类别",
            "example": "balance"
          },
          "description": {
            "type": "string",
            "description": "项目描述",
            "example": "在平衡木上保持平衡并行走"
          },
          "instructions": {
            "type": "string",
            "description": "操作指导",
            "example": "双臂张开，一步一步向前行走"
          },
          "difficulty": {
            "type": "integer",
            "minimum": 1,
            "maximum": 5,
            "description": "难度等级",
            "example": 3
          },
          "duration": {
            "type": "integer",
            "description": "建议时长（秒）",
            "example": 30
          },
          "equipment": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "所需器材",
            "example": [
              "平衡木",
              "防护垫"
            ]
          },
          "ageRange": {
            "type": "string",
            "description": "适合年龄范围",
            "example": "4-6岁"
          },
          "imageUrl": {
            "type": "string",
            "format": "uri",
            "description": "示例图片URL",
            "example": "https://example.com/images/balance-beam.jpg"
          },
          "videoUrl": {
            "type": "string",
            "format": "uri",
            "description": "示例视频URL",
            "example": "https://example.com/videos/balance-beam.mp4"
          },
          "status": {
            "type": "string",
            "enum": [
              "active",
              "inactive"
            ],
            "description": "项目状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间"
          }
        }
      },
      "Assessment-share": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Assessment-share ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Assessment-share 名称",
            "example": "示例Assessment-share"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateAssessment-shareRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Assessment-share 名称",
            "example": "新Assessment-share"
          }
        }
      },
      "UpdateAssessment-shareRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Assessment-share 名称",
            "example": "更新后的Assessment-share"
          }
        }
      },
      "Assessment-shareListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Assessment-share"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取assessment-share列表成功"
          }
        }
      },
      "Assessment-shareResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Assessment-share"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "AssessmentRecord": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "测评记录ID",
            "example": 1001
          },
          "recordId": {
            "type": "string",
            "format": "uuid",
            "description": "唯一记录标识符",
            "example": "550e8400-e29b-41d4-a716-446655440000"
          },
          "childName": {
            "type": "string",
            "description": "孩子姓名",
            "example": "小明"
          },
          "childAge": {
            "type": "integer",
            "description": "孩子年龄",
            "example": 4
          },
          "childGender": {
            "type": "string",
            "enum": [
              "male",
              "female"
            ],
            "description": "孩子性别",
            "example": "male"
          },
          "parentName": {
            "type": "string",
            "description": "家长姓名",
            "example": "王先生"
          },
          "parentContact": {
            "type": "string",
            "description": "联系方式",
            "example": "138****5678"
          },
          "status": {
            "type": "string",
            "enum": [
              "in_progress",
              "completed",
              "expired"
            ],
            "description": "测评状态",
            "example": "completed"
          },
          "startedAt": {
            "type": "string",
            "format": "date-time",
            "description": "开始时间",
            "example": "2023-12-01T10:00:00Z"
          },
          "completedAt": {
            "type": "string",
            "format": "date-time",
            "description": "完成时间",
            "example": "2023-12-01T10:25:00Z"
          },
          "totalQuestions": {
            "type": "integer",
            "description": "总题目数",
            "example": 25
          },
          "answeredQuestions": {
            "type": "integer",
            "description": "已回答题目数",
            "example": 25
          },
          "overallScore": {
            "type": "number",
            "format": "float",
            "description": "总体得分",
            "example": 85.5
          },
          "developmentAreas": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "area": {
                  "type": "string",
                  "enum": [
                    "cognitive",
                    "physical",
                    "social",
                    "emotional",
                    "language"
                  ],
                  "example": "cognitive"
                },
                "score": {
                  "type": "number",
                  "format": "float",
                  "example": 88
                },
                "level": {
                  "type": "string",
                  "enum": [
                    "excellent",
                    "good",
                    "average",
                    "needs_improvement"
                  ],
                  "example": "good"
                }
              }
            },
            "description": "各发展领域评分"
          },
          "hasReport": {
            "type": "boolean",
            "description": "是否已生成报告",
            "example": true
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2023-12-01T10:00:00Z"
          }
        }
      },
      "AssessmentAnswer": {
        "type": "object",
        "properties": {
          "recordId": {
            "type": "string",
            "format": "uuid",
            "description": "测评记录ID",
            "example": "550e8400-e29b-41d4-a716-446655440000"
          },
          "questionId": {
            "type": "integer",
            "description": "题目ID",
            "example": 1
          },
          "answer": {
            "type": "object",
            "description": "答案内容，根据题目类型不同而不同",
            "example": {
              "selectedOption": 2,
              "selectedText": "基本可以"
            }
          },
          "timeSpent": {
            "type": "integer",
            "description": "答题用时（秒）",
            "example": 15
          },
          "answeredAt": {
            "type": "string",
            "format": "date-time",
            "description": "答题时间",
            "example": "2023-12-01T10:02:30Z"
          }
        }
      },
      "AssessmentReport": {
        "type": "object",
        "properties": {
          "recordId": {
            "type": "string",
            "format": "uuid",
            "description": "测评记录ID",
            "example": "550e8400-e29b-41d4-a716-446655440000"
          },
          "childInfo": {
            "type": "object",
            "properties": {
              "name": {
                "type": "string",
                "example": "小明"
              },
              "age": {
                "type": "integer",
                "example": 4
              },
              "gender": {
                "type": "string",
                "example": "male"
              }
            },
            "description": "孩子基本信息"
          },
          "overallScore": {
            "type": "number",
            "format": "float",
            "description": "总体得分",
            "example": 85.5
          },
          "developmentalLevel": {
            "type": "string",
            "enum": [
              "advanced",
              "on_track",
              "developing",
              "needs_support"
            ],
            "description": "综合发展水平",
            "example": "on_track"
          },
          "areaScores": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "area": {
                  "type": "string",
                  "example": "cognitive",
                  "description": "发展领域"
                },
                "score": {
                  "type": "number",
                  "format": "float",
                  "example": 88
                },
                "level": {
                  "type": "string",
                  "example": "good"
                },
                "description": "评级水平",
                "percentile": {
                  "type": "number",
                  "format": "float",
                  "example": 75.5,
                  "description": "百分位排名"
                },
                "strengths": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "example": [
                    "逻辑思维",
                    "问题解决"
                  ]
                },
                "recommendations": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "example": [
                    "多进行益智游戏",
                    "鼓励独立思考"
                  ]
                }
              }
            },
            "description": "各领域详细评分"
          },
          "summary": {
            "type": "object",
            "properties": {
              "keyStrengths": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "example": [
                  "语言表达能力",
                  "社交互动"
                ]
              },
              "areasForImprovement": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "example": [
                  "精细动作协调",
                  "情绪管理"
                ]
              },
              "overallAssessment": {
                "type": "string",
                "example": "孩子整体发展良好，在语言和社交方面表现突出"
              }
            }
          },
          "suggestions": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "category": {
                  "type": "string",
                  "example": "家庭活动"
                },
                "title": {
                  "type": "string",
                  "example": "亲子阅读时光"
                },
                "description": {
                  "type": "string",
                  "example": "每天安排15-20分钟的亲子阅读时间"
                },
                "frequency": {
                  "type": "string",
                  "example": "每日"
                },
                "materials": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "example": [
                    "绘本图书",
                    "安静的环境"
                  ]
                }
              }
            },
            "description": "个性化发展建议"
          },
          "generatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "报告生成时间",
            "example": "2023-12-01T10:30:00Z"
          }
        }
      },
      "GrowthTrajectory": {
        "type": "object",
        "properties": {
          "childId": {
            "type": "string",
            "description": "孩子唯一标识",
            "example": "child_12345"
          },
          "childName": {
            "type": "string",
            "description": "孩子姓名",
            "example": "小明"
          },
          "assessments": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "recordId": {
                  "type": "string",
                  "format": "uuid",
                  "example": "550e8400-e29b-41d4-a716-446655440000"
                },
                "date": {
                  "type": "string",
                  "format": "date-time",
                  "example": "2023-12-01T10:30:00Z"
                },
                "overallScore": {
                  "type": "number",
                  "format": "float",
                  "example": 85.5
                },
                "ageAtAssessment": {
                  "type": "integer",
                  "example": 48,
                  "description": "测评时年龄（月）"
                },
                "areaScores": {
                  "type": "object",
                  "properties": {
                    "cognitive": {
                      "type": "number",
                      "format": "float",
                      "example": 88
                    },
                    "physical": {
                      "type": "number",
                      "format": "float",
                      "example": 82.5
                    },
                    "social": {
                      "type": "number",
                      "format": "float",
                      "example": 90
                    },
                    "emotional": {
                      "type": "number",
                      "format": "float",
                      "example": 78.5
                    },
                    "language": {
                      "type": "number",
                      "format": "float",
                      "example": 92
                    }
                  }
                }
              }
            },
            "description": "历次测评记录"
          },
          "trends": {
            "type": "object",
            "properties": {
              "overallTrend": {
                "type": "string",
                "enum": [
                  "improving",
                  "stable",
                  "declining"
                ],
                "example": "improving"
              },
              "areaTrends": {
                "type": "object",
                "properties": {
                  "cognitive": {
                    "type": "string",
                    "enum": [
                      "improving",
                      "stable",
                      "declining"
                    ],
                    "example": "improving"
                  },
                  "physical": {
                    "type": "string",
                    "enum": [
                      "improving",
                      "stable",
                      "declining"
                    ],
                    "example": "stable"
                  }
                },
                "social": {
                  "type": "string",
                  "enum": [
                    "improving",
                    "stable",
                    "declining"
                  ],
                  "example": "improving"
                },
                "emotional": {
                  "type": "string",
                  "enum": [
                    "improving",
                    "stable",
                    "declining"
                  ],
                  "example": "stable"
                },
                "language": {
                  "type": "string",
                  "enum": [
                    "improving",
                    "stable",
                    "declining"
                  ],
                  "example": "improving"
                }
              },
              "averageProgress": {
                "type": "number",
                "format": "float",
                "description": "平均进步分数",
                "example": 5.2
              }
            },
            "description": "发展趋势分析"
          },
          "milestones": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "area": {
                  "type": "string",
                  "example": "cognitive"
                },
                "milestone": {
                  "type": "string",
                  "example": "掌握数字概念"
                },
                "achievedAt": {
                  "type": "string",
                  "format": "date-time",
                  "example": "2023-11-15T14:30:00Z"
                },
                "assessmentRecord": {
                  "type": "string",
                  "format": "uuid",
                  "example": "550e8400-e29b-41d4-a716-446655440000"
                }
              }
            },
            "description": "达成的发展里程碑"
          }
        }
      },
      "Attendance-center": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Attendance-center ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Attendance-center 名称",
            "example": "示例Attendance-center"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateAttendance-centerRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Attendance-center 名称",
            "example": "新Attendance-center"
          }
        }
      },
      "UpdateAttendance-centerRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Attendance-center 名称",
            "example": "更新后的Attendance-center"
          }
        }
      },
      "Attendance-centerListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Attendance-center"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取attendance-center列表成功"
          }
        }
      },
      "Attendance-centerResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Attendance-center"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Auth-permission": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Auth-permission ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Auth-permission 名称",
            "example": "示例Auth-permission"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateAuth-permissionRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Auth-permission 名称",
            "example": "新Auth-permission"
          }
        }
      },
      "UpdateAuth-permissionRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Auth-permission 名称",
            "example": "更新后的Auth-permission"
          }
        }
      },
      "Auth-permissionListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Auth-permission"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取auth-permission列表成功"
          }
        }
      },
      "Auth-permissionResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Auth-permission"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "LoginRequest": {
        "type": "object",
        "required": [
          "username",
          "password"
        ],
        "properties": {
          "username": {
            "type": "string",
            "description": "用户名或邮箱",
            "example": "admin"
          },
          "password": {
            "type": "string",
            "format": "password",
            "description": "用户密码",
            "example": "password123"
          }
        }
      },
      "LoginResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true,
            "description": "登录是否成功"
          },
          "data": {
            "type": "object",
            "properties": {
              "token": {
                "type": "string",
                "description": "JWT访问令牌",
                "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
              },
              "refreshToken": {
                "type": "string",
                "description": "刷新令牌",
                "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
              },
              "user": {
                "$ref": "#/components/schemas/User",
                "type": "object",
                "properties": {
                  "id": {
                    "type": "integer",
                    "description": "用户ID",
                    "example": 1
                  },
                  "username": {
                    "type": "string",
                    "description": "用户名",
                    "example": "admin"
                  },
                  "email": {
                    "type": "string",
                    "description": "邮箱地址",
                    "example": "admin@example.com"
                  },
                  "role": {
                    "type": "string",
                    "description": "用户角色",
                    "example": "admin"
                  }
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "登录成功",
            "description": "响应消息"
          }
        }
      },
      "RefreshTokenRequest": {
        "type": "object",
        "required": [
          "refreshToken"
        ],
        "properties": {
          "refreshToken": {
            "type": "string",
            "description": "刷新令牌",
            "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
          }
        }
      },
      "TokenVerificationResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "valid": {
                "type": "boolean",
                "example": true
              },
              "user": {
                "$ref": "#/components/schemas/User"
              }
            }
          },
          "message": {
            "type": "string",
            "example": "令牌验证成功"
          }
        }
      },
      "User": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "用户ID",
            "example": 1
          },
          "username": {
            "type": "string",
            "description": "用户名",
            "example": "admin"
          },
          "email": {
            "type": "string",
            "format": "email",
            "description": "邮箱地址",
            "example": "admin@example.com"
          },
          "role": {
            "type": "string",
            "description": "用户角色",
            "enum": [
              "admin",
              "teacher",
              "parent",
              "parent"
            ],
            "example": "admin"
          },
          "status": {
            "type": "string",
            "description": "用户状态",
            "enum": [
              "active",
              "inactive",
              "locked"
            ],
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "phone": {
            "type": "string",
            "description": "手机号码",
            "example": "13800138000"
          },
          "name": {
            "type": "string",
            "description": "真实姓名"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间"
          },
          "realName": {
            "type": "string",
            "description": "真实姓名",
            "example": "张三"
          },
          "kindergartenId": {
            "type": "integer",
            "description": "所属幼儿园ID",
            "example": 1
          }
        }
      },
      "Auto-image": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Auto-image ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Auto-image 名称",
            "example": "示例Auto-image"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateAuto-imageRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Auto-image 名称",
            "example": "新Auto-image"
          }
        }
      },
      "UpdateAuto-imageRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Auto-image 名称",
            "example": "更新后的Auto-image"
          }
        }
      },
      "Auto-imageListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Auto-image"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取auto-image列表成功"
          }
        }
      },
      "Auto-imageResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Auto-image"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Base": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Base ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Base 名称",
            "example": "示例Base"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateBaseRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Base 名称",
            "example": "新Base"
          }
        }
      },
      "UpdateBaseRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Base 名称",
            "example": "更新后的Base"
          }
        }
      },
      "BaseListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Base"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取base列表成功"
          }
        }
      },
      "BaseResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Base"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "ImportError": {
        "type": "object",
        "properties": {
          "row": {
            "type": "integer",
            "description": "错误行号",
            "example": 5
          },
          "field": {
            "type": "string",
            "description": "错误字段",
            "example": "phone"
          },
          "value": {
            "type": "string",
            "description": "错误值",
            "example": "123456"
          },
          "message": {
            "type": "string",
            "description": "错误信息",
            "example": "手机号格式不正确"
          }
        }
      },
      "ImportPreview": {
        "type": "object",
        "properties": {
          "totalRows": {
            "type": "integer",
            "description": "总行数",
            "example": 100
          },
          "validRows": {
            "type": "integer",
            "description": "有效行数",
            "example": 95
          },
          "invalidRows": {
            "type": "integer",
            "description": "无效行数",
            "example": 5
          },
          "errors": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ImportError"
            },
            "description": "错误列表"
          },
          "columns": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "列名列表",
            "example": [
              "姓名",
              "性别",
              "年龄",
              "联系电话"
            ]
          },
          "sampleData": {
            "type": "array",
            "items": {
              "type": "object"
            },
            "description": "示例数据（前5行）"
          }
        }
      },
      "Business-center": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Business-center ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Business-center 名称",
            "example": "示例Business-center"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateBusiness-centerRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Business-center 名称",
            "example": "新Business-center"
          }
        }
      },
      "UpdateBusiness-centerRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Business-center 名称",
            "example": "更新后的Business-center"
          }
        }
      },
      "Business-centerListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Business-center"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取business-center列表成功"
          }
        }
      },
      "Business-centerResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Business-center"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Call-center": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Call-center ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Call-center 名称",
            "example": "示例Call-center"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateCall-centerRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Call-center 名称",
            "example": "新Call-center"
          }
        }
      },
      "UpdateCall-centerRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Call-center 名称",
            "example": "更新后的Call-center"
          }
        }
      },
      "Call-centerListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Call-center"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取call-center列表成功"
          }
        }
      },
      "Call-centerResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Call-center"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Center-fixe": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Center-fixe ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Center-fixe 名称",
            "example": "示例Center-fixe"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateCenter-fixeRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Center-fixe 名称",
            "example": "新Center-fixe"
          }
        }
      },
      "UpdateCenter-fixeRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Center-fixe 名称",
            "example": "更新后的Center-fixe"
          }
        }
      },
      "Center-fixeListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Center-fixe"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取center-fixe列表成功"
          }
        }
      },
      "Center-fixeResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Center-fixe"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Change-log": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Change-log ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Change-log 名称",
            "example": "示例Change-log"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateChange-logRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Change-log 名称",
            "example": "新Change-log"
          }
        }
      },
      "UpdateChange-logRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Change-log 名称",
            "example": "更新后的Change-log"
          }
        }
      },
      "Change-logListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Change-log"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取change-log列表成功"
          }
        }
      },
      "Change-logResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Change-log"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "ChannelTracking": {
        "type": "object",
        "required": [
          "id",
          "channel_name",
          "channel_type",
          "tracking_code"
        ],
        "properties": {
          "id": {
            "type": "integer",
            "description": "渠道跟踪ID",
            "example": 1
          },
          "channel_name": {
            "type": "string",
            "minLength": 2,
            "maxLength": 100,
            "description": "渠道名称",
            "example": "微信朋友圈推广"
          },
          "channel_type": {
            "type": "string",
            "enum": [
              "social_media",
              "search_engine",
              "referral",
              "direct",
              "email",
              "advertisement"
            ],
            "description": "渠道类型",
            "example": "social_media"
          },
          "tracking_code": {
            "type": "string",
            "minLength": 3,
            "maxLength": 50,
            "description": "跟踪代码（唯一标识符）",
            "example": "WX001"
          },
          "description": {
            "type": "string",
            "maxLength": 500,
            "description": "渠道描述",
            "example": "通过微信朋友圈投放的广告，主要针对25-35岁的宝妈群体"
          },
          "target_audience": {
            "type": "string",
            "maxLength": 200,
            "description": "目标受众",
            "example": "25-35岁宝妈群体"
          },
          "budget": {
            "type": "number",
            "format": "decimal",
            "minimum": 0,
            "description": "预算金额",
            "example": 5000
          },
          "spent_amount": {
            "type": "number",
            "format": "decimal",
            "minimum": 0,
            "description": "已花费金额",
            "example": 3250.5
          },
          "start_date": {
            "type": "string",
            "format": "date",
            "description": "开始日期",
            "example": "2024-01-01"
          },
          "end_date": {
            "type": "string",
            "format": "date",
            "description": "结束日期",
            "example": "2024-12-31"
          },
          "status": {
            "type": "string",
            "enum": [
              "active",
              "inactive",
              "pending"
            ],
            "description": "状态",
            "example": "active"
          },
          "visits": {
            "type": "integer",
            "minimum": 0,
            "description": "访问量",
            "example": 1250
          },
          "conversions": {
            "type": "integer",
            "minimum": 0,
            "description": "转化数",
            "example": 45
          },
          "conversion_rate": {
            "type": "number",
            "format": "percentage",
            "minimum": 0,
            "maximum": 100,
            "description": "转化率（百分比）",
            "example": 3.6
          },
          "cost_per_conversion": {
            "type": "number",
            "format": "decimal",
            "minimum": 0,
            "description": "每次转化成本",
            "example": 72.23
          },
          "notes": {
            "type": "string",
            "maxLength": 1000,
            "description": "备注信息",
            "example": "表现良好，可考虑增加投入"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-15T10:30:00.000Z"
          },
          "created_by": {
            "type": "integer",
            "description": "创建者用户ID",
            "example": 1
          },
          "updated_by": {
            "type": "integer",
            "description": "最后更新者用户ID",
            "example": 1
          }
        }
      },
      "Channel-tracking": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Channel-tracking ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Channel-tracking 名称",
            "example": "示例Channel-tracking"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateChannel-trackingRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Channel-tracking 名称",
            "example": "新Channel-tracking"
          }
        }
      },
      "UpdateChannel-trackingRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Channel-tracking 名称",
            "example": "更新后的Channel-tracking"
          }
        }
      },
      "Channel-trackingListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Channel-tracking"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取channel-tracking列表成功"
          }
        }
      },
      "Channel-trackingResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Channel-tracking"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Channel": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "渠道ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Channel 名称",
            "example": "示例Channel"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "channelName": {
            "type": "string",
            "description": "渠道名称"
          },
          "channelType": {
            "type": "string",
            "description": "渠道类型"
          },
          "utmSource": {
            "type": "string",
            "description": "UTM来源"
          },
          "visitCount": {
            "type": "integer",
            "description": "访问量"
          },
          "leadCount": {
            "type": "integer",
            "description": "线索数"
          },
          "conversionCount": {
            "type": "integer",
            "description": "转化数"
          },
          "conversionRate": {
            "type": "number",
            "description": "转化率"
          },
          "cost": {
            "type": "number",
            "description": "成本"
          },
          "revenue": {
            "type": "number",
            "description": "收入"
          },
          "roi": {
            "type": "number",
            "description": "ROI"
          }
        }
      },
      "CreateChannelRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Channel 名称",
            "example": "新Channel"
          }
        }
      },
      "UpdateChannelRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Channel 名称",
            "example": "更新后的Channel"
          }
        }
      },
      "ChannelListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Channel"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取channel列表成功"
          }
        }
      },
      "ChannelResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Channel"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "ChatSession": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number",
            "description": "会话ID"
          },
          "userId": {
            "type": "number",
            "description": "用户ID"
          },
          "type": {
            "type": "string",
            "enum": [
              "consultation",
              "support",
              "general"
            ],
            "description": "会话类型"
          },
          "status": {
            "type": "string",
            "enum": [
              "active",
              "inactive",
              "closed"
            ],
            "description": "会话状态"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间"
          }
        }
      },
      "ChatMessage": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number",
            "description": "消息ID"
          },
          "sessionId": {
            "type": "number",
            "description": "会话ID"
          },
          "content": {
            "type": "string",
            "description": "消息内容"
          },
          "type": {
            "type": "string",
            "enum": [
              "text",
              "image",
              "file",
              "system"
            ],
            "description": "消息类型"
          },
          "senderId": {
            "type": "number",
            "description": "发送者ID"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "description": "发送时间"
          }
        }
      },
      "ChatSessionList": {
        "type": "object",
        "properties": {
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ChatSession"
            },
            "description": "会话列表"
          },
          "total": {
            "type": "number",
            "description": "总数量"
          },
          "page": {
            "type": "number",
            "description": "当前页码"
          },
          "pageSize": {
            "type": "number",
            "description": "每页大小"
          }
        }
      },
      "MessageList": {
        "type": "object",
        "properties": {
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ChatMessage"
            },
            "description": "消息列表"
          },
          "total": {
            "type": "number",
            "description": "总数量"
          },
          "sessionId": {
            "type": "number",
            "description": "会话ID"
          }
        }
      },
      "CreateSessionRequest": {
        "type": "object",
        "properties": {
          "userId": {
            "type": "number",
            "description": "用户ID"
          },
          "type": {
            "type": "string",
            "enum": [
              "consultation",
              "support",
              "general"
            ],
            "description": "会话类型",
            "default": "consultation"
          }
        },
        "required": [
          "userId"
        ]
      },
      "SendMessageRequest": {
        "type": "object",
        "properties": {
          "sessionId": {
            "type": "number",
            "description": "会话ID"
          },
          "content": {
            "type": "string",
            "description": "消息内容"
          },
          "type": {
            "type": "string",
            "enum": [
              "text",
              "image",
              "file",
              "system"
            ],
            "description": "消息类型",
            "default": "text"
          }
        },
        "required": [
          "sessionId",
          "content"
        ]
      },
      "Clas": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Clas ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Clas 名称",
            "example": "示例Clas"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateClasRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Clas 名称",
            "example": "新Clas"
          }
        }
      },
      "UpdateClasRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Clas 名称",
            "example": "更新后的Clas"
          }
        }
      },
      "ClasListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Clas"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取clas列表成功"
          }
        }
      },
      "ClasResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Clas"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Class": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "班级ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "班级名称",
            "example": "大班A班"
          },
          "status": {
            "type": "string",
            "description": "班级状态",
            "example": "active",
            "enum": [
              "active",
              "inactive"
            ]
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "grade": {
            "type": "string",
            "description": "年级",
            "example": "大班"
          },
          "teacherId": {
            "type": "integer",
            "description": "班主任ID",
            "example": 1
          },
          "capacity": {
            "type": "integer",
            "description": "班级容量",
            "example": 30
          },
          "currentCount": {
            "type": "integer",
            "description": "当前学生数",
            "example": 25
          }
        }
      },
      "CreateClassRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Class 名称",
            "example": "新Class"
          }
        }
      },
      "UpdateClassRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Class 名称",
            "example": "更新后的Class"
          }
        }
      },
      "ClassListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Class"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取class列表成功"
          }
        }
      },
      "ClassResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Class"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "ConversionTracking": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "转化跟踪记录ID"
          },
          "kindergarten_id": {
            "type": "integer",
            "description": "幼儿园ID"
          },
          "parent_id": {
            "type": "integer",
            "nullable": true,
            "description": "家长ID"
          },
          "campaign_id": {
            "type": "integer",
            "nullable": true,
            "description": "营销活动ID"
          },
          "channel_id": {
            "type": "integer",
            "description": "营销渠道ID"
          },
          "advertisement_id": {
            "type": "integer",
            "nullable": true,
            "description": "广告ID"
          },
          "conversion_type": {
            "type": "integer",
            "description": "转化类型 (1-咨询, 2-报名, 3-付费)"
          },
          "conversion_type_name": {
            "type": "string",
            "description": "转化类型名称"
          },
          "conversion_source": {
            "type": "string",
            "description": "转化来源"
          },
          "conversion_event": {
            "type": "string",
            "description": "转化事件"
          },
          "event_value": {
            "type": "number",
            "format": "float",
            "description": "事件价值"
          },
          "event_time": {
            "type": "string",
            "format": "date-time",
            "description": "事件时间"
          },
          "conversion_status": {
            "type": "integer",
            "description": "转化状态 (0-未完成, 1-已完成)"
          },
          "follow_up_status": {
            "type": "integer",
            "description": "跟进状态 (0-未跟进, 1-已跟进)"
          },
          "is_first_visit": {
            "type": "integer",
            "description": "是否首次访问 (0-否, 1-是)"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间"
          },
          "deleted_at": {
            "type": "string",
            "format": "date-time",
            "nullable": true,
            "description": "删除时间"
          }
        }
      },
      "ConversionTrackingInput": {
        "type": "object",
        "required": [
          "channelId"
        ],
        "properties": {
          "kindergartenId": {
            "type": "integer",
            "default": 1,
            "description": "幼儿园ID"
          },
          "parentId": {
            "type": "integer",
            "nullable": true,
            "description": "家长ID"
          },
          "campaignId": {
            "type": "integer",
            "nullable": true,
            "description": "营销活动ID"
          },
          "channelId": {
            "type": "integer",
            "description": "营销渠道ID"
          },
          "advertisementId": {
            "type": "integer",
            "nullable": true,
            "description": "广告ID"
          },
          "conversionType": {
            "type": "integer",
            "default": 1,
            "description": "转化类型 (1-咨询, 2-报名, 3-付费)"
          },
          "conversionSource": {
            "type": "string",
            "default": "未知来源",
            "description": "转化来源"
          },
          "conversionEvent": {
            "type": "string",
            "default": "未知事件",
            "description": "转化事件"
          },
          "eventValue": {
            "type": "number",
            "format": "float",
            "default": 0,
            "description": "事件价值"
          },
          "conversionStatus": {
            "type": "integer",
            "default": 0,
            "description": "转化状态 (0-未完成, 1-已完成)"
          },
          "followUpStatus": {
            "type": "integer",
            "default": 0,
            "description": "跟进状态 (0-未跟进, 1-已跟进)"
          },
          "isFirstVisit": {
            "type": "integer",
            "default": 0,
            "description": "是否首次访问 (0-否, 1-是)"
          }
        }
      },
      "ConversionTrackingUpdate": {
        "type": "object",
        "properties": {
          "conversionStatus": {
            "type": "integer",
            "description": "转化状态 (0-未完成, 1-已完成)"
          },
          "followUpStatus": {
            "type": "integer",
            "description": "跟进状态 (0-未跟进, 1-已跟进)"
          },
          "eventValue": {
            "type": "number",
            "format": "float",
            "description": "事件价值"
          }
        }
      },
      "ConversionTrackingReport": {
        "type": "object",
        "properties": {
          "total_conversions": {
            "type": "integer",
            "description": "总转化数"
          },
          "successful_conversions": {
            "type": "integer",
            "description": "成功转化数"
          },
          "avg_event_value": {
            "type": "number",
            "format": "float",
            "description": "平均事件价值"
          },
          "total_event_value": {
            "type": "number",
            "format": "float",
            "description": "总事件价值"
          }
        }
      },
      "PaginatedConversionTrackingResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "message": {
            "type": "string",
            "example": "获取转化跟踪列表成功"
          },
          "data": {
            "type": "object",
            "properties": {
              "items": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/ConversionTracking"
                }
              },
              "page": {
                "type": "integer",
                "description": "当前页码"
              },
              "limit": {
                "type": "integer",
                "description": "每页数量"
              },
              "total": {
                "type": "integer",
                "description": "总记录数"
              },
              "totalPages": {
                "type": "integer",
                "description": "总页数"
              }
            }
          }
        }
      },
      "Conversion-tracking": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Conversion-tracking ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Conversion-tracking 名称",
            "example": "示例Conversion-tracking"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateConversion-trackingRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Conversion-tracking 名称",
            "example": "新Conversion-tracking"
          }
        }
      },
      "UpdateConversion-trackingRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Conversion-tracking 名称",
            "example": "更新后的Conversion-tracking"
          }
        }
      },
      "Conversion-trackingListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Conversion-tracking"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取conversion-tracking列表成功"
          }
        }
      },
      "Conversion-trackingResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Conversion-tracking"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Coupon": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Coupon ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Coupon 名称",
            "example": "示例Coupon"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateCouponRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Coupon 名称",
            "example": "新Coupon"
          }
        }
      },
      "UpdateCouponRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Coupon 名称",
            "example": "更新后的Coupon"
          }
        }
      },
      "CouponListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Coupon"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取coupon列表成功"
          }
        }
      },
      "CouponResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Coupon"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Crud": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Crud ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Crud 名称",
            "example": "示例Crud"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateCrudRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Crud 名称",
            "example": "新Crud"
          }
        }
      },
      "UpdateCrudRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Crud 名称",
            "example": "更新后的Crud"
          }
        }
      },
      "CrudListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Crud"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取crud列表成功"
          }
        }
      },
      "CrudResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Crud"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Customer-application": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Customer-application ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Customer-application 名称",
            "example": "示例Customer-application"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateCustomer-applicationRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Customer-application 名称",
            "example": "新Customer-application"
          }
        }
      },
      "UpdateCustomer-applicationRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Customer-application 名称",
            "example": "更新后的Customer-application"
          }
        }
      },
      "Customer-applicationListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Customer-application"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取customer-application列表成功"
          }
        }
      },
      "Customer-applicationResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Customer-application"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Customer-follow-enhanced": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Customer-follow-enhanced ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Customer-follow-enhanced 名称",
            "example": "示例Customer-follow-enhanced"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateCustomer-follow-enhancedRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Customer-follow-enhanced 名称",
            "example": "新Customer-follow-enhanced"
          }
        }
      },
      "UpdateCustomer-follow-enhancedRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Customer-follow-enhanced 名称",
            "example": "更新后的Customer-follow-enhanced"
          }
        }
      },
      "Customer-follow-enhancedListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Customer-follow-enhanced"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取customer-follow-enhanced列表成功"
          }
        }
      },
      "Customer-follow-enhancedResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Customer-follow-enhanced"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "CustomerPoolItem": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "客户ID"
          },
          "name": {
            "type": "string",
            "description": "客户姓名"
          },
          "phone": {
            "type": "string",
            "description": "联系电话"
          },
          "source": {
            "type": "string",
            "enum": [
              "WEBSITE",
              "PHONE",
              "EMAIL",
              "REFERRAL",
              "OTHER"
            ],
            "description": "来源渠道"
          },
          "status": {
            "type": "string",
            "enum": [
              "NEW",
              "CONTACTED",
              "QUALIFIED",
              "PROPOSAL",
              "NEGOTIATION",
              "CLOSED_WON",
              "CLOSED_LOST"
            ],
            "description": "客户状态"
          },
          "teacher": {
            "type": "string",
            "nullable": true,
            "description": "负责老师姓名"
          },
          "teacherId": {
            "type": "integer",
            "nullable": true,
            "description": "负责老师ID"
          },
          "lastFollowUp": {
            "type": "string",
            "format": "date-time",
            "nullable": true,
            "description": "最后跟进时间"
          },
          "createTime": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间"
          },
          "remark": {
            "type": "string",
            "description": "备注信息"
          }
        }
      },
      "CustomerPoolRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "客户姓名"
          },
          "phone": {
            "type": "string",
            "description": "联系电话"
          },
          "email": {
            "type": "string",
            "format": "email",
            "description": "电子邮箱"
          },
          "source": {
            "type": "string",
            "enum": [
              "WEBSITE",
              "PHONE",
              "EMAIL",
              "REFERRAL",
              "OTHER"
            ],
            "description": "来源渠道"
          },
          "remark": {
            "type": "string",
            "description": "备注信息"
          },
          "teacherId": {
            "type": "integer",
            "description": "分配的老师ID"
          }
        }
      },
      "CustomerPoolDetail": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "客户ID"
          },
          "name": {
            "type": "string",
            "description": "客户姓名"
          },
          "phone": {
            "type": "string",
            "description": "联系电话"
          },
          "email": {
            "type": "string",
            "description": "电子邮箱"
          },
          "source": {
            "type": "string",
            "description": "来源渠道"
          },
          "status": {
            "type": "string",
            "description": "客户状态"
          },
          "teacher": {
            "type": "object",
            "nullable": true,
            "properties": {
              "id": {
                "type": "integer"
              },
              "name": {
                "type": "string"
              }
            }
          },
          "followUps": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/FollowUpRecord"
            }
          },
          "children": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ChildInfo"
            }
          },
          "tags": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "remark": {
            "type": "string",
            "description": "备注信息"
          },
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "FollowUpRecord": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "跟进记录ID"
          },
          "content": {
            "type": "string",
            "description": "跟进内容"
          },
          "followupDate": {
            "type": "string",
            "format": "date",
            "description": "跟进日期"
          },
          "type": {
            "type": "string",
            "enum": [
              "CALL",
              "EMAIL",
              "VISIT",
              "OTHER",
              "ASSIGN"
            ],
            "description": "跟进类型"
          },
          "result": {
            "type": "string",
            "description": "跟进结果"
          },
          "createTime": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间"
          },
          "creator": {
            "type": "string",
            "description": "创建人"
          }
        }
      },
      "ChildInfo": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "学生ID"
          },
          "name": {
            "type": "string",
            "description": "学生姓名"
          },
          "gender": {
            "type": "integer",
            "enum": [
              0,
              1
            ],
            "description": "性别 (0-女, 1-男)"
          },
          "birthDate": {
            "type": "string",
            "format": "date",
            "description": "出生日期"
          },
          "age": {
            "type": "string",
            "description": "年龄"
          }
        }
      },
      "CustomerPoolStats": {
        "type": "object",
        "properties": {
          "totalCustomers": {
            "type": "integer",
            "description": "总客户数"
          },
          "newCustomersThisMonth": {
            "type": "integer",
            "description": "本月新增客户数"
          },
          "unassignedCustomers": {
            "type": "integer",
            "description": "未分配老师的客户数"
          },
          "convertedCustomersThisMonth": {
            "type": "integer",
            "description": "本月转化客户数"
          }
        }
      },
      "AssignCustomerRequest": {
        "type": "object",
        "required": [
          "customerId",
          "teacherId"
        ],
        "properties": {
          "customerId": {
            "type": "integer",
            "description": "客户ID"
          },
          "teacherId": {
            "type": "integer",
            "description": "老师ID"
          },
          "remark": {
            "type": "string",
            "description": "分配备注"
          }
        }
      },
      "BatchAssignRequest": {
        "type": "object",
        "required": [
          "customerIds",
          "teacherId"
        ],
        "properties": {
          "customerIds": {
            "type": "array",
            "items": {
              "type": "integer"
            },
            "description": "客户ID列表"
          },
          "teacherId": {
            "type": "integer",
            "description": "老师ID"
          },
          "remark": {
            "type": "string",
            "description": "分配备注"
          }
        }
      },
      "FollowUpRequest": {
        "type": "object",
        "properties": {
          "content": {
            "type": "string",
            "description": "跟进内容"
          },
          "type": {
            "type": "string",
            "enum": [
              "CALL",
              "EMAIL",
              "VISIT",
              "OTHER"
            ],
            "description": "跟进类型"
          }
        }
      },
      "CustomerStats": {
        "type": "object",
        "properties": {
          "totalCustomers": {
            "type": "integer",
            "description": "总客户数"
          },
          "dealCustomers": {
            "type": "integer",
            "description": "成交客户数"
          },
          "intentionCustomers": {
            "type": "integer",
            "description": "意向客户数"
          },
          "conversionRate": {
            "type": "number",
            "description": "转化率"
          }
        }
      },
      "Customer": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "客户ID"
          },
          "parentName": {
            "type": "string",
            "description": "家长姓名"
          },
          "contactPhone": {
            "type": "string",
            "description": "联系电话"
          },
          "childName": {
            "type": "string",
            "description": "孩子姓名"
          },
          "status": {
            "type": "string",
            "description": "客户状态"
          },
          "source": {
            "type": "string",
            "description": "客户来源"
          },
          "consultDate": {
            "type": "string",
            "description": "咨询时间"
          },
          "nextFollowup": {
            "type": "string",
            "description": "下次跟进时间"
          },
          "remark": {
            "type": "string",
            "description": "备注"
          }
        }
      },
      "DashboardOverview": {
        "type": "object",
        "properties": {
          "totalUsers": {
            "type": "number",
            "description": "总用户数",
            "example": 150
          },
          "totalKindergartens": {
            "type": "number",
            "description": "总幼儿园数",
            "example": 12
          },
          "totalStudents": {
            "type": "number",
            "description": "总学生数",
            "example": 1200
          },
          "totalApplications": {
            "type": "number",
            "description": "总申请数",
            "example": 85
          },
          "recentActivities": {
            "type": "array",
            "description": "最近活动",
            "items": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "number"
                },
                "type": {
                  "type": "string"
                },
                "description": {
                  "type": "string"
                },
                "time": {
                  "type": "string"
                }
              }
            }
          }
        }
      },
      "DashboardStats": {
        "type": "object",
        "properties": {
          "userCount": {
            "type": "number",
            "description": "用户数量",
            "example": 10
          },
          "kindergartenCount": {
            "type": "number",
            "description": "幼儿园数量",
            "example": 5
          },
          "studentCount": {
            "type": "number",
            "description": "学生数量",
            "example": 150
          },
          "enrollmentCount": {
            "type": "number",
            "description": "招生数量",
            "example": 25
          },
          "activityCount": {
            "type": "number",
            "description": "活动数量",
            "example": 8
          }
        }
      },
      "TodoItem": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number",
            "description": "待办事项ID",
            "example": 1
          },
          "title": {
            "type": "string",
            "description": "待办事项标题",
            "example": "完成月度报告"
          },
          "description": {
            "type": "string",
            "description": "待办事项描述",
            "example": "编写和提交月度工作报告"
          },
          "status": {
            "type": "string",
            "enum": [
              "pending",
              "completed"
            ],
            "description": "待办事项状态",
            "example": "pending"
          },
          "priority": {
            "type": "string",
            "enum": [
              "low",
              "medium",
              "high"
            ],
            "description": "优先级",
            "example": "high"
          },
          "dueDate": {
            "type": "string",
            "format": "date-time",
            "description": "截止日期",
            "example": "2025-07-20T18:00:00Z"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2025-07-01T09:00:00Z"
          }
        }
      },
      "ScheduleItem": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number",
            "description": "日程ID",
            "example": 1
          },
          "title": {
            "type": "string",
            "description": "日程标题",
            "example": "教师评估会议"
          },
          "startTime": {
            "type": "string",
            "format": "date-time",
            "description": "开始时间",
            "example": "2025-07-15T09:00:00Z"
          },
          "endTime": {
            "type": "string",
            "format": "date-time",
            "description": "结束时间",
            "example": "2025-07-15T11:00:00Z"
          },
          "location": {
            "type": "string",
            "description": "地点",
            "example": "会议室A"
          },
          "attendees": {
            "type": "array",
            "description": "参与人员",
            "items": {
              "type": "string"
            },
            "example": [
              "王主任",
              "李老师",
              "张老师"
            ]
          }
        }
      },
      "NoticeItem": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number",
            "description": "通知ID",
            "example": 1
          },
          "title": {
            "type": "string",
            "description": "通知标题",
            "example": "2025年秋季招生计划已发布"
          },
          "publishTime": {
            "type": "string",
            "format": "date-time",
            "description": "发布时间",
            "example": "2025-03-15T08:00:00Z"
          },
          "importance": {
            "type": "string",
            "enum": [
              "HIGH",
              "MEDIUM",
              "LOW"
            ],
            "description": "重要程度",
            "example": "HIGH"
          },
          "readCount": {
            "type": "number",
            "description": "已读数量",
            "example": 20
          },
          "totalCount": {
            "type": "number",
            "description": "总接收人数",
            "example": 24
          }
        }
      },
      "Data-import": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Data-import ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Data-import 名称",
            "example": "示例Data-import"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateData-importRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Data-import 名称",
            "example": "新Data-import"
          }
        }
      },
      "UpdateData-importRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Data-import 名称",
            "example": "更新后的Data-import"
          }
        }
      },
      "Data-importListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Data-import"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取data-import列表成功"
          }
        }
      },
      "Data-importResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Data-import"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Database-metadata": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Database-metadata ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Database-metadata 名称",
            "example": "示例Database-metadata"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateDatabase-metadataRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Database-metadata 名称",
            "example": "新Database-metadata"
          }
        }
      },
      "UpdateDatabase-metadataRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Database-metadata 名称",
            "example": "更新后的Database-metadata"
          }
        }
      },
      "Database-metadataListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Database-metadata"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取database-metadata列表成功"
          }
        }
      },
      "Database-metadataResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Database-metadata"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Document-import": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Document-import ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Document-import 名称",
            "example": "示例Document-import"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateDocument-importRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Document-import 名称",
            "example": "新Document-import"
          }
        }
      },
      "UpdateDocument-importRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Document-import 名称",
            "example": "更新后的Document-import"
          }
        }
      },
      "Document-importListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Document-import"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取document-import列表成功"
          }
        }
      },
      "Document-importResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Document-import"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "DocumentInstance": {
        "type": "object",
        "required": [
          "templateId",
          "title",
          "status",
          "completionRate",
          "version"
        ],
        "properties": {
          "id": {
            "type": "integer",
            "description": "文档实例ID",
            "example": 1
          },
          "templateId": {
            "type": "integer",
            "description": "文档模板ID",
            "example": 1
          },
          "inspectionTaskId": {
            "type": "integer",
            "description": "检查任务ID",
            "example": 1
          },
          "title": {
            "type": "string",
            "description": "文档标题",
            "example": "安全检查记录表"
          },
          "documentNumber": {
            "type": "string",
            "description": "文档编号",
            "example": "DOC-2024-001"
          },
          "content": {
            "type": "string",
            "description": "文档内容",
            "example": "这是文档的具体内容..."
          },
          "filledData": {
            "type": "object",
            "description": "填充的数据",
            "example": {
              "field1": "value1",
              "field2": "value2"
            }
          },
          "status": {
            "type": "string",
            "description": "文档状态",
            "enum": [
              "draft",
              "in_progress",
              "submitted",
              "under_review",
              "approved",
              "rejected",
              "completed"
            ],
            "example": "draft"
          },
          "completionRate": {
            "type": "number",
            "description": "完成率 (0-100)",
            "example": 85
          },
          "deadline": {
            "type": "string",
            "format": "date-time",
            "description": "截止日期"
          },
          "submittedAt": {
            "type": "string",
            "format": "date-time",
            "description": "提交时间"
          },
          "reviewedAt": {
            "type": "string",
            "format": "date-time",
            "description": "审核时间"
          },
          "startedAt": {
            "type": "string",
            "format": "date-time",
            "description": "开始时间"
          },
          "completedAt": {
            "type": "string",
            "format": "date-time",
            "description": "完成时间"
          },
          "createdBy": {
            "type": "integer",
            "description": "创建者ID",
            "example": 1
          },
          "assignedTo": {
            "type": "integer",
            "description": "分配给的用户ID",
            "example": 2
          },
          "reviewedBy": {
            "type": "integer",
            "description": "审核者ID",
            "example": 3
          },
          "reviewers": {
            "type": "array",
            "items": {
              "type": "integer"
            },
            "description": "审核者ID列表",
            "example": [
              3,
              4
            ]
          },
          "reviewComments": {
            "type": "string",
            "description": "审核意见",
            "example": "文档内容完整，符合要求"
          },
          "attachments": {
            "type": "array",
            "items": {
              "type": "object"
            },
            "description": "附件列表"
          },
          "version": {
            "type": "integer",
            "description": "版本号",
            "example": 1
          },
          "parentVersionId": {
            "type": "integer",
            "description": "父版本ID"
          },
          "tags": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "标签列表",
            "example": [
              "安全",
              "检查",
              "月度"
            ]
          },
          "metadata": {
            "type": "object",
            "description": "元数据",
            "example": {
              "priority": "high",
              "category": "safety"
            }
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间"
          },
          "deletedAt": {
            "type": "string",
            "format": "date-time",
            "description": "删除时间"
          }
        }
      },
      "DocumentInstanceComment": {
        "type": "object",
        "required": [
          "content"
        ],
        "properties": {
          "id": {
            "type": "integer",
            "description": "评论ID",
            "example": 1
          },
          "documentInstanceId": {
            "type": "integer",
            "description": "文档实例ID",
            "example": 1
          },
          "content": {
            "type": "string",
            "description": "评论内容",
            "example": "这个地方需要修改"
          },
          "authorId": {
            "type": "integer",
            "description": "评论作者ID",
            "example": 2
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间"
          }
        }
      },
      "DocumentInstanceVersion": {
        "type": "object",
        "required": [
          "version",
          "content"
        ],
        "properties": {
          "id": {
            "type": "integer",
            "description": "版本ID",
            "example": 1
          },
          "documentInstanceId": {
            "type": "integer",
            "description": "文档实例ID",
            "example": 1
          },
          "version": {
            "type": "integer",
            "description": "版本号",
            "example": 2
          },
          "content": {
            "type": "string",
            "description": "版本内容"
          },
          "changes": {
            "type": "string",
            "description": "变更说明",
            "example": "更新了安全检查标准"
          },
          "createdBy": {
            "type": "integer",
            "description": "创建者ID",
            "example": 1
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间"
          }
        }
      },
      "Document-statistic": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Document-statistic ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Document-statistic 名称",
            "example": "示例Document-statistic"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateDocument-statisticRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Document-statistic 名称",
            "example": "新Document-statistic"
          }
        }
      },
      "UpdateDocument-statisticRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Document-statistic 名称",
            "example": "更新后的Document-statistic"
          }
        }
      },
      "Document-statisticListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Document-statistic"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取document-statistic列表成功"
          }
        }
      },
      "Document-statisticResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Document-statistic"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "DocumentTemplate": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "模板唯一标识符",
            "example": 1
          },
          "title": {
            "type": "string",
            "description": "模板标题",
            "example": "幼儿园教学计划模板"
          },
          "description": {
            "type": "string",
            "description": "模板描述",
            "example": "适用于幼儿园日常教学计划制定的标准化模板"
          },
          "category_id": {
            "type": "integer",
            "description": "分类ID",
            "example": 1
          },
          "category": {
            "type": "object",
            "description": "分类信息",
            "properties": {
              "id": {
                "type": "integer",
                "example": 1
              },
              "name": {
                "type": "string",
                "example": "教学管理"
              }
            }
          },
          "type": {
            "type": "string",
            "enum": [
              "official",
              "custom",
              "shared"
            ],
            "description": "模板类型",
            "example": "official"
          },
          "template_type": {
            "type": "string",
            "description": "模板文件类型",
            "example": "word"
          },
          "content": {
            "type": "string",
            "description": "模板内容（HTML或Markdown格式）",
            "example": "<h1>教学计划</h1><p>本周教学内容...</p>"
          },
          "file_url": {
            "type": "string",
            "description": "模板文件URL",
            "example": "http://example.com/templates/teaching-plan.docx"
          },
          "thumbnail_url": {
            "type": "string",
            "description": "缩略图URL",
            "example": "http://example.com/templates/teaching-plan-thumb.jpg"
          },
          "tags": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "模板标签",
            "example": [
              "教学",
              "计划",
              "周计划"
            ]
          },
          "usage_count": {
            "type": "integer",
            "description": "使用次数",
            "example": 156
          },
          "download_count": {
            "type": "integer",
            "description": "下载次数",
            "example": 89
          },
          "rating": {
            "type": "number",
            "format": "float",
            "minimum": 0,
            "maximum": 5,
            "description": "平均评分",
            "example": 4.5
          },
          "rating_count": {
            "type": "integer",
            "description": "评分人数",
            "example": 23
          },
          "is_public": {
            "type": "boolean",
            "description": "是否公开",
            "example": true
          },
          "is_featured": {
            "type": "boolean",
            "description": "是否推荐",
            "example": true
          },
          "creator_id": {
            "type": "integer",
            "description": "创建人ID",
            "example": 123
          },
          "creator": {
            "type": "object",
            "description": "创建人信息",
            "properties": {
              "id": {
                "type": "integer",
                "example": 123
              },
              "name": {
                "type": "string",
                "example": "张老师"
              },
              "avatar": {
                "type": "string",
                "example": "avatar.jpg"
              }
            }
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T09:00:00Z"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T15:30:00Z"
          }
        }
      },
      "TemplateCategory": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "分类唯一标识符",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "分类名称",
            "example": "教学管理"
          },
          "description": {
            "type": "string",
            "description": "分类描述",
            "example": "教学相关文档模板"
          },
          "icon": {
            "type": "string",
            "description": "分类图标",
            "example": "teaching"
          },
          "sort_order": {
            "type": "integer",
            "description": "排序序号",
            "example": 1
          },
          "template_count": {
            "type": "integer",
            "description": "分类下的模板数量",
            "example": 25
          },
          "is_active": {
            "type": "boolean",
            "description": "是否启用",
            "example": true
          }
        }
      },
      "TemplateListResponse": {
        "type": "object",
        "properties": {
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/DocumentTemplate"
            }
          },
          "total": {
            "type": "integer",
            "description": "总数量",
            "example": 50
          },
          "page": {
            "type": "integer",
            "description": "当前页码",
            "example": 1
          },
          "pageSize": {
            "type": "integer",
            "description": "每页数量",
            "example": 20
          },
          "totalPages": {
            "type": "integer",
            "description": "总页数",
            "example": 3
          }
        }
      },
      "CreateTemplateRequest": {
        "type": "object",
        "required": [
          "name",
          "category_id",
          "design_data",
          "type"
        ],
        "properties": {
          "title": {
            "type": "string",
            "description": "模板标题",
            "example": "我的教学模板",
            "minLength": 1,
            "maxLength": 100
          },
          "description": {
            "type": "string",
            "description": "模板描述",
            "example": "个性化的教学计划模板",
            "maxLength": 500
          },
          "category_id": {
            "type": "integer",
            "description": "分类ID",
            "example": 1
          },
          "type": {
            "type": "string",
            "enum": [
              "official",
              "custom",
              "shared"
            ],
            "description": "模板类型",
            "example": "custom"
          },
          "content": {
            "type": "string",
            "description": "模板内容",
            "example": "<h1>教学计划</h1><p>内容...</p>"
          },
          "tags": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "模板标签",
            "example": [
              "教学",
              "个性化"
            ]
          },
          "is_public": {
            "type": "boolean",
            "description": "是否公开",
            "example": false
          },
          "name": {
            "type": "string",
            "description": "模板名称"
          },
          "thumbnail_url": {
            "type": "string",
            "description": "缩略图URL"
          },
          "design_data": {
            "type": "object",
            "description": "设计数据JSON"
          },
          "width": {
            "type": "integer",
            "description": "模板宽度"
          },
          "height": {
            "type": "integer",
            "description": "模板高度"
          }
        }
      },
      "UpdateTemplateRequest": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string",
            "description": "模板标题",
            "example": "更新后的模板标题",
            "minLength": 1,
            "maxLength": 100
          },
          "description": {
            "type": "string",
            "description": "模板描述",
            "example": "更新后的模板描述",
            "maxLength": 500
          },
          "category_id": {
            "type": "integer",
            "description": "分类ID",
            "example": 2
          },
          "content": {
            "type": "string",
            "description": "模板内容",
            "example": "<h1>更新内容</h1><p>新的内容...</p>"
          },
          "tags": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "模板标签",
            "example": [
              "教学",
              "更新"
            ]
          },
          "is_public": {
            "type": "boolean",
            "description": "是否公开",
            "example": true
          },
          "is_featured": {
            "type": "boolean",
            "description": "是否推荐",
            "example": true
          },
          "name": {
            "type": "string",
            "description": "模板名称"
          },
          "thumbnail_url": {
            "type": "string",
            "description": "缩略图URL"
          },
          "design_data": {
            "type": "object",
            "description": "设计数据JSON"
          },
          "width": {
            "type": "integer",
            "description": "模板宽度"
          },
          "height": {
            "type": "integer",
            "description": "模板高度"
          },
          "is_active": {
            "type": "boolean",
            "description": "是否激活"
          }
        }
      },
      "TemplateRecommendation": {
        "type": "object",
        "properties": {
          "template": {
            "$ref": "#/components/schemas/DocumentTemplate"
          },
          "score": {
            "type": "number",
            "format": "float",
            "minimum": 0,
            "maximum": 1,
            "description": "推荐分数",
            "example": 0.95
          },
          "reason": {
            "type": "string",
            "description": "推荐理由",
            "example": "基于您的使用历史和偏好推荐"
          }
        }
      },
      "Enrollment-ai": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Enrollment-ai ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Enrollment-ai 名称",
            "example": "示例Enrollment-ai"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateEnrollment-aiRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Enrollment-ai 名称",
            "example": "新Enrollment-ai"
          }
        }
      },
      "UpdateEnrollment-aiRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Enrollment-ai 名称",
            "example": "更新后的Enrollment-ai"
          }
        }
      },
      "Enrollment-aiListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Enrollment-ai"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取enrollment-ai列表成功"
          }
        }
      },
      "Enrollment-aiResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Enrollment-ai"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Enrollment-application": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Enrollment-application ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Enrollment-application 名称",
            "example": "示例Enrollment-application"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateEnrollment-applicationRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Enrollment-application 名称",
            "example": "新Enrollment-application"
          }
        }
      },
      "UpdateEnrollment-applicationRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Enrollment-application 名称",
            "example": "更新后的Enrollment-application"
          }
        }
      },
      "Enrollment-applicationListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Enrollment-application"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取enrollment-application列表成功"
          }
        }
      },
      "Enrollment-applicationResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Enrollment-application"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Enrollment-center": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Enrollment-center ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Enrollment-center 名称",
            "example": "示例Enrollment-center"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateEnrollment-centerRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Enrollment-center 名称",
            "example": "新Enrollment-center"
          }
        }
      },
      "UpdateEnrollment-centerRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Enrollment-center 名称",
            "example": "更新后的Enrollment-center"
          }
        }
      },
      "Enrollment-centerListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Enrollment-center"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取enrollment-center列表成功"
          }
        }
      },
      "Enrollment-centerResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Enrollment-center"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Enrollment-consultation": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Enrollment-consultation ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Enrollment-consultation 名称",
            "example": "示例Enrollment-consultation"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateEnrollment-consultationRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Enrollment-consultation 名称",
            "example": "新Enrollment-consultation"
          }
        }
      },
      "UpdateEnrollment-consultationRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Enrollment-consultation 名称",
            "example": "更新后的Enrollment-consultation"
          }
        }
      },
      "Enrollment-consultationListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Enrollment-consultation"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取enrollment-consultation列表成功"
          }
        }
      },
      "Enrollment-consultationResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Enrollment-consultation"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Enrollment-finance": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Enrollment-finance ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Enrollment-finance 名称",
            "example": "示例Enrollment-finance"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateEnrollment-financeRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Enrollment-finance 名称",
            "example": "新Enrollment-finance"
          }
        }
      },
      "UpdateEnrollment-financeRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Enrollment-finance 名称",
            "example": "更新后的Enrollment-finance"
          }
        }
      },
      "Enrollment-financeListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Enrollment-finance"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取enrollment-finance列表成功"
          }
        }
      },
      "Enrollment-financeResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Enrollment-finance"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Enrollment-interview": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Enrollment-interview ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Enrollment-interview 名称",
            "example": "示例Enrollment-interview"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateEnrollment-interviewRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Enrollment-interview 名称",
            "example": "新Enrollment-interview"
          }
        }
      },
      "UpdateEnrollment-interviewRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Enrollment-interview 名称",
            "example": "更新后的Enrollment-interview"
          }
        }
      },
      "Enrollment-interviewListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Enrollment-interview"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取enrollment-interview列表成功"
          }
        }
      },
      "Enrollment-interviewResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Enrollment-interview"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "EnrollmentPlan": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "招生计划ID"
          },
          "planName": {
            "type": "string",
            "description": "计划名称"
          },
          "planDescription": {
            "type": "string",
            "description": "计划描述"
          },
          "startDate": {
            "type": "string",
            "format": "date",
            "description": "开始日期"
          },
          "endDate": {
            "type": "string",
            "format": "date",
            "description": "结束日期"
          },
          "status": {
            "type": "string",
            "enum": [
              "DRAFT",
              "ACTIVE",
              "COMPLETED",
              "CANCELLED"
            ],
            "description": "计划状态"
          },
          "targetStudentCount": {
            "type": "integer",
            "description": "目标招生人数"
          },
          "currentStudentCount": {
            "type": "integer",
            "description": "当前招生人数"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间"
          }
        }
      },
      "CreateEnrollmentPlanRequest": {
        "type": "object",
        "required": [
          "planName",
          "startDate",
          "endDate",
          "targetStudentCount"
        ],
        "properties": {
          "planName": {
            "type": "string",
            "description": "计划名称"
          },
          "planDescription": {
            "type": "string",
            "description": "计划描述"
          },
          "startDate": {
            "type": "string",
            "format": "date",
            "description": "开始日期"
          },
          "endDate": {
            "type": "string",
            "format": "date",
            "description": "结束日期"
          },
          "targetStudentCount": {
            "type": "integer",
            "description": "目标招生人数"
          }
        }
      },
      "UpdateEnrollmentPlanRequest": {
        "type": "object",
        "properties": {
          "planName": {
            "type": "string",
            "description": "计划名称"
          },
          "planDescription": {
            "type": "string",
            "description": "计划描述"
          },
          "startDate": {
            "type": "string",
            "format": "date",
            "description": "开始日期"
          },
          "endDate": {
            "type": "string",
            "format": "date",
            "description": "结束日期"
          },
          "targetStudentCount": {
            "type": "integer",
            "description": "目标招生人数"
          }
        }
      },
      "EnrollmentPlanStatistics": {
        "type": "object",
        "properties": {
          "totalApplications": {
            "type": "integer",
            "description": "总申请数"
          },
          "approvedApplications": {
            "type": "integer",
            "description": "已通过申请数"
          },
          "rejectedApplications": {
            "type": "integer",
            "description": "已拒绝申请数"
          },
          "pendingApplications": {
            "type": "integer",
            "description": "待处理申请数"
          },
          "completionRate": {
            "type": "number",
            "description": "完成率"
          }
        }
      },
      "EnrollmentTracking": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "跟踪记录ID"
          },
          "enrollmentPlanId": {
            "type": "integer",
            "description": "招生计划ID"
          },
          "trackingDate": {
            "type": "string",
            "format": "date",
            "description": "跟踪日期"
          },
          "trackingContent": {
            "type": "string",
            "description": "跟踪内容"
          },
          "trackedBy": {
            "type": "integer",
            "description": "跟踪人ID"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间"
          }
        }
      },
      "Enrollment-plan": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Enrollment-plan ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Enrollment-plan 名称",
            "example": "示例Enrollment-plan"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateEnrollment-planRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Enrollment-plan 名称",
            "example": "新Enrollment-plan"
          }
        }
      },
      "UpdateEnrollment-planRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Enrollment-plan 名称",
            "example": "更新后的Enrollment-plan"
          }
        }
      },
      "Enrollment-planListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Enrollment-plan"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取enrollment-plan列表成功"
          }
        }
      },
      "Enrollment-planResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Enrollment-plan"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "EnrollmentQuota": {
        "type": "object",
        "required": [
          "planId",
          "classId",
          "totalQuota",
          "totalQuota"
        ],
        "properties": {
          "id": {
            "type": "integer",
            "description": "配额ID",
            "example": 1001
          },
          "planId": {
            "type": "integer",
            "description": "招生计划ID",
            "example": 10
          },
          "classId": {
            "type": "integer",
            "description": "班级ID",
            "example": 1
          },
          "totalQuota": {
            "type": "integer",
            "description": "总配额数",
            "minimum": 0,
            "example": 30
          },
          "usedQuota": {
            "type": "integer",
            "description": "已使用配额数",
            "minimum": 0,
            "example": 15
          },
          "reservedQuota": {
            "type": "integer",
            "description": "预留配额数",
            "minimum": 0,
            "example": 5
          },
          "availableQuota": {
            "type": "integer",
            "description": "可用配额数（计算字段：totalQuota - usedQuota - reservedQuota）",
            "minimum": 0,
            "example": 10
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-15T10:30:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-15T10:30:00.000Z"
          },
          "enrollmentRate": {
            "type": "number",
            "format": "decimal",
            "minimum": 0,
            "maximum": 100,
            "description": "招生完成率（百分比）",
            "example": 50
          },
          "remark": {
            "type": "string",
            "maxLength": 500,
            "nullable": true,
            "description": "备注信息",
            "example": "面向社区招生，优先考虑本地居民"
          },
          "deletedAt": {
            "type": "string",
            "format": "date-time",
            "nullable": true,
            "description": "删除时间",
            "example": null
          }
        }
      },
      "QuotaAllocation": {
        "type": "object",
        "required": [
          "planId",
          "classId",
          "allocatedQuota"
        ],
        "properties": {
          "id": {
            "type": "integer",
            "description": "分配记录ID"
          },
          "planId": {
            "type": "integer",
            "description": "招生计划ID"
          },
          "classId": {
            "type": "integer",
            "description": "班级ID"
          },
          "allocatedQuota": {
            "type": "integer",
            "description": "分配名额数量"
          },
          "allocatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "分配时间"
          }
        }
      },
      "QuotaStatistics": {
        "type": "object",
        "properties": {
          "planId": {
            "type": "integer",
            "description": "招生计划ID"
          },
          "totalQuota": {
            "type": "integer",
            "description": "总名额"
          },
          "usedQuota": {
            "type": "integer",
            "description": "已使用名额"
          },
          "reservedQuota": {
            "type": "integer",
            "description": "预留名额"
          },
          "availableQuota": {
            "type": "integer",
            "description": "可用名额"
          },
          "utilizationRate": {
            "type": "number",
            "format": "float",
            "description": "使用率"
          },
          "classes": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "classId": {
                  "type": "integer"
                },
                "className": {
                  "type": "string"
                },
                "totalQuota": {
                  "type": "integer"
                },
                "usedQuota": {
                  "type": "integer"
                }
              }
            }
          }
        }
      },
      "EnrollmentQuotaWithDetails": {
        "allOf": [
          {
            "$ref": "#/components/schemas/EnrollmentQuota"
          },
          {
            "type": "object",
            "properties": {
              "plan": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "integer",
                    "description": "招生计划ID",
                    "example": 10
                  },
                  "name": {
                    "type": "string",
                    "description": "招生计划名称",
                    "example": "2024年春季招生计划"
                  },
                  "year": {
                    "type": "integer",
                    "description": "招生年份",
                    "example": 2024
                  },
                  "season": {
                    "type": "string",
                    "description": "招生季节",
                    "example": "春季"
                  },
                  "startDate": {
                    "type": "string",
                    "format": "date",
                    "description": "计划开始日期",
                    "example": "2024-02-01"
                  },
                  "endDate": {
                    "type": "string",
                    "format": "date",
                    "description": "计划结束日期",
                    "example": "2024-03-31"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "draft",
                      "active",
                      "completed",
                      "cancelled"
                    ],
                    "description": "计划状态",
                    "example": "active"
                  }
                },
                "description": "招生计划信息"
              },
              "class": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "integer",
                    "description": "班级ID",
                    "example": 1
                  },
                  "name": {
                    "type": "string",
                    "description": "班级名称",
                    "example": "小班A"
                  },
                  "grade": {
                    "type": "string",
                    "description": "年级",
                    "example": "小班"
                  },
                  "kindergartenId": {
                    "type": "integer",
                    "description": "幼儿园ID",
                    "example": 1
                  },
                  "capacity": {
                    "type": "integer",
                    "description": "班级容量",
                    "example": 30
                  },
                  "currentStudents": {
                    "type": "integer",
                    "description": "当前学生数",
                    "example": 15
                  },
                  "teacherCount": {
                    "type": "integer",
                    "description": "教师数量",
                    "example": 2
                  }
                },
                "description": "班级信息"
              },
              "statistics": {
                "type": "object",
                "properties": {
                  "totalApplications": {
                    "type": "integer",
                    "description": "总申请数",
                    "example": 25
                  },
                  "approvedApplications": {
                    "type": "integer",
                    "description": "已批准申请数",
                    "example": 15
                  },
                  "pendingApplications": {
                    "type": "integer",
                    "description": "待审核申请数",
                    "example": 8
                  },
                  "rejectedApplications": {
                    "type": "integer",
                    "description": "已拒绝申请数",
                    "example": 2
                  },
                  "waitlistCount": {
                    "type": "integer",
                    "description": "候补名单数量",
                    "example": 5
                  }
                },
                "description": "招生统计信息"
              }
            }
          }
        ]
      },
      "CreateEnrollmentQuotaRequest": {
        "type": "object",
        "required": [
          "planId",
          "classId",
          "totalQuota"
        ],
        "properties": {
          "planId": {
            "type": "integer",
            "description": "招生计划ID",
            "example": 10
          },
          "classId": {
            "type": "integer",
            "description": "班级ID",
            "example": 1
          },
          "totalQuota": {
            "type": "integer",
            "minimum": 1,
            "description": "总配额数",
            "example": 30
          },
          "reservedQuota": {
            "type": "integer",
            "minimum": 0,
            "default": 0,
            "description": "预留配额数",
            "example": 5
          },
          "remark": {
            "type": "string",
            "maxLength": 500,
            "description": "备注信息",
            "example": "面向社区招生，优先考虑本地居民"
          }
        }
      },
      "UpdateEnrollmentQuotaRequest": {
        "type": "object",
        "properties": {
          "totalQuota": {
            "type": "integer",
            "minimum": 1,
            "description": "总配额数",
            "example": 35
          },
          "reservedQuota": {
            "type": "integer",
            "minimum": 0,
            "description": "预留配额数",
            "example": 8
          },
          "remark": {
            "type": "string",
            "maxLength": 500,
            "description": "备注信息",
            "example": "根据实际需求调整配额"
          }
        }
      },
      "QuotaAdjustmentRequest": {
        "type": "object",
        "required": [
          "adjustmentType",
          "adjustmentAmount",
          "reason"
        ],
        "properties": {
          "adjustmentType": {
            "type": "string",
            "enum": [
              "increase",
              "decrease",
              "reserve",
              "release"
            ],
            "description": "调整类型",
            "example": "increase"
          },
          "adjustmentAmount": {
            "type": "integer",
            "minimum": 1,
            "description": "调整数量",
            "example": 5
          },
          "reason": {
            "type": "string",
            "maxLength": 500,
            "description": "调整原因",
            "example": "社区需求增加"
          },
          "effectiveDate": {
            "type": "string",
            "format": "date",
            "description": "生效日期",
            "example": "2024-02-01"
          },
          "approverComment": {
            "type": "string",
            "maxLength": 500,
            "description": "审批意见",
            "example": "同意调整，请及时更新招生信息"
          }
        }
      },
      "EnrollmentStatistics": {
        "type": "object",
        "properties": {
          "totalApplications": {
            "type": "number",
            "description": "总申请数"
          },
          "confirmedApplications": {
            "type": "number",
            "description": "已确认申请数"
          },
          "pendingApplications": {
            "type": "number",
            "description": "待处理申请数"
          },
          "conversionRate": {
            "type": "number",
            "description": "转化率"
          },
          "monthlyData": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "month": {
                  "type": "string",
                  "description": "月份"
                },
                "applications": {
                  "type": "number",
                  "description": "申请数量"
                }
              }
            }
          },
          "total_applications": {
            "type": "integer",
            "description": "申请总数"
          },
          "approved": {
            "type": "integer",
            "description": "已批准数"
          },
          "pending": {
            "type": "integer",
            "description": "待审核数"
          },
          "rejected": {
            "type": "integer",
            "description": "已拒绝数"
          }
        }
      },
      "TrendData": {
        "type": "object",
        "properties": {
          "period": {
            "type": "string",
            "description": "时间段"
          },
          "enrollments": {
            "type": "number",
            "description": "招生数量"
          },
          "trend": {
            "type": "string",
            "enum": [
              "increasing",
              "decreasing",
              "stable"
            ],
            "description": "趋势"
          }
        }
      },
      "ChannelAnalysis": {
        "type": "object",
        "properties": {
          "channelName": {
            "type": "string",
            "description": "渠道名称"
          },
          "applicationCount": {
            "type": "number",
            "description": "申请数量"
          },
          "conversionRate": {
            "type": "number",
            "description": "转化率"
          },
          "cost": {
            "type": "number",
            "description": "成本"
          },
          "roi": {
            "type": "number",
            "description": "投资回报率"
          },
          "channel": {
            "type": "string",
            "description": "渠道名称",
            "example": "线上推广"
          },
          "customer_count": {
            "type": "integer",
            "description": "客户数量",
            "example": 450
          },
          "converted_count": {
            "type": "integer",
            "description": "转化客户数量",
            "example": 120
          },
          "conversion_rate": {
            "type": "number",
            "description": "转化率（%）",
            "example": 26.7
          }
        },
        "description": "渠道分析数据",
        "required": [
          "channel",
          "customer_count",
          "converted_count",
          "conversion_rate"
        ]
      },
      "EnrollmentTask": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "招生任务ID"
          },
          "title": {
            "type": "string",
            "description": "任务标题"
          },
          "description": {
            "type": "string",
            "description": "任务描述"
          },
          "status": {
            "type": "string",
            "enum": [
              "pending",
              "in_progress",
              "completed",
              "cancelled"
            ],
            "description": "任务状态"
          },
          "priority": {
            "type": "string",
            "enum": [
              "low",
              "medium",
              "high",
              "urgent"
            ],
            "description": "任务优先级"
          },
          "assignedTo": {
            "type": "integer",
            "description": "分配给的用户ID"
          },
          "dueDate": {
            "type": "string",
            "format": "date-time",
            "description": "截止日期"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间"
          }
        }
      },
      "CreateEnrollmentTask": {
        "type": "object",
        "required": [
          "title",
          "description",
          "status",
          "priority"
        ],
        "properties": {
          "title": {
            "type": "string",
            "description": "任务标题"
          },
          "description": {
            "type": "string",
            "description": "任务描述"
          },
          "status": {
            "type": "string",
            "enum": [
              "pending",
              "in_progress",
              "completed",
              "cancelled"
            ],
            "description": "任务状态"
          },
          "priority": {
            "type": "string",
            "enum": [
              "low",
              "medium",
              "high",
              "urgent"
            ],
            "description": "任务优先级"
          },
          "assignedTo": {
            "type": "integer",
            "description": "分配给的用户ID"
          },
          "dueDate": {
            "type": "string",
            "format": "date-time",
            "description": "截止日期"
          }
        }
      },
      "UpdateEnrollmentTask": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string",
            "description": "任务标题"
          },
          "description": {
            "type": "string",
            "description": "任务描述"
          },
          "status": {
            "type": "string",
            "enum": [
              "pending",
              "in_progress",
              "completed",
              "cancelled"
            ],
            "description": "任务状态"
          },
          "priority": {
            "type": "string",
            "enum": [
              "low",
              "medium",
              "high",
              "urgent"
            ],
            "description": "任务优先级"
          },
          "assignedTo": {
            "type": "integer",
            "description": "分配给的用户ID"
          },
          "dueDate": {
            "type": "string",
            "format": "date-time",
            "description": "截止日期"
          }
        }
      },
      "EnrollmentTaskList": {
        "type": "object",
        "properties": {
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/EnrollmentTask"
            }
          },
          "total": {
            "type": "integer",
            "description": "总数"
          },
          "page": {
            "type": "integer",
            "description": "当前页码"
          },
          "pageSize": {
            "type": "integer",
            "description": "每页大小"
          },
          "totalPages": {
            "type": "integer",
            "description": "总页数"
          }
        }
      },
      "EnrollmentOverview": {
        "type": "object",
        "properties": {
          "totalApplications": {
            "type": "integer",
            "description": "招生申请总数"
          },
          "approved": {
            "type": "integer",
            "description": "已通过申请数"
          },
          "pending": {
            "type": "integer",
            "description": "待处理申请数"
          },
          "rejected": {
            "type": "integer",
            "description": "已拒绝申请数"
          },
          "approvalRate": {
            "type": "integer",
            "description": "通过率(百分比)"
          }
        }
      },
      "EnrollmentStats": {
        "type": "object",
        "properties": {
          "totalConsultations": {
            "type": "integer",
            "description": "总咨询数"
          },
          "enrolled": {
            "type": "integer",
            "description": "已录取数"
          },
          "trial": {
            "type": "integer",
            "description": "试读数"
          },
          "conversionRate": {
            "type": "integer",
            "description": "转化率(百分比)"
          }
        }
      },
      "EnrollmentFollowRecord": {
        "type": "object",
        "properties": {
          "applicationId": {
            "type": "integer",
            "description": "申请ID"
          },
          "type": {
            "type": "string",
            "description": "跟进类型"
          },
          "content": {
            "type": "string",
            "description": "跟进内容"
          },
          "nextFollowTime": {
            "type": "string",
            "format": "date-time",
            "description": "下次跟进时间"
          }
        }
      },
      "Enterprise-dashboard": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Enterprise-dashboard ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Enterprise-dashboard 名称",
            "example": "示例Enterprise-dashboard"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateEnterprise-dashboardRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Enterprise-dashboard 名称",
            "example": "新Enterprise-dashboard"
          }
        }
      },
      "UpdateEnterprise-dashboardRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Enterprise-dashboard 名称",
            "example": "更新后的Enterprise-dashboard"
          }
        }
      },
      "Enterprise-dashboardListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Enterprise-dashboard"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取enterprise-dashboard列表成功"
          }
        }
      },
      "Enterprise-dashboardResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Enterprise-dashboard"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Example": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Example ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Example 名称",
            "example": "示例Example"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateExampleRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Example 名称",
            "example": "新Example"
          }
        }
      },
      "UpdateExampleRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Example 名称",
            "example": "更新后的Example"
          }
        }
      },
      "ExampleListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Example"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取example列表成功"
          }
        }
      },
      "ExampleResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Example"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Field-template": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Field-template ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Field-template 名称",
            "example": "示例Field-template"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateField-templateRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Field-template 名称",
            "example": "新Field-template"
          }
        }
      },
      "UpdateField-templateRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Field-template 名称",
            "example": "更新后的Field-template"
          }
        }
      },
      "Field-templateListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Field-template"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取field-template列表成功"
          }
        }
      },
      "Field-templateResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Field-template"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "File": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "文件ID"
          },
          "filename": {
            "type": "string",
            "description": "文件名"
          },
          "original_filename": {
            "type": "string",
            "description": "原始文件名"
          },
          "file_path": {
            "type": "string",
            "description": "文件路径"
          },
          "file_size": {
            "type": "integer",
            "description": "文件大小(字节)"
          },
          "mime_type": {
            "type": "string",
            "description": "文件MIME类型"
          },
          "description": {
            "type": "string",
            "description": "文件描述"
          },
          "category": {
            "type": "string",
            "description": "文件分类"
          },
          "tags": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "文件标签"
          },
          "is_public": {
            "type": "boolean",
            "description": "是否公开"
          },
          "download_count": {
            "type": "integer",
            "description": "下载次数"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间"
          }
        }
      },
      "Pagination": {
        "type": "object",
        "properties": {
          "page": {
            "type": "integer",
            "description": "当前页码"
          },
          "limit": {
            "type": "integer",
            "description": "每页数量"
          },
          "total": {
            "type": "integer",
            "description": "总记录数"
          },
          "total_pages": {
            "type": "integer",
            "description": "总页数"
          }
        }
      },
      "Error": {
        "type": "object",
        "properties": {
          "code": {
            "type": "integer",
            "description": "错误代码"
          },
          "message": {
            "type": "string",
            "description": "错误信息"
          },
          "details": {
            "type": "string",
            "description": "错误详情"
          }
        }
      },
      "Finance": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Finance ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Finance 名称",
            "example": "示例Finance"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateFinanceRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Finance 名称",
            "example": "新Finance"
          }
        }
      },
      "UpdateFinanceRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Finance 名称",
            "example": "更新后的Finance"
          }
        }
      },
      "FinanceListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Finance"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取finance列表成功"
          }
        }
      },
      "FinanceResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Finance"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "CenterMenu": {
        "type": "object",
        "properties": {
          "centerId": {
            "type": "integer",
            "description": "中心ID"
          },
          "centerName": {
            "type": "string",
            "description": "中心名称"
          },
          "deleted": {
            "type": "integer",
            "description": "删除的旧菜单数量"
          },
          "added": {
            "type": "integer",
            "description": "添加的新菜单数量"
          },
          "menus": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "添加的菜单名称列表"
          }
        }
      },
      "PermissionFixResult": {
        "type": "object",
        "properties": {
          "totalDeleted": {
            "type": "integer",
            "description": "总删除数量"
          },
          "totalAdded": {
            "type": "integer",
            "description": "总添加数量"
          },
          "centers": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CenterMenu"
            },
            "description": "各中心的处理结果"
          }
        }
      },
      "Followup-analysi": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Followup-analysi ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Followup-analysi 名称",
            "example": "示例Followup-analysi"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateFollowup-analysiRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Followup-analysi 名称",
            "example": "新Followup-analysi"
          }
        }
      },
      "UpdateFollowup-analysiRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Followup-analysi 名称",
            "example": "更新后的Followup-analysi"
          }
        }
      },
      "Followup-analysiListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Followup-analysi"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取followup-analysi列表成功"
          }
        }
      },
      "Followup-analysiResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Followup-analysi"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Game": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Game ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Game 名称",
            "example": "示例Game"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateGameRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Game 名称",
            "example": "新Game"
          }
        }
      },
      "UpdateGameRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Game 名称",
            "example": "更新后的Game"
          }
        }
      },
      "GameListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Game"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取game列表成功"
          }
        }
      },
      "GameResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Game"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Group": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Group ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Group 名称",
            "example": "示例Group"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateGroupRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Group 名称",
            "example": "新Group"
          }
        }
      },
      "UpdateGroupRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Group 名称",
            "example": "更新后的Group"
          }
        }
      },
      "GroupListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Group"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取group列表成功"
          }
        }
      },
      "GroupResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Group"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Parent": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "家长ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "家长姓名",
            "example": "李四"
          },
          "phone": {
            "type": "string",
            "description": "手机号码",
            "example": "13800138000"
          },
          "relationship": {
            "type": "string",
            "description": "与学生关系",
            "enum": [
              "father",
              "mother",
              "guardian"
            ],
            "example": "father"
          },
          "studentId": {
            "type": "integer",
            "description": "关联学生ID"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "email": {
            "type": "string",
            "description": "邮箱地址",
            "format": "email",
            "example": "parent@example.com"
          },
          "wechat": {
            "type": "string",
            "description": "微信号"
          },
          "idCard": {
            "type": "string",
            "description": "身份证号"
          },
          "address": {
            "type": "string",
            "description": "家庭地址"
          },
          "occupation": {
            "type": "string",
            "description": "职业"
          },
          "emergencyContact": {
            "type": "string",
            "description": "紧急联系方式"
          },
          "remark": {
            "type": "string",
            "description": "备注"
          },
          "status": {
            "type": "string",
            "description": "家长状态",
            "example": "active",
            "enum": [
              "active",
              "inactive"
            ]
          }
        },
        "required": [
          "name",
          "phone",
          "relationship"
        ]
      },
      "Application": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "申请ID"
          },
          "studentName": {
            "type": "string",
            "description": "学生姓名"
          },
          "gender": {
            "type": "string",
            "enum": [
              "male",
              "female"
            ],
            "description": "性别"
          },
          "birthDate": {
            "type": "string",
            "format": "date",
            "description": "出生日期"
          },
          "status": {
            "type": "string",
            "enum": [
              "pending",
              "approved",
              "rejected"
            ],
            "description": "申请状态"
          },
          "applyDate": {
            "type": "string",
            "format": "date-time",
            "description": "申请日期"
          },
          "parent": {
            "type": "object",
            "description": "家长信息"
          }
        }
      },
      "CampusOverview": {
        "type": "object",
        "properties": {
          "totalStudents": {
            "type": "integer",
            "description": "学生总数"
          },
          "totalTeachers": {
            "type": "integer",
            "description": "教师总数"
          },
          "totalClasses": {
            "type": "integer",
            "description": "班级总数"
          },
          "totalActivities": {
            "type": "integer",
            "description": "活动总数"
          },
          "campusArea": {
            "type": "string",
            "description": "校园面积"
          },
          "buildingCount": {
            "type": "integer",
            "description": "建筑数量"
          },
          "playgroundCount": {
            "type": "integer",
            "description": "操场数量"
          },
          "libraryCount": {
            "type": "integer",
            "description": "图书馆数量"
          },
          "lastUpdateTime": {
            "type": "string",
            "format": "date-time",
            "description": "最后更新时间"
          }
        }
      },
      "MarketingAnalysis": {
        "type": "object",
        "properties": {
          "overview": {
            "type": "object",
            "description": "营销概览"
          },
          "channelAnalysis": {
            "type": "object",
            "description": "渠道分析"
          },
          "monthlyTrends": {
            "type": "array",
            "items": {
              "type": "object"
            },
            "description": "月度趋势"
          },
          "topPerformingCampaigns": {
            "type": "array",
            "items": {
              "type": "object"
            },
            "description": "顶级营销活动"
          }
        }
      },
      "Inspection-ai": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Inspection-ai ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Inspection-ai 名称",
            "example": "示例Inspection-ai"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateInspection-aiRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Inspection-ai 名称",
            "example": "新Inspection-ai"
          }
        }
      },
      "UpdateInspection-aiRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Inspection-ai 名称",
            "example": "更新后的Inspection-ai"
          }
        }
      },
      "Inspection-aiListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Inspection-ai"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取inspection-ai列表成功"
          }
        }
      },
      "Inspection-aiResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Inspection-ai"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Inspection-record": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Inspection-record ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Inspection-record 名称",
            "example": "示例Inspection-record"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateInspection-recordRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Inspection-record 名称",
            "example": "新Inspection-record"
          }
        }
      },
      "UpdateInspection-recordRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Inspection-record 名称",
            "example": "更新后的Inspection-record"
          }
        }
      },
      "Inspection-recordListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Inspection-record"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取inspection-record列表成功"
          }
        }
      },
      "Inspection-recordResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Inspection-record"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Inspection-rectification": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Inspection-rectification ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Inspection-rectification 名称",
            "example": "示例Inspection-rectification"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateInspection-rectificationRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Inspection-rectification 名称",
            "example": "新Inspection-rectification"
          }
        }
      },
      "UpdateInspection-rectificationRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Inspection-rectification 名称",
            "example": "更新后的Inspection-rectification"
          }
        }
      },
      "Inspection-rectificationListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Inspection-rectification"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取inspection-rectification列表成功"
          }
        }
      },
      "Inspection-rectificationResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Inspection-rectification"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Inspection": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Inspection ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Inspection 名称",
            "example": "示例Inspection"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateInspectionRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Inspection 名称",
            "example": "新Inspection"
          }
        }
      },
      "UpdateInspectionRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Inspection 名称",
            "example": "更新后的Inspection"
          }
        }
      },
      "InspectionListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Inspection"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取inspection列表成功"
          }
        }
      },
      "InspectionResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Inspection"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Interactive-curriculum": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Interactive-curriculum ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Interactive-curriculum 名称",
            "example": "示例Interactive-curriculum"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateInteractive-curriculumRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Interactive-curriculum 名称",
            "example": "新Interactive-curriculum"
          }
        }
      },
      "UpdateInteractive-curriculumRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Interactive-curriculum 名称",
            "example": "更新后的Interactive-curriculum"
          }
        }
      },
      "Interactive-curriculumListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Interactive-curriculum"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取interactive-curriculum列表成功"
          }
        }
      },
      "Interactive-curriculumResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Interactive-curriculum"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Kindergarten-basic-info": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Kindergarten-basic-info ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Kindergarten-basic-info 名称",
            "example": "示例Kindergarten-basic-info"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateKindergarten-basic-infoRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Kindergarten-basic-info 名称",
            "example": "新Kindergarten-basic-info"
          }
        }
      },
      "UpdateKindergarten-basic-infoRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Kindergarten-basic-info 名称",
            "example": "更新后的Kindergarten-basic-info"
          }
        }
      },
      "Kindergarten-basic-infoListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Kindergarten-basic-info"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取kindergarten-basic-info列表成功"
          }
        }
      },
      "Kindergarten-basic-infoResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Kindergarten-basic-info"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Kindergarten-completenes": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Kindergarten-completenes ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Kindergarten-completenes 名称",
            "example": "示例Kindergarten-completenes"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateKindergarten-completenesRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Kindergarten-completenes 名称",
            "example": "新Kindergarten-completenes"
          }
        }
      },
      "UpdateKindergarten-completenesRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Kindergarten-completenes 名称",
            "example": "更新后的Kindergarten-completenes"
          }
        }
      },
      "Kindergarten-completenesListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Kindergarten-completenes"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取kindergarten-completenes列表成功"
          }
        }
      },
      "Kindergarten-completenesResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Kindergarten-completenes"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Kindergarten": {
        "type": "object",
        "required": [
          "name",
          "address",
          "principal_id"
        ],
        "properties": {
          "id": {
            "type": "integer",
            "description": "Kindergarten ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Kindergarten 名称",
            "maxLength": 100,
            "example": "示例Kindergarten"
          },
          "address": {
            "type": "string",
            "description": "幼儿园地址",
            "maxLength": 255,
            "example": "北京市朝阳区xxx街道xxx号"
          },
          "phone": {
            "type": "string",
            "description": "联系电话",
            "maxLength": 20,
            "example": "010-12345678"
          },
          "email": {
            "type": "string",
            "format": "email",
            "description": "邮箱地址",
            "maxLength": 100,
            "example": "sunshine@kindergarten.com"
          },
          "principal_id": {
            "type": "integer",
            "description": "园长用户ID",
            "example": 5
          },
          "capacity": {
            "type": "integer",
            "description": "幼儿园容量（学生人数）",
            "minimum": 1,
            "example": 200
          },
          "description": {
            "type": "string",
            "description": "幼儿园描述",
            "example": "专注于儿童全面发展的优质幼儿园"
          },
          "established_date": {
            "type": "string",
            "format": "date",
            "description": "建园日期",
            "example": "2020-01-01"
          },
          "status": {
            "type": "string",
            "enum": [
              "active",
              "inactive",
              "pending"
            ],
            "description": "状态",
            "example": "active"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "KindergartenCreateRequest": {
        "type": "object",
        "required": [
          "name",
          "address",
          "principal_id"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "幼儿园名称",
            "maxLength": 100,
            "example": "阳光幼儿园"
          },
          "address": {
            "type": "string",
            "description": "幼儿园地址",
            "maxLength": 255,
            "example": "北京市朝阳区xxx街道xxx号"
          },
          "phone": {
            "type": "string",
            "description": "联系电话",
            "maxLength": 20,
            "example": "010-12345678"
          },
          "email": {
            "type": "string",
            "format": "email",
            "description": "邮箱地址",
            "maxLength": 100,
            "example": "sunshine@kindergarten.com"
          },
          "principal_id": {
            "type": "integer",
            "description": "园长用户ID",
            "example": 5
          },
          "capacity": {
            "type": "integer",
            "description": "幼儿园容量",
            "minimum": 1,
            "example": 200
          },
          "description": {
            "type": "string",
            "description": "幼儿园描述",
            "example": "专注于儿童全面发展的优质幼儿园"
          },
          "established_date": {
            "type": "string",
            "format": "date",
            "description": "建园日期",
            "example": "2020-01-01"
          },
          "status": {
            "type": "string",
            "enum": [
              "active",
              "inactive",
              "pending"
            ],
            "description": "幼儿园状态",
            "default": "active",
            "example": "active"
          }
        }
      },
      "KindergartenUpdateRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "幼儿园名称",
            "maxLength": 100,
            "example": "阳光幼儿园"
          },
          "address": {
            "type": "string",
            "description": "幼儿园地址",
            "maxLength": 255,
            "example": "北京市朝阳区xxx街道xxx号"
          },
          "phone": {
            "type": "string",
            "description": "联系电话",
            "maxLength": 20,
            "example": "010-12345678"
          },
          "email": {
            "type": "string",
            "format": "email",
            "description": "邮箱地址",
            "maxLength": 100,
            "example": "sunshine@kindergarten.com"
          },
          "principal_id": {
            "type": "integer",
            "description": "园长用户ID",
            "example": 5
          },
          "capacity": {
            "type": "integer",
            "description": "幼儿园容量",
            "minimum": 1,
            "example": 200
          },
          "description": {
            "type": "string",
            "description": "幼儿园描述",
            "example": "专注于儿童全面发展的优质幼儿园"
          },
          "established_date": {
            "type": "string",
            "format": "date",
            "description": "建园日期",
            "example": "2020-01-01"
          },
          "status": {
            "type": "string",
            "enum": [
              "active",
              "inactive",
              "pending"
            ],
            "description": "幼儿园状态",
            "example": "active"
          }
        }
      },
      "CreateKindergartenRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Kindergarten 名称",
            "example": "新Kindergarten"
          }
        }
      },
      "UpdateKindergartenRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Kindergarten 名称",
            "example": "更新后的Kindergarten"
          }
        }
      },
      "KindergartenListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Kindergarten"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取kindergarten列表成功"
          }
        }
      },
      "KindergartenResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Kindergarten"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Like-collect-config": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Like-collect-config ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Like-collect-config 名称",
            "example": "示例Like-collect-config"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateLike-collect-configRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Like-collect-config 名称",
            "example": "新Like-collect-config"
          }
        }
      },
      "UpdateLike-collect-configRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Like-collect-config 名称",
            "example": "更新后的Like-collect-config"
          }
        }
      },
      "Like-collect-configListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Like-collect-config"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取like-collect-config列表成功"
          }
        }
      },
      "Like-collect-configResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Like-collect-config"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Like-collect-record": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Like-collect-record ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Like-collect-record 名称",
            "example": "示例Like-collect-record"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateLike-collect-recordRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Like-collect-record 名称",
            "example": "新Like-collect-record"
          }
        }
      },
      "UpdateLike-collect-recordRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Like-collect-record 名称",
            "example": "更新后的Like-collect-record"
          }
        }
      },
      "Like-collect-recordListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Like-collect-record"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取like-collect-record列表成功"
          }
        }
      },
      "Like-collect-recordResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Like-collect-record"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "MarketingCampaign": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "营销活动唯一标识符",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "活动名称",
            "example": "春季招生优惠活动"
          },
          "description": {
            "type": "string",
            "description": "活动详细描述",
            "example": "针对3-6岁幼儿的春季招生优惠政策，包括学费减免和礼品赠送"
          },
          "campaign_type": {
            "type": "string",
            "enum": [
              "online",
              "offline",
              "hybrid"
            ],
            "description": "活动类型"
          },
          "status": {
            "type": "string",
            "enum": [
              "draft",
              "active",
              "paused",
              "completed",
              "cancelled"
            ],
            "description": "活动状态",
            "example": "active"
          },
          "start_date": {
            "type": "string",
            "format": "date-time",
            "description": "开始时间",
            "example": "2024-03-01T00:00:00Z"
          },
          "end_date": {
            "type": "string",
            "format": "date-time",
            "description": "结束时间",
            "example": "2024-03-31T23:59:59Z"
          },
          "budget": {
            "type": "number",
            "description": "活动预算",
            "format": "float",
            "example": 50000
          },
          "target_audience": {
            "type": "string",
            "description": "目标受众",
            "example": "2-4岁幼儿家长"
          },
          "kindergarten_id": {
            "type": "integer",
            "description": "幼儿园ID"
          },
          "kindergarten_name": {
            "type": "string",
            "description": "幼儿园名称"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-02-15T09:00:00Z"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-03-01T15:30:00Z"
          },
          "type": {
            "type": "string",
            "enum": [
              "enrollment",
              "promotion",
              "event",
              "referral",
              "brand"
            ],
            "description": "活动类型",
            "example": "enrollment"
          },
          "actual_cost": {
            "type": "number",
            "format": "float",
            "description": "实际花费",
            "example": 32000
          },
          "channels": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "推广渠道",
            "example": [
              "微信",
              "官方网站",
              "社区推广"
            ]
          },
          "expected_leads": {
            "type": "integer",
            "description": "预期线索数量",
            "example": 200
          },
          "actual_leads": {
            "type": "integer",
            "description": "实际线索数量",
            "example": 186
          },
          "conversion_rate": {
            "type": "number",
            "format": "float",
            "description": "转化率（百分比）",
            "example": 25.5
          },
          "roi": {
            "type": "number",
            "format": "float",
            "description": "投资回报率",
            "example": 3.2
          },
          "created_by": {
            "type": "integer",
            "description": "创建人ID",
            "example": 123
          },
          "creator": {
            "type": "object",
            "description": "创建人信息",
            "properties": {
              "id": {
                "type": "integer",
                "example": 123
              },
              "name": {
                "type": "string",
                "example": "市场部经理"
              },
              "avatar": {
                "type": "string",
                "example": "avatar.jpg"
              }
            }
          },
          "manager_id": {
            "type": "integer",
            "description": "负责人ID",
            "example": 456
          },
          "manager": {
            "type": "object",
            "description": "负责人信息",
            "properties": {
              "id": {
                "type": "integer",
                "example": 456
              },
              "name": {
                "type": "string",
                "example": "张主管"
              },
              "avatar": {
                "type": "string",
                "example": "avatar.jpg"
              }
            }
          },
          "tags": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "活动标签",
            "example": [
              "招生",
              "优惠",
              "春季"
            ]
          },
          "images": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "url": {
                  "type": "string",
                  "example": "http://example.com/campaign-image.jpg"
                },
                "alt": {
                  "type": "string",
                  "example": "春季招生活动宣传图"
                }
              }
            },
            "description": "活动图片"
          },
          "attachments": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string",
                  "example": "活动方案.pdf"
                },
                "url": {
                  "type": "string",
                  "example": "http://example.com/plan.pdf"
                }
              }
            },
            "description": "附件资料"
          }
        }
      },
      "MarketingCampaignROI": {
        "type": "object",
        "properties": {
          "budget": {
            "type": "number",
            "description": "预算金额"
          },
          "spent": {
            "type": "number",
            "description": "已花费金额"
          },
          "total_revenue": {
            "type": "number",
            "description": "总收入"
          },
          "roi_percentage": {
            "type": "number",
            "description": "ROI百分比"
          }
        }
      },
      "MarketingCampaignCreate": {
        "type": "object",
        "required": [
          "name",
          "campaign_type",
          "kindergarten_id"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "活动名称"
          },
          "description": {
            "type": "string",
            "description": "活动描述"
          },
          "campaign_type": {
            "type": "string",
            "enum": [
              "online",
              "offline",
              "hybrid"
            ],
            "description": "活动类型"
          },
          "start_date": {
            "type": "string",
            "format": "date-time",
            "description": "开始日期"
          },
          "end_date": {
            "type": "string",
            "format": "date-time",
            "description": "结束日期"
          },
          "budget": {
            "type": "number",
            "description": "预算金额"
          },
          "target_audience": {
            "type": "string",
            "description": "目标受众"
          },
          "kindergarten_id": {
            "type": "integer",
            "description": "幼儿园ID"
          }
        }
      },
      "CampaignStats": {
        "type": "object",
        "properties": {
          "total_campaigns": {
            "type": "integer",
            "description": "总活动数",
            "example": 25
          },
          "active_campaigns": {
            "type": "integer",
            "description": "进行中的活动数",
            "example": 8
          },
          "completed_campaigns": {
            "type": "integer",
            "description": "已完成的活动数",
            "example": 15
          },
          "total_budget": {
            "type": "number",
            "format": "float",
            "description": "总预算",
            "example": 500000
          },
          "total_spent": {
            "type": "number",
            "format": "float",
            "description": "总花费",
            "example": 420000
          },
          "total_leads": {
            "type": "integer",
            "description": "总线索数",
            "example": 1250
          },
          "avg_conversion_rate": {
            "type": "number",
            "format": "float",
            "description": "平均转化率",
            "example": 28.5
          },
          "avg_roi": {
            "type": "number",
            "format": "float",
            "description": "平均投资回报率",
            "example": 3.8
          },
          "campaigns_this_month": {
            "type": "integer",
            "description": "本月新增活动数",
            "example": 3
          },
          "best_performing_campaign": {
            "type": "object",
            "properties": {
              "id": {
                "type": "integer",
                "example": 1
              },
              "name": {
                "type": "string",
                "example": "秋季招生活动"
              },
              "roi": {
                "type": "number",
                "format": "float",
                "example": 5.2
              }
            },
            "description": "表现最佳的活动"
          },
          "type_distribution": {
            "type": "object",
            "properties": {
              "enrollment": {
                "type": "integer",
                "example": 10
              },
              "promotion": {
                "type": "integer",
                "example": 8
              },
              "event": {
                "type": "integer",
                "example": 4
              },
              "referral": {
                "type": "integer",
                "example": 2
              },
              "brand": {
                "type": "integer",
                "example": 1
              }
            },
            "description": "活动类型分布"
          }
        }
      },
      "CreateCampaignRequest": {
        "type": "object",
        "required": [
          "name",
          "description",
          "type",
          "start_date",
          "end_date",
          "budget"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "活动名称",
            "example": "夏季夏令营活动",
            "minLength": 1,
            "maxLength": 100
          },
          "description": {
            "type": "string",
            "description": "活动详细描述",
            "example": "为期一个月的夏季夏令营活动",
            "maxLength": 1000
          },
          "type": {
            "type": "string",
            "enum": [
              "enrollment",
              "promotion",
              "event",
              "referral",
              "brand"
            ],
            "description": "活动类型",
            "example": "event"
          },
          "start_date": {
            "type": "string",
            "format": "date-time",
            "description": "开始时间",
            "example": "2024-07-01T00:00:00Z"
          },
          "end_date": {
            "type": "string",
            "format": "date-time",
            "description": "结束时间",
            "example": "2024-07-31T23:59:59Z"
          },
          "budget": {
            "type": "number",
            "format": "float",
            "minimum": 0,
            "description": "活动预算",
            "example": 80000
          },
          "target_audience": {
            "type": "string",
            "description": "目标受众",
            "example": "4-6岁幼儿"
          },
          "channels": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "推广渠道",
            "example": [
              "微信公众号",
              "社区海报"
            ]
          },
          "expected_leads": {
            "type": "integer",
            "minimum": 0,
            "description": "预期线索数量",
            "example": 150
          },
          "manager_id": {
            "type": "integer",
            "description": "负责人ID",
            "example": 456
          },
          "tags": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "活动标签",
            "example": [
              "夏令营",
              "暑期",
              "活动"
            ]
          }
        }
      },
      "UpdateCampaignRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "活动名称",
            "example": "更新后的夏季活动",
            "minLength": 1,
            "maxLength": 100
          },
          "description": {
            "type": "string",
            "description": "活动详细描述",
            "example": "更新后的活动描述",
            "maxLength": 1000
          },
          "status": {
            "type": "string",
            "enum": [
              "draft",
              "active",
              "paused",
              "completed",
              "cancelled"
            ],
            "description": "活动状态",
            "example": "completed"
          },
          "start_date": {
            "type": "string",
            "format": "date-time",
            "description": "开始时间",
            "example": "2024-07-01T00:00:00Z"
          },
          "end_date": {
            "type": "string",
            "format": "date-time",
            "description": "结束时间",
            "example": "2024-08-15T23:59:59Z"
          },
          "actual_cost": {
            "type": "number",
            "format": "float",
            "minimum": 0,
            "description": "实际花费",
            "example": 75000
          },
          "actual_leads": {
            "type": "integer",
            "minimum": 0,
            "description": "实际线索数量",
            "example": 142
          },
          "conversion_rate": {
            "type": "number",
            "format": "float",
            "minimum": 0,
            "maximum": 100,
            "description": "转化率（百分比）",
            "example": 22.8
          },
          "roi": {
            "type": "number",
            "format": "float",
            "description": "投资回报率",
            "example": 4.1
          }
        }
      },
      "CampaignListQuery": {
        "type": "object",
        "properties": {
          "page": {
            "type": "integer",
            "minimum": 1,
            "description": "页码",
            "example": 1
          },
          "pageSize": {
            "type": "integer",
            "minimum": 1,
            "maximum": 100,
            "description": "每页数量",
            "example": 20
          },
          "status": {
            "type": "string",
            "enum": [
              "draft",
              "active",
              "paused",
              "completed",
              "cancelled"
            ],
            "description": "按状态筛选",
            "example": "active"
          },
          "type": {
            "type": "string",
            "enum": [
              "enrollment",
              "promotion",
              "event",
              "referral",
              "brand"
            ],
            "description": "按类型筛选",
            "example": "enrollment"
          },
          "manager_id": {
            "type": "integer",
            "description": "按负责人筛选",
            "example": 456
          },
          "date_range": {
            "type": "string",
            "enum": [
              "this_week",
              "this_month",
              "this_quarter",
              "this_year"
            ],
            "description": "时间范围筛选",
            "example": "this_month"
          },
          "keyword": {
            "type": "string",
            "description": "关键词搜索（名称、描述）",
            "example": "春季"
          },
          "sort_by": {
            "type": "string",
            "enum": [
              "created_at",
              "start_date",
              "budget",
              "roi",
              "conversion_rate"
            ],
            "description": "排序字段",
            "example": "roi"
          },
          "sort_order": {
            "type": "string",
            "enum": [
              "asc",
              "desc"
            ],
            "description": "排序顺序",
            "example": "desc"
          }
        }
      },
      "MarketingStatistics": {
        "type": "object",
        "properties": {
          "activeCampaigns": {
            "type": "object",
            "properties": {
              "count": {
                "type": "integer",
                "description": "活跃营销活动数量"
              },
              "change": {
                "type": "string",
                "description": "变化百分比"
              }
            }
          },
          "newCustomers": {
            "type": "object",
            "properties": {
              "count": {
                "type": "integer",
                "description": "本月新客户数量"
              },
              "change": {
                "type": "string",
                "description": "变化百分比"
              }
            }
          },
          "conversionRate": {
            "type": "object",
            "properties": {
              "rate": {
                "type": "number",
                "description": "转化率"
              },
              "change": {
                "type": "string",
                "description": "变化百分比"
              }
            }
          },
          "marketingROI": {
            "type": "object",
            "properties": {
              "roi": {
                "type": "number",
                "description": "营销ROI"
              },
              "change": {
                "type": "string",
                "description": "变化百分比"
              }
            }
          }
        }
      },
      "MarketingCampaignSummary": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "活动ID"
          },
          "title": {
            "type": "string",
            "description": "活动标题"
          },
          "description": {
            "type": "string",
            "description": "活动描述"
          },
          "status": {
            "type": "string",
            "description": "活动状态"
          },
          "startDate": {
            "type": "string",
            "format": "date",
            "description": "开始日期"
          },
          "participantCount": {
            "type": "integer",
            "description": "参与人数"
          },
          "conversionRate": {
            "type": "number",
            "description": "转化率"
          }
        }
      },
      "MarketingChannel": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "渠道名称"
          },
          "icon": {
            "type": "string",
            "description": "渠道图标"
          },
          "monthlyCustomers": {
            "type": "integer",
            "description": "本月获客数"
          },
          "conversionRate": {
            "type": "number",
            "description": "转化率"
          },
          "acquisitionCost": {
            "type": "number",
            "description": "获客成本"
          },
          "status": {
            "type": "string",
            "description": "运行状态"
          }
        }
      },
      "ReferralStats": {
        "type": "object",
        "properties": {
          "newCount": {
            "type": "integer",
            "description": "新增推荐数"
          },
          "completedCount": {
            "type": "integer",
            "description": "完成推荐数"
          },
          "convRate": {
            "type": "number",
            "description": "转化率"
          },
          "topReferrers": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "referrerId": {
                  "type": "integer"
                },
                "count": {
                  "type": "integer"
                }
              }
            }
          }
        }
      },
      "ConversionStats": {
        "type": "object",
        "properties": {
          "summary": {
            "type": "object",
            "properties": {
              "lead": {
                "type": "integer"
              },
              "visit": {
                "type": "integer"
              },
              "aware": {
                "type": "integer"
              },
              "preEnroll": {
                "type": "integer"
              },
              "enroll": {
                "type": "integer"
              }
            }
          },
          "series": {
            "type": "array",
            "items": {
              "type": "object"
            }
          },
          "ranking": {
            "type": "array",
            "items": {
              "type": "object"
            }
          }
        }
      },
      "FunnelStats": {
        "type": "object",
        "properties": {
          "stages": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "code": {
                  "type": "string"
                },
                "name": {
                  "type": "string"
                },
                "count": {
                  "type": "integer"
                }
              }
            }
          },
          "rates": {
            "type": "object",
            "properties": {
              "lead_to_visit": {
                "type": "number"
              },
              "visit_to_aware": {
                "type": "number"
              },
              "aware_to_pre_enroll": {
                "type": "number"
              },
              "pre_enroll_to_paid": {
                "type": "number"
              },
              "overall": {
                "type": "number"
              }
            }
          }
        }
      },
      "Media-center": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Media-center ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Media-center 名称",
            "example": "示例Media-center"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateMedia-centerRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Media-center 名称",
            "example": "新Media-center"
          }
        }
      },
      "UpdateMedia-centerRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Media-center 名称",
            "example": "更新后的Media-center"
          }
        }
      },
      "Media-centerListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Media-center"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取media-center列表成功"
          }
        }
      },
      "Media-centerResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Media-center"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "MessageTemplate": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "消息模板ID"
          },
          "name": {
            "type": "string",
            "description": "模板名称"
          },
          "type": {
            "type": "string",
            "enum": [
              "SMS",
              "EMAIL",
              "PUSH",
              "WECHAT"
            ],
            "description": "消息类型"
          },
          "subject": {
            "type": "string",
            "description": "消息主题（邮件标题等）"
          },
          "content": {
            "type": "string",
            "description": "消息内容模板"
          },
          "variables": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "模板变量列表"
          },
          "status": {
            "type": "string",
            "enum": [
              "ACTIVE",
              "INACTIVE"
            ],
            "description": "模板状态"
          },
          "category": {
            "type": "string",
            "description": "消息分类"
          },
          "description": {
            "type": "string",
            "description": "模板描述"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间"
          }
        },
        "required": [
          "name",
          "type",
          "content"
        ]
      },
      "MessageTemplateInput": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "模板名称",
            "maxLength": 100
          },
          "type": {
            "type": "string",
            "enum": [
              "SMS",
              "EMAIL",
              "PUSH",
              "WECHAT"
            ],
            "description": "消息类型"
          },
          "subject": {
            "type": "string",
            "description": "消息主题",
            "maxLength": 200
          },
          "content": {
            "type": "string",
            "description": "消息内容模板"
          },
          "variables": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "模板变量列表"
          },
          "status": {
            "type": "string",
            "enum": [
              "ACTIVE",
              "INACTIVE"
            ],
            "description": "模板状态",
            "default": "ACTIVE"
          },
          "category": {
            "type": "string",
            "description": "消息分类",
            "maxLength": 50
          },
          "description": {
            "type": "string",
            "description": "模板描述",
            "maxLength": 500
          }
        },
        "required": [
          "name",
          "type",
          "content"
        ]
      },
      "MessageTemplateList": {
        "type": "object",
        "properties": {
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/MessageTemplate"
            }
          },
          "total": {
            "type": "integer",
            "description": "总记录数"
          },
          "page": {
            "type": "integer",
            "description": "当前页码"
          },
          "pageSize": {
            "type": "integer",
            "description": "每页大小"
          },
          "totalPages": {
            "type": "integer",
            "description": "总页数"
          }
        }
      },
      "Migration": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Migration ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Migration 名称",
            "example": "示例Migration"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateMigrationRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Migration 名称",
            "example": "新Migration"
          }
        }
      },
      "UpdateMigrationRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Migration 名称",
            "example": "更新后的Migration"
          }
        }
      },
      "MigrationListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Migration"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取migration列表成功"
          }
        }
      },
      "MigrationResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Migration"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "NotificationStatistics": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "通知ID",
            "example": 123
          },
          "title": {
            "type": "string",
            "description": "通知标题",
            "example": "关于12月份活动安排的通知"
          },
          "type": {
            "type": "string",
            "enum": [
              "general",
              "urgent",
              "academic",
              "activity",
              "health",
              "safety"
            ],
            "description": "通知类型",
            "example": "activity"
          },
          "priority": {
            "type": "string",
            "enum": [
              "low",
              "medium",
              "high",
              "urgent"
            ],
            "description": "优先级",
            "example": "medium"
          },
          "sentAt": {
            "type": "string",
            "format": "date-time",
            "description": "发送时间",
            "example": "2023-12-01T09:00:00Z"
          },
          "totalRecipients": {
            "type": "integer",
            "description": "总接收人数",
            "example": 250
          },
          "readCount": {
            "type": "integer",
            "description": "已读人数",
            "example": 180
          },
          "unreadCount": {
            "type": "integer",
            "description": "未读人数",
            "example": 70
          },
          "readRate": {
            "type": "number",
            "format": "float",
            "description": "阅读率",
            "example": 72
          },
          "senderName": {
            "type": "string",
            "description": "发送者姓名",
            "example": "张园长"
          },
          "status": {
            "type": "string",
            "enum": [
              "draft",
              "sent",
              "scheduled",
              "cancelled"
            ],
            "description": "通知状态",
            "example": "sent"
          },
          "channels": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "enum": [
              "app",
              "sms",
              "email",
              "wechat"
            ],
            "description": "发送渠道",
            "example": [
              "app",
              "sms"
            ]
          }
        }
      },
      "NotificationOverview": {
        "type": "object",
        "properties": {
          "totalNotifications": {
            "type": "integer",
            "description": "总通知数",
            "example": 156
          },
          "sentNotifications": {
            "type": "integer",
            "description": "已发送通知数",
            "example": 142
          },
          "scheduledNotifications": {
            "type": "integer",
            "description": "定时通知数",
            "example": 8
          },
          "draftNotifications": {
            "type": "integer",
            "description": "草稿通知数",
            "example": 6
          },
          "totalRecipients": {
            "type": "integer",
            "description": "总接收人数",
            "example": 3580
          },
          "averageReadRate": {
            "type": "number",
            "format": "float",
            "description": "平均阅读率",
            "example": 78.5
          },
          "urgentNotifications": {
            "type": "integer",
            "description": "紧急通知数",
            "example": 12
          },
          "todaysNotifications": {
            "type": "integer",
            "description": "今日发送通知数",
            "example": 5
          },
          "notificationsByType": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "type": {
                  "type": "string",
                  "example": "activity"
                },
                "count": {
                  "type": "integer",
                  "example": 45
                },
                "readRate": {
                  "type": "number",
                  "format": "float",
                  "example": 82.5
                }
              }
            },
            "description": "按类型统计"
          },
          "notificationsByPriority": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "priority": {
                  "type": "string",
                  "example": "high"
                },
                "count": {
                  "type": "integer",
                  "example": 28
                },
                "readRate": {
                  "type": "number",
                  "format": "float",
                  "example": 91.2
                }
              }
            },
            "description": "按优先级统计"
          }
        }
      },
      "NotificationReader": {
        "type": "object",
        "properties": {
          "userId": {
            "type": "integer",
            "description": "用户ID",
            "example": 456
          },
          "userName": {
            "type": "string",
            "description": "用户姓名",
            "example": "李老师"
          },
          "userRole": {
            "type": "string",
            "enum": [
              "teacher",
              "parent",
              "admin",
              "principal"
            ],
            "description": "用户角色",
            "example": "teacher"
          },
          "readAt": {
            "type": "string",
            "format": "date-time",
            "description": "阅读时间",
            "example": "2023-12-01T09:15:30Z"
          },
          "readDevice": {
            "type": "string",
            "enum": [
              "mobile",
              "desktop",
              "tablet"
            ],
            "description": "阅读设备",
            "example": "mobile"
          },
          "readChannel": {
            "type": "string",
            "enum": [
              "app",
              "sms",
              "email",
              "wechat"
            ],
            "description": "阅读渠道",
            "example": "app"
          },
          "responseStatus": {
            "type": "string",
            "enum": [
              "read",
              "acknowledged",
              "confirmed",
              "declined"
            ],
            "description": "响应状态",
            "example": "acknowledged"
          },
          "responseComment": {
            "type": "string",
            "description": "响应备注",
            "example": "已收到通知，会按时参加"
          }
        }
      },
      "CreateNotificationRequest": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string",
            "description": "通知标题",
            "example": "新消息通知"
          },
          "content": {
            "type": "string",
            "description": "通知内容",
            "example": "您有一条新的消息，请及时查看"
          },
          "type": {
            "type": "string",
            "enum": [
              "info",
              "warning",
              "error",
              "success",
              "health",
              "safety"
            ],
            "description": "通知类型",
            "example": "info"
          },
          "priority": {
            "type": "string",
            "enum": [
              "low",
              "medium",
              "high",
              "urgent"
            ],
            "description": "优先级",
            "example": "medium"
          },
          "recipients": {
            "type": "object",
            "properties": {
              "targetType": {
                "type": "string",
                "enum": [
                  "all",
                  "role",
                  "class",
                  "individual",
                  "custom"
                ],
                "description": "目标类型",
                "example": "class"
              },
              "targetIds": {
                "type": "array",
                "items": {
                  "type": "integer"
                },
                "description": "目标ID列表",
                "example": [
                  1,
                  2,
                  3
                ]
              },
              "customFilters": {
                "type": "object",
                "properties": {
                  "grade": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "example": [
                      "小班",
                      "中班"
                    ]
                  },
                  "ageRange": {
                    "type": "object",
                    "properties": {
                      "min": {
                        "type": "integer",
                        "example": 3
                      },
                      "max": {
                        "type": "integer",
                        "example": 5
                      }
                    }
                  }
                },
                "description": "自定义过滤条件"
              }
            },
            "description": "接收人配置"
          },
          "channels": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "enum": [
              "app",
              "sms",
              "email",
              "wechat"
            ],
            "description": "发送渠道",
            "example": [
              "app",
              "sms"
            ]
          },
          "scheduledAt": {
            "type": "string",
            "format": "date-time",
            "description": "定时发送时间",
            "example": "2023-12-01T18:00:00Z"
          },
          "attachments": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string",
                  "example": "活动安排表.pdf"
                },
                "url": {
                  "type": "string",
                  "example": "https://example.com/attachment.pdf"
                },
                "size": {
                  "type": "integer",
                  "example": 1024576
                }
              }
            },
            "description": "附件列表"
          },
          "requireConfirmation": {
            "type": "boolean",
            "description": "是否需要确认",
            "default": false,
            "example": true
          },
          "user_id": {
            "type": "integer",
            "description": "接收用户ID",
            "example": 123
          }
        },
        "required": [
          "title",
          "content",
          "type",
          "user_id"
        ]
      },
      "Notification": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "通知唯一标识符",
            "example": 1
          },
          "title": {
            "type": "string",
            "description": "通知标题",
            "example": "新消息通知"
          },
          "content": {
            "type": "string",
            "description": "通知内容",
            "example": "您有一条新的消息，请及时查看"
          },
          "type": {
            "type": "string",
            "description": "通知类型",
            "enum": [
              "info",
              "warning",
              "error",
              "success"
            ],
            "example": "info"
          },
          "user_id": {
            "type": "integer",
            "description": "接收用户ID",
            "example": 123
          },
          "is_read": {
            "type": "boolean",
            "description": "是否已读",
            "example": false
          },
          "read_at": {
            "type": "string",
            "format": "date-time",
            "description": "阅读时间",
            "nullable": true,
            "example": "2024-01-01T12:00:00Z"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T10:00:00Z"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T10:00:00Z"
          }
        }
      },
      "NotificationListResponse": {
        "type": "object",
        "properties": {
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Notification"
            }
          },
          "total": {
            "type": "integer",
            "description": "总数量",
            "example": 10
          },
          "page": {
            "type": "integer",
            "description": "当前页码",
            "example": 1
          },
          "pageSize": {
            "type": "integer",
            "description": "每页数量",
            "example": 10
          },
          "totalPages": {
            "type": "integer",
            "description": "总页数",
            "example": 1
          }
        }
      },
      "UnreadCountResponse": {
        "type": "object",
        "properties": {
          "unread_count": {
            "type": "integer",
            "description": "未读通知数量",
            "example": 5
          }
        }
      },
      "UpdateNotificationRequest": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string",
            "description": "通知标题",
            "example": "更新的通知标题"
          },
          "content": {
            "type": "string",
            "description": "通知内容",
            "example": "更新的通知内容"
          },
          "type": {
            "type": "string",
            "description": "通知类型",
            "enum": [
              "info",
              "warning",
              "error",
              "success"
            ],
            "example": "warning"
          }
        }
      },
      "OperationLog": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "操作日志ID"
          },
          "action": {
            "type": "string",
            "description": "操作类型"
          },
          "module": {
            "type": "string",
            "description": "操作模块 (如: user, student, teacher等)"
          },
          "targetType": {
            "type": "string",
            "nullable": true,
            "description": "操作目标类型"
          },
          "targetId": {
            "type": "integer",
            "nullable": true,
            "description": "操作目标ID"
          },
          "details": {
            "type": "string",
            "nullable": true,
            "description": "操作详情"
          },
          "result": {
            "type": "string",
            "description": "操作结果 (success, failed等)",
            "default": "success"
          },
          "userId": {
            "type": "integer",
            "nullable": true,
            "description": "操作用户ID"
          },
          "ip": {
            "type": "string",
            "nullable": true,
            "description": "IP地址"
          },
          "userAgent": {
            "type": "string",
            "nullable": true,
            "description": "用户代理信息"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间"
          },
          "resource": {
            "type": "string",
            "description": "操作资源"
          },
          "user_id": {
            "type": "integer",
            "description": "操作用户ID"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间"
          }
        }
      },
      "CreateOperationLogRequest": {
        "type": "object",
        "required": [
          "action",
          "module"
        ],
        "properties": {
          "action": {
            "type": "string",
            "description": "操作类型",
            "example": "create"
          },
          "module": {
            "type": "string",
            "description": "操作模块",
            "example": "user"
          },
          "targetType": {
            "type": "string",
            "description": "操作目标类型",
            "example": "User"
          },
          "targetId": {
            "type": "integer",
            "description": "操作目标ID",
            "example": 123
          },
          "details": {
            "type": "string",
            "description": "操作详情 (JSON格式)",
            "example": "{\"name\": \"新用户\", \"role\": \"teacher\"}"
          },
          "result": {
            "type": "string",
            "description": "操作结果",
            "example": "success"
          },
          "userId": {
            "type": "integer",
            "description": "操作用户ID",
            "example": 1
          },
          "ip": {
            "type": "string",
            "description": "操作者IP地址",
            "example": "192.168.1.100"
          },
          "userAgent": {
            "type": "string",
            "description": "用户代理信息",
            "example": "Mozilla/5.0..."
          }
        }
      },
      "OperationLogsResponse": {
        "type": "object",
        "properties": {
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/OperationLog"
            }
          },
          "total": {
            "type": "integer",
            "description": "总记录数"
          },
          "page": {
            "type": "integer",
            "description": "当前页码"
          },
          "pageSize": {
            "type": "integer",
            "description": "每页记录数"
          },
          "totalPages": {
            "type": "integer",
            "description": "总页数"
          }
        }
      },
      "Organization-statu": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Organization-statu ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Organization-statu 名称",
            "example": "示例Organization-statu"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateOrganization-statuRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Organization-statu 名称",
            "example": "新Organization-statu"
          }
        }
      },
      "UpdateOrganization-statuRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Organization-statu 名称",
            "example": "更新后的Organization-statu"
          }
        }
      },
      "Organization-statuListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Organization-statu"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取organization-statu列表成功"
          }
        }
      },
      "Organization-statuResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Organization-statu"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Page-guide-section": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Page-guide-section ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Page-guide-section 名称",
            "example": "示例Page-guide-section"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreatePage-guide-sectionRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Page-guide-section 名称",
            "example": "新Page-guide-section"
          }
        }
      },
      "UpdatePage-guide-sectionRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Page-guide-section 名称",
            "example": "更新后的Page-guide-section"
          }
        }
      },
      "Page-guide-sectionListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Page-guide-section"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取page-guide-section列表成功"
          }
        }
      },
      "Page-guide-sectionResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Page-guide-section"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Page-guide": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Page-guide ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Page-guide 名称",
            "example": "示例Page-guide"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreatePage-guideRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Page-guide 名称",
            "example": "新Page-guide"
          }
        }
      },
      "UpdatePage-guideRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Page-guide 名称",
            "example": "更新后的Page-guide"
          }
        }
      },
      "Page-guideListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Page-guide"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取page-guide列表成功"
          }
        }
      },
      "Page-guideResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Page-guide"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Page-permission": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Page-permission ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Page-permission 名称",
            "example": "示例Page-permission"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreatePage-permissionRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Page-permission 名称",
            "example": "新Page-permission"
          }
        }
      },
      "UpdatePage-permissionRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Page-permission 名称",
            "example": "更新后的Page-permission"
          }
        }
      },
      "Page-permissionListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Page-permission"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取page-permission列表成功"
          }
        }
      },
      "Page-permissionResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Page-permission"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "ParentStudentRelation": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "关系ID",
            "example": 1001
          },
          "parentId": {
            "type": "integer",
            "description": "家长ID"
          },
          "studentId": {
            "type": "integer",
            "description": "学生ID",
            "example": 123
          },
          "relationshipType": {
            "type": "string",
            "enum": [
              "father",
              "mother",
              "guardian",
              "other"
            ],
            "description": "关系类型"
          },
          "isEmergencyContact": {
            "type": "boolean",
            "description": "是否为紧急联系人"
          },
          "isPickupAuthorized": {
            "type": "boolean",
            "description": "是否有接送权限"
          },
          "notes": {
            "type": "string",
            "description": "备注信息"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-15T10:30:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-15T10:30:00.000Z"
          },
          "userId": {
            "type": "integer",
            "description": "家长用户ID",
            "example": 15
          },
          "relationship": {
            "type": "string",
            "maxLength": 20,
            "description": "与学生关系",
            "example": "父亲",
            "enum": [
              "父亲",
              "母亲",
              "爷爷",
              "奶奶",
              "外公",
              "外婆",
              "其他监护人"
            ]
          },
          "isPrimaryContact": {
            "type": "integer",
            "enum": [
              0,
              1
            ],
            "description": "是否主要联系人 (0:否 1:是)",
            "example": 1
          },
          "isLegalGuardian": {
            "type": "integer",
            "enum": [
              0,
              1
            ],
            "description": "是否法定监护人 (0:否 1:是)",
            "example": 1
          },
          "idCardNo": {
            "type": "string",
            "maxLength": 18,
            "nullable": true,
            "description": "身份证号",
            "example": "110101199001011234"
          },
          "workUnit": {
            "type": "string",
            "maxLength": 100,
            "nullable": true,
            "description": "工作单位",
            "example": "北京某某公司"
          },
          "occupation": {
            "type": "string",
            "maxLength": 50,
            "nullable": true,
            "description": "职业",
            "example": "工程师"
          },
          "education": {
            "type": "string",
            "maxLength": 50,
            "nullable": true,
            "description": "学历",
            "example": "本科"
          },
          "address": {
            "type": "string",
            "maxLength": 200,
            "nullable": true,
            "description": "居住地址",
            "example": "北京市朝阳区某某街道"
          },
          "remark": {
            "type": "string",
            "maxLength": 500,
            "nullable": true,
            "description": "备注信息",
            "example": "紧急联系人，可随时联系"
          },
          "creatorId": {
            "type": "integer",
            "nullable": true,
            "description": "创建人ID",
            "example": 1
          },
          "updaterId": {
            "type": "integer",
            "nullable": true,
            "description": "更新人ID",
            "example": 1
          },
          "deletedAt": {
            "type": "string",
            "format": "date-time",
            "nullable": true,
            "description": "删除时间",
            "example": null
          }
        },
        "required": [
          "userId",
          "studentId",
          "relationship"
        ]
      },
      "UpdateParentStudentRelationRequest": {
        "type": "object",
        "properties": {
          "relationshipType": {
            "type": "string",
            "enum": [
              "father",
              "mother",
              "guardian",
              "other"
            ],
            "description": "关系类型"
          },
          "isEmergencyContact": {
            "type": "boolean",
            "description": "是否为紧急联系人"
          },
          "isPickupAuthorized": {
            "type": "boolean",
            "description": "是否有接送权限"
          },
          "notes": {
            "type": "string",
            "description": "备注信息"
          },
          "relationship": {
            "type": "string",
            "description": "与学生关系",
            "example": "父亲"
          },
          "isPrimaryContact": {
            "type": "integer",
            "enum": [
              0,
              1
            ],
            "description": "是否主要联系人",
            "example": 1
          },
          "isLegalGuardian": {
            "type": "integer",
            "enum": [
              0,
              1
            ],
            "description": "是否法定监护人",
            "example": 1
          },
          "idCardNo": {
            "type": "string",
            "description": "身份证号",
            "example": "110101199001011234"
          },
          "workUnit": {
            "type": "string",
            "description": "工作单位",
            "example": "北京某某公司"
          },
          "occupation": {
            "type": "string",
            "description": "职业",
            "example": "工程师"
          },
          "education": {
            "type": "string",
            "description": "学历",
            "example": "本科"
          },
          "address": {
            "type": "string",
            "description": "居住地址",
            "example": "北京市朝阳区某某街道"
          },
          "remark": {
            "type": "string",
            "description": "备注信息",
            "example": "紧急联系人，可随时联系"
          }
        }
      },
      "AddParentStudentRequest": {
        "type": "object",
        "properties": {
          "studentId": {
            "type": "integer",
            "description": "学生ID"
          },
          "relationshipType": {
            "type": "string",
            "enum": [
              "father",
              "mother",
              "guardian",
              "other"
            ],
            "description": "关系类型"
          },
          "isEmergencyContact": {
            "type": "boolean",
            "description": "是否为紧急联系人",
            "default": false
          },
          "isPickupAuthorized": {
            "type": "boolean",
            "description": "是否有接送权限",
            "default": true
          },
          "notes": {
            "type": "string",
            "description": "备注信息"
          }
        },
        "required": [
          "studentId",
          "relationshipType"
        ]
      },
      "CreateParentStudentRelationRequest": {
        "type": "object",
        "required": [
          "userId",
          "studentId",
          "relationship"
        ],
        "properties": {
          "userId": {
            "type": "integer",
            "description": "家长用户ID",
            "example": 15
          },
          "studentId": {
            "type": "integer",
            "description": "学生ID",
            "example": 123
          },
          "relationship": {
            "type": "string",
            "description": "与学生关系",
            "example": "父亲"
          },
          "isPrimaryContact": {
            "type": "integer",
            "enum": [
              0,
              1
            ],
            "default": 0,
            "description": "是否主要联系人",
            "example": 1
          },
          "isLegalGuardian": {
            "type": "integer",
            "enum": [
              0,
              1
            ],
            "default": 0,
            "description": "是否法定监护人",
            "example": 1
          },
          "idCardNo": {
            "type": "string",
            "description": "身份证号",
            "example": "110101199001011234"
          },
          "workUnit": {
            "type": "string",
            "description": "工作单位",
            "example": "北京某某公司"
          },
          "occupation": {
            "type": "string",
            "description": "职业",
            "example": "工程师"
          },
          "education": {
            "type": "string",
            "description": "学历",
            "example": "本科"
          },
          "address": {
            "type": "string",
            "description": "居住地址",
            "example": "北京市朝阳区某某街道"
          },
          "remark": {
            "type": "string",
            "description": "备注信息",
            "example": "紧急联系人，可随时联系"
          }
        }
      },
      "ParentStudentRelationWithDetails": {
        "allOf": [
          {
            "$ref": "#/components/schemas/ParentStudentRelation"
          },
          {
            "type": "object",
            "properties": {
              "user": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "integer",
                    "description": "用户ID",
                    "example": 15
                  },
                  "name": {
                    "type": "string",
                    "description": "家长姓名",
                    "example": "张三"
                  },
                  "phone": {
                    "type": "string",
                    "description": "手机号码",
                    "example": "13800138000"
                  },
                  "email": {
                    "type": "string",
                    "format": "email",
                    "description": "邮箱地址",
                    "example": "zhangsan@example.com"
                  },
                  "avatar": {
                    "type": "string",
                    "description": "头像URL",
                    "example": "https://example.com/avatar.jpg"
                  }
                },
                "description": "家长用户信息"
              },
              "student": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "integer",
                    "description": "学生ID",
                    "example": 123
                  },
                  "name": {
                    "type": "string",
                    "description": "学生姓名",
                    "example": "张小明"
                  },
                  "studentNo": {
                    "type": "string",
                    "description": "学号",
                    "example": "ST001"
                  },
                  "className": {
                    "type": "string",
                    "description": "班级名称",
                    "example": "小班A"
                  },
                  "gender": {
                    "type": "integer",
                    "description": "性别 (1:男 2:女)",
                    "example": 1
                  },
                  "birthDate": {
                    "type": "string",
                    "format": "date",
                    "description": "出生日期",
                    "example": "2019-05-15"
                  }
                },
                "description": "学生信息"
              }
            }
          }
        ]
      },
      "ParentStudent": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "关系记录ID"
          },
          "parentId": {
            "type": "integer",
            "description": "家长ID"
          },
          "studentId": {
            "type": "integer",
            "description": "学生ID"
          },
          "relationship": {
            "type": "string",
            "enum": [
              "father",
              "mother",
              "guardian"
            ],
            "description": "与学生关系"
          },
          "isEmergencyContact": {
            "type": "boolean",
            "description": "是否为紧急联系人"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间"
          },
          "parent": {
            "$ref": "#/components/schemas/Parent"
          },
          "student": {
            "$ref": "#/components/schemas/Student"
          }
        }
      },
      "Child": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "子女ID"
          },
          "parentId": {
            "type": "integer",
            "description": "家长ID"
          },
          "name": {
            "type": "string",
            "description": "子女姓名"
          },
          "gender": {
            "type": "string",
            "enum": [
              "male",
              "female"
            ],
            "description": "性别"
          },
          "birthDate": {
            "type": "string",
            "format": "date",
            "description": "出生日期"
          },
          "classId": {
            "type": "integer",
            "description": "班级ID"
          },
          "class": {
            "type": "object",
            "properties": {
              "id": {
                "type": "integer"
              },
              "name": {
                "type": "string"
              },
              "grade": {
                "type": "string"
              }
            }
          },
          "relationship": {
            "type": "string",
            "description": "关系"
          },
          "enrollmentDate": {
            "type": "string",
            "format": "date",
            "description": "入学日期"
          }
        }
      },
      "Communication": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "沟通记录ID"
          },
          "parentId": {
            "type": "integer",
            "description": "家长ID"
          },
          "teacherId": {
            "type": "integer",
            "description": "老师ID"
          },
          "teacher": {
            "type": "object",
            "properties": {
              "id": {
                "type": "integer"
              },
              "name": {
                "type": "string"
              },
              "subject": {
                "type": "string"
              }
            }
          },
          "type": {
            "type": "string",
            "enum": [
              "phone",
              "wechat",
              "email",
              "visit"
            ],
            "description": "沟通方式"
          },
          "topic": {
            "type": "string",
            "description": "沟通主题"
          },
          "content": {
            "type": "string",
            "description": "沟通内容"
          },
          "communicationDate": {
            "type": "string",
            "format": "date",
            "description": "沟通日期"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "记录创建时间"
          }
        }
      },
      "CreateParentRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Parent 名称",
            "example": "新Parent"
          }
        }
      },
      "UpdateParentRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Parent 名称",
            "example": "更新后的Parent"
          }
        }
      },
      "ParentListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Parent"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取parent列表成功"
          }
        }
      },
      "ParentResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Parent"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Performance-evaluation": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Performance-evaluation ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Performance-evaluation 名称",
            "example": "示例Performance-evaluation"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreatePerformance-evaluationRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Performance-evaluation 名称",
            "example": "新Performance-evaluation"
          }
        }
      },
      "UpdatePerformance-evaluationRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Performance-evaluation 名称",
            "example": "更新后的Performance-evaluation"
          }
        }
      },
      "Performance-evaluationListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Performance-evaluation"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取performance-evaluation列表成功"
          }
        }
      },
      "Performance-evaluationResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Performance-evaluation"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "PerformanceEvaluation": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "性能评估ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "评估名称",
            "example": "Q1季度教师绩效评估"
          },
          "description": {
            "type": "string",
            "description": "评估描述",
            "example": "第一季度教师教学和管理绩效评估"
          },
          "evaluationType": {
            "type": "string",
            "enum": [
              "teacher",
              "student",
              "staff",
              "system"
            ],
            "description": "评估类型",
            "example": "teacher"
          },
          "status": {
            "type": "string",
            "enum": [
              "draft",
              "active",
              "completed",
              "archived"
            ],
            "description": "评估状态",
            "example": "active"
          },
          "startDate": {
            "type": "string",
            "format": "date",
            "description": "评估开始日期",
            "example": "2024-01-01"
          },
          "endDate": {
            "type": "string",
            "format": "date",
            "description": "评估结束日期",
            "example": "2024-03-31"
          },
          "criteria": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string",
                  "description": "评估标准名称"
                },
                "weight": {
                  "type": "number",
                  "description": "权重"
                },
                "maxScore": {
                  "type": "number",
                  "description": "最高分数"
                }
              }
            },
            "description": "评估标准"
          },
          "createdBy": {
            "type": "integer",
            "description": "创建者ID",
            "example": 1
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间"
          }
        }
      },
      "PerformanceEvaluationList": {
        "type": "object",
        "properties": {
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PerformanceEvaluation"
            }
          },
          "total": {
            "type": "integer",
            "description": "总数量",
            "example": 0
          },
          "page": {
            "type": "integer",
            "description": "当前页码",
            "example": 1
          },
          "pageSize": {
            "type": "integer",
            "description": "每页数量",
            "example": 10
          },
          "totalPages": {
            "type": "integer",
            "description": "总页数",
            "example": 0
          }
        }
      },
      "CreatePerformanceEvaluationRequest": {
        "type": "object",
        "required": [
          "name",
          "evaluationType",
          "startDate",
          "endDate"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "评估名称",
            "example": "Q1季度教师绩效评估"
          },
          "description": {
            "type": "string",
            "description": "评估描述",
            "example": "第一季度教师教学和管理绩效评估"
          },
          "evaluationType": {
            "type": "string",
            "enum": [
              "teacher",
              "student",
              "staff",
              "system"
            ],
            "description": "评估类型",
            "example": "teacher"
          },
          "startDate": {
            "type": "string",
            "format": "date",
            "description": "评估开始日期",
            "example": "2024-01-01"
          },
          "endDate": {
            "type": "string",
            "format": "date",
            "description": "评估结束日期",
            "example": "2024-03-31"
          },
          "criteria": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string",
                  "description": "评估标准名称"
                },
                "weight": {
                  "type": "number",
                  "description": "权重"
                },
                "maxScore": {
                  "type": "number",
                  "description": "最高分数"
                }
              }
            },
            "description": "评估标准"
          }
        }
      },
      "UpdatePerformanceEvaluationRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "评估名称",
            "example": "Q1季度教师绩效评估"
          },
          "description": {
            "type": "string",
            "description": "评估描述",
            "example": "第一季度教师教学和管理绩效评估"
          },
          "status": {
            "type": "string",
            "enum": [
              "draft",
              "active",
              "completed",
              "archived"
            ],
            "description": "评估状态",
            "example": "active"
          },
          "startDate": {
            "type": "string",
            "format": "date",
            "description": "评估开始日期",
            "example": "2024-01-01"
          },
          "endDate": {
            "type": "string",
            "format": "date",
            "description": "评估结束日期",
            "example": "2024-03-31"
          },
          "criteria": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string",
                  "description": "评估标准名称"
                },
                "weight": {
                  "type": "number",
                  "description": "权重"
                },
                "maxScore": {
                  "type": "number",
                  "description": "最高分数"
                }
              }
            },
            "description": "评估标准"
          }
        }
      },
      "Performance-report": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Performance-report ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Performance-report 名称",
            "example": "示例Performance-report"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreatePerformance-reportRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Performance-report 名称",
            "example": "新Performance-report"
          }
        }
      },
      "UpdatePerformance-reportRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Performance-report 名称",
            "example": "更新后的Performance-report"
          }
        }
      },
      "Performance-reportListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Performance-report"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取performance-report列表成功"
          }
        }
      },
      "Performance-reportResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Performance-report"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "PerformanceReport": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "性能报告ID"
          },
          "title": {
            "type": "string",
            "description": "报告标题"
          },
          "type": {
            "type": "string",
            "enum": [
              "daily",
              "weekly",
              "monthly",
              "quarterly",
              "yearly"
            ],
            "description": "报告类型"
          },
          "period": {
            "type": "object",
            "description": "报告周期",
            "properties": {
              "startDate": {
                "type": "string",
                "format": "date",
                "description": "开始日期"
              },
              "endDate": {
                "type": "string",
                "format": "date",
                "description": "结束日期"
              }
            }
          },
          "metrics": {
            "type": "object",
            "description": "性能指标",
            "properties": {
              "totalStudents": {
                "type": "integer",
                "description": "总学生数"
              },
              "averageScore": {
                "type": "number",
                "description": "平均成绩"
              },
              "improvementRate": {
                "type": "number",
                "description": "提升率"
              }
            }
          },
          "status": {
            "type": "string",
            "enum": [
              "generating",
              "completed",
              "failed"
            ],
            "description": "报告状态"
          },
          "fileUrl": {
            "type": "string",
            "description": "报告文件下载链接"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间"
          },
          "overview": {
            "type": "object",
            "properties": {
              "period": {
                "type": "string",
                "description": "报告周期",
                "example": "过去7天"
              },
              "totalRequests": {
                "type": "integer",
                "example": 2400
              },
              "totalTokens": {
                "type": "integer",
                "example": 375000
              },
              "totalCost": {
                "type": "number",
                "format": "float",
                "example": 937.5
              }
            }
          },
          "performanceMetrics": {
            "type": "object",
            "properties": {
              "responseTime": {
                "type": "object",
                "properties": {
                  "average": {
                    "type": "number",
                    "format": "float",
                    "example": 1250.75
                  },
                  "p50": {
                    "type": "number",
                    "format": "float",
                    "example": 1100
                  },
                  "p95": {
                    "type": "number",
                    "format": "float",
                    "example": 2100.5
                  },
                  "p99": {
                    "type": "number",
                    "format": "float",
                    "example": 3500.25
                  }
                }
              },
              "throughput": {
                "type": "number",
                "format": "float",
                "description": "每秒处理请求数",
                "example": 2.5
              },
              "errorRate": {
                "type": "number",
                "format": "float",
                "description": "错误率百分比",
                "example": 1.5
              }
            }
          },
          "modelPerformance": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "model": {
                  "type": "string",
                  "example": "gpt-4"
                },
                "avgResponseTime": {
                  "type": "number",
                  "format": "float",
                  "example": 1650.25
                },
                "successRate": {
                  "type": "number",
                  "format": "float",
                  "example": 99.2
                },
                "tokenEfficiency": {
                  "type": "number",
                  "format": "float",
                  "description": "token效率评分",
                  "example": 8.7
                }
              }
            }
          },
          "recommendations": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "性能优化建议",
            "example": [
              "考虑使用gpt-3.5-turbo处理简单任务以降低成本",
              "优化提示词以减少token使用量"
            ]
          }
        },
        "example": {
          "id": "report_001",
          "title": "2024年第一季度性能报告",
          "type": "quarterly",
          "period": {
            "startDate": "2024-01-01",
            "endDate": "2024-03-31"
          },
          "metrics": {
            "totalStudents": 120,
            "averageScore": 85.5,
            "improvementRate": 12.3
          },
          "status": "completed",
          "fileUrl": "/reports/report_001.pdf",
          "createdAt": "2024-04-01T00:00:00Z",
          "updatedAt": "2024-04-01T00:00:00Z"
        }
      },
      "CreatePerformanceReportRequest": {
        "type": "object",
        "required": [
          "title",
          "type",
          "period"
        ],
        "properties": {
          "title": {
            "type": "string",
            "description": "报告标题"
          },
          "type": {
            "type": "string",
            "enum": [
              "daily",
              "weekly",
              "monthly",
              "quarterly",
              "yearly"
            ],
            "description": "报告类型"
          },
          "period": {
            "type": "object",
            "required": [
              "startDate",
              "endDate"
            ],
            "properties": {
              "startDate": {
                "type": "string",
                "format": "date",
                "description": "开始日期"
              },
              "endDate": {
                "type": "string",
                "format": "date",
                "description": "结束日期"
              }
            }
          },
          "includeMetrics": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "包含的指标类型"
          },
          "targetGroups": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "目标群体"
          }
        },
        "example": {
          "title": "2024年第一季度性能报告",
          "type": "quarterly",
          "period": {
            "startDate": "2024-01-01",
            "endDate": "2024-03-31"
          },
          "includeMetrics": [
            "scores",
            "attendance",
            "improvement"
          ],
          "targetGroups": [
            "class_001",
            "class_002"
          ]
        }
      },
      "Performance-rule": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Performance-rule ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Performance-rule 名称",
            "example": "示例Performance-rule"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreatePerformance-ruleRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Performance-rule 名称",
            "example": "新Performance-rule"
          }
        }
      },
      "UpdatePerformance-ruleRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Performance-rule 名称",
            "example": "更新后的Performance-rule"
          }
        }
      },
      "Performance-ruleListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Performance-rule"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取performance-rule列表成功"
          }
        }
      },
      "Performance-ruleResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Performance-rule"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "PerformanceOverview": {
        "type": "object",
        "properties": {
          "totalTeachers": {
            "type": "integer",
            "description": "总教师数量",
            "example": 25
          },
          "totalEvaluations": {
            "type": "integer",
            "description": "总评估数量",
            "example": 150
          },
          "averageScore": {
            "type": "integer",
            "description": "平均分数",
            "example": 85
          },
          "distribution": {
            "type": "object",
            "properties": {
              "excellent": {
                "type": "integer",
                "description": "优秀数量 (90分以上)",
                "example": 45
              },
              "good": {
                "type": "integer",
                "description": "良好数量 (80-89分)",
                "example": 60
              },
              "pass": {
                "type": "integer",
                "description": "及格数量 (60-79分)",
                "example": 35
              },
              "fail": {
                "type": "integer",
                "description": "不及格数量 (60分以下)",
                "example": 10
              }
            }
          }
        }
      },
      "SystemMetrics": {
        "type": "object",
        "properties": {
          "cpu": {
            "type": "object",
            "properties": {
              "usage": {
                "type": "object",
                "description": "CPU使用情况"
              },
              "loadAverage": {
                "type": "array",
                "items": {
                  "type": "number"
                },
                "description": "系统负载平均值",
                "example": [
                  0.5,
                  0.7,
                  0.8
                ]
              },
              "cores": {
                "type": "integer",
                "description": "CPU核心数",
                "example": 4
              }
            }
          },
          "memory": {
            "type": "object",
            "properties": {
              "total": {
                "type": "integer",
                "description": "总内存 (字节)",
                "example": 8589934592
              },
              "free": {
                "type": "integer",
                "description": "空闲内存 (字节)",
                "example": 2147483648
              },
              "used": {
                "type": "integer",
                "description": "已使用内存 (字节)",
                "example": 6442450944
              },
              "usage": {
                "type": "string",
                "description": "内存使用率",
                "example": "75.00%"
              }
            }
          },
          "uptime": {
            "type": "object",
            "properties": {
              "system": {
                "type": "number",
                "description": "系统运行时间 (秒)",
                "example": 3600
              },
              "process": {
                "type": "number",
                "description": "进程运行时间 (秒)",
                "example": 1800
              }
            }
          },
          "platform": {
            "type": "string",
            "description": "操作系统平台",
            "example": "linux"
          },
          "arch": {
            "type": "string",
            "description": "系统架构",
            "example": "x64"
          },
          "hostname": {
            "type": "string",
            "description": "主机名",
            "example": "server-01"
          }
        }
      },
      "DatabasePerformance": {
        "type": "object",
        "properties": {
          "connections": {
            "type": "array",
            "items": {
              "type": "object"
            },
            "description": "数据库连接状态"
          },
          "status": {
            "type": "string",
            "description": "数据库状态",
            "example": "connected"
          }
        }
      },
      "Permission": {
        "type": "object",
        "required": [
          "code",
          "name"
        ],
        "properties": {
          "id": {
            "type": "integer",
            "description": "Permission ID",
            "example": 1
          },
          "code": {
            "type": "string",
            "description": "权限代码，唯一标识",
            "example": "user:create"
          },
          "name": {
            "type": "string",
            "description": "Permission 名称",
            "example": "示例Permission"
          },
          "type": {
            "type": "string",
            "default": "menu",
            "description": "权限类型",
            "example": "menu"
          },
          "path": {
            "type": "string",
            "description": "权限路径",
            "example": "/users/create"
          },
          "component": {
            "type": "string",
            "nullable": true,
            "description": "组件路径",
            "example": "UserCreate.vue"
          },
          "icon": {
            "type": "string",
            "nullable": true,
            "description": "图标",
            "example": "user-plus"
          },
          "parentId": {
            "type": "integer",
            "nullable": true,
            "description": "父权限ID"
          },
          "sort": {
            "type": "integer",
            "default": 0,
            "description": "排序"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "UserPage": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "页面权限ID"
          },
          "name": {
            "type": "string",
            "description": "页面名称"
          },
          "code": {
            "type": "string",
            "description": "页面代码"
          },
          "path": {
            "type": "string",
            "description": "页面路径"
          },
          "icon": {
            "type": "string",
            "description": "页面图标"
          }
        }
      },
      "CreatePermissionRequest": {
        "type": "object",
        "required": [
          "name",
          "name"
        ],
        "properties": {
          "code": {
            "type": "string",
            "description": "权限代码，唯一标识",
            "example": "user:create"
          },
          "name": {
            "type": "string",
            "description": "Permission 名称",
            "example": "新Permission"
          },
          "type": {
            "type": "string",
            "default": "menu",
            "description": "权限类型"
          },
          "path": {
            "type": "string",
            "description": "权限路径"
          },
          "component": {
            "type": "string",
            "description": "组件路径"
          },
          "icon": {
            "type": "string",
            "description": "图标"
          },
          "parentId": {
            "type": "integer",
            "description": "父权限ID"
          },
          "sort": {
            "type": "integer",
            "default": 0,
            "description": "排序"
          }
        }
      },
      "UpdatePermissionRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Permission 名称",
            "example": "更新后的Permission"
          },
          "type": {
            "type": "string",
            "description": "权限类型"
          },
          "path": {
            "type": "string",
            "description": "权限路径"
          },
          "component": {
            "type": "string",
            "description": "组件路径"
          },
          "icon": {
            "type": "string",
            "description": "图标"
          },
          "parentId": {
            "type": "integer",
            "description": "父权限ID"
          },
          "sort": {
            "type": "integer",
            "description": "排序"
          },
          "status": {
            "type": "integer",
            "description": "状态（1：启用，0：禁用）"
          }
        }
      },
      "CheckPageRequest": {
        "type": "object",
        "properties": {
          "pagePath": {
            "type": "string",
            "description": "页面路径",
            "example": "/dashboard"
          }
        }
      },
      "Permissions-backup": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Permissions-backup ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Permissions-backup 名称",
            "example": "示例Permissions-backup"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreatePermissions-backupRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Permissions-backup 名称",
            "example": "新Permissions-backup"
          }
        }
      },
      "UpdatePermissions-backupRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Permissions-backup 名称",
            "example": "更新后的Permissions-backup"
          }
        }
      },
      "Permissions-backupListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Permissions-backup"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取permissions-backup列表成功"
          }
        }
      },
      "Permissions-backupResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Permissions-backup"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "PermissionListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Permission"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取permission列表成功"
          }
        }
      },
      "PermissionResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Permission"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Personal-poster": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Personal-poster ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Personal-poster 名称",
            "example": "示例Personal-poster"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreatePersonal-posterRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Personal-poster 名称",
            "example": "新Personal-poster"
          }
        }
      },
      "UpdatePersonal-posterRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Personal-poster 名称",
            "example": "更新后的Personal-poster"
          }
        }
      },
      "Personal-posterListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Personal-poster"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取personal-poster列表成功"
          }
        }
      },
      "Personal-posterResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Personal-poster"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Student": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Student ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Student 名称",
            "example": "示例Student"
          },
          "gender": {
            "type": "string",
            "enum": [
              "male",
              "female"
            ],
            "description": "性别",
            "example": "male"
          },
          "birthDate": {
            "type": "string",
            "format": "date",
            "description": "出生日期",
            "example": "2018-05-15"
          },
          "classId": {
            "type": "integer",
            "description": "班级ID",
            "example": 1
          },
          "status": {
            "type": "string",
            "enum": [
              "active",
              "inactive",
              "graduated"
            ],
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "studentId": {
            "type": "string",
            "description": "学号"
          },
          "enrollmentDate": {
            "type": "string",
            "format": "date",
            "description": "入学日期"
          },
          "photoUrl": {
            "type": "string",
            "description": "头像URL"
          },
          "address": {
            "type": "string",
            "description": "家庭地址"
          },
          "phone": {
            "type": "string",
            "description": "联系电话"
          },
          "emergencyContact": {
            "type": "string",
            "description": "紧急联系人"
          },
          "emergencyPhone": {
            "type": "string",
            "description": "紧急联系电话"
          },
          "allergies": {
            "type": "string",
            "description": "过敏信息"
          },
          "medicalConditions": {
            "type": "string",
            "description": "健康状况"
          },
          "notes": {
            "type": "string",
            "description": "备注"
          }
        },
        "required": [
          "name",
          "studentId",
          "birthDate",
          "gender"
        ]
      },
      "Teacher": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "教师ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Teacher 名称",
            "example": "示例Teacher"
          },
          "gender": {
            "type": "string",
            "enum": [
              "male",
              "female"
            ],
            "description": "性别",
            "example": "female"
          },
          "phone": {
            "type": "string",
            "description": "手机号码",
            "example": "13900139000"
          },
          "email": {
            "type": "string",
            "format": "email",
            "description": "邮箱地址",
            "example": "teacher@example.com"
          },
          "subject": {
            "type": "string",
            "description": "主教科目",
            "example": "语文"
          },
          "experience": {
            "type": "integer",
            "description": "工作年限",
            "example": 5
          },
          "status": {
            "type": "integer",
            "enum": [
              "active",
              "inactive",
              "on_leave"
            ],
            "description": "状态（1-在职，0-离职）",
            "example": 1
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "userId": {
            "type": "integer",
            "description": "关联的用户ID",
            "example": 5
          },
          "kindergartenId": {
            "type": "integer",
            "description": "所属幼儿园ID",
            "example": 1
          },
          "groupId": {
            "type": "integer",
            "description": "所属集团ID",
            "example": 1
          },
          "teacherNo": {
            "type": "string",
            "description": "教师编号",
            "example": "T001"
          },
          "position": {
            "type": "string",
            "description": "职位",
            "example": "主班老师"
          },
          "hireDate": {
            "type": "string",
            "format": "date",
            "description": "入职日期",
            "example": "2024-01-01"
          },
          "education": {
            "type": "string",
            "description": "学历",
            "example": "本科"
          },
          "major": {
            "type": "string",
            "description": "专业",
            "example": "学前教育"
          },
          "creatorId": {
            "type": "integer",
            "description": "创建者ID",
            "example": 1
          },
          "user": {
            "type": "object",
            "description": "关联的用户信息",
            "properties": {
              "id": {
                "type": "integer"
              },
              "username": {
                "type": "string"
              },
              "realName": {
                "type": "string"
              },
              "email": {
                "type": "string"
              },
              "phone": {
                "type": "string"
              }
            }
          }
        }
      },
      "BatchOperation": {
        "type": "object",
        "properties": {
          "ids": {
            "type": "array",
            "items": {
              "type": "integer"
            },
            "description": "要操作的ID列表",
            "example": [
              1,
              2,
              3
            ]
          },
          "action": {
            "type": "string",
            "description": "操作类型",
            "example": "activate"
          },
          "data": {
            "type": "object",
            "description": "更新数据",
            "example": {
              "status": "active"
            }
          }
        }
      },
      "Poster-generation": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Poster-generation ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Poster-generation 名称",
            "example": "示例Poster-generation"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreatePoster-generationRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Poster-generation 名称",
            "example": "新Poster-generation"
          }
        }
      },
      "UpdatePoster-generationRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Poster-generation 名称",
            "example": "更新后的Poster-generation"
          }
        }
      },
      "Poster-generationListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Poster-generation"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取poster-generation列表成功"
          }
        }
      },
      "Poster-generationResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Poster-generation"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "PosterTemplate": {
        "type": "object",
        "required": [
          "name",
          "category_id",
          "design_data"
        ],
        "properties": {
          "id": {
            "type": "integer",
            "description": "模板ID"
          },
          "name": {
            "type": "string",
            "description": "模板名称"
          },
          "description": {
            "type": "string",
            "description": "模板描述"
          },
          "category_id": {
            "type": "integer",
            "description": "分类ID"
          },
          "thumbnail_url": {
            "type": "string",
            "description": "缩略图URL"
          },
          "design_data": {
            "type": "object",
            "description": "设计数据JSON"
          },
          "width": {
            "type": "integer",
            "description": "模板宽度"
          },
          "height": {
            "type": "integer",
            "description": "模板高度"
          },
          "is_active": {
            "type": "boolean",
            "description": "是否激活"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间"
          }
        }
      },
      "PosterTemplateElement": {
        "type": "object",
        "required": [
          "type",
          "properties"
        ],
        "properties": {
          "id": {
            "type": "integer",
            "description": "元素ID"
          },
          "template_id": {
            "type": "integer",
            "description": "模板ID"
          },
          "type": {
            "type": "string",
            "enum": [
              "text",
              "image",
              "shape",
              "background"
            ],
            "description": "元素类型"
          },
          "properties": {
            "type": "object",
            "description": "元素属性JSON"
          },
          "z_index": {
            "type": "integer",
            "description": "层级索引"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间"
          }
        }
      },
      "PosterTemplateCategory": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "分类ID"
          },
          "name": {
            "type": "string",
            "description": "分类名称"
          },
          "description": {
            "type": "string",
            "description": "分类描述"
          },
          "is_active": {
            "type": "boolean",
            "description": "是否激活"
          }
        }
      },
      "AddElementRequest": {
        "type": "object",
        "required": [
          "type",
          "properties"
        ],
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "text",
              "image",
              "shape",
              "background"
            ],
            "description": "元素类型"
          },
          "properties": {
            "type": "object",
            "description": "元素属性JSON"
          },
          "z_index": {
            "type": "integer",
            "description": "层级索引"
          }
        }
      },
      "UpdateElementRequest": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "text",
              "image",
              "shape",
              "background"
            ],
            "description": "元素类型"
          },
          "properties": {
            "type": "object",
            "description": "元素属性JSON"
          },
          "z_index": {
            "type": "integer",
            "description": "层级索引"
          }
        }
      },
      "Poster-template": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Poster-template ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Poster-template 名称",
            "example": "示例Poster-template"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreatePoster-templateRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Poster-template 名称",
            "example": "新Poster-template"
          }
        }
      },
      "UpdatePoster-templateRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Poster-template 名称",
            "example": "更新后的Poster-template"
          }
        }
      },
      "Poster-templateListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Poster-template"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取poster-template列表成功"
          }
        }
      },
      "Poster-templateResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Poster-template"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Poster-upload": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Poster-upload ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Poster-upload 名称",
            "example": "示例Poster-upload"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreatePoster-uploadRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Poster-upload 名称",
            "example": "新Poster-upload"
          }
        }
      },
      "UpdatePoster-uploadRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Poster-upload 名称",
            "example": "更新后的Poster-upload"
          }
        }
      },
      "Poster-uploadListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Poster-upload"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取poster-upload列表成功"
          }
        }
      },
      "Poster-uploadResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Poster-upload"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Principal-performance": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Principal-performance ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Principal-performance 名称",
            "example": "示例Principal-performance"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreatePrincipal-performanceRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Principal-performance 名称",
            "example": "新Principal-performance"
          }
        }
      },
      "UpdatePrincipal-performanceRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Principal-performance 名称",
            "example": "更新后的Principal-performance"
          }
        }
      },
      "Principal-performanceListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Principal-performance"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取principal-performance列表成功"
          }
        }
      },
      "Principal-performanceResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Principal-performance"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Principal": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Principal ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Principal 名称",
            "example": "示例Principal"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreatePrincipalRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Principal 名称",
            "example": "新Principal"
          }
        }
      },
      "UpdatePrincipalRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Principal 名称",
            "example": "更新后的Principal"
          }
        }
      },
      "PrincipalListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Principal"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取principal列表成功"
          }
        }
      },
      "PrincipalResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Principal"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Progres": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Progres ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Progres 名称",
            "example": "示例Progres"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateProgresRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Progres 名称",
            "example": "新Progres"
          }
        }
      },
      "UpdateProgresRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Progres 名称",
            "example": "更新后的Progres"
          }
        }
      },
      "ProgresListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Progres"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取progres列表成功"
          }
        }
      },
      "ProgresResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Progres"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Quick-query-group": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Quick-query-group ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Quick-query-group 名称",
            "example": "示例Quick-query-group"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateQuick-query-groupRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Quick-query-group 名称",
            "example": "新Quick-query-group"
          }
        }
      },
      "UpdateQuick-query-groupRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Quick-query-group 名称",
            "example": "更新后的Quick-query-group"
          }
        }
      },
      "Quick-query-groupListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Quick-query-group"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取quick-query-group列表成功"
          }
        }
      },
      "Quick-query-groupResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Quick-query-group"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Referral-code": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Referral-code ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Referral-code 名称",
            "example": "示例Referral-code"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateReferral-codeRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Referral-code 名称",
            "example": "新Referral-code"
          }
        }
      },
      "UpdateReferral-codeRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Referral-code 名称",
            "example": "更新后的Referral-code"
          }
        }
      },
      "Referral-codeListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Referral-code"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取referral-code列表成功"
          }
        }
      },
      "Referral-codeResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Referral-code"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Referral-relationship": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Referral-relationship ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Referral-relationship 名称",
            "example": "示例Referral-relationship"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateReferral-relationshipRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Referral-relationship 名称",
            "example": "新Referral-relationship"
          }
        }
      },
      "UpdateReferral-relationshipRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Referral-relationship 名称",
            "example": "更新后的Referral-relationship"
          }
        }
      },
      "Referral-relationshipListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Referral-relationship"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取referral-relationship列表成功"
          }
        }
      },
      "Referral-relationshipResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Referral-relationship"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Referral-reward": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Referral-reward ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Referral-reward 名称",
            "example": "示例Referral-reward"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateReferral-rewardRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Referral-reward 名称",
            "example": "新Referral-reward"
          }
        }
      },
      "UpdateReferral-rewardRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Referral-reward 名称",
            "example": "更新后的Referral-reward"
          }
        }
      },
      "Referral-rewardListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Referral-reward"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取referral-reward列表成功"
          }
        }
      },
      "Referral-rewardResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Referral-reward"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Referral-statistic": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Referral-statistic ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Referral-statistic 名称",
            "example": "示例Referral-statistic"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateReferral-statisticRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Referral-statistic 名称",
            "example": "新Referral-statistic"
          }
        }
      },
      "UpdateReferral-statisticRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Referral-statistic 名称",
            "example": "更新后的Referral-statistic"
          }
        }
      },
      "Referral-statisticListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Referral-statistic"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取referral-statistic列表成功"
          }
        }
      },
      "Referral-statisticResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Referral-statistic"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Referral": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Referral ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Referral 名称",
            "example": "示例Referral"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateReferralRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Referral 名称",
            "example": "新Referral"
          }
        }
      },
      "UpdateReferralRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Referral 名称",
            "example": "更新后的Referral"
          }
        }
      },
      "ReferralListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Referral"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取referral列表成功"
          }
        }
      },
      "ReferralResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Referral"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Reminder-log": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Reminder-log ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Reminder-log 名称",
            "example": "示例Reminder-log"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateReminder-logRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Reminder-log 名称",
            "example": "新Reminder-log"
          }
        }
      },
      "UpdateReminder-logRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Reminder-log 名称",
            "example": "更新后的Reminder-log"
          }
        }
      },
      "Reminder-logListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Reminder-log"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取reminder-log列表成功"
          }
        }
      },
      "Reminder-logResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Reminder-log"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "RolePermission": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "角色权限关联ID"
          },
          "roleId": {
            "type": "integer",
            "description": "角色ID"
          },
          "permissionId": {
            "type": "integer",
            "description": "权限ID"
          },
          "grantorId": {
            "type": "integer",
            "description": "授权者ID"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间"
          },
          "roleName": {
            "type": "string",
            "description": "角色名称"
          },
          "roleCode": {
            "type": "string",
            "description": "角色代码"
          },
          "roleDescription": {
            "type": "string",
            "description": "角色描述"
          },
          "permissionName": {
            "type": "string",
            "description": "权限名称"
          },
          "permissionCode": {
            "type": "string",
            "description": "权限代码"
          },
          "permissionPath": {
            "type": "string",
            "description": "权限路径"
          }
        }
      },
      "CreateRolePermissionRequest": {
        "type": "object",
        "required": [
          "roleId",
          "permissionId"
        ],
        "properties": {
          "roleId": {
            "type": "integer",
            "description": "角色ID"
          },
          "permissionId": {
            "type": "integer",
            "description": "权限ID"
          },
          "assignedBy": {
            "type": "integer",
            "description": "授权者ID"
          },
          "notes": {
            "type": "string",
            "description": "备注"
          }
        }
      },
      "UpdateRolePermissionRequest": {
        "type": "object",
        "properties": {
          "notes": {
            "type": "string",
            "description": "备注"
          }
        }
      },
      "PermissionIdsRequest": {
        "type": "object",
        "required": [
          "permissionIds"
        ],
        "properties": {
          "permissionIds": {
            "type": "array",
            "items": {
              "type": "integer"
            },
            "description": "权限ID列表"
          }
        }
      },
      "Role-permission": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Role-permission ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Role-permission 名称",
            "example": "示例Role-permission"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateRole-permissionRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Role-permission 名称",
            "example": "新Role-permission"
          }
        }
      },
      "UpdateRole-permissionRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Role-permission 名称",
            "example": "更新后的Role-permission"
          }
        }
      },
      "Role-permissionListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Role-permission"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取role-permission列表成功"
          }
        }
      },
      "Role-permissionResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Role-permission"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Role": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Role ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Role 名称",
            "example": "示例Role"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateRoleRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Role 名称",
            "example": "新Role"
          }
        }
      },
      "UpdateRoleRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Role 名称",
            "example": "更新后的Role"
          }
        }
      },
      "RoleListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Role"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取role列表成功"
          }
        }
      },
      "RoleResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Role"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Roles-backup": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Roles-backup ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Roles-backup 名称",
            "example": "示例Roles-backup"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateRoles-backupRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Roles-backup 名称",
            "example": "新Roles-backup"
          }
        }
      },
      "UpdateRoles-backupRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Roles-backup 名称",
            "example": "更新后的Roles-backup"
          }
        }
      },
      "Roles-backupListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Roles-backup"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取roles-backup列表成功"
          }
        }
      },
      "Roles-backupResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Roles-backup"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Script-category": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Script-category ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Script-category 名称",
            "example": "示例Script-category"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateScript-categoryRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Script-category 名称",
            "example": "新Script-category"
          }
        }
      },
      "UpdateScript-categoryRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Script-category 名称",
            "example": "更新后的Script-category"
          }
        }
      },
      "Script-categoryListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Script-category"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取script-category列表成功"
          }
        }
      },
      "Script-categoryResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Script-category"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Script-template": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Script-template ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Script-template 名称",
            "example": "示例Script-template"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateScript-templateRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Script-template 名称",
            "example": "新Script-template"
          }
        }
      },
      "UpdateScript-templateRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Script-template 名称",
            "example": "更新后的Script-template"
          }
        }
      },
      "Script-templateListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Script-template"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取script-template列表成功"
          }
        }
      },
      "Script-templateResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Script-template"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Script": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Script ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Script 名称",
            "example": "示例Script"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateScriptRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Script 名称",
            "example": "新Script"
          }
        }
      },
      "UpdateScriptRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Script 名称",
            "example": "更新后的Script"
          }
        }
      },
      "ScriptListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Script"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取script列表成功"
          }
        }
      },
      "ScriptResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Script"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Security": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Security ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Security 名称",
            "example": "示例Security"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateSecurityRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Security 名称",
            "example": "新Security"
          }
        }
      },
      "UpdateSecurityRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Security 名称",
            "example": "更新后的Security"
          }
        }
      },
      "SecurityListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Security"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取security列表成功"
          }
        }
      },
      "SecurityResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Security"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Sequelize-meta": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Sequelize-meta ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Sequelize-meta 名称",
            "example": "示例Sequelize-meta"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateSequelize-metaRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Sequelize-meta 名称",
            "example": "新Sequelize-meta"
          }
        }
      },
      "UpdateSequelize-metaRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Sequelize-meta 名称",
            "example": "更新后的Sequelize-meta"
          }
        }
      },
      "Sequelize-metaListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Sequelize-meta"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取sequelize-meta列表成功"
          }
        }
      },
      "Sequelize-metaResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Sequelize-meta"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "SequelizeMeta": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "SequelizeMeta ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "SequelizeMeta 名称",
            "example": "示例SequelizeMeta"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateSequelizeMetaRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "SequelizeMeta 名称",
            "example": "新SequelizeMeta"
          }
        }
      },
      "UpdateSequelizeMetaRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "SequelizeMeta 名称",
            "example": "更新后的SequelizeMeta"
          }
        }
      },
      "SequelizeMetaListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/SequelizeMeta"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取SequelizeMeta列表成功"
          }
        }
      },
      "SequelizeMetaResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/SequelizeMeta"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "UserSession": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "会话ID"
          },
          "userId": {
            "type": "integer",
            "description": "用户ID"
          },
          "username": {
            "type": "string",
            "description": "用户名"
          },
          "role": {
            "type": "string",
            "description": "用户角色"
          },
          "loginTime": {
            "type": "string",
            "format": "date-time",
            "description": "登录时间"
          },
          "lastActivity": {
            "type": "string",
            "format": "date-time",
            "description": "最后活跃时间"
          },
          "ipAddress": {
            "type": "string",
            "description": "IP地址"
          },
          "userAgent": {
            "type": "string",
            "description": "用户代理"
          },
          "isActive": {
            "type": "boolean",
            "description": "是否活跃"
          }
        }
      },
      "SessionStats": {
        "type": "object",
        "properties": {
          "totalSessions": {
            "type": "integer",
            "description": "总会话数"
          },
          "activeSessions": {
            "type": "integer",
            "description": "活跃会话数"
          },
          "uniqueUsers": {
            "type": "integer",
            "description": "独立用户数"
          },
          "averageSessionDuration": {
            "type": "number",
            "description": "平均会话时长（分钟）"
          },
          "peakConcurrentUsers": {
            "type": "integer",
            "description": "峰值并发用户数"
          }
        }
      },
      "OnlineUser": {
        "type": "object",
        "properties": {
          "userId": {
            "type": "integer",
            "description": "用户ID"
          },
          "username": {
            "type": "string",
            "description": "用户名"
          },
          "realName": {
            "type": "string",
            "description": "真实姓名"
          },
          "role": {
            "type": "string",
            "description": "用户角色"
          },
          "lastActivity": {
            "type": "string",
            "format": "date-time",
            "description": "最后活跃时间"
          },
          "sessionDuration": {
            "type": "string",
            "description": "会话持续时间"
          },
          "ipAddress": {
            "type": "string",
            "description": "IP地址"
          }
        }
      },
      "Setup-permission": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Setup-permission ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Setup-permission 名称",
            "example": "示例Setup-permission"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateSetup-permissionRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Setup-permission 名称",
            "example": "新Setup-permission"
          }
        }
      },
      "UpdateSetup-permissionRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Setup-permission 名称",
            "example": "更新后的Setup-permission"
          }
        }
      },
      "Setup-permissionListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Setup-permission"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取setup-permission列表成功"
          }
        }
      },
      "Setup-permissionResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Setup-permission"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Simple-permission": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Simple-permission ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Simple-permission 名称",
            "example": "示例Simple-permission"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateSimple-permissionRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Simple-permission 名称",
            "example": "新Simple-permission"
          }
        }
      },
      "UpdateSimple-permissionRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Simple-permission 名称",
            "example": "更新后的Simple-permission"
          }
        }
      },
      "Simple-permissionListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Simple-permission"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取simple-permission列表成功"
          }
        }
      },
      "Simple-permissionResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Simple-permission"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Six-dimension-memory": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Six-dimension-memory ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Six-dimension-memory 名称",
            "example": "示例Six-dimension-memory"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateSix-dimension-memoryRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Six-dimension-memory 名称",
            "example": "新Six-dimension-memory"
          }
        }
      },
      "UpdateSix-dimension-memoryRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Six-dimension-memory 名称",
            "example": "更新后的Six-dimension-memory"
          }
        }
      },
      "Six-dimension-memoryListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Six-dimension-memory"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取six-dimension-memory列表成功"
          }
        }
      },
      "Six-dimension-memoryResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Six-dimension-memory"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Smart-promotion": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Smart-promotion ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Smart-promotion 名称",
            "example": "示例Smart-promotion"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateSmart-promotionRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Smart-promotion 名称",
            "example": "新Smart-promotion"
          }
        }
      },
      "UpdateSmart-promotionRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Smart-promotion 名称",
            "example": "更新后的Smart-promotion"
          }
        }
      },
      "Smart-promotionListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Smart-promotion"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取smart-promotion列表成功"
          }
        }
      },
      "Smart-promotionResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Smart-promotion"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Statistics-adapter": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Statistics-adapter ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Statistics-adapter 名称",
            "example": "示例Statistics-adapter"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateStatistics-adapterRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Statistics-adapter 名称",
            "example": "新Statistics-adapter"
          }
        }
      },
      "UpdateStatistics-adapterRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Statistics-adapter 名称",
            "example": "更新后的Statistics-adapter"
          }
        }
      },
      "Statistics-adapterListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Statistics-adapter"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取statistics-adapter列表成功"
          }
        }
      },
      "Statistics-adapterResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Statistics-adapter"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "CombinedStatistics": {
        "type": "object",
        "properties": {
          "users": {
            "type": "object",
            "properties": {
              "total_users": {
                "type": "integer",
                "description": "用户总数"
              },
              "active_users": {
                "type": "integer",
                "description": "活跃用户数"
              }
            }
          },
          "enrollment": {
            "type": "object",
            "properties": {
              "total_applications": {
                "type": "integer",
                "description": "申请总数"
              },
              "approved_applications": {
                "type": "integer",
                "description": "已批准申请数"
              }
            }
          },
          "activities": {
            "type": "object",
            "properties": {
              "total_activities": {
                "type": "integer",
                "description": "活动总数"
              },
              "active_activities": {
                "type": "integer",
                "description": "活跃活动数"
              }
            }
          },
          "kindergartens": {
            "type": "object",
            "properties": {
              "total_kindergartens": {
                "type": "integer",
                "description": "幼儿园总数"
              }
            }
          },
          "summary": {
            "type": "object",
            "properties": {
              "total_users": {
                "type": "integer"
              },
              "total_applications": {
                "type": "integer"
              },
              "total_activities": {
                "type": "integer"
              },
              "total_kindergartens": {
                "type": "integer"
              }
            }
          }
        }
      },
      "UserStatistics": {
        "type": "object",
        "properties": {
          "total": {
            "type": "integer",
            "description": "用户总数"
          },
          "active": {
            "type": "integer",
            "description": "活跃用户数"
          },
          "inactive": {
            "type": "integer",
            "description": "非活跃用户数"
          }
        }
      },
      "FinanceStatistics": {
        "type": "object",
        "properties": {
          "total_revenue": {
            "type": "number",
            "description": "总收入"
          },
          "monthly_revenue": {
            "type": "number",
            "description": "月收入"
          },
          "pending_payments": {
            "type": "number",
            "description": "待付款"
          },
          "completed_payments": {
            "type": "number",
            "description": "已完成付款"
          }
        }
      },
      "FinancialDetailStatistics": {
        "type": "object",
        "properties": {
          "totalRevenue": {
            "type": "number",
            "description": "总收入"
          },
          "totalExpenses": {
            "type": "number",
            "description": "总支出"
          },
          "netProfit": {
            "type": "number",
            "description": "净利润"
          },
          "monthlyRevenue": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "month": {
                  "type": "string",
                  "description": "月份"
                },
                "revenue": {
                  "type": "number",
                  "description": "收入"
                },
                "expenses": {
                  "type": "number",
                  "description": "支出"
                }
              }
            }
          },
          "revenueBySource": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "source": {
                  "type": "string",
                  "description": "收入来源"
                },
                "amount": {
                  "type": "number",
                  "description": "金额"
                },
                "percentage": {
                  "type": "number",
                  "description": "百分比"
                }
              }
            }
          },
          "expensesByCategory": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "category": {
                  "type": "string",
                  "description": "支出类别"
                },
                "amount": {
                  "type": "number",
                  "description": "金额"
                },
                "percentage": {
                  "type": "number",
                  "description": "百分比"
                }
              }
            }
          }
        }
      },
      "RegionStatistics": {
        "type": "object",
        "properties": {
          "items": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "region": {
                  "type": "string",
                  "description": "地区名称"
                },
                "kindergarten_count": {
                  "type": "integer",
                  "description": "幼儿园数量"
                }
              }
            }
          },
          "total": {
            "type": "integer",
            "description": "地区总数"
          }
        }
      },
      "TrendAnalysis": {
        "type": "object",
        "properties": {
          "enrollment_trends": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "date": {
                  "type": "string",
                  "format": "date",
                  "description": "日期"
                },
                "count": {
                  "type": "integer",
                  "description": "数量"
                }
              }
            }
          },
          "period": {
            "type": "string",
            "description": "时间段"
          }
        }
      },
      "ExportData": {
        "type": "object",
        "properties": {
          "exportId": {
            "type": "string",
            "description": "导出ID"
          },
          "type": {
            "type": "string",
            "description": "导出类型"
          },
          "format": {
            "type": "string",
            "description": "导出格式"
          },
          "dateRange": {
            "type": "object",
            "properties": {
              "start": {
                "type": "string",
                "format": "date",
                "description": "开始日期"
              },
              "end": {
                "type": "string",
                "format": "date",
                "description": "结束日期"
              }
            }
          },
          "status": {
            "type": "string",
            "description": "状态"
          },
          "downloadUrl": {
            "type": "string",
            "nullable": true,
            "description": "下载链接"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间"
          }
        }
      },
      "OverviewStatistics": {
        "type": "object",
        "properties": {
          "total_students": {
            "type": "integer",
            "description": "学生总数"
          },
          "total_teachers": {
            "type": "integer",
            "description": "教师总数"
          },
          "total_classes": {
            "type": "integer",
            "description": "班级总数"
          },
          "total_parents": {
            "type": "integer",
            "description": "家长总数"
          }
        }
      },
      "EnrollmentTrendData": {
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "date": {
              "type": "string",
              "description": "日期"
            },
            "count": {
              "type": "integer",
              "description": "数量"
            }
          }
        }
      },
      "ClassDistribution": {
        "type": "object",
        "additionalProperties": {
          "type": "integer"
        },
        "description": "班级分布（键为班级名称，值为数量）"
      },
      "RevenueStatistics": {
        "type": "object",
        "properties": {
          "total": {
            "type": "number",
            "description": "总收入"
          },
          "monthly": {
            "type": "number",
            "description": "月收入"
          },
          "byMonth": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "date": {
                  "type": "string",
                  "description": "日期"
                },
                "value": {
                  "type": "number",
                  "description": "金额"
                },
                "label": {
                  "type": "string",
                  "description": "标签"
                }
              }
            }
          },
          "bySource": {
            "type": "object",
            "additionalProperties": {
              "type": "number"
            },
            "description": "按来源分类的收入"
          },
          "trends": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "date": {
                  "type": "string",
                  "description": "日期"
                },
                "value": {
                  "type": "number",
                  "description": "金额"
                },
                "label": {
                  "type": "string",
                  "description": "标签"
                }
              }
            }
          }
        }
      },
      "StudentStatistics": {
        "type": "object",
        "properties": {
          "total": {
            "type": "integer",
            "description": "学生总数"
          },
          "byAge": {
            "type": "object",
            "additionalProperties": {
              "type": "integer"
            },
            "description": "按年龄分组的统计"
          },
          "byGender": {
            "type": "object",
            "additionalProperties": {
              "type": "integer"
            },
            "description": "按性别分组的统计"
          },
          "byClass": {
            "type": "object",
            "additionalProperties": {
              "type": "integer"
            },
            "description": "按班级分组的统计"
          },
          "trends": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "date": {
                  "type": "string",
                  "description": "日期"
                },
                "value": {
                  "type": "integer",
                  "description": "数量"
                },
                "label": {
                  "type": "string",
                  "description": "标签"
                }
              }
            }
          }
        }
      },
      "DashboardStatistics": {
        "type": "object",
        "properties": {
          "enrollment": {
            "type": "object",
            "properties": {
              "total": {
                "type": "integer",
                "description": "申请总数"
              },
              "approved": {
                "type": "integer",
                "description": "已批准数"
              },
              "pending": {
                "type": "integer",
                "description": "待审核数"
              },
              "rejected": {
                "type": "integer",
                "description": "已拒绝数"
              },
              "trends": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "date": {
                      "type": "string",
                      "description": "日期"
                    },
                    "value": {
                      "type": "integer",
                      "description": "数量"
                    },
                    "label": {
                      "type": "string",
                      "description": "标签"
                    }
                  }
                }
              }
            }
          },
          "students": {
            "$ref": "#/components/schemas/StudentStatistics"
          },
          "revenue": {
            "$ref": "#/components/schemas/RevenueStatistics"
          },
          "activities": {
            "type": "object",
            "properties": {
              "total": {
                "type": "integer",
                "description": "活动总数"
              },
              "published": {
                "type": "integer",
                "description": "已发布活动数"
              },
              "draft": {
                "type": "integer",
                "description": "草稿活动数"
              },
              "participation": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "date": {
                      "type": "string",
                      "description": "日期"
                    },
                    "value": {
                      "type": "integer",
                      "description": "参与数量"
                    },
                    "label": {
                      "type": "string",
                      "description": "标签"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "StudentRequest": {
        "type": "object",
        "required": [
          "name",
          "studentId",
          "birthDate",
          "gender"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "学生姓名",
            "example": "张小明"
          },
          "studentId": {
            "type": "string",
            "description": "学号",
            "example": "STU001"
          },
          "birthDate": {
            "type": "string",
            "format": "date",
            "description": "出生日期",
            "example": "2018-05-15"
          },
          "gender": {
            "type": "string",
            "enum": [
              "male",
              "female"
            ],
            "description": "性别",
            "example": "male"
          },
          "classId": {
            "type": "integer",
            "description": "班级ID",
            "example": 1
          },
          "enrollmentDate": {
            "type": "string",
            "format": "date",
            "description": "入学日期",
            "example": "2024-09-01"
          },
          "photoUrl": {
            "type": "string",
            "description": "头像URL"
          },
          "address": {
            "type": "string",
            "description": "家庭地址",
            "example": "北京市朝阳区某某街道"
          },
          "phone": {
            "type": "string",
            "description": "联系电话",
            "example": "13800138000"
          },
          "emergencyContact": {
            "type": "string",
            "description": "紧急联系人",
            "example": "张父"
          },
          "emergencyPhone": {
            "type": "string",
            "description": "紧急联系电话",
            "example": "13900139000"
          },
          "allergies": {
            "type": "string",
            "description": "过敏信息"
          },
          "medicalConditions": {
            "type": "string",
            "description": "健康状况"
          },
          "notes": {
            "type": "string",
            "description": "备注"
          }
        }
      },
      "StudentStats": {
        "type": "object",
        "properties": {
          "totalStudents": {
            "type": "integer",
            "description": "学生总数"
          },
          "activeStudents": {
            "type": "integer",
            "description": "在读学生数"
          },
          "inactiveStudents": {
            "type": "integer",
            "description": "非在读学生数"
          },
          "graduatedStudents": {
            "type": "integer",
            "description": "毕业学生数"
          },
          "studentsWithoutClass": {
            "type": "integer",
            "description": "未分配班级学生数"
          },
          "averageAge": {
            "type": "number",
            "description": "平均年龄"
          }
        }
      },
      "GrowthRecord": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "记录ID"
          },
          "studentId": {
            "type": "integer",
            "description": "学生ID"
          },
          "recordDate": {
            "type": "string",
            "format": "date",
            "description": "记录日期"
          },
          "height": {
            "type": "number",
            "description": "身高(cm)"
          },
          "weight": {
            "type": "number",
            "description": "体重(kg)"
          },
          "milestone": {
            "type": "string",
            "description": "发展里程碑"
          },
          "teacherNote": {
            "type": "string",
            "description": "教师备注"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间"
          }
        }
      },
      "CreateStudentRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Student 名称",
            "example": "新Student"
          }
        }
      },
      "UpdateStudentRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Student 名称",
            "example": "更新后的Student"
          }
        }
      },
      "StudentListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Student"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取student列表成功"
          }
        }
      },
      "StudentResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Student"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "System-ai-model": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "System-ai-model ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "System-ai-model 名称",
            "example": "示例System-ai-model"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateSystem-ai-modelRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "System-ai-model 名称",
            "example": "新System-ai-model"
          }
        }
      },
      "UpdateSystem-ai-modelRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "System-ai-model 名称",
            "example": "更新后的System-ai-model"
          }
        }
      },
      "System-ai-modelListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/System-ai-model"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取system-ai-model列表成功"
          }
        }
      },
      "System-ai-modelResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/System-ai-model"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "BackupFile": {
        "type": "object",
        "description": "备份文件信息",
        "properties": {
          "id": {
            "type": "string",
            "description": "备份文件唯一标识（移除扩展名的文件名）",
            "example": "backup-2025-01-15T10-30-00-000Z"
          },
          "name": {
            "type": "string",
            "description": "备份文件名（包含扩展名）",
            "example": "backup-2025-01-15T10-30-00-000Z.sql"
          },
          "size": {
            "type": "integer",
            "description": "文件大小（字节）",
            "example": 1048576
          },
          "sizeFormatted": {
            "type": "string",
            "description": "格式化后的文件大小",
            "example": "1.00 MB"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2025-01-15T10:30:00.000Z"
          },
          "type": {
            "type": "string",
            "description": "备份类型",
            "enum": [
              "manual",
              "auto",
              "scheduled"
            ],
            "example": "manual"
          },
          "status": {
            "type": "string",
            "description": "备份状态",
            "enum": [
              "completed",
              "failed",
              "in_progress"
            ],
            "example": "completed"
          },
          "description": {
            "type": "string",
            "description": "备份描述",
            "example": "手动备份"
          },
          "tableCount": {
            "type": "integer",
            "description": "表数量",
            "example": 25
          },
          "recordCount": {
            "type": "integer",
            "description": "记录数量",
            "example": 15000
          }
        },
        "required": [
          "id",
          "name",
          "size",
          "sizeFormatted",
          "createdAt",
          "type",
          "status"
        ]
      },
      "BackupStatistics": {
        "type": "object",
        "description": "备份统计信息",
        "properties": {
          "totalBackups": {
            "type": "integer",
            "description": "备份文件总数",
            "example": 15
          },
          "totalSize": {
            "type": "integer",
            "description": "所有备份文件总大小（字节）",
            "example": 52428800
          },
          "totalSizeFormatted": {
            "type": "string",
            "description": "格式化后的总大小",
            "example": "50.00 MB"
          },
          "latestBackup": {
            "type": "string",
            "format": "date-time",
            "description": "最新备份时间",
            "example": "2025-01-15T10:30:00.000Z"
          },
          "oldestBackup": {
            "type": "string",
            "format": "date-time",
            "description": "最早备份时间",
            "example": "2025-01-01T08:00:00.000Z"
          }
        },
        "required": [
          "totalBackups",
          "totalSize",
          "totalSizeFormatted"
        ]
      },
      "BackupConfig": {
        "type": "object",
        "description": "备份配置信息",
        "properties": {
          "autoBackup": {
            "type": "object",
            "properties": {
              "enabled": {
                "type": "boolean",
                "description": "是否启用自动备份",
                "example": true
              },
              "schedule": {
                "type": "string",
                "description": "备份计划（cron表达式）",
                "example": "0 2 * * *"
              },
              "retention": {
                "type": "integer",
                "description": "备份保留天数",
                "example": 7
              }
            }
          },
          "backupTypes": {
            "type": "object",
            "properties": {
              "database": {
                "type": "boolean",
                "description": "是否启用数据库备份",
                "example": true
              },
              "files": {
                "type": "boolean",
                "description": "是否启用文件备份",
                "example": false
              },
              "full": {
                "type": "boolean",
                "description": "是否启用完整备份",
                "example": false
              }
            }
          },
          "maxBackupSize": {
            "type": "integer",
            "description": "最大备份文件大小（字节）",
            "example": 1073741824
          },
          "backupPath": {
            "type": "string",
            "description": "备份文件存储路径",
            "example": "/home/project/backups"
          },
          "lastBackup": {
            "type": "string",
            "format": "date-time",
            "description": "上次备份时间",
            "nullable": true,
            "example": "2025-01-15T02:00:00.000Z"
          },
          "nextBackup": {
            "type": "string",
            "format": "date-time",
            "description": "下次备份时间",
            "nullable": true,
            "example": "2025-01-16T02:00:00.000Z"
          }
        },
        "required": [
          "autoBackup",
          "backupTypes",
          "maxBackupSize",
          "backupPath"
        ]
      },
      "RestoreResult": {
        "type": "object",
        "description": "备份恢复结果",
        "properties": {
          "tablesRestored": {
            "type": "integer",
            "description": "恢复的表数量",
            "example": 25
          },
          "restoredAt": {
            "type": "string",
            "format": "date-time",
            "description": "恢复时间",
            "example": "2025-01-15T10:30:00.000Z"
          },
          "success": {
            "type": "boolean",
            "description": "恢复是否成功",
            "example": true
          },
          "errors": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "恢复过程中的错误信息",
            "example": []
          }
        },
        "required": [
          "tablesRestored",
          "restoredAt",
          "success"
        ]
      },
      "BackupValidation": {
        "type": "object",
        "description": "备份文件验证结果",
        "properties": {
          "valid": {
            "type": "boolean",
            "description": "备份文件是否有效",
            "example": true
          },
          "errors": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "验证错误信息",
            "example": []
          },
          "warnings": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "验证警告信息",
            "example": [
              "备份文件较老，可能不包含最新数据"
            ]
          },
          "fileSize": {
            "type": "integer",
            "description": "文件大小（字节）",
            "example": 1048576
          },
          "tableCount": {
            "type": "integer",
            "description": "表数量",
            "example": 25
          },
          "recordCount": {
            "type": "integer",
            "description": "记录数量",
            "example": 15000
          }
        },
        "required": [
          "valid",
          "errors"
        ]
      },
      "SystemConfig": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "系统配置唯一标识符"
          },
          "config_key": {
            "type": "string",
            "description": "配置项键名"
          },
          "config_value": {
            "type": "string",
            "description": "配置项值"
          },
          "config_type": {
            "type": "string",
            "enum": [
              "string",
              "number",
              "boolean",
              "json"
            ],
            "description": "配置值类型"
          },
          "config_group": {
            "type": "string",
            "description": "配置分组"
          },
          "description": {
            "type": "string",
            "description": "配置项描述"
          },
          "is_encrypted": {
            "type": "boolean",
            "description": "是否加密存储"
          },
          "is_public": {
            "type": "boolean",
            "description": "是否公开访问"
          },
          "sort_order": {
            "type": "integer",
            "description": "排序权重"
          },
          "status": {
            "type": "string",
            "enum": [
              "active",
              "inactive"
            ],
            "description": "配置状态"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间"
          }
        }
      },
      "SystemConfigCreate": {
        "type": "object",
        "required": [
          "config_key",
          "config_value",
          "config_type"
        ],
        "properties": {
          "config_key": {
            "type": "string",
            "description": "配置项键名"
          },
          "config_value": {
            "type": "string",
            "description": "配置项值"
          },
          "config_type": {
            "type": "string",
            "enum": [
              "string",
              "number",
              "boolean",
              "json"
            ],
            "description": "配置值类型"
          },
          "config_group": {
            "type": "string",
            "description": "配置分组"
          },
          "description": {
            "type": "string",
            "description": "配置项描述"
          },
          "is_encrypted": {
            "type": "boolean",
            "default": false,
            "description": "是否加密存储"
          },
          "is_public": {
            "type": "boolean",
            "default": false,
            "description": "是否公开访问"
          },
          "sort_order": {
            "type": "integer",
            "default": 0,
            "description": "排序权重"
          },
          "status": {
            "type": "string",
            "enum": [
              "active",
              "inactive"
            ],
            "default": "active",
            "description": "配置状态"
          }
        }
      },
      "SystemConfigUpdate": {
        "type": "object",
        "properties": {
          "config_value": {
            "type": "string",
            "description": "配置项值"
          },
          "config_type": {
            "type": "string",
            "enum": [
              "string",
              "number",
              "boolean",
              "json"
            ],
            "description": "配置值类型"
          },
          "config_group": {
            "type": "string",
            "description": "配置分组"
          },
          "description": {
            "type": "string",
            "description": "配置项描述"
          },
          "is_encrypted": {
            "type": "boolean",
            "description": "是否加密存储"
          },
          "is_public": {
            "type": "boolean",
            "description": "是否公开访问"
          },
          "sort_order": {
            "type": "integer",
            "description": "排序权重"
          },
          "status": {
            "type": "string",
            "enum": [
              "active",
              "inactive"
            ],
            "description": "配置状态"
          }
        }
      },
      "SystemLogCreate": {
        "type": "object",
        "required": [
          "level",
          "message"
        ],
        "properties": {
          "level": {
            "type": "string",
            "enum": [
              "info",
              "warn",
              "error",
              "debug"
            ],
            "description": "日志级别"
          },
          "message": {
            "type": "string",
            "description": "日志消息内容"
          },
          "module": {
            "type": "string",
            "description": "模块名称"
          },
          "userId": {
            "type": "integer",
            "description": "用户ID"
          },
          "ip": {
            "type": "string",
            "description": "IP地址"
          },
          "userAgent": {
            "type": "string",
            "description": "用户代理"
          }
        }
      },
      "LogStatistics": {
        "type": "object",
        "properties": {
          "system_logs": {
            "type": "integer",
            "description": "系统日志总数"
          },
          "operation_logs": {
            "type": "integer",
            "description": "操作日志总数"
          },
          "total": {
            "type": "integer",
            "description": "总日志数量"
          }
        }
      },
      "System": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "System ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "System 名称",
            "example": "示例System"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateSystemRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "System 名称",
            "example": "新System"
          }
        }
      },
      "UpdateSystemRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "System 名称",
            "example": "更新后的System"
          }
        }
      },
      "SystemListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/System"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取system列表成功"
          }
        }
      },
      "SystemResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/System"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Task-attachment": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Task-attachment ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Task-attachment 名称",
            "example": "示例Task-attachment"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateTask-attachmentRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Task-attachment 名称",
            "example": "新Task-attachment"
          }
        }
      },
      "UpdateTask-attachmentRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Task-attachment 名称",
            "example": "更新后的Task-attachment"
          }
        }
      },
      "Task-attachmentListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Task-attachment"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取task-attachment列表成功"
          }
        }
      },
      "Task-attachmentResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Task-attachment"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Task-comment": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Task-comment ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Task-comment 名称",
            "example": "示例Task-comment"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateTask-commentRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Task-comment 名称",
            "example": "新Task-comment"
          }
        }
      },
      "UpdateTask-commentRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Task-comment 名称",
            "example": "更新后的Task-comment"
          }
        }
      },
      "Task-commentListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Task-comment"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取task-comment列表成功"
          }
        }
      },
      "Task-commentResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Task-comment"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Task": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "任务唯一标识符",
            "example": 1
          },
          "title": {
            "type": "string",
            "description": "任务标题",
            "example": "完成教学计划制定"
          },
          "description": {
            "type": "string",
            "description": "任务详细描述",
            "example": "为本月教学活动制定详细的计划和安排"
          },
          "priority": {
            "type": "string",
            "enum": [
              "low",
              "medium",
              "high",
              "urgent"
            ],
            "description": "任务优先级",
            "example": "high"
          },
          "status": {
            "type": "string",
            "enum": [
              "pending",
              "in_progress",
              "completed",
              "cancelled",
              "on_hold"
            ],
            "description": "任务状态",
            "example": "in_progress"
          },
          "assignee_id": {
            "type": "integer",
            "description": "被分配人ID",
            "example": 123
          },
          "assignee": {
            "type": "object",
            "description": "被分配人信息",
            "properties": {
              "id": {
                "type": "integer",
                "example": 123
              },
              "name": {
                "type": "string",
                "example": "张老师"
              },
              "avatar": {
                "type": "string",
                "example": "avatar.jpg"
              }
            }
          },
          "creator_id": {
            "type": "integer",
            "description": "创建人ID",
            "example": 456
          },
          "creator": {
            "type": "object",
            "description": "创建人信息",
            "properties": {
              "id": {
                "type": "integer",
                "example": 456
              },
              "name": {
                "type": "string",
                "example": "李管理员"
              }
            }
          },
          "category": {
            "type": "string",
            "description": "任务分类",
            "example": "教学管理"
          },
          "tags": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "任务标签",
            "example": [
              "教学",
              "计划",
              "重要"
            ]
          },
          "due_date": {
            "type": "string",
            "format": "date-time",
            "description": "截止时间",
            "example": "2024-12-31T23:59:59Z"
          },
          "progress": {
            "type": "integer",
            "minimum": 0,
            "maximum": 100,
            "description": "任务进度百分比",
            "example": 60
          },
          "estimated_hours": {
            "type": "number",
            "description": "预估工时（小时）",
            "example": 8.5
          },
          "actual_hours": {
            "type": "number",
            "description": "实际工时（小时）",
            "example": 5.2
          },
          "attachments": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "integer",
                  "example": 1
                },
                "name": {
                  "type": "string",
                  "example": "教学计划.docx"
                },
                "url": {
                  "type": "string",
                  "example": "http://example.com/file.docx"
                }
              }
            },
            "description": "任务附件列表"
          },
          "comments": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "integer",
                  "example": 1
                },
                "content": {
                  "type": "string",
                  "example": "需要重点关注幼儿安全问题"
                },
                "author": {
                  "type": "string",
                  "example": "王老师"
                },
                "created_at": {
                  "type": "string",
                  "format": "date-time",
                  "example": "2024-01-01T10:00:00Z"
                }
              }
            },
            "description": "任务评论列表"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T09:00:00Z"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T15:30:00Z"
          },
          "completed_at": {
            "type": "string",
            "format": "date-time",
            "description": "完成时间",
            "nullable": true,
            "example": null
          }
        }
      },
      "TaskStats": {
        "type": "object",
        "properties": {
          "total_tasks": {
            "type": "integer",
            "description": "总任务数",
            "example": 150
          },
          "pending_tasks": {
            "type": "integer",
            "description": "待处理任务数",
            "example": 45
          },
          "in_progress_tasks": {
            "type": "integer",
            "description": "进行中任务数",
            "example": 30
          },
          "completed_tasks": {
            "type": "integer",
            "description": "已完成任务数",
            "example": 65
          },
          "overdue_tasks": {
            "type": "integer",
            "description": "逾期任务数",
            "example": 10
          },
          "tasks_this_week": {
            "type": "integer",
            "description": "本周新增任务数",
            "example": 12
          },
          "completion_rate": {
            "type": "number",
            "format": "float",
            "description": "完成率（百分比）",
            "example": 43.33
          },
          "avg_completion_time": {
            "type": "number",
            "format": "float",
            "description": "平均完成时间（小时）",
            "example": 24.5
          },
          "priority_distribution": {
            "type": "object",
            "properties": {
              "urgent": {
                "type": "integer",
                "example": 5
              },
              "high": {
                "type": "integer",
                "example": 20
              },
              "medium": {
                "type": "integer",
                "example": 35
              },
              "low": {
                "type": "integer",
                "example": 25
              }
            },
            "description": "优先级分布统计"
          },
          "category_distribution": {
            "type": "object",
            "properties": {
              "教学管理": {
                "type": "integer",
                "example": 40
              },
              "行政工作": {
                "type": "integer",
                "example": 30
              },
              "家园沟通": {
                "type": "integer",
                "example": 25
              },
              "活动策划": {
                "type": "integer",
                "example": 20
              }
            },
            "description": "分类分布统计"
          }
        }
      },
      "CreateTaskRequest": {
        "type": "object",
        "required": [
          "title",
          "description",
          "priority",
          "assignee_id"
        ],
        "properties": {
          "title": {
            "type": "string",
            "description": "任务标题",
            "example": "完成教学计划制定",
            "minLength": 1,
            "maxLength": 100
          },
          "description": {
            "type": "string",
            "description": "任务详细描述",
            "example": "为本月教学活动制定详细的计划和安排",
            "maxLength": 1000
          },
          "priority": {
            "type": "string",
            "enum": [
              "low",
              "medium",
              "high",
              "urgent"
            ],
            "description": "任务优先级",
            "example": "high"
          },
          "assignee_id": {
            "type": "integer",
            "description": "被分配人ID",
            "example": 123
          },
          "category": {
            "type": "string",
            "description": "任务分类",
            "example": "教学管理"
          },
          "tags": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "任务标签",
            "example": [
              "教学",
              "计划",
              "重要"
            ]
          },
          "due_date": {
            "type": "string",
            "format": "date-time",
            "description": "截止时间",
            "example": "2024-12-31T23:59:59Z"
          },
          "estimated_hours": {
            "type": "number",
            "minimum": 0,
            "description": "预估工时（小时）",
            "example": 8.5
          }
        }
      },
      "UpdateTaskRequest": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string",
            "description": "任务标题",
            "example": "更新后的教学计划制定",
            "minLength": 1,
            "maxLength": 100
          },
          "description": {
            "type": "string",
            "description": "任务详细描述",
            "example": "更新后的教学活动详细计划",
            "maxLength": 1000
          },
          "priority": {
            "type": "string",
            "enum": [
              "low",
              "medium",
              "high",
              "urgent"
            ],
            "description": "任务优先级",
            "example": "urgent"
          },
          "status": {
            "type": "string",
            "enum": [
              "pending",
              "in_progress",
              "completed",
              "cancelled",
              "on_hold"
            ],
            "description": "任务状态",
            "example": "completed"
          },
          "assignee_id": {
            "type": "integer",
            "description": "被分配人ID",
            "example": 124
          },
          "category": {
            "type": "string",
            "description": "任务分类",
            "example": "行政管理"
          },
          "tags": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "任务标签",
            "example": [
              "教学",
              "紧急",
              "重要"
            ]
          },
          "due_date": {
            "type": "string",
            "format": "date-time",
            "description": "截止时间",
            "example": "2024-12-25T23:59:59Z"
          },
          "progress": {
            "type": "integer",
            "minimum": 0,
            "maximum": 100,
            "description": "任务进度百分比",
            "example": 85
          },
          "actual_hours": {
            "type": "number",
            "description": "实际工时（小时）",
            "example": 7.8
          }
        }
      },
      "TaskListQuery": {
        "type": "object",
        "properties": {
          "page": {
            "type": "integer",
            "minimum": 1,
            "description": "页码",
            "example": 1
          },
          "pageSize": {
            "type": "integer",
            "minimum": 1,
            "maximum": 100,
            "description": "每页数量",
            "example": 20
          },
          "status": {
            "type": "string",
            "enum": [
              "pending",
              "in_progress",
              "completed",
              "cancelled",
              "on_hold"
            ],
            "description": "按状态筛选",
            "example": "in_progress"
          },
          "priority": {
            "type": "string",
            "enum": [
              "low",
              "medium",
              "high",
              "urgent"
            ],
            "description": "按优先级筛选",
            "example": "high"
          },
          "assignee_id": {
            "type": "integer",
            "description": "按被分配人筛选",
            "example": 123
          },
          "category": {
            "type": "string",
            "description": "按分类筛选",
            "example": "教学管理"
          },
          "keyword": {
            "type": "string",
            "description": "关键词搜索（标题、描述、标签）",
            "example": "教学计划"
          },
          "date_range": {
            "type": "string",
            "enum": [
              "today",
              "this_week",
              "this_month",
              "overdue"
            ],
            "description": "时间范围筛选",
            "example": "this_week"
          },
          "sort_by": {
            "type": "string",
            "enum": [
              "created_at",
              "due_date",
              "priority",
              "progress"
            ],
            "description": "排序字段",
            "example": "due_date"
          },
          "sort_order": {
            "type": "string",
            "enum": [
              "asc",
              "desc"
            ],
            "description": "排序顺序",
            "example": "asc"
          }
        }
      },
      "AttendanceRecord": {
        "type": "object",
        "required": [
          "studentId",
          "status"
        ],
        "properties": {
          "studentId": {
            "type": "integer",
            "description": "学生ID",
            "example": 123
          },
          "status": {
            "type": "string",
            "enum": [
              "present",
              "absent",
              "late",
              "early_leave",
              "sick_leave",
              "personal_leave",
              "excused"
            ],
            "description": "考勤状态",
            "example": "present"
          },
          "checkInTime": {
            "type": "string",
            "pattern": "^([01]?[0-9]|2[0-3]):[0-5][0-9](:[0-5][0-9])?$",
            "description": "签到时间 (HH:mm:ss 格式)",
            "example": "08:30:00"
          },
          "checkOutTime": {
            "type": "string",
            "pattern": "^([01]?[0-9]|2[0-3]):[0-5][0-9](:[0-5][0-9])?$",
            "description": "签退时间 (HH:mm:ss 格式)",
            "example": "16:30:00"
          },
          "temperature": {
            "type": "number",
            "format": "decimal",
            "minimum": 35,
            "maximum": 42,
            "description": "体温 (摄氏度)",
            "example": 36.5
          },
          "healthStatus": {
            "type": "string",
            "enum": [
              "normal",
              "abnormal",
              "quarantine"
            ],
            "description": "健康状态",
            "example": "normal"
          },
          "notes": {
            "type": "string",
            "maxLength": 1000,
            "description": "备注说明",
            "example": "学生状态良好"
          },
          "leaveReason": {
            "type": "string",
            "maxLength": 500,
            "description": "请假原因",
            "example": "身体不适"
          }
        }
      },
      "BatchAttendanceRequest": {
        "type": "object",
        "required": [
          "classId",
          "kindergartenId",
          "attendanceDate",
          "records"
        ],
        "properties": {
          "classId": {
            "type": "integer",
            "description": "班级ID",
            "example": 1
          },
          "kindergartenId": {
            "type": "integer",
            "description": "幼儿园ID",
            "example": 1
          },
          "attendanceDate": {
            "type": "string",
            "format": "date",
            "description": "考勤日期",
            "example": "2024-01-15"
          },
          "records": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/AttendanceRecord"
            },
            "minItems": 1,
            "description": "考勤记录列表"
          }
        }
      },
      "UpdateAttendanceRequest": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "enum": [
              "present",
              "absent",
              "late",
              "early_leave",
              "sick_leave",
              "personal_leave",
              "excused"
            ],
            "description": "考勤状态"
          },
          "checkInTime": {
            "type": "string",
            "pattern": "^([01]?[0-9]|2[0-3]):[0-5][0-9](:[0-5][0-9])?$",
            "description": "签到时间"
          },
          "checkOutTime": {
            "type": "string",
            "pattern": "^([01]?[0-9]|2[0-3]):[0-5][0-9](:[0-5][0-9])?$",
            "description": "签退时间"
          },
          "temperature": {
            "type": "number",
            "format": "decimal",
            "minimum": 35,
            "maximum": 42,
            "description": "体温"
          },
          "healthStatus": {
            "type": "string",
            "enum": [
              "normal",
              "abnormal",
              "quarantine"
            ],
            "description": "健康状态"
          },
          "notes": {
            "type": "string",
            "maxLength": 1000,
            "description": "备注说明"
          },
          "leaveReason": {
            "type": "string",
            "maxLength": 500,
            "description": "请假原因"
          },
          "changeReason": {
            "type": "string",
            "maxLength": 500,
            "description": "修改原因"
          }
        }
      },
      "ExportRequest": {
        "type": "object",
        "required": [
          "classId",
          "startDate",
          "endDate"
        ],
        "properties": {
          "classId": {
            "type": "integer",
            "description": "班级ID",
            "example": 1
          },
          "startDate": {
            "type": "string",
            "format": "date",
            "description": "开始日期",
            "example": "2024-01-01"
          },
          "endDate": {
            "type": "string",
            "format": "date",
            "description": "结束日期",
            "example": "2024-01-31"
          },
          "format": {
            "type": "string",
            "enum": [
              "excel",
              "pdf"
            ],
            "default": "excel",
            "description": "导出格式",
            "example": "excel"
          }
        }
      },
      "AttendanceStatistics": {
        "type": "object",
        "properties": {
          "totalStudents": {
            "type": "integer",
            "description": "班级总学生数",
            "example": 25
          },
          "presentCount": {
            "type": "integer",
            "description": "出勤人数",
            "example": 23
          },
          "absentCount": {
            "type": "integer",
            "description": "缺勤人数",
            "example": 2
          },
          "lateCount": {
            "type": "integer",
            "description": "迟到人数",
            "example": 1
          },
          "earlyLeaveCount": {
            "type": "integer",
            "description": "早退人数",
            "example": 0
          },
          "sickLeaveCount": {
            "type": "integer",
            "description": "病假人数",
            "example": 1
          },
          "personalLeaveCount": {
            "type": "integer",
            "description": "事假人数",
            "example": 0
          },
          "attendanceRate": {
            "type": "number",
            "format": "decimal",
            "description": "出勤率 (百分比)",
            "example": 92
          },
          "period": {
            "type": "object",
            "properties": {
              "startDate": {
                "type": "string",
                "format": "date",
                "description": "统计开始日期"
              },
              "endDate": {
                "type": "string",
                "format": "date",
                "description": "统计结束日期"
              }
            }
          }
        }
      },
      "Teacher-center-creative-curriculum": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Teacher-center-creative-curriculum ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Teacher-center-creative-curriculum 名称",
            "example": "示例Teacher-center-creative-curriculum"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateTeacher-center-creative-curriculumRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Teacher-center-creative-curriculum 名称",
            "example": "新Teacher-center-creative-curriculum"
          }
        }
      },
      "UpdateTeacher-center-creative-curriculumRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Teacher-center-creative-curriculum 名称",
            "example": "更新后的Teacher-center-creative-curriculum"
          }
        }
      },
      "Teacher-center-creative-curriculumListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Teacher-center-creative-curriculum"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取teacher-center-creative-curriculum列表成功"
          }
        }
      },
      "Teacher-center-creative-curriculumResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Teacher-center-creative-curriculum"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "TeacherCheckin": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "打卡记录ID",
            "example": 1001
          },
          "teacherId": {
            "type": "integer",
            "description": "教师ID",
            "example": 5
          },
          "teacherName": {
            "type": "string",
            "description": "教师姓名",
            "example": "李老师"
          },
          "checkInTime": {
            "type": "string",
            "format": "date-time",
            "description": "签到时间",
            "example": "2024-01-15T08:30:00.000Z"
          },
          "checkOutTime": {
            "type": "string",
            "format": "date-time",
            "nullable": true,
            "description": "签退时间",
            "example": "2024-01-15T16:30:00.000Z"
          },
          "workDate": {
            "type": "string",
            "format": "date",
            "description": "工作日期",
            "example": "2024-01-15"
          },
          "workHours": {
            "type": "number",
            "format": "decimal",
            "description": "工作时长（小时）",
            "example": 8
          },
          "status": {
            "type": "string",
            "enum": [
              "normal",
              "late",
              "early_leave",
              "absent",
              "leave"
            ],
            "description": "考勤状态",
            "example": "normal"
          },
          "isCompleted": {
            "type": "boolean",
            "description": "是否完成当日考勤",
            "example": true
          },
          "notes": {
            "type": "string",
            "maxLength": 500,
            "description": "备注说明",
            "example": "正常工作日"
          }
        }
      },
      "LeaveRequest": {
        "type": "object",
        "required": [
          "leaveType",
          "startDate",
          "endDate",
          "reason"
        ],
        "properties": {
          "leaveType": {
            "type": "string",
            "enum": [
              "sick",
              "personal",
              "annual",
              "maternity",
              "emergency",
              "other"
            ],
            "description": "请假类型",
            "example": "sick"
          },
          "startDate": {
            "type": "string",
            "format": "date",
            "description": "开始日期",
            "example": "2024-01-16"
          },
          "endDate": {
            "type": "string",
            "format": "date",
            "description": "结束日期",
            "example": "2024-01-17"
          },
          "startTime": {
            "type": "string",
            "pattern": "^([01]?[0-9]|2[0-3]):[0-5][0-9]$",
            "description": "开始时间 (HH:mm 格式)",
            "example": "09:00"
          },
          "endTime": {
            "type": "string",
            "pattern": "^([01]?[0-9]|2[0-3]):[0-5][0-9]$",
            "description": "结束时间 (HH:mm 格式)",
            "example": "18:00"
          },
          "reason": {
            "type": "string",
            "maxLength": 1000,
            "description": "请假原因",
            "example": "身体不适，需要就医"
          },
          "attachments": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "附件文件列表",
            "example": [
              "medical_certificate.pdf"
            ]
          },
          "contactPhone": {
            "type": "string",
            "pattern": "^1[3-9]\\d{9}$",
            "description": "联系电话",
            "example": "13800138000"
          },
          "emergencyContact": {
            "type": "string",
            "description": "紧急联系人",
            "example": "王老师"
          }
        }
      },
      "LeaveApproval": {
        "type": "object",
        "required": [
          "requestId",
          "action"
        ],
        "properties": {
          "requestId": {
            "type": "integer",
            "description": "请假申请ID",
            "example": 2001
          },
          "action": {
            "type": "string",
            "enum": [
              "approve",
              "reject"
            ],
            "description": "审批动作",
            "example": "approve"
          },
          "comment": {
            "type": "string",
            "maxLength": 500,
            "description": "审批意见",
            "example": "同意请假"
          }
        }
      },
      "CheckinStatistics": {
        "type": "object",
        "properties": {
          "period": {
            "type": "object",
            "properties": {
              "startDate": {
                "type": "string",
                "format": "date",
                "description": "统计开始日期"
              },
              "endDate": {
                "type": "string",
                "format": "date",
                "description": "统计结束日期"
              }
            }
          },
          "workDays": {
            "type": "integer",
            "description": "工作天数",
            "example": 22
          },
          "presentDays": {
            "type": "integer",
            "description": "正常出勤天数",
            "example": 20
          },
          "lateDays": {
            "type": "integer",
            "description": "迟到天数",
            "example": 1
          },
          "earlyLeaveDays": {
            "type": "integer",
            "description": "早退天数",
            "example": 0
          },
          "leaveDays": {
            "type": "integer",
            "description": "请假天数",
            "example": 1
          },
          "absentDays": {
            "type": "integer",
            "description": "缺勤天数",
            "example": 0
          },
          "totalWorkHours": {
            "type": "number",
            "format": "decimal",
            "description": "总工作时长",
            "example": 176
          },
          "averageWorkHours": {
            "type": "number",
            "format": "decimal",
            "description": "平均工作时长",
            "example": 8.8
          },
          "attendanceRate": {
            "type": "number",
            "format": "decimal",
            "description": "出勤率 (百分比)",
            "example": 95.5
          }
        }
      },
      "Teacher-customer": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Teacher-customer ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Teacher-customer 名称",
            "example": "示例Teacher-customer"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateTeacher-customerRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Teacher-customer 名称",
            "example": "新Teacher-customer"
          }
        }
      },
      "UpdateTeacher-customerRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Teacher-customer 名称",
            "example": "更新后的Teacher-customer"
          }
        }
      },
      "Teacher-customerListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Teacher-customer"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取teacher-customer列表成功"
          }
        }
      },
      "Teacher-customerResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Teacher-customer"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Teacher-dashboard": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Teacher-dashboard ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Teacher-dashboard 名称",
            "example": "示例Teacher-dashboard"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateTeacher-dashboardRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Teacher-dashboard 名称",
            "example": "新Teacher-dashboard"
          }
        }
      },
      "UpdateTeacher-dashboardRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Teacher-dashboard 名称",
            "example": "更新后的Teacher-dashboard"
          }
        }
      },
      "Teacher-dashboardListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Teacher-dashboard"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取teacher-dashboard列表成功"
          }
        }
      },
      "Teacher-dashboardResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Teacher-dashboard"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Teacher-sop": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Teacher-sop ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Teacher-sop 名称",
            "example": "示例Teacher-sop"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateTeacher-sopRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Teacher-sop 名称",
            "example": "新Teacher-sop"
          }
        }
      },
      "UpdateTeacher-sopRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Teacher-sop 名称",
            "example": "更新后的Teacher-sop"
          }
        }
      },
      "Teacher-sopListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Teacher-sop"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取teacher-sop列表成功"
          }
        }
      },
      "Teacher-sopResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Teacher-sop"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "CreateTeacherRequest": {
        "type": "object",
        "required": [
          "realName",
          "phone",
          "email",
          "teacherNo",
          "position",
          "hireDate",
          "education",
          "major",
          "roleId"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Teacher 名称",
            "example": "新Teacher"
          },
          "realName": {
            "type": "string",
            "description": "真实姓名",
            "example": "张老师"
          },
          "phone": {
            "type": "string",
            "description": "手机号码",
            "example": "13800138000"
          },
          "email": {
            "type": "string",
            "format": "email",
            "description": "邮箱地址",
            "example": "teacher@example.com"
          },
          "teacherNo": {
            "type": "string",
            "description": "教师编号",
            "example": "T001"
          },
          "position": {
            "type": "string",
            "description": "职位",
            "example": "主班老师"
          },
          "hireDate": {
            "type": "string",
            "format": "date",
            "description": "入职日期",
            "example": "2024-01-01"
          },
          "education": {
            "type": "string",
            "description": "学历",
            "example": "本科"
          },
          "major": {
            "type": "string",
            "description": "专业",
            "example": "学前教育"
          },
          "roleId": {
            "type": "integer",
            "description": "角色ID",
            "example": 2
          }
        }
      },
      "UpdateTeacherRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Teacher 名称",
            "example": "更新后的Teacher"
          },
          "teacherNo": {
            "type": "string",
            "description": "教师编号",
            "example": "T002"
          },
          "position": {
            "type": "string",
            "description": "职位",
            "example": "副班老师"
          },
          "education": {
            "type": "string",
            "description": "学历",
            "example": "硕士"
          },
          "major": {
            "type": "string",
            "description": "专业",
            "example": "幼儿心理学"
          },
          "status": {
            "type": "integer",
            "description": "状态（1-在职，0-离职）",
            "example": 1
          }
        }
      },
      "TeacherListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Teacher"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取teachers列表成功"
          }
        }
      },
      "TeacherResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Teacher"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "TeacherCreateResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "user": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "integer"
                  },
                  "username": {
                    "type": "string"
                  },
                  "realName": {
                    "type": "string"
                  },
                  "phone": {
                    "type": "string"
                  },
                  "email": {
                    "type": "string"
                  },
                  "role": {
                    "type": "string"
                  },
                  "status": {
                    "type": "string"
                  }
                }
              },
              "teacher": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "integer"
                  },
                  "userId": {
                    "type": "integer"
                  },
                  "kindergartenId": {
                    "type": "integer"
                  },
                  "groupId": {
                    "type": "integer"
                  },
                  "teacherNo": {
                    "type": "string"
                  },
                  "position": {
                    "type": "string"
                  },
                  "status": {
                    "type": "integer"
                  }
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "创建教师成功"
          }
        }
      },
      "Teaching-center": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Teaching-center ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Teaching-center 名称",
            "example": "示例Teaching-center"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateTeaching-centerRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Teaching-center 名称",
            "example": "新Teaching-center"
          }
        }
      },
      "UpdateTeaching-centerRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Teaching-center 名称",
            "example": "更新后的Teaching-center"
          }
        }
      },
      "Teaching-centerListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Teaching-center"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取teaching-center列表成功"
          }
        }
      },
      "Teaching-centerResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Teaching-center"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Text-polish": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Text-polish ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Text-polish 名称",
            "example": "示例Text-polish"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateText-polishRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Text-polish 名称",
            "example": "新Text-polish"
          }
        }
      },
      "UpdateText-polishRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Text-polish 名称",
            "example": "更新后的Text-polish"
          }
        }
      },
      "Text-polishListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Text-polish"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取text-polish列表成功"
          }
        }
      },
      "Text-polishResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Text-polish"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Text-to-speech": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Text-to-speech ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Text-to-speech 名称",
            "example": "示例Text-to-speech"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateText-to-speechRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Text-to-speech 名称",
            "example": "新Text-to-speech"
          }
        }
      },
      "UpdateText-to-speechRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Text-to-speech 名称",
            "example": "更新后的Text-to-speech"
          }
        }
      },
      "Text-to-speechListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Text-to-speech"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取text-to-speech列表成功"
          }
        }
      },
      "Text-to-speechResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Text-to-speech"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Token-blacklist": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Token-blacklist ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Token-blacklist 名称",
            "example": "示例Token-blacklist"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateToken-blacklistRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Token-blacklist 名称",
            "example": "新Token-blacklist"
          }
        }
      },
      "UpdateToken-blacklistRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Token-blacklist 名称",
            "example": "更新后的Token-blacklist"
          }
        }
      },
      "Token-blacklistListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Token-blacklist"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取token-blacklist列表成功"
          }
        }
      },
      "Token-blacklistResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Token-blacklist"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Unified-statistic": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Unified-statistic ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Unified-statistic 名称",
            "example": "示例Unified-statistic"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateUnified-statisticRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Unified-statistic 名称",
            "example": "新Unified-statistic"
          }
        }
      },
      "UpdateUnified-statisticRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Unified-statistic 名称",
            "example": "更新后的Unified-statistic"
          }
        }
      },
      "Unified-statisticListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Unified-statistic"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取unified-statistic列表成功"
          }
        }
      },
      "Unified-statisticResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Unified-statistic"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Usage-center": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Usage-center ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Usage-center 名称",
            "example": "示例Usage-center"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateUsage-centerRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Usage-center 名称",
            "example": "新Usage-center"
          }
        }
      },
      "UpdateUsage-centerRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Usage-center 名称",
            "example": "更新后的Usage-center"
          }
        }
      },
      "Usage-centerListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Usage-center"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取usage-center列表成功"
          }
        }
      },
      "Usage-centerResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Usage-center"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Usage-quota": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Usage-quota ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Usage-quota 名称",
            "example": "示例Usage-quota"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateUsage-quotaRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Usage-quota 名称",
            "example": "新Usage-quota"
          }
        }
      },
      "UpdateUsage-quotaRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Usage-quota 名称",
            "example": "更新后的Usage-quota"
          }
        }
      },
      "Usage-quotaListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Usage-quota"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取usage-quota列表成功"
          }
        }
      },
      "Usage-quotaResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Usage-quota"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "User-profile": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "User-profile ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "User-profile 名称",
            "example": "示例User-profile"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateUser-profileRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "User-profile 名称",
            "example": "新User-profile"
          }
        }
      },
      "UpdateUser-profileRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "User-profile 名称",
            "example": "更新后的User-profile"
          }
        }
      },
      "User-profileListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/User-profile"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取user-profile列表成功"
          }
        }
      },
      "User-profileResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/User-profile"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "UserRole": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "用户角色关联ID",
            "example": 1
          },
          "userId": {
            "type": "integer",
            "description": "用户ID",
            "example": 123
          },
          "roleId": {
            "type": "integer",
            "description": "角色ID",
            "example": 456
          },
          "isPrimary": {
            "type": "boolean",
            "description": "是否为主要角色",
            "example": true
          },
          "startTime": {
            "type": "string",
            "format": "date-time",
            "description": "角色生效开始时间",
            "example": "2023-01-01T00:00:00.000Z"
          },
          "endTime": {
            "type": "string",
            "format": "date-time",
            "description": "角色生效结束时间",
            "example": "2024-12-31T23:59:59.000Z"
          },
          "grantorId": {
            "type": "integer",
            "description": "授权人ID",
            "example": 789
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2023-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2023-01-01T00:00:00.000Z"
          },
          "username": {
            "type": "string",
            "description": "用户名",
            "example": "john_doe"
          },
          "realName": {
            "type": "string",
            "description": "真实姓名",
            "example": "张三"
          },
          "roleName": {
            "type": "string",
            "description": "角色名称",
            "example": "管理员"
          },
          "roleCode": {
            "type": "string",
            "description": "角色代码",
            "example": "ADMIN"
          },
          "roleDescription": {
            "type": "string",
            "description": "角色描述",
            "example": "系统管理员角色"
          }
        }
      },
      "CreateUserRoleRequest": {
        "type": "object",
        "required": [
          "userId",
          "roleId"
        ],
        "properties": {
          "userId": {
            "type": "integer",
            "description": "用户ID",
            "example": 123
          },
          "roleId": {
            "type": "integer",
            "description": "角色ID",
            "example": 456
          },
          "assignedBy": {
            "type": "integer",
            "description": "分配人ID（可选）",
            "example": 789
          },
          "notes": {
            "type": "string",
            "description": "备注信息（可选）",
            "example": "临时分配管理员权限"
          }
        }
      },
      "UpdateUserRoleRequest": {
        "type": "object",
        "properties": {
          "isPrimary": {
            "type": "boolean",
            "description": "是否为主要角色",
            "example": true
          },
          "startTime": {
            "type": "string",
            "format": "date-time",
            "description": "角色生效开始时间",
            "example": "2023-01-01T00:00:00.000Z"
          },
          "endTime": {
            "type": "string",
            "format": "date-time",
            "description": "角色生效结束时间",
            "example": "2024-12-31T23:59:59.000Z"
          },
          "notes": {
            "type": "string",
            "description": "备注信息",
            "example": "更新角色有效期"
          }
        }
      },
      "RoleAssignmentRequest": {
        "type": "object",
        "required": [
          "roleIds"
        ],
        "properties": {
          "roleIds": {
            "type": "array",
            "items": {
              "type": "integer"
            },
            "description": "角色ID数组",
            "example": [
              1,
              2,
              3
            ]
          }
        }
      },
      "SetPrimaryRoleRequest": {
        "type": "object",
        "required": [
          "roleId"
        ],
        "properties": {
          "roleId": {
            "type": "integer",
            "description": "设置为主要角色的角色ID",
            "example": 1
          }
        }
      },
      "UpdateRoleValidityRequest": {
        "type": "object",
        "properties": {
          "startTime": {
            "type": "string",
            "format": "date-time",
            "description": "角色生效开始时间",
            "example": "2023-01-01T00:00:00.000Z"
          },
          "endTime": {
            "type": "string",
            "format": "date-time",
            "description": "角色生效结束时间",
            "example": "2024-12-31T23:59:59.000Z"
          }
        }
      },
      "User-role": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "User-role ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "User-role 名称",
            "example": "示例User-role"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateUser-roleRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "User-role 名称",
            "example": "新User-role"
          }
        }
      },
      "UpdateUser-roleRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "User-role 名称",
            "example": "更新后的User-role"
          }
        }
      },
      "User-roleListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/User-role"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取user-role列表成功"
          }
        }
      },
      "User-roleResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/User-role"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "CreateUserRequest": {
        "type": "object",
        "required": [
          "username",
          "email",
          "password",
          "role",
          "role"
        ],
        "properties": {
          "username": {
            "type": "string",
            "minLength": 3,
            "maxLength": 50,
            "description": "用户名",
            "example": "newuser"
          },
          "email": {
            "type": "string",
            "format": "email",
            "description": "邮箱地址",
            "example": "newuser@example.com"
          },
          "password": {
            "type": "string",
            "minLength": 6,
            "description": "密码",
            "format": "password",
            "example": "password123"
          },
          "phone": {
            "type": "string",
            "description": "手机号码",
            "example": "13900139000"
          },
          "name": {
            "type": "string",
            "description": "真实姓名"
          },
          "role": {
            "type": "string",
            "enum": [
              "admin",
              "teacher",
              "parent",
              "parent"
            ],
            "description": "用户角色",
            "example": "teacher"
          },
          "realName": {
            "type": "string",
            "description": "真实姓名",
            "example": "李四"
          },
          "kindergartenId": {
            "type": "integer",
            "description": "所属幼儿园ID",
            "example": 1
          }
        }
      },
      "UpdateUserRequest": {
        "type": "object",
        "properties": {
          "username": {
            "type": "string",
            "minLength": 3,
            "maxLength": 50,
            "description": "用户名",
            "example": "updateduser"
          },
          "email": {
            "type": "string",
            "format": "email",
            "description": "邮箱地址",
            "example": "updated@example.com"
          },
          "phone": {
            "type": "string",
            "description": "手机号码",
            "example": "13700137000"
          },
          "name": {
            "type": "string",
            "description": "真实姓名"
          },
          "role": {
            "type": "string",
            "enum": [
              "admin",
              "teacher",
              "parent",
              "parent"
            ],
            "description": "用户角色",
            "example": "parent"
          },
          "realName": {
            "type": "string",
            "description": "真实姓名",
            "example": "王五"
          },
          "status": {
            "type": "string",
            "enum": [
              "active",
              "inactive"
            ],
            "description": "用户状态",
            "example": "active"
          },
          "kindergartenId": {
            "type": "integer",
            "description": "所属幼儿园ID",
            "example": 2
          }
        }
      },
      "UpdateStatusRequest": {
        "type": "object",
        "required": [
          "status"
        ],
        "properties": {
          "status": {
            "oneOf": [
              {
                "type": "string",
                "enum": [
                  "active",
                  "inactive",
                  "locked"
                ]
              },
              {
                "type": "integer",
                "enum": [
                  0,
                  1
                ],
                "description": "0=inactive, 1=active"
              }
            ],
            "description": "用户状态"
          },
          "reason": {
            "type": "string",
            "description": "状态变更原因"
          }
        }
      },
      "ChangePasswordRequest": {
        "type": "object",
        "required": [
          "currentPassword",
          "newPassword"
        ],
        "properties": {
          "currentPassword": {
            "type": "string",
            "description": "当前密码"
          },
          "newPassword": {
            "type": "string",
            "minLength": 6,
            "description": "新密码"
          }
        }
      },
      "UserListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/User"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取users列表成功"
          }
        }
      },
      "UserResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/User"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "VideoProject": {
        "type": "object",
        "required": [
          "title",
          "platform",
          "videoType",
          "duration",
          "style",
          "topic",
          "targetAudience",
          "voiceStyle"
        ],
        "properties": {
          "id": {
            "type": "integer",
            "description": "项目ID",
            "example": 1
          },
          "userId": {
            "type": "integer",
            "description": "用户ID",
            "example": 1
          },
          "title": {
            "type": "string",
            "maxLength": 200,
            "description": "视频标题",
            "example": "幼儿园春季招生宣传"
          },
          "description": {
            "type": "string",
            "description": "视频描述",
            "example": "展示幼儿园优美的教学环境和师资力量"
          },
          "platform": {
            "type": "string",
            "enum": [
              "douyin",
              "kuaishou",
              "wechat_video",
              "xiaohongshu",
              "bilibili"
            ],
            "description": "目标平台",
            "example": "douyin"
          },
          "videoType": {
            "type": "string",
            "enum": [
              "enrollment",
              "activity",
              "course",
              "environment",
              "teacher",
              "student"
            ],
            "description": "视频类型",
            "example": "enrollment"
          },
          "duration": {
            "type": "integer",
            "minimum": 15,
            "maximum": 300,
            "description": "视频时长（秒）",
            "example": 60
          },
          "style": {
            "type": "string",
            "enum": [
              "warm",
              "professional",
              "lively",
              "elegant"
            ],
            "description": "视频风格",
            "example": "warm"
          },
          "status": {
            "type": "string",
            "enum": [
              "draft",
              "generating_script",
              "generating_audio",
              "generating_video",
              "editing",
              "completed",
              "failed"
            ],
            "description": "项目状态",
            "example": "draft"
          },
          "topic": {
            "type": "string",
            "maxLength": 500,
            "description": "视频主题",
            "example": "春季招生，快乐成长"
          },
          "keyPoints": {
            "type": "string",
            "description": "关键要点",
            "example": "优美环境、专业师资、特色课程"
          },
          "targetAudience": {
            "type": "string",
            "maxLength": 200,
            "description": "目标受众",
            "example": "3-6岁幼儿家长"
          },
          "voiceStyle": {
            "type": "string",
            "maxLength": 100,
            "description": "配音风格",
            "example": "温柔女声"
          },
          "scriptData": {
            "$ref": "#/components/schemas/VideoScript",
            "description": "视频脚本数据"
          },
          "audioData": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/SceneAudio"
            },
            "description": "音频数据"
          },
          "videoData": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/SceneVideo"
            },
            "description": "视频数据"
          },
          "finalVideoUrl": {
            "type": "string",
            "format": "uri",
            "description": "最终视频URL",
            "example": "https://example.com/videos/final-video-123.mp4"
          },
          "coverImageUrl": {
            "type": "string",
            "format": "uri",
            "description": "封面图片URL",
            "example": "https://example.com/images/cover-123.jpg"
          },
          "progress": {
            "type": "integer",
            "minimum": 0,
            "maximum": 100,
            "description": "生成进度（0-100）",
            "example": 75
          },
          "progressMessage": {
            "type": "string",
            "description": "进度消息",
            "example": "正在生成第3个场景的视频"
          },
          "errorMessage": {
            "type": "string",
            "description": "错误信息",
            "example": "视频生成失败：网络连接超时"
          },
          "metadata": {
            "type": "object",
            "description": "元数据",
            "example": {
              "generationTime": 120,
              "cost": 0.5
            }
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间"
          }
        }
      },
      "VideoScript": {
        "type": "object",
        "required": [
          "title",
          "description",
          "totalDuration",
          "scenes",
          "bgmSuggestion",
          "colorTone"
        ],
        "properties": {
          "title": {
            "type": "string",
            "description": "脚本标题",
            "example": "快乐幼儿园的一天"
          },
          "description": {
            "type": "string",
            "description": "脚本描述",
            "example": "展示幼儿园孩子们快乐学习生活的场景"
          },
          "totalDuration": {
            "type": "integer",
            "minimum": 15,
            "description": "总时长（秒）",
            "example": 60
          },
          "targetEmotion": {
            "type": "string",
            "description": "目标情绪",
            "example": "温馨快乐"
          },
          "coreMessage": {
            "type": "string",
            "description": "核心信息",
            "example": "给孩子一个快乐的童年"
          },
          "scenes": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/VideoScene"
            },
            "minItems": 1,
            "maxItems": 20,
            "description": "视频场景列表"
          },
          "bgmSuggestion": {
            "type": "string",
            "description": "背景音乐建议",
            "example": "轻快的儿童音乐"
          },
          "colorTone": {
            "type": "string",
            "description": "色调",
            "example": "明亮温暖"
          },
          "visualStyle": {
            "type": "string",
            "description": "视觉风格",
            "example": "卡通动画风格"
          },
          "hashtags": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "标签列表",
            "example": [
              "幼儿园",
              "招生",
              "快乐童年"
            ]
          },
          "callToAction": {
            "type": "string",
            "description": "行动号召",
            "example": "立即报名，给孩子一个快乐的开始"
          }
        }
      },
      "VideoScene": {
        "type": "object",
        "required": [
          "sceneNumber",
          "duration",
          "visualDescription",
          "narration",
          "cameraAngle",
          "cameraMovement",
          "transition"
        ],
        "properties": {
          "sceneNumber": {
            "type": "integer",
            "minimum": 1,
            "description": "场景编号",
            "example": 1
          },
          "duration": {
            "type": "integer",
            "minimum": 3,
            "maximum": 60,
            "description": "场景时长（秒）",
            "example": 10
          },
          "sceneTitle": {
            "type": "string",
            "description": "场景标题",
            "example": "晨间入园"
          },
          "visualDescription": {
            "type": "string",
            "minLength": 100,
            "maxLength": 500,
            "description": "详细的画面描述（至少100字）",
            "example": "清晨的阳光洒进幼儿园大门，孩子们背着书包，面带微笑地走进校园。老师站在门口迎接每个孩子，温暖的氛围充满了整个画面。镜头慢慢推进，展现孩子们与老师亲切互动的场景。"
          },
          "narration": {
            "type": "string",
            "maxLength": 200,
            "description": "旁白文案",
            "example": "每天清晨，我们都在这里，用温暖的笑容迎接每一位小朋友的到来"
          },
          "subtitle": {
            "type": "string",
            "description": "字幕文本",
            "example": "温暖迎接，快乐启程"
          },
          "cameraAngle": {
            "type": "string",
            "enum": [
              "正面",
              "侧面",
              "俯视",
              "仰视",
              "特写",
              "全景",
              "中景",
              "近景"
            ],
            "description": "镜头角度",
            "example": "正面"
          },
          "cameraMovement": {
            "type": "string",
            "enum": [
              "固定",
              "推进",
              "拉远",
              "左移",
              "右移",
              "上移",
              "下移",
              "旋转",
              "跟拍"
            ],
            "description": "镜头运动",
            "example": "推进"
          },
          "transition": {
            "type": "string",
            "enum": [
              "直接切换",
              "淡入淡出",
              "渐变",
              "擦除",
              "推拉",
              "旋转",
              "缩放"
            ],
            "description": "转场效果",
            "example": "淡入淡出"
          },
          "emotionalTone": {
            "type": "string",
            "description": "情感基调",
            "example": "温馨愉悦"
          },
          "keyVisualElements": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "关键视觉元素",
            "example": [
              "阳光",
              "笑脸",
              "彩虹门",
              "老师挥手"
            ]
          }
        }
      },
      "SceneAudio": {
        "type": "object",
        "required": [
          "sceneNumber",
          "audioPath",
          "audioUrl",
          "duration",
          "narration"
        ],
        "properties": {
          "sceneNumber": {
            "type": "integer",
            "minimum": 1,
            "description": "场景编号",
            "example": 1
          },
          "audioPath": {
            "type": "string",
            "description": "音频文件路径",
            "example": "/uploads/audio/scene-1-123.mp3"
          },
          "audioUrl": {
            "type": "string",
            "format": "uri",
            "description": "音频访问URL",
            "example": "https://example.com/audio/scene-1-123.mp3"
          },
          "duration": {
            "type": "number",
            "minimum": 1,
            "description": "音频时长（秒）",
            "example": 10.5
          },
          "narration": {
            "type": "string",
            "description": "旁白文本",
            "example": "每天清晨，我们都在这里..."
          }
        }
      },
      "SceneVideo": {
        "type": "object",
        "required": [
          "sceneNumber",
          "videoPath",
          "videoUrl",
          "duration",
          "taskId",
          "thumbnailUrl"
        ],
        "properties": {
          "sceneNumber": {
            "type": "integer",
            "minimum": 1,
            "description": "场景编号",
            "example": 1
          },
          "videoPath": {
            "type": "string",
            "description": "视频文件路径",
            "example": "/uploads/videos/scene-1-456.mp4"
          },
          "videoUrl": {
            "type": "string",
            "format": "uri",
            "description": "视频访问URL",
            "example": "https://example.com/videos/scene-1-456.mp4"
          },
          "duration": {
            "type": "number",
            "minimum": 1,
            "description": "视频时长（秒）",
            "example": 10.2
          },
          "taskId": {
            "type": "string",
            "description": "AI生成任务ID",
            "example": "task_789xyz"
          },
          "thumbnailUrl": {
            "type": "string",
            "format": "uri",
            "description": "缩略图URL",
            "example": "https://example.com/thumbnails/scene-1-456.jpg"
          }
        }
      },
      "Voice-config": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Voice-config ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Voice-config 名称",
            "example": "示例Voice-config"
          },
          "status": {
            "type": "string",
            "description": "状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-01T00:00:00.000Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-01T00:00:00.000Z"
          }
        }
      },
      "CreateVoice-configRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Voice-config 名称",
            "example": "新Voice-config"
          }
        }
      },
      "UpdateVoice-configRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Voice-config 名称",
            "example": "更新后的Voice-config"
          }
        }
      },
      "Voice-configListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Voice-config"
                }
              }
            }
          },
          "message": {
            "type": "string",
            "example": "获取voice-config列表成功"
          }
        }
      },
      "Voice-configResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Voice-config"
          },
          "message": {
            "type": "string",
            "example": "操作成功"
          }
        }
      },
      "Conversation": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "description": "会话唯一标识符 (UUID)",
            "example": "conv-12345-abcde"
          },
          "title": {
            "type": "string",
            "description": "会话标题",
            "example": "教学计划讨论",
            "nullable": true
          },
          "userId": {
            "type": "integer",
            "format": "uuid",
            "description": "关联的用户ID",
            "example": 1001
          },
          "isArchived": {
            "type": "boolean",
            "description": "是否归档",
            "default": false,
            "example": false
          },
          "messageCount": {
            "type": "integer",
            "description": "消息数量",
            "example": 15
          },
          "lastMessageAt": {
            "type": "string",
            "format": "date-time",
            "description": "最后消息时间",
            "example": "2023-06-15T09:45:10Z"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2023-06-14T10:20:30Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2023-06-15T09:45:10Z"
          },
          "summary": {
            "type": "string",
            "nullable": true,
            "description": "会话摘要",
            "example": "关于下学期教学计划的讨论"
          }
        },
        "required": [
          "userId",
          "userId",
          "isArchived",
          "createdAt",
          "updatedAt"
        ]
      },
      "ConversationListResponse": {
        "type": "object",
        "properties": {
          "code": {
            "type": "integer",
            "example": 200
          },
          "message": {
            "type": "string",
            "example": "获取会话列表成功"
          },
          "data": {
            "type": "array",
            "properties": {
              "conversations": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Conversation"
                }
              },
              "pagination": {
                "type": "object",
                "properties": {
                  "page": {
                    "type": "integer",
                    "description": "当前页码",
                    "example": 1
                  },
                  "pageSize": {
                    "type": "integer",
                    "description": "每页条数",
                    "example": 10
                  },
                  "total": {
                    "type": "integer",
                    "description": "总记录数",
                    "example": 25
                  },
                  "totalPages": {
                    "type": "integer",
                    "description": "总页数",
                    "example": 3
                  }
                },
                "required": [
                  "page",
                  "pageSize",
                  "total",
                  "totalPages"
                ]
              }
            },
            "required": [
              "conversations",
              "pagination"
            ],
            "items": {
              "$ref": "#/components/schemas/Conversation"
            }
          },
          "meta": {
            "type": "object",
            "properties": {
              "page": {
                "type": "integer",
                "example": 1
              },
              "pageSize": {
                "type": "integer",
                "example": 10
              },
              "totalItems": {
                "type": "integer",
                "example": 35
              },
              "totalPages": {
                "type": "integer",
                "example": 4
              }
            }
          }
        },
        "required": [
          "code",
          "message",
          "data"
        ]
      },
      "FunctionCall": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "函数名称",
            "example": "any_query"
          },
          "arguments": {
            "type": "object",
            "description": "函数参数对象",
            "example": {
              "userQuery": "查询最近10个活动"
            }
          }
        }
      },
      "FunctionCallRequest": {
        "type": "object",
        "required": [
          "function_calls"
        ],
        "properties": {
          "function_calls": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/FunctionCall"
            },
            "description": "函数调用列表"
          },
          "conversation_id": {
            "type": "integer",
            "description": "会话ID"
          },
          "user_id": {
            "type": "integer",
            "description": "用户ID"
          }
        }
      },
      "FunctionCallResult": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "description": "函数执行结果"
          },
          "metadata": {
            "type": "object",
            "properties": {
              "executed_at": {
                "type": "string",
                "format": "date-time",
                "description": "执行时间"
              },
              "function_count": {
                "type": "integer",
                "description": "执行的函数数量"
              }
            }
          }
        }
      },
      "AvailableTool": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "工具名称",
            "example": "any_query"
          },
          "description": {
            "type": "string",
            "description": "工具描述",
            "example": "智能自然语言查询 - 支持所有数据查询"
          },
          "category": {
            "type": "string",
            "description": "工具类别",
            "example": "database"
          },
          "requiredRole": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "所需角色权限"
          },
          "features": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "工具特性"
          }
        }
      },
      "ToolCategory": {
        "type": "object",
        "properties": {
          "database_query": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/AvailableTool"
            }
          },
          "page_operation": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/AvailableTool"
            }
          },
          "business_operation": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/AvailableTool"
            }
          }
        }
      },
      "SmartChatRequest": {
        "type": "object",
        "required": [
          "messages"
        ],
        "properties": {
          "messages": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "role": {
                  "type": "string",
                  "enum": [
                    "user",
                    "assistant",
                    "system"
                  ],
                  "example": "user"
                },
                "content": {
                  "type": "string",
                  "example": "请帮我设计一个适合幼儿园的环保主题活动"
                },
                "timestamp": {
                  "type": "string",
                  "format": "date-time",
                  "example": "2024-01-15T10:30:00Z"
                }
              }
            },
            "description": "对话消息历史"
          },
          "conversation_id": {
            "type": "integer",
            "description": "会话ID"
          },
          "max_iterations": {
            "type": "integer",
            "default": 12,
            "description": "最大对话轮数"
          },
          "stream": {
            "type": "boolean",
            "default": false,
            "description": "是否启用流式输出",
            "example": false
          },
          "preferredLanguage": {
            "type": "string",
            "enum": [
              "zh",
              "en"
            ],
            "default": "zh",
            "description": "首选语言"
          },
          "responseStyle": {
            "type": "string",
            "enum": [
              "professional",
              "casual",
              "detailed",
              "concise"
            ],
            "default": "professional",
            "description": "响应风格"
          },
          "toolsEnabled": {
            "type": "boolean",
            "default": true,
            "description": "是否启用工具调用"
          },
          "maxTokens": {
            "type": "integer",
            "minimum": 100,
            "maximum": 8000,
            "default": 2000,
            "description": "最大响应Token数"
          },
          "temperature": {
            "type": "number",
            "minimum": 0,
            "maximum": 2,
            "default": 0.7,
            "description": "创造性参数"
          }
        }
      },
      "SmartChatResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true,
            "description": "请求是否成功"
          },
          "data": {
            "type": "object",
            "properties": {
              "message": {
                "type": "string",
                "description": "AI回复内容"
              },
              "conversation_id": {
                "type": "string",
                "description": "会话ID"
              },
              "model_used": {
                "type": "string",
                "description": "使用的AI模型"
              },
              "usage": {
                "type": "object",
                "description": "Token使用统计"
              },
              "iterations": {
                "type": "integer",
                "description": "对话轮数"
              },
              "conversation_history": {
                "type": "array",
                "items": {
                  "type": "object"
                },
                "description": "对话历史记录"
              },
              "final_response": {
                "type": "boolean",
                "description": "是否为最终回复"
              },
              "incomplete": {
                "type": "boolean",
                "description": "是否未完成"
              }
            }
          },
          "message": {
            "type": "string",
            "description": "响应消息",
            "example": "智能专家系统回复完成"
          },
          "conversationId": {
            "type": "string",
            "format": "uuid",
            "description": "对话ID",
            "example": "550e8400-e29b-41d4-a716-446655440000"
          },
          "modelUsed": {
            "type": "string",
            "description": "使用的AI模型",
            "example": "doubao-seed-1-6-flash-250715"
          },
          "response": {
            "type": "string",
            "description": "AI回复内容",
            "example": "## 环保主题活动方案\n### 活动名称\n\"绿色小卫士\"环保主题活动..."
          },
          "toolCalls": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "toolName": {
                  "type": "string",
                  "example": "call_expert"
                },
                "parameters": {
                  "type": "object",
                  "description": "工具调用参数"
                },
                "result": {
                  "type": "object",
                  "description": "工具执行结果"
                },
                "executionTime": {
                  "type": "integer",
                  "description": "执行时间(毫秒)",
                  "example": 1250
                }
              }
            }
          },
          "toolResults": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "toolCallId": {
                  "type": "string"
                },
                "toolName": {
                  "type": "string"
                },
                "result": {
                  "type": "object"
                },
                "success": {
                  "type": "boolean"
                },
                "error": {
                  "type": "string"
                }
              }
            }
          },
          "usage": {
            "type": "object",
            "properties": {
              "promptTokens": {
                "type": "integer",
                "example": 850
              },
              "completionTokens": {
                "type": "integer",
                "example": 1250
              },
              "totalTokens": {
                "type": "integer",
                "example": 2100
              },
              "estimatedCost": {
                "type": "number",
                "example": 0.0125
              }
            }
          },
          "metadata": {
            "type": "object",
            "properties": {
              "expertsConsulted": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "example": [
                  "activity_planner",
                  "education_expert"
                ]
              },
              "toolsUsed": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "example": [
                  "call_expert",
                  "generate_todo_list"
                ]
              },
              "responseTime": {
                "type": "integer",
                "description": "总响应时间(毫秒)",
                "example": 3200
              },
              "confidence": {
                "type": "number",
                "description": "回复置信度",
                "example": 0.88
              }
            }
          }
        }
      },
      "SSEEvent": {
        "type": "object",
        "properties": {
          "event": {
            "type": "string",
            "enum": [
              "thinking-start",
              "thinking-complete",
              "response-start",
              "response-content",
              "complete",
              "error"
            ],
            "description": "事件类型"
          },
          "data": {
            "type": "object",
            "description": "事件数据"
          }
        }
      },
      "Message": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "消息唯一标识符 (UUID)",
            "example": "msg-12345-abcde",
            "format": "uuid"
          },
          "conversationId": {
            "type": "string",
            "format": "uuid",
            "description": "关联的会话ID",
            "example": "conv-12345-abcde"
          },
          "role": {
            "type": "string",
            "enum": [
              "user",
              "assistant",
              "system"
            ],
            "description": "消息发送者角色",
            "example": "user"
          },
          "content": {
            "type": "string",
            "description": "消息内容",
            "example": "我想了解更多关于AI的知识"
          },
          "messageType": {
            "type": "string",
            "enum": [
              "text",
              "image",
              "audio",
              "video",
              "file",
              "system"
            ],
            "description": "消息类型",
            "default": "text",
            "example": "text"
          },
          "status": {
            "type": "string",
            "enum": [
              "sending",
              "delivered",
              "failed",
              "read",
              "failed"
            ],
            "description": "消息状态",
            "default": "sent",
            "example": "delivered"
          },
          "metadata": {
            "type": "object",
            "description": "元数据，可存储额外信息",
            "properties": {
              "tokenCount": {
                "type": "integer",
                "description": "消息消耗的token数量",
                "example": 150
              },
              "model": {
                "type": "string",
                "description": "处理消息的AI模型",
                "example": "gpt-4"
              },
              "streaming": {
                "type": "boolean",
                "description": "是否为流式消息",
                "default": false
              },
              "attachments": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "type": {
                      "type": "string",
                      "example": "image"
                    },
                    "url": {
                      "type": "string",
                      "example": "https://example.com/image.jpg"
                    },
                    "name": {
                      "type": "string",
                      "example": "attachment.jpg"
                    }
                  }
                }
              }
            },
            "nullable": true,
            "example": null
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2023-06-15T09:45:10Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2023-06-15T09:45:10Z"
          },
          "userId": {
            "type": "integer",
            "description": "关联的用户ID",
            "example": 1001
          },
          "mediaUrl": {
            "type": "string",
            "nullable": true,
            "description": "媒体文件URL（仅适用于非文本消息）",
            "example": null
          },
          "tokens": {
            "type": "integer",
            "description": "令牌数（用于计算使用量）",
            "example": 15
          }
        },
        "required": [
          "conversationId",
          "userId",
          "role",
          "content",
          "createdAt",
          "updatedAt"
        ]
      },
      "MessageListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "description": "请求是否成功",
            "example": true
          },
          "data": {
            "type": "array",
            "properties": {
              "messages": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Message"
                },
                "description": "消息列表"
              },
              "pagination": {
                "type": "object",
                "properties": {
                  "page": {
                    "type": "integer",
                    "example": 1
                  },
                  "pageSize": {
                    "type": "integer",
                    "example": 20
                  },
                  "total": {
                    "type": "integer",
                    "example": 100
                  },
                  "totalPages": {
                    "type": "integer",
                    "example": 5
                  }
                },
                "description": "分页信息"
              }
            },
            "items": {
              "$ref": "#/components/schemas/Message"
            }
          },
          "message": {
            "type": "string",
            "description": "响应消息",
            "example": "获取消息列表成功"
          },
          "meta": {
            "type": "object",
            "properties": {
              "page": {
                "type": "integer",
                "example": 1
              },
              "pageSize": {
                "type": "integer",
                "example": 20
              },
              "totalItems": {
                "type": "integer",
                "example": 35
              },
              "totalPages": {
                "type": "integer",
                "example": 2
              }
            }
          }
        }
      },
      "CreateMessageRequest": {
        "type": "object",
        "properties": {
          "role": {
            "type": "string",
            "enum": [
              "user",
              "assistant",
              "system"
            ],
            "description": "消息发送者角色",
            "example": "user"
          },
          "content": {
            "type": "string",
            "description": "消息内容",
            "example": "我想了解更多关于AI的知识"
          },
          "messageType": {
            "type": "string",
            "enum": [
              "text",
              "image",
              "audio",
              "video",
              "file",
              "system"
            ],
            "description": "消息类型",
            "default": "text",
            "example": "text"
          },
          "metadata": {
            "type": "object",
            "description": "消息元数据",
            "properties": {
              "streaming": {
                "type": "boolean",
                "description": "是否为流式消息",
                "default": false
              },
              "model": {
                "type": "string",
                "description": "指定AI模型",
                "example": "gpt-4"
              },
              "attachments": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "type": {
                      "type": "string",
                      "example": "image"
                    },
                    "url": {
                      "type": "string",
                      "example": "https://example.com/image.jpg"
                    }
                  }
                }
              }
            }
          }
        },
        "required": [
          "role",
          "content"
        ]
      },
      "UpdateMetadataRequest": {
        "type": "object",
        "properties": {
          "metadata": {
            "type": "object",
            "description": "要更新的元数据",
            "example": {
              "tokenCount": 150,
              "model": "gpt-4",
              "processed": true
            }
          }
        },
        "required": [
          "metadata"
        ]
      },
      "ExpertInfo": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "专家唯一标识符",
            "example": "activity_planner"
          },
          "name": {
            "type": "string",
            "description": "专家名称",
            "example": "活动策划专家"
          },
          "description": {
            "type": "string",
            "description": "专家详细描述",
            "example": "专业的幼儿园活动策划专家，擅长设计教育性、趣味性和安全性并重的活动方案"
          },
          "capabilities": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "专家能力列表",
            "example": [
              "活动方案设计",
              "教育价值评估",
              "安全风险控制",
              "资源配置优化"
            ]
          },
          "domain": {
            "type": "string",
            "enum": [
              "activity",
              "marketing",
              "education",
              "analysis",
              "all"
            ],
            "description": "专家所属领域",
            "example": "activity"
          },
          "specialty": {
            "type": "string",
            "description": "专业特长",
            "example": "幼儿园活动设计与安全管理"
          },
          "available": {
            "type": "boolean",
            "description": "专家是否可用",
            "example": true
          },
          "avgResponseTime": {
            "type": "integer",
            "description": "平均响应时间(秒)",
            "example": 15
          },
          "successRate": {
            "type": "number",
            "description": "专家建议成功率",
            "example": 95.8
          },
          "userRating": {
            "type": "number",
            "minimum": 0,
            "maximum": 5,
            "description": "用户评分",
            "example": 4.7
          },
          "consultationCount": {
            "type": "integer",
            "description": "总咨询次数",
            "example": 1250
          }
        }
      },
      "ExpertConsultationRequest": {
        "type": "object",
        "properties": {
          "expertId": {
            "type": "string",
            "description": "专家ID",
            "example": "activity_planner"
          },
          "task": {
            "type": "string",
            "description": "具体任务描述",
            "example": "帮我设计一个适合3-4岁幼儿的春季户外活动方案"
          },
          "context": {
            "type": "string",
            "description": "相关上下文信息",
            "example": "幼儿园有15个3-4岁的孩子，户外场地约200平米，需要考虑安全性和教育性"
          },
          "priority": {
            "type": "string",
            "enum": [
              "low",
              "medium",
              "high",
              "urgent"
            ],
            "description": "任务优先级",
            "example": "medium"
          },
          "expectedResponseFormat": {
            "type": "string",
            "enum": [
              "text",
              "markdown",
              "structured",
              "checklist"
            ],
            "description": "期望的响应格式",
            "example": "structured"
          },
          "requirements": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "特殊要求",
            "example": [
              "需要包含安全注意事项",
              "考虑教育目标",
              "提供材料清单"
            ]
          },
          "maxResponseLength": {
            "type": "integer",
            "minimum": 100,
            "maximum": 10000,
            "description": "最大响应长度",
            "example": 2000
          },
          "sessionId": {
            "type": "string",
            "format": "uuid",
            "description": "会话ID（用于连续对话）",
            "example": "550e8400-e29b-41d4-a716-446655440000"
          }
        },
        "required": [
          "expertId",
          "task"
        ]
      },
      "ExpertConsultationResponse": {
        "type": "object",
        "properties": {
          "consultationId": {
            "type": "string",
            "format": "uuid",
            "description": "咨询ID",
            "example": "550e8400-e29b-41d4-a716-446655440001"
          },
          "expertInfo": {
            "$ref": "#/components/schemas/ExpertInfo"
          },
          "request": {
            "$ref": "#/components/schemas/ExpertConsultationRequest"
          },
          "response": {
            "type": "string",
            "description": "专家建议内容",
            "example": "## 春季户外活动方案\n### 活动目标\n- 培养幼儿对自然的兴趣\n- 发展基本运动技能..."
          },
          "structuredResponse": {
            "type": "object",
            "description": "结构化响应数据",
            "properties": {
              "sections": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "title": {
                      "type": "string",
                      "example": "活动目标"
                    },
                    "content": {
                      "type": "string",
                      "example": "培养幼儿对自然的兴趣，发展基本运动技能"
                    }
                  }
                }
              },
              "actionItems": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "item": {
                      "type": "string",
                      "example": "准备户外活动器材"
                    },
                    "priority": {
                      "type": "string",
                      "enum": [
                        "high",
                        "medium",
                        "low"
                      ]
                    },
                    "assignee": {
                      "type": "string"
                    },
                    "deadline": {
                      "type": "string",
                      "format": "date"
                    }
                  }
                }
              },
              "recommendations": {
                "type": "array",
                "items": {
                  "type": "string",
                  "example": "建议在天气晴朗的日子进行"
                }
              }
            }
          },
          "confidence": {
            "type": "number",
            "minimum": 0,
            "maximum": 1,
            "description": "建议置信度",
            "example": 0.92
          },
          "processingTime": {
            "type": "integer",
            "description": "处理时间(毫秒)",
            "example": 3250
          },
          "relatedExpertises": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "相关专业领域",
            "example": [
              "child_psychology",
              "outdoor_education",
              "safety_management"
            ]
          },
          "followUpSuggestions": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "后续建议",
            "example": [
              "可考虑添加音乐元素",
              "建议准备急救用品"
            ]
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-15T10:30:00Z"
          }
        }
      },
      "IntelligentConsultationStartRequest": {
        "type": "object",
        "properties": {
          "query": {
            "type": "string",
            "description": "用户咨询问题或需求",
            "example": "我需要为幼儿园设计一个春季招生活动，希望活动既有吸引力又能体现教育特色"
          },
          "maxRounds": {
            "type": "integer",
            "minimum": 1,
            "maximum": 20,
            "default": 12,
            "description": "最大咨询轮数",
            "example": 12
          },
          "preferredExperts": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "偏好的专家列表",
            "example": [
              "activity_planner",
              "marketing_expert"
            ]
          },
          "urgency": {
            "type": "string",
            "enum": [
              "low",
              "medium",
              "high",
              "urgent"
            ],
            "default": "medium",
            "description": "咨询紧急程度"
          },
          "contextInfo": {
            "type": "object",
            "properties": {
              "kindergartenSize": {
                "type": "integer",
                "description": "幼儿园规模",
                "example": 150
              },
              "targetAgeGroup": {
                "type": "string",
                "description": "目标年龄段",
                "example": "3-6岁"
              },
              "location": {
                "type": "string",
                "description": "地区",
                "example": "北京市朝阳区"
              },
              "specialRequirements": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "description": "特殊要求"
              }
            }
          },
          "expectedDeliverables": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "期望交付成果",
            "example": [
              "完整活动方案",
              "预算清单",
              "风险评估"
            ]
          }
        },
        "required": [
          "query"
        ]
      },
      "IntelligentConsultationSession": {
        "type": "object",
        "properties": {
          "sessionId": {
            "type": "string",
            "format": "uuid",
            "description": "会话ID",
            "example": "550e8400-e29b-41d4-a716-446655440000"
          },
          "userId": {
            "type": "integer",
            "description": "用户ID",
            "example": 123
          },
          "originalQuery": {
            "type": "string",
            "description": "原始咨询问题",
            "example": "我需要为幼儿园设计一个春季招生活动..."
          },
          "status": {
            "type": "string",
            "enum": [
              "initializing",
              "analyzing",
              "expert_working",
              "integrating",
              "completed",
              "failed"
            ],
            "description": "会话状态",
            "example": "expert_working"
          },
          "currentRound": {
            "type": "integer",
            "description": "当前轮数",
            "example": 3
          },
          "maxRounds": {
            "type": "integer",
            "description": "最大轮数",
            "example": 12
          },
          "participatingExperts": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ExpertInfo"
            }
          },
          "conversationRounds": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "roundNumber": {
                  "type": "integer",
                  "example": 1
                },
                "expertResponses": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ExpertConsultationResponse"
                  }
                },
                "integrationSummary": {
                  "type": "string",
                  "description": "集成总结",
                  "example": "综合多位专家意见，建议从以下几个方面设计春季招生活动..."
                },
                "followUpQuestions": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "description": "后续问题"
                }
              }
            }
          },
          "finalResult": {
            "type": "object",
            "properties": {
              "comprehensiveAdvice": {
                "type": "string",
                "description": "综合建议",
                "example": "基于专家团队的综合分析，为您的春季招生活动提供以下完整方案..."
              },
              "actionPlan": {
                "type": "object",
                "description": "行动计划",
                "properties": {
                  "phases": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "phase": {
                          "type": "string",
                          "example": "准备阶段"
                        },
                        "tasks": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "task": {
                                "type": "string",
                                "example": "确定活动主题"
                              },
                              "deadline": {
                                "type": "string",
                                "format": "date",
                                "example": "2024-02-01"
                              },
                              "responsible": {
                                "type": "string",
                                "example": "活动策划组"
                              }
                            }
                          }
                        }
                      }
                    }
                  },
                  "resources": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "resource": {
                          "type": "string",
                          "example": "宣传物料"
                        },
                        "quantity": {
                          "type": "integer",
                          "example": 500
                        },
                        "estimatedCost": {
                          "type": "number",
                          "example": 2500
                        }
                      }
                    }
                  },
                  "risks": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "risk": {
                          "type": "string",
                          "example": "天气不佳影响户外活动"
                        },
                        "probability": {
                          "type": "string",
                          "enum": [
                            "low",
                            "medium",
                            "high"
                          ],
                          "example": "medium"
                        },
                        "mitigation": {
                          "type": "string",
                          "example": "准备室内备用方案"
                        }
                      }
                    }
                  }
                }
              },
              "expertInsights": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "expertId": {
                      "type": "string",
                      "example": "activity_planner"
                    },
                    "keyInsights": {
                      "type": "array",
                      "items": {
                        "type": "string",
                        "example": "安全性是首要考虑因素"
                      }
                    },
                    "confidence": {
                      "type": "number",
                      "example": 0.95
                    }
                  }
                }
              }
            }
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2024-01-15T10:30:00Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2024-01-15T11:45:00Z"
          },
          "completedAt": {
            "type": "string",
            "format": "date-time",
            "description": "完成时间",
            "example": "2024-01-15T12:15:00Z"
          }
        }
      },
      "TodoListGenerationRequest": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string",
            "description": "待办事项标题",
            "example": "春季招生活动执行清单"
          },
          "description": {
            "type": "string",
            "description": "待办事项描述",
            "example": "为幼儿园春季招生活动制定的详细执行计划"
          },
          "categories": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "title": {
                  "type": "string",
                  "example": "前期准备"
                },
                "icon": {
                  "type": "string",
                  "description": "类别图标emoji",
                  "example": "📋"
                },
                "items": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "text": {
                        "type": "string",
                        "example": "确定活动主题和目标"
                      },
                      "assignee": {
                        "type": "string",
                        "example": "活动策划组"
                      },
                      "deadline": {
                        "type": "string",
                        "format": "date",
                        "example": "2024-02-01"
                      },
                      "priority": {
                        "type": "string",
                        "enum": [
                          "high",
                          "medium",
                          "low"
                        ],
                        "example": "high"
                      },
                      "completed": {
                        "type": "boolean",
                        "example": false
                      }
                    }
                  }
                },
                "required": [
                  "title",
                  "items"
                ]
              }
            }
          },
          "targetDate": {
            "type": "string",
            "format": "date",
            "description": "目标完成日期",
            "example": "2024-03-15"
          },
          "stakeholders": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "相关人员",
            "example": [
              "园长",
              "招生主任",
              "活动策划组"
            ]
          },
          "resources": {
            "type": "object",
            "properties": {
              "budget": {
                "type": "number",
                "example": 10000
              },
              "personnel": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "example": [
                  "教师",
                  "行政人员",
                  "志愿者"
                ]
              },
              "materials": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "example": [
                  "宣传册",
                  "礼品",
                  "装饰品"
                ]
              }
            }
          }
        },
        "required": [
          "title",
          "categories"
        ]
      },
      "TodoListGenerationResponse": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "todo-list"
            ],
            "example": "todo-list"
          },
          "data": {
            "type": "object",
            "properties": {
              "title": {
                "type": "string",
                "example": "春季招生活动执行清单"
              },
              "description": {
                "type": "string",
                "example": "为幼儿园春季招生活动制定的详细执行计划"
              },
              "categories": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "title": {
                      "type": "string",
                      "example": "前期准备"
                    },
                    "icon": {
                      "type": "string",
                      "example": "📋"
                    },
                    "items": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string",
                            "format": "uuid",
                            "example": "550e8400-e29b-41d4-a716-446655440001"
                          },
                          "text": {
                            "type": "string",
                            "example": "确定活动主题和目标"
                          },
                          "assignee": {
                            "type": "string",
                            "example": "活动策划组"
                          },
                          "deadline": {
                            "type": "string",
                            "format": "date",
                            "example": "2024-02-01"
                          },
                          "priority": {
                            "type": "string",
                            "enum": [
                              "high",
                              "medium",
                              "low"
                            ],
                            "example": "high"
                          },
                          "completed": {
                            "type": "boolean",
                            "example": false
                          },
                          "dependencies": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            },
                            "example": [
                              "市场调研完成"
                            ]
                          },
                          "estimatedHours": {
                            "type": "integer",
                            "example": 8
                          },
                          "notes": {
                            "type": "string",
                            "example": "需要与教育专家确认主题的教育价值"
                          }
                        }
                      }
                    }
                  }
                }
              },
              "metadata": {
                "type": "object",
                "properties": {
                  "totalTasks": {
                    "type": "integer",
                    "example": 25
                  },
                  "completedTasks": {
                    "type": "integer",
                    "example": 3
                  },
                  "highPriorityTasks": {
                    "type": "integer",
                    "example": 8
                  },
                  "estimatedTotalHours": {
                    "type": "integer",
                    "example": 120
                  },
                  "generatedBy": {
                    "type": "string",
                    "example": "AI智能专家系统"
                  },
                  "confidence": {
                    "type": "number",
                    "example": 0.92
                  }
                }
              },
              "timeline": {
                "type": "object",
                "properties": {
                  "startDate": {
                    "type": "string",
                    "format": "date",
                    "example": "2024-01-20"
                  },
                  "endDate": {
                    "type": "string",
                    "format": "date",
                    "example": "2024-03-15"
                  },
                  "milestones": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "name": {
                          "type": "string",
                          "example": "活动方案确定"
                        },
                        "date": {
                          "type": "string",
                          "format": "date",
                          "example": "2024-02-01"
                        },
                        "category": {
                          "type": "string",
                          "example": "前期准备"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "success": {
            "type": "boolean",
            "example": true
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "example": "2024-01-15T10:30:00Z"
          }
        }
      },
      "SmartEntryCreationRequest": {
        "type": "object",
        "properties": {
          "entryType": {
            "type": "string",
            "enum": [
              "activity",
              "todo",
              "event",
              "resource"
            ],
            "description": "条目类型",
            "example": "activity"
          },
          "userInput": {
            "type": "string",
            "description": "用户的原始输入",
            "example": "我想创建一个春季户外探索活动，主要面向4-5岁的孩子，希望培养他们的观察力和动手能力"
          },
          "extractedData": {
            "type": "object",
            "description": "AI提取的数据",
            "properties": {
              "title": {
                "type": "string",
                "example": "春季户外探索活动"
              },
              "description": {
                "type": "string",
                "example": "培养4-5岁幼儿观察力和动手能力的户外探索活动"
              },
              "targetAge": {
                "type": "string",
                "example": "4-5岁"
              },
              "duration": {
                "type": "integer",
                "example": 120
              }
            }
          },
          "imageHandling": {
            "type": "object",
            "properties": {
              "suggestGeneration": {
                "type": "boolean",
                "example": true
              },
              "suggestedPrompt": {
                "type": "string",
                "example": "春季幼儿园户外活动场景，孩子们在草地上探索自然"
              },
              "imageStyle": {
                "type": "string",
                "enum": [
                  "cartoon",
                  "natural",
                  "artistic"
                ],
                "example": "natural"
              },
              "imageCategory": {
                "type": "string",
                "enum": [
                  "outdoor",
                  "indoor",
                  "sports",
                  "arts",
                  "science",
                  "social"
                ],
                "example": "outdoor"
              }
            }
          },
          "confidence": {
            "type": "number",
            "minimum": 0,
            "maximum": 1,
            "description": "数据提取置信度",
            "example": 0.85
          }
        },
        "required": [
          "entryType",
          "userInput",
          "extractedData"
        ]
      },
      "SmartEntryCreationResponse": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "example": "activity-entry"
          },
          "status": {
            "type": "string",
            "enum": [
              "ready_for_confirmation",
              "incomplete",
              "error"
            ],
            "example": "ready_for_confirmation"
          },
          "message": {
            "type": "string",
            "example": "AI已为您智能填充活动信息，请确认后添加到数据库"
          },
          "data": {
            "type": "object",
            "properties": {
              "userInput": {
                "type": "string",
                "example": "我想创建一个春季户外探索活动..."
              },
              "extractedData": {
                "type": "object",
                "description": "补全后的数据"
              },
              "confidence": {
                "type": "number",
                "example": 0.85
              },
              "imageConfig": {
                "type": "object",
                "properties": {
                  "suggestGeneration": {
                    "type": "boolean",
                    "example": true
                  },
                  "suggestedPrompt": {
                    "type": "string",
                    "example": "春季幼儿园户外活动场景..."
                  },
                  "imageStyle": {
                    "type": "string",
                    "example": "natural"
                  },
                  "imageCategory": {
                    "type": "string",
                    "example": "outdoor"
                  }
                }
              }
            }
          },
          "requiresUserConfirmation": {
            "type": "boolean",
            "example": true
          },
          "missingFields": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "example": []
          },
          "suggestions": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "example": [
              "建议添加具体的活动目标",
              "可考虑准备应急物品清单"
            ]
          },
          "estimatedSuccess": {
            "type": "object",
            "properties": {
              "participationRate": {
                "type": "number",
                "example": 85
              },
              "parentSatisfaction": {
                "type": "number",
                "example": 4.2
              },
              "educationalValue": {
                "type": "number",
                "example": 4.5
              }
            }
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "example": "2024-01-15T10:30:00Z"
          }
        }
      },
      "StreamingEvent": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "connected",
              "analysis",
              "experts_selected",
              "expert_working",
              "expert_completed",
              "expert_error",
              "integrating",
              "complete",
              "error"
            ],
            "description": "事件类型",
            "example": "expert_working"
          },
          "message": {
            "type": "string",
            "description": "事件消息",
            "example": "🔄 活动策划专家 正在分析中..."
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "example": "2024-01-15T10:30:00Z"
          },
          "stage": {
            "type": "string",
            "description": "当前阶段",
            "example": "expert_working"
          },
          "data": {
            "type": "object",
            "description": "事件相关数据",
            "properties": {
              "toolName": {
                "type": "string",
                "example": "call_expert"
              },
              "parameters": {
                "type": "object",
                "description": "工具参数"
              },
              "result": {
                "type": "object",
                "description": "执行结果"
              },
              "progress": {
                "type": "integer",
                "example": 75
              },
              "expertName": {
                "type": "string",
                "example": "活动策划专家"
              }
            }
          },
          "sessionId": {
            "type": "string",
            "format": "uuid",
            "description": "会话ID",
            "example": "550e8400-e29b-41d4-a716-446655440000"
          }
        }
      },
      "TokenStats": {
        "type": "object",
        "properties": {
          "totalTokens": {
            "type": "integer",
            "description": "总token使用量",
            "example": 150000
          },
          "dailyTokens": {
            "type": "integer",
            "description": "今日token使用量",
            "example": 2500
          },
          "monthlyTokens": {
            "type": "integer",
            "description": "本月token使用量",
            "example": 75000
          },
          "averageTokensPerRequest": {
            "type": "number",
            "format": "float",
            "description": "平均每请求token数",
            "example": 156.5
          },
          "totalRequests": {
            "type": "integer",
            "description": "总请求数",
            "example": 960
          },
          "successRate": {
            "type": "number",
            "format": "float",
            "description": "成功率百分比",
            "example": 98.5
          },
          "averageResponseTime": {
            "type": "number",
            "format": "float",
            "description": "平均响应时间（毫秒）",
            "example": 1250.75
          },
          "quotaUsage": {
            "type": "object",
            "properties": {
              "used": {
                "type": "integer",
                "description": "已使用配额",
                "example": 75000
              },
              "total": {
                "type": "integer",
                "description": "总配额",
                "example": 100000
              },
              "percentage": {
                "type": "number",
                "format": "float",
                "description": "使用百分比",
                "example": 75
              }
            }
          },
          "modelStats": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "model": {
                  "type": "string",
                  "description": "模型名称",
                  "example": "gpt-4"
                },
                "tokens": {
                  "type": "integer",
                  "description": "该模型token使用量",
                  "example": 50000
                },
                "requests": {
                  "type": "integer",
                  "description": "该模型请求数",
                  "example": 320
                },
                "cost": {
                  "type": "number",
                  "format": "float",
                  "description": "该模型成本",
                  "example": 125.5
                }
              }
            },
            "description": "各模型使用统计"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "统计更新时间",
            "example": "2023-12-01T10:30:00Z"
          }
        }
      },
      "Alert": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "告警ID",
            "example": "alert_123"
          },
          "type": {
            "type": "string",
            "enum": [
              "quota_warning",
              "performance_degradation",
              "error_spike",
              "cost_threshold"
            ],
            "description": "告警类型",
            "example": "quota_warning"
          },
          "severity": {
            "type": "string",
            "enum": [
              "low",
              "medium",
              "high",
              "critical"
            ],
            "description": "严重程度",
            "example": "medium"
          },
          "title": {
            "type": "string",
            "description": "告警标题",
            "example": "配额使用率超过80%"
          },
          "message": {
            "type": "string",
            "description": "告警详情",
            "example": "当前已使用80,000个token，占总配额的80%"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "description": "告警时间",
            "example": "2023-12-01T09:15:00Z"
          },
          "acknowledged": {
            "type": "boolean",
            "description": "是否已确认",
            "example": false
          },
          "metadata": {
            "type": "object",
            "description": "附加信息",
            "properties": {
              "currentValue": {
                "type": "integer",
                "example": 80000
              },
              "threshold": {
                "type": "integer",
                "example": 80000
              },
              "percentage": {
                "type": "number",
                "format": "float",
                "example": 80
              }
            }
          }
        }
      },
      "OptimizationSuggestion": {
        "type": "object",
        "properties": {
          "category": {
            "type": "string",
            "enum": [
              "cost",
              "performance",
              "accuracy",
              "usage"
            ],
            "description": "建议类别",
            "example": "cost"
          },
          "title": {
            "type": "string",
            "description": "建议标题",
            "example": "使用更经济的模型处理简单任务"
          },
          "description": {
            "type": "string",
            "description": "详细建议",
            "example": "对于简单的问答任务，建议使用gpt-3.5-turbo替代gpt-4，可节省约75%的成本"
          },
          "potentialSavings": {
            "type": "object",
            "properties": {
              "tokens": {
                "type": "integer",
                "description": "预计节省token数",
                "example": 15000
              },
              "cost": {
                "type": "number",
                "format": "float",
                "description": "预计节省成本",
                "example": 187.5
              },
              "percentage": {
                "type": "number",
                "format": "float",
                "description": "节省百分比",
                "example": 25
              }
            }
          },
          "priority": {
            "type": "string",
            "enum": [
              "low",
              "medium",
              "high"
            ],
            "description": "优先级",
            "example": "high"
          },
          "implementation": {
            "type": "object",
            "properties": {
              "difficulty": {
                "type": "string",
                "enum": [
                  "easy",
                  "medium",
                  "hard"
                ],
                "example": "easy"
              },
              "estimatedTime": {
                "type": "string",
                "example": "2小时"
              },
              "steps": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "example": [
                  "分析现有任务复杂度",
                  "配置模型选择规则",
                  "测试和验证效果"
                ]
              }
            }
          }
        }
      },
      "RefreshTokenResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "description": "刷新是否成功",
            "example": true
          },
          "message": {
            "type": "string",
            "description": "响应消息",
            "example": "令牌刷新成功"
          },
          "data": {
            "type": "object",
            "properties": {
              "token": {
                "type": "string",
                "description": "新的JWT访问令牌",
                "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
              },
              "refreshToken": {
                "type": "string",
                "description": "新的刷新令牌",
                "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
              }
            }
          }
        }
      },
      "LogoutResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "description": "登出是否成功",
            "example": true
          },
          "message": {
            "type": "string",
            "description": "响应消息",
            "example": "登出成功"
          }
        }
      },
      "ActivityTemplate": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "模板ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "模板名称",
            "example": "户外探索活动模板"
          },
          "category": {
            "type": "string",
            "description": "活动类别",
            "example": "户外活动"
          },
          "description": {
            "type": "string",
            "description": "模板描述",
            "example": "适合幼儿园的户外探索和自然学习活动"
          },
          "duration": {
            "type": "integer",
            "description": "建议时长（分钟）",
            "example": 120
          },
          "maxParticipants": {
            "type": "integer",
            "description": "最大参与人数",
            "example": 30
          },
          "ageRange": {
            "type": "object",
            "properties": {
              "min": {
                "type": "integer",
                "example": 3
              },
              "max": {
                "type": "integer",
                "example": 6
              }
            },
            "description": "适合年龄范围"
          },
          "materials": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "所需材料清单",
            "example": [
              "放大镜",
              "收集袋",
              "记录本",
              "彩色笔"
            ]
          },
          "objectives": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "活动目标",
            "example": [
              "培养观察力",
              "增强团队协作",
              "学习自然知识"
            ]
          },
          "usageCount": {
            "type": "integer",
            "description": "使用次数",
            "example": 45
          },
          "averageRating": {
            "type": "number",
            "format": "float",
            "description": "平均评分",
            "example": 4.8
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "example": "2023-10-01T08:00:00Z"
          }
        }
      },
      "RecentRegistration": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "example": 123
          },
          "activityId": {
            "type": "integer",
            "description": "活动ID",
            "example": 45
          },
          "activityTitle": {
            "type": "string",
            "description": "活动标题",
            "example": "春季科学探索营"
          },
          "participantName": {
            "type": "string",
            "description": "参与者姓名",
            "example": "王小明"
          },
          "participantAge": {
            "type": "integer",
            "description": "参与者年龄",
            "example": 5
          },
          "parentName": {
            "type": "string",
            "description": "家长姓名",
            "example": "王先生"
          },
          "registrationDate": {
            "type": "string",
            "format": "date-time",
            "description": "报名时间",
            "example": "2023-12-01T14:30:00Z"
          },
          "status": {
            "type": "string",
            "enum": [
              "pending",
              "confirmed",
              "cancelled",
              "completed"
            ],
            "description": "报名状态",
            "example": "confirmed"
          },
          "paymentStatus": {
            "type": "string",
            "enum": [
              "pending",
              "paid",
              "refunded"
            ],
            "description": "支付状态",
            "example": "paid"
          }
        }
      },
      "ActivityPlan": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "example": 78
          },
          "title": {
            "type": "string",
            "description": "活动计划标题",
            "example": "12月份圣诞主题活动周"
          },
          "description": {
            "type": "string",
            "description": "计划描述",
            "example": "为期一周的圣诞主题教育活动"
          },
          "startDate": {
            "type": "string",
            "format": "date-time",
            "description": "开始日期",
            "example": "2023-12-18T09:00:00Z"
          },
          "endDate": {
            "type": "string",
            "format": "date-time",
            "description": "结束日期",
            "example": "2023-12-22T17:00:00Z"
          },
          "status": {
            "type": "string",
            "enum": [
              "planning",
              "active",
              "completed",
              "cancelled"
            ],
            "description": "计划状态",
            "example": "active"
          },
          "targetParticipants": {
            "type": "integer",
            "description": "目标参与人数",
            "example": 120
          },
          "currentRegistrations": {
            "type": "integer",
            "description": "当前报名数",
            "example": 85
          },
          "budget": {
            "type": "object",
            "properties": {
              "planned": {
                "type": "number",
                "format": "float",
                "example": 15000
              },
              "spent": {
                "type": "number",
                "format": "float",
                "example": 8750.5
              }
            },
            "description": "预算信息"
          },
          "responsibleTeacher": {
            "type": "string",
            "description": "负责老师",
            "example": "李老师"
          }
        }
      },
      "TimelineEvent": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "事件ID",
            "example": "event_123"
          },
          "type": {
            "type": "string",
            "enum": [
              "activity_created",
              "registration_received",
              "activity_completed",
              "payment_received",
              "reminder_sent"
            ],
            "description": "事件类型",
            "example": "activity_created"
          },
          "title": {
            "type": "string",
            "description": "事件标题",
            "example": "新活动创建"
          },
          "description": {
            "type": "string",
            "description": "事件描述",
            "example": "创建了新的科学探索活动"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "description": "事件时间",
            "example": "2023-12-01T10:30:00Z"
          },
          "activityId": {
            "type": "integer",
            "description": "相关活动ID",
            "example": 45
          },
          "activityTitle": {
            "type": "string",
            "description": "相关活动标题",
            "example": "科学探索营"
          },
          "userId": {
            "type": "integer",
            "description": "操作用户ID",
            "example": 12
          },
          "userName": {
            "type": "string",
            "description": "操作用户姓名",
            "example": "张老师"
          },
          "priority": {
            "type": "string",
            "enum": [
              "low",
              "medium",
              "high",
              "urgent"
            ],
            "description": "优先级",
            "example": "medium"
          }
        }
      },
      "CacheStats": {
        "type": "object",
        "properties": {
          "totalKeys": {
            "type": "integer",
            "description": "总缓存键数量",
            "example": 156
          },
          "memoryUsage": {
            "type": "object",
            "properties": {
              "used": {
                "type": "integer",
                "description": "已使用内存（字节）",
                "example": 52428800
              },
              "total": {
                "type": "integer",
                "description": "总内存（字节）",
                "example": 104857600
              },
              "percentage": {
                "type": "number",
                "format": "float",
                "description": "使用百分比",
                "example": 50
              }
            },
            "description": "内存使用情况"
          },
          "hitRate": {
            "type": "number",
            "format": "float",
            "description": "缓存命中率",
            "example": 85.6
          },
          "missRate": {
            "type": "number",
            "format": "float",
            "description": "缓存未命中率",
            "example": 14.4
          },
          "evictions": {
            "type": "integer",
            "description": "驱逐次数",
            "example": 12
          },
          "averageTtl": {
            "type": "integer",
            "description": "平均TTL（秒）",
            "example": 3600
          },
          "oldestKey": {
            "type": "string",
            "description": "最旧的缓存键",
            "example": "activity_stats_20231101"
          },
          "oldestKeyAge": {
            "type": "integer",
            "description": "最旧键的年龄（秒）",
            "example": 2592000
          }
        }
      },
      "ActivityCenterDashboard": {
        "type": "object",
        "properties": {
          "statistics": {
            "$ref": "#/components/schemas/ActivityStatistics"
          },
          "activityTemplates": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ActivityTemplate"
            },
            "description": "活动模板列表"
          },
          "recentRegistrations": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/RecentRegistration"
                }
              },
              "total": {
                "type": "integer",
                "description": "总报名数量",
                "example": 50
              }
            },
            "description": "最近报名记录"
          },
          "activityPlans": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ActivityPlan"
            },
            "description": "活动计划列表"
          },
          "posterTemplates": {
            "type": "object",
            "properties": {
              "data": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer",
                      "example": 5
                    },
                    "name": {
                      "type": "string",
                      "example": "圣诞活动海报模板"
                    },
                    "thumbnail": {
                      "type": "string",
                      "example": "https://example.com/poster-thumb.jpg"
                    },
                    "category": {
                      "type": "string",
                      "example": "节日活动"
                    },
                    "usageCount": {
                      "type": "integer",
                      "example": 28
                    }
                  }
                }
              }
            },
            "description": "海报模板数据"
          },
          "meta": {
            "type": "object",
            "properties": {
              "responseTime": {
                "type": "number",
                "format": "float",
                "description": "响应时间（毫秒）",
                "example": 245.5
              },
              "dataCount": {
                "type": "object",
                "properties": {
                  "activities": {
                    "type": "integer",
                    "example": 150
                  },
                  "templates": {
                    "type": "integer",
                    "example": 25
                  },
                  "registrations": {
                    "type": "integer",
                    "example": 2850
                  },
                  "plans": {
                    "type": "integer",
                    "example": 12
                  }
                },
                "description": "各类数据统计"
              },
              "lastUpdated": {
                "type": "string",
                "format": "date-time",
                "description": "最后更新时间",
                "example": "2023-12-01T10:30:00Z"
              }
            },
            "description": "元数据信息"
          }
        }
      },
      "PoolStatistics": {
        "type": "object",
        "description": "客户池统计数据",
        "properties": {
          "totalCustomers": {
            "type": "integer",
            "description": "客户总数",
            "example": 1250
          },
          "activeCustomers": {
            "type": "integer",
            "description": "活跃客户数",
            "example": 850
          },
          "potentialCustomers": {
            "type": "integer",
            "description": "潜在客户数",
            "example": 320
          },
          "convertedCustomers": {
            "type": "integer",
            "description": "已转化客户数",
            "example": 180
          },
          "conversionRate": {
            "type": "number",
            "description": "转化率（%）",
            "example": 22.5
          }
        },
        "required": [
          "totalCustomers",
          "activeCustomers",
          "potentialCustomers",
          "convertedCustomers",
          "conversionRate"
        ]
      },
      "CustomerPool": {
        "type": "object",
        "description": "客户池信息",
        "properties": {
          "id": {
            "type": "integer",
            "description": "客户池ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "客户池名称",
            "example": "春季招生潜在客户"
          },
          "description": {
            "type": "string",
            "description": "客户池描述",
            "example": "2025年春季招生收集的潜在客户信息"
          },
          "status": {
            "type": "string",
            "description": "客户池状态",
            "enum": [
              "active",
              "inactive",
              "archived"
            ],
            "example": "active"
          },
          "customer_count": {
            "type": "integer",
            "description": "客户数量",
            "example": 125
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2025-01-01T00:00:00.000Z"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2025-01-15T10:30:00.000Z"
          }
        },
        "required": [
          "id",
          "name",
          "status",
          "customer_count"
        ]
      },
      "RecentCustomer": {
        "type": "object",
        "description": "最近客户信息",
        "properties": {
          "id": {
            "type": "integer",
            "description": "客户ID",
            "example": 1234
          },
          "name": {
            "type": "string",
            "description": "客户姓名",
            "example": "张小明"
          },
          "phone": {
            "type": "string",
            "description": "联系电话",
            "example": "13800138000"
          },
          "email": {
            "type": "string",
            "description": "邮箱地址",
            "example": "zhangxm@example.com"
          },
          "status": {
            "type": "string",
            "description": "客户状态",
            "enum": [
              "potential",
              "active",
              "converted",
              "lost"
            ],
            "example": "potential"
          },
          "source": {
            "type": "string",
            "description": "客户来源",
            "example": "线上推广"
          },
          "pool_name": {
            "type": "string",
            "description": "所属客户池名称",
            "example": "春季招生潜在客户"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2025-01-15T10:30:00.000Z"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2025-01-16T14:20:00.000Z"
          }
        },
        "required": [
          "id",
          "name",
          "status",
          "source"
        ]
      },
      "ConversionAnalysis": {
        "type": "object",
        "description": "转化分析数据",
        "properties": {
          "status": {
            "type": "string",
            "description": "客户状态",
            "enum": [
              "potential",
              "active",
              "converted",
              "lost"
            ],
            "example": "converted"
          },
          "count": {
            "type": "integer",
            "description": "客户数量",
            "example": 180
          },
          "percentage": {
            "type": "number",
            "description": "占比（%）",
            "example": 22.5
          }
        },
        "required": [
          "status",
          "count",
          "percentage"
        ]
      },
      "CustomerPoolDashboard": {
        "type": "object",
        "description": "客户池中心仪表板数据",
        "properties": {
          "poolStatistics": {
            "$ref": "#/components/schemas/PoolStatistics"
          },
          "customerPools": {
            "type": "object",
            "properties": {
              "data": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/CustomerPool"
                }
              },
              "pagination": {
                "type": "object",
                "properties": {
                  "page": {
                    "type": "integer",
                    "example": 1
                  },
                  "pageSize": {
                    "type": "integer",
                    "example": 10
                  },
                  "total": {
                    "type": "integer",
                    "example": 8
                  }
                }
              }
            }
          },
          "recentCustomers": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/RecentCustomer"
            }
          },
          "conversionAnalysis": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ConversionAnalysis"
            }
          },
          "channelAnalysis": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ChannelAnalysis"
            }
          },
          "meta": {
            "type": "object",
            "properties": {
              "userId": {
                "type": "integer",
                "description": "用户ID",
                "example": 1
              },
              "userRole": {
                "type": "string",
                "description": "用户角色",
                "example": "admin"
              },
              "responseTime": {
                "type": "number",
                "description": "响应时间（毫秒）",
                "example": 156
              },
              "dataCount": {
                "type": "object",
                "properties": {
                  "pools": {
                    "type": "integer",
                    "description": "客户池数量",
                    "example": 8
                  },
                  "customers": {
                    "type": "integer",
                    "description": "客户数量",
                    "example": 10
                  },
                  "channels": {
                    "type": "integer",
                    "description": "渠道数量",
                    "example": 5
                  }
                }
              }
            }
          }
        },
        "required": [
          "poolStatistics",
          "customerPools",
          "recentCustomers",
          "conversionAnalysis",
          "channelAnalysis",
          "meta"
        ]
      },
      "FeeItem": {
        "type": "object",
        "description": "收费项目信息",
        "properties": {
          "id": {
            "type": "string",
            "description": "收费项目ID",
            "example": "1"
          },
          "name": {
            "type": "string",
            "description": "收费项目名称",
            "example": "学费"
          },
          "category": {
            "type": "string",
            "description": "收费类别",
            "enum": [
              "学费",
              "杂费",
              "餐费",
              "住宿费",
              "活动费",
              "材料费",
              "其他"
            ],
            "example": "学费"
          },
          "amount": {
            "type": "number",
            "description": "收费金额（元）",
            "minimum": 0,
            "example": 3000
          },
          "period": {
            "type": "string",
            "description": "收费周期",
            "enum": [
              "月度",
              "季度",
              "半年",
              "年度",
              "一次性"
            ],
            "example": "月度"
          },
          "isRequired": {
            "type": "boolean",
            "description": "是否必缴项目",
            "example": true
          },
          "description": {
            "type": "string",
            "description": "项目描述",
            "example": "基础教育费用"
          },
          "status": {
            "type": "string",
            "description": "项目状态",
            "enum": [
              "active",
              "inactive"
            ],
            "example": "active"
          }
        },
        "required": [
          "id",
          "name",
          "category",
          "amount",
          "period",
          "isRequired",
          "status"
        ]
      },
      "PaymentRecord": {
        "type": "object",
        "description": "缴费记录信息",
        "properties": {
          "id": {
            "type": "string",
            "description": "缴费记录ID",
            "example": "1"
          },
          "billId": {
            "type": "string",
            "description": "缴费单ID",
            "example": "1"
          },
          "billNo": {
            "type": "string",
            "description": "缴费单号",
            "example": "FEE-2025-001"
          },
          "studentName": {
            "type": "string",
            "description": "学生姓名",
            "example": "张三"
          },
          "className": {
            "type": "string",
            "description": "班级名称",
            "example": "大班A组"
          },
          "feeItems": {
            "type": "array",
            "description": "缴费项目列表",
            "items": {
              "type": "string"
            },
            "example": [
              "学费",
              "餐费"
            ]
          },
          "paymentAmount": {
            "type": "number",
            "description": "缴费金额（元）",
            "minimum": 0,
            "example": 3500
          },
          "paymentDate": {
            "type": "string",
            "format": "date",
            "description": "缴费日期",
            "example": "2025-01-15"
          },
          "paymentMethod": {
            "type": "string",
            "description": "支付方式",
            "enum": [
              "现金",
              "银行转账",
              "支付宝",
              "微信支付",
              "刷卡"
            ],
            "example": "支付宝"
          },
          "transactionNo": {
            "type": "string",
            "description": "交易号",
            "example": "202501152000123456789"
          },
          "receiptNo": {
            "type": "string",
            "description": "收据号",
            "example": "RCP-2025-001"
          },
          "payerName": {
            "type": "string",
            "description": "缴费人姓名",
            "example": "张父"
          },
          "payerPhone": {
            "type": "string",
            "description": "缴费人电话",
            "example": "13800138000"
          },
          "status": {
            "type": "string",
            "description": "缴费状态",
            "enum": [
              "pending",
              "processing",
              "success",
              "failed",
              "refunded"
            ],
            "example": "success"
          },
          "remarks": {
            "type": "string",
            "description": "备注信息",
            "example": "正常缴费"
          }
        },
        "required": [
          "id",
          "billId",
          "studentName",
          "paymentAmount",
          "paymentDate",
          "paymentMethod",
          "status"
        ]
      },
      "FinancialReport": {
        "type": "object",
        "description": "财务报表数据",
        "properties": {
          "monthlyIncome": {
            "type": "object",
            "description": "月度收入分析",
            "properties": {
              "current": {
                "type": "number",
                "description": "当月收入",
                "example": 150000
              },
              "previous": {
                "type": "number",
                "description": "上月收入",
                "example": 135000
              },
              "growth": {
                "type": "number",
                "description": "增长率（%）",
                "example": 11.1
              }
            }
          },
          "feeCollection": {
            "type": "object",
            "description": "收费完成率分析",
            "properties": {
              "collected": {
                "type": "number",
                "description": "已收缴比例",
                "example": 85.5
              },
              "pending": {
                "type": "number",
                "description": "待收缴比例",
                "example": 14.5
              }
            }
          },
          "categoryBreakdown": {
            "type": "array",
            "description": "费用类别分析",
            "items": {
              "type": "object",
              "properties": {
                "category": {
                  "type": "string",
                  "description": "费用类别",
                  "example": "学费"
                },
                "amount": {
                  "type": "number",
                  "description": "收费金额",
                  "example": 120000
                },
                "percentage": {
                  "type": "number",
                  "description": "占总收入比例",
                  "example": 80
                }
              }
            }
          }
        },
        "required": [
          "monthlyIncome",
          "feeCollection",
          "categoryBreakdown"
        ]
      },
      "EnrollmentFinanceData": {
        "type": "object",
        "description": "招生财务联动数据",
        "properties": {
          "enrollmentFees": {
            "type": "object",
            "description": "招生费用统计",
            "properties": {
              "registrationFee": {
                "type": "number",
                "description": "报名费收入",
                "example": 5000
              },
              "depositFee": {
                "type": "number",
                "description": "押金收入",
                "example": 30000
              },
              "totalCollected": {
                "type": "number",
                "description": "总计收入",
                "example": 35000
              }
            }
          },
          "newStudentPayments": {
            "type": "array",
            "description": "新生缴费记录",
            "items": {
              "type": "object",
              "properties": {
                "studentName": {
                  "type": "string",
                  "description": "学生姓名",
                  "example": "小明"
                },
                "enrollmentDate": {
                  "type": "string",
                  "format": "date",
                  "description": "报名日期",
                  "example": "2025-01-10"
                },
                "feesCollected": {
                  "type": "number",
                  "description": "已收费用",
                  "example": 3500
                },
                "status": {
                  "type": "string",
                  "description": "缴费状态",
                  "enum": [
                    "completed",
                    "partial",
                    "pending"
                  ],
                  "example": "completed"
                }
              }
            }
          }
        },
        "required": [
          "enrollmentFees",
          "newStudentPayments"
        ]
      },
      "TodayPaymentSummary": {
        "type": "object",
        "description": "今日缴费汇总",
        "properties": {
          "todayAmount": {
            "type": "number",
            "description": "今日缴费总额",
            "example": 25500
          },
          "todayCount": {
            "type": "number",
            "description": "今日缴费笔数",
            "example": 15
          },
          "payments": {
            "type": "array",
            "description": "今日缴费记录",
            "items": {
              "$ref": "#/components/schemas/PaymentRecord"
            }
          }
        },
        "required": [
          "todayAmount",
          "todayCount",
          "payments"
        ]
      },
      "Feedback": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "example": 1,
            "description": "反馈唯一标识符"
          },
          "userId": {
            "type": "integer",
            "description": "提交反馈的用户ID",
            "example": 1001
          },
          "feedbackType": {
            "type": "string",
            "enum": [
              "general",
              "response",
              "suggestion",
              "bug",
              "feature"
            ],
            "description": "反馈类型",
            "example": "suggestion"
          },
          "sourceType": {
            "type": "string",
            "enum": [
              "conversation",
              "message",
              "application",
              "system"
            ],
            "description": "反馈来源类型",
            "example": "conversation"
          },
          "sourceId": {
            "type": "string",
            "nullable": true,
            "description": "反馈来源ID（如会话ID、消息ID）",
            "example": "conv-12345-abcde"
          },
          "content": {
            "type": "string",
            "description": "反馈内容",
            "example": "希望能增加更多的模型选择"
          },
          "rating": {
            "type": "integer",
            "nullable": true,
            "minimum": 1,
            "maximum": 5,
            "description": "反馈评分（1-5分）",
            "example": 4
          },
          "status": {
            "type": "string",
            "enum": [
              "pending",
              "reviewed",
              "resolved",
              "ignored"
            ],
            "description": "反馈处理状态",
            "example": "pending"
          },
          "adminNotes": {
            "type": "string",
            "nullable": true,
            "description": "管理员处理备注",
            "example": null
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2023-06-15T09:45:10Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2023-06-15T09:45:10Z"
          }
        },
        "required": [
          "userId",
          "feedbackType",
          "sourceType",
          "content"
        ]
      },
      "ModelBilling": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "example": 1,
            "description": "计费规则唯一标识符"
          },
          "modelId": {
            "type": "integer",
            "description": "关联的模型ID",
            "example": 1
          },
          "billingType": {
            "type": "string",
            "enum": [
              "token",
              "subscription",
              "one-time"
            ],
            "description": "计费类型",
            "example": "token"
          },
          "inputTokenPrice": {
            "type": "number",
            "format": "float",
            "description": "输入token价格",
            "example": 0.00001
          },
          "outputTokenPrice": {
            "type": "number",
            "format": "float",
            "description": "输出token价格",
            "example": 0.00002
          },
          "imageGenerationPrice": {
            "type": "number",
            "format": "float",
            "description": "图像生成价格",
            "example": 0.02
          },
          "audioTranscriptionPrice": {
            "type": "number",
            "format": "float",
            "description": "音频转录价格",
            "example": 0.006
          },
          "currencyCode": {
            "type": "string",
            "description": "货币代码",
            "example": "USD"
          },
          "effectiveFrom": {
            "type": "string",
            "format": "date-time",
            "description": "生效日期",
            "example": "2023-06-01T00:00:00Z"
          },
          "effectiveTo": {
            "type": "string",
            "format": "date-time",
            "nullable": true,
            "description": "失效日期",
            "example": null
          },
          "isActive": {
            "type": "boolean",
            "description": "是否激活",
            "example": true
          },
          "discountTiers": {
            "type": "object",
            "nullable": true,
            "description": "折扣层级",
            "example": {
              "tier1": {
                "threshold": 1000000,
                "discount": 0.1
              },
              "tier2": {
                "threshold": 10000000,
                "discount": 0.2
              }
            }
          },
          "billingCycle": {
            "type": "string",
            "enum": [
              "monthly",
              "yearly",
              "on-demand"
            ],
            "description": "计费周期",
            "example": "on-demand"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2023-06-15T09:45:10Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2023-06-15T09:45:10Z"
          }
        },
        "required": [
          "modelId",
          "billingType",
          "effectiveFrom"
        ]
      },
      "ModelConfig": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "example": 1,
            "description": "模型配置唯一标识符"
          },
          "name": {
            "type": "string",
            "example": "gpt-4",
            "description": "模型名称"
          },
          "displayName": {
            "type": "string",
            "example": "GPT-4",
            "description": "显示名称"
          },
          "provider": {
            "type": "string",
            "example": "OpenAI",
            "description": "模型提供商"
          },
          "modelType": {
            "type": "string",
            "enum": [
              "text",
              "speech",
              "image",
              "video",
              "multimodal"
            ],
            "description": "模型类型",
            "example": "text"
          },
          "apiVersion": {
            "type": "string",
            "example": "v1",
            "description": "API版本"
          },
          "endpointUrl": {
            "type": "string",
            "example": "https://api.openai.com/v1/chat/completions",
            "description": "模型API端点URL"
          },
          "modelParameters": {
            "type": "object",
            "nullable": true,
            "description": "模型参数配置",
            "example": {
              "temperature": 0.7,
              "maxTokens": 4096
            }
          },
          "isDefault": {
            "type": "boolean",
            "description": "是否为默认模型",
            "example": true
          },
          "status": {
            "type": "string",
            "enum": [
              "active",
              "inactive",
              "testing"
            ],
            "description": "模型状态",
            "example": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "创建时间",
            "example": "2023-06-15T09:45:10Z"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "更新时间",
            "example": "2023-06-15T09:45:10Z"
          }
        },
        "required": [
          "name",
          "displayName",
          "provider",
          "modelType",
          "endpointUrl"
        ]
      }
    },
    "tags": {
      "0": {
        "name": "SystemLogs",
        "description": "系统日志管理"
      }
    },
    "parameters": {
      "AssessmentConfigId": {
        "name": "id",
        "in": "path",
        "required": true,
        "description": "测评配置ID",
        "schema": {
          "type": "integer",
          "example": 1
        }
      },
      "AssessmentQuestionId": {
        "name": "id",
        "in": "path",
        "required": true,
        "description": "题目ID",
        "schema": {
          "type": "integer",
          "example": 1
        }
      },
      "DocumentInstanceId": {
        "name": "id",
        "in": "path",
        "required": true,
        "description": "文档实例ID",
        "schema": {
          "type": "integer",
          "example": 1
        }
      },
      "VideoProjectId": {
        "name": "projectId",
        "in": "path",
        "required": true,
        "description": "视频项目ID",
        "schema": {
          "type": "integer",
          "example": 1
        }
      }
    },
    "responses": {
      "AssessmentConfigNotFound": {
        "description": "测评配置不存在",
        "content": {
          "application/json": {
            "schema": {
              "type": "object",
              "properties": {
                "success": {
                  "type": "boolean",
                  "example": false
                },
                "message": {
                  "type": "string",
                  "example": "测评配置不存在"
                },
                "code": {
                  "type": "string",
                  "example": "CONFIG_NOT_FOUND"
                }
              }
            }
          }
        }
      },
      "AssessmentQuestionNotFound": {
        "description": "题目不存在",
        "content": {
          "application/json": {
            "schema": {
              "type": "object",
              "properties": {
                "success": {
                  "type": "boolean",
                  "example": false
                },
                "message": {
                  "type": "string",
                  "example": "题目不存在"
                },
                "code": {
                  "type": "string",
                  "example": "QUESTION_NOT_FOUND"
                }
              }
            }
          }
        }
      },
      "AdminOnlyError": {
        "description": "需要管理员权限",
        "content": {
          "application/json": {
            "schema": {
              "type": "object",
              "properties": {
                "success": {
                  "type": "boolean",
                  "example": false
                },
                "message": {
                  "type": "string",
                  "example": "需要管理员权限"
                },
                "code": {
                  "type": "string",
                  "example": "ADMIN_ONLY"
                }
              }
            }
          }
        }
      },
      "ValidationError": {
        "description": "请求参数验证失败",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/ErrorResponse"
            },
            "example": {
              "success": false,
              "error": "请求参数不完整或格式错误",
              "code": 400
            }
          }
        }
      },
      "NotFoundError": {
        "description": "资源不存在",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/ErrorResponse",
              "type": "object",
              "properties": {
                "code": {
                  "type": "integer",
                  "example": 404
                },
                "message": {
                  "type": "string",
                  "example": "会话不存在或无权访问"
                }
              }
            },
            "example": {
              "success": false,
              "error": "指定的测评记录不存在",
              "code": 404
            }
          }
        }
      },
      "UnauthorizedError": {
        "description": "未授权访问",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/ErrorResponse",
              "type": "object",
              "properties": {
                "success": {
                  "type": "boolean",
                  "example": false
                },
                "message": {
                  "type": "string",
                  "example": "未授权访问"
                },
                "code": {
                  "type": "string",
                  "example": "UNAUTHORIZED"
                }
              }
            },
            "example": {
              "success": false,
              "error": "未授权访问，请提供有效的认证信息",
              "code": 401
            }
          }
        }
      },
      "ServerError": {
        "description": "服务器内部错误",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/ErrorResponse",
              "type": "object",
              "properties": {
                "code": {
                  "type": "integer",
                  "example": 500
                },
                "message": {
                  "type": "string",
                  "example": "服务器内部错误"
                }
              }
            },
            "example": {
              "success": false,
              "error": "服务器内部错误，请稍后重试",
              "code": 500
            }
          }
        }
      },
      "DocumentInstanceNotFound": {
        "description": "文档实例不存在",
        "content": {
          "application/json": {
            "schema": {
              "type": "object",
              "properties": {
                "success": {
                  "type": "boolean",
                  "example": false
                },
                "message": {
                  "type": "string",
                  "example": "文档实例不存在"
                },
                "code": {
                  "type": "string",
                  "example": "INSTANCE_NOT_FOUND"
                }
              }
            }
          }
        }
      },
      "Unauthorized": {
        "description": "未授权访问",
        "content": {
          "application/json": {
            "schema": {
              "type": "object",
              "properties": {
                "success": {
                  "type": "boolean",
                  "example": false
                },
                "error": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "string",
                      "example": "UNAUTHORIZED"
                    },
                    "message": {
                      "type": "string",
                      "example": "访问被拒绝，请提供有效的访问令牌"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "Forbidden": {
        "description": "权限不足",
        "content": {
          "application/json": {
            "schema": {
              "type": "object",
              "properties": {
                "success": {
                  "type": "boolean",
                  "example": false
                },
                "error": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "string",
                      "example": "FORBIDDEN"
                    },
                    "message": {
                      "type": "string",
                      "example": "权限不足，无法访问该资源"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "NotFound": {
        "description": "资源不存在",
        "content": {
          "application/json": {
            "schema": {
              "type": "object",
              "properties": {
                "success": {
                  "type": "boolean",
                  "example": false
                },
                "error": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "string",
                      "example": "NOT_FOUND"
                    },
                    "message": {
                      "type": "string",
                      "example": "请求的资源不存在"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "BadRequest": {
        "description": "请求参数错误",
        "content": {
          "application/json": {
            "schema": {
              "type": "object",
              "properties": {
                "success": {
                  "type": "boolean",
                  "example": false
                },
                "error": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "string",
                      "example": "BAD_REQUEST"
                    },
                    "message": {
                      "type": "string",
                      "example": "请求参数格式错误或缺少必要参数"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "InternalServerError": {
        "description": "服务器内部错误",
        "content": {
          "application/json": {
            "schema": {
              "type": "object",
              "properties": {
                "success": {
                  "type": "boolean",
                  "example": false
                },
                "error": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "string",
                      "example": "INTERNAL_ERROR"
                    },
                    "message": {
                      "type": "string",
                      "example": "服务器内部错误，请稍后重试"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "ForbiddenError": {
        "description": "权限不足",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/ErrorResponse"
            },
            "example": {
              "success": false,
              "error": "您没有权限执行此操作，需要园长或管理员权限",
              "code": 403
            }
          }
        }
      },
      "VideoProjectNotFound": {
        "description": "视频项目不存在",
        "content": {
          "application/json": {
            "schema": {
              "type": "object",
              "properties": {
                "success": {
                  "type": "boolean",
                  "example": false
                },
                "message": {
                  "type": "string",
                  "example": "视频项目不存在"
                },
                "code": {
                  "type": "string",
                  "example": "PROJECT_NOT_FOUND"
                }
              }
            }
          }
        }
      },
      "ProjectNotReady": {
        "description": "项目状态不允许此操作",
        "content": {
          "application/json": {
            "schema": {
              "type": "object",
              "properties": {
                "success": {
                  "type": "boolean",
                  "example": false
                },
                "message": {
                  "type": "string",
                  "example": "项目正在生成脚本中，请等待完成"
                },
                "code": {
                  "type": "string",
                  "example": "PROJECT_NOT_READY"
                }
              }
            }
          }
        }
      },
      "AIQuotaExceeded": {
        "description": "AI服务配额不足",
        "content": {
          "application/json": {
            "schema": {
              "type": "object",
              "properties": {
                "success": {
                  "type": "boolean",
                  "example": false
                },
                "message": {
                  "type": "string",
                  "example": "AI视频生成配额不足"
                },
                "code": {
                  "type": "string",
                  "example": "AI_QUOTA_EXCEEDED"
                }
              }
            }
          }
        }
      }
    }
  },
  "paths": {
    "/api/activities-backup-1751799168": {
      "get": {
        "summary": "获取activities_backup_1751799168列表",
        "tags": [
          "ActivitieBackup1751799168"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      },
      "post": {
        "summary": "创建activities_backup_1751799168",
        "tags": [
          "ActivitieBackup1751799168"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "201": {
            "description": "创建成功"
          }
        }
      }
    },
    "/api/activities-backup-1751799168/{id}": {
      "get": {
        "summary": "获取activities_backup_1751799168详情",
        "tags": [
          "ActivitieBackup1751799168"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      },
      "put": {
        "summary": "更新activities_backup_1751799168",
        "tags": [
          "ActivitieBackup1751799168"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "更新成功"
          }
        }
      },
      "delete": {
        "summary": "删除activities_backup_1751799168",
        "tags": [
          "ActivitieBackup1751799168"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功"
          }
        }
      }
    },
    "/api/activities/statistics": {
      "get": {
        "summary": "获取活动统计信息",
        "tags": [
          "Activities"
        ],
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "活动统计信息",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取活动统计信息成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/ActivityStatistics"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/activities": {
      "get": {
        "summary": "获取活动列表",
        "tags": [
          "Activities"
        ],
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 10
            },
            "description": "每页数量"
          },
          {
            "in": "query",
            "name": "type",
            "schema": {
              "type": "string",
              "enum": [
                "outdoor",
                "indoor",
                "sports",
                "arts",
                "science",
                "social"
              ]
            },
            "description": "活动类型"
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string",
              "enum": [
                "draft",
                "published",
                "cancelled",
                "completed"
              ]
            },
            "description": "活动状态"
          },
          {
            "in": "query",
            "name": "search",
            "schema": {
              "type": "string"
            },
            "description": "搜索关键词(标题、描述、地点)"
          },
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "开始日期筛选"
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "结束日期筛选"
          },
          {
            "in": "query",
            "name": "sortBy",
            "schema": {
              "type": "string",
              "enum": [
                "date",
                "title",
                "createdAt",
                "maxParticipants"
              ],
              "default": "date"
            },
            "description": "排序字段"
          },
          {
            "in": "query",
            "name": "sortOrder",
            "schema": {
              "type": "string",
              "enum": [
                "asc",
                "desc"
              ],
              "default": "asc"
            },
            "description": "排序方向"
          }
        ],
        "responses": {
          "200": {
            "description": "活动列表",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取活动列表成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "activities": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/Activity"
                          }
                        },
                        "total": {
                          "type": "integer",
                          "description": "总数量"
                        },
                        "page": {
                          "type": "integer",
                          "description": "当前页码"
                        },
                        "limit": {
                          "type": "integer",
                          "description": "每页数量"
                        },
                        "totalPages": {
                          "type": "integer",
                          "description": "总页数"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "post": {
        "summary": "创建新活动",
        "tags": [
          "Activities"
        ],
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateActivityRequest"
              },
              "example": {
                "title": "春季户外探索活动",
                "description": "带领孩子们走进大自然，观察植物生长，培养对自然的热爱",
                "type": "outdoor",
                "date": "2024-04-15",
                "startTime": "09:00",
                "endTime": "11:30",
                "location": "城市公园",
                "maxParticipants": 20,
                "targetAgeGroup": "3-6岁",
                "requirements": "穿着运动鞋，自备水杯",
                "materials": "放大镜、观察记录本、彩色笔",
                "fee": 30,
                "organizer": "张老师",
                "contactInfo": "13800000001",
                "registrationDeadline": "2024-04-10T18:00:00Z"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "活动创建成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "活动创建成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/Activity"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "409": {
            "description": "活动时间冲突",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/activities/{id}": {
      "get": {
        "summary": "获取活动详情",
        "tags": [
          "Activities"
        ],
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "活动ID"
          }
        ],
        "responses": {
          "200": {
            "description": "活动详情",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取活动详情成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/Activity"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "活动不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "put": {
        "summary": "更新活动信息",
        "tags": [
          "Activities"
        ],
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "活动ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateActivityRequest"
              },
              "example": {
                "title": "春季户外探索活动（更新版）",
                "description": "带领孩子们走进大自然，观察植物生长，培养对自然的热爱，增加互动游戏环节",
                "maxParticipants": 25,
                "fee": 35
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "活动更新成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "活动更新成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/Activity"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "活动不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "409": {
            "description": "活动时间冲突或状态不允许修改",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "delete": {
        "summary": "删除活动",
        "tags": [
          "Activities"
        ],
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "活动ID"
          }
        ],
        "responses": {
          "200": {
            "description": "活动删除成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "活动删除成功"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "活动不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "409": {
            "description": "活动已有报名或状态不允许删除",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/activities/{id}/publish": {
      "put": {
        "summary": "发布活动",
        "tags": [
          "Activities"
        ],
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "活动ID"
          }
        ],
        "responses": {
          "200": {
            "description": "活动发布成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "活动发布成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/Activity"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "活动不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "409": {
            "description": "活动信息不完整或状态不允许发布",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/activities/{id}/share": {
      "post": {
        "summary": "分享活动",
        "tags": [
          "Activities"
        ],
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "活动ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "shareChannel"
                ],
                "properties": {
                  "shareChannel": {
                    "type": "string",
                    "enum": [
                      "wechat",
                      "weibo",
                      "qq",
                      "link",
                      "qrcode",
                      "other"
                    ],
                    "description": "分享渠道"
                  },
                  "shareContent": {
                    "type": "string",
                    "description": "自定义分享文案"
                  },
                  "posterId": {
                    "type": "integer",
                    "description": "分享的海报ID"
                  }
                }
              },
              "example": {
                "shareChannel": "wechat",
                "shareContent": "快来参加这个有趣的活动吧！",
                "posterId": 1
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "分享成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "分享成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "shareUrl": {
                          "type": "string",
                          "description": "分享链接"
                        },
                        "shareContent": {
                          "type": "string",
                          "description": "分享文案"
                        },
                        "qrcodeUrl": {
                          "type": "string",
                          "description": "二维码URL（如果是二维码分享）"
                        },
                        "shareId": {
                          "type": "integer",
                          "description": "分享记录ID"
                        },
                        "shareCount": {
                          "type": "integer",
                          "description": "当前分享次数"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "活动不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/activities/{id}/status": {
      "put": {
        "summary": "更新活动状态",
        "tags": [
          "Activities"
        ],
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "活动ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateActivityStatusRequest"
              },
              "example": {
                "status": "completed"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "活动状态更新成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "活动状态更新成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/Activity"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "活动不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "409": {
            "description": "状态转换不被允许",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/activities/{id}/registrations": {
      "get": {
        "summary": "获取活动报名列表",
        "tags": [
          "Activities"
        ],
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "活动ID"
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 10
            },
            "description": "每页数量"
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string",
              "enum": [
                "pending",
                "confirmed",
                "cancelled"
              ]
            },
            "description": "报名状态"
          },
          {
            "in": "query",
            "name": "search",
            "schema": {
              "type": "string"
            },
            "description": "搜索关键词(学生姓名、家长姓名、班级)"
          }
        ],
        "responses": {
          "200": {
            "description": "活动报名列表",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取活动报名列表成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "registrations": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/ActivityRegistration"
                          }
                        },
                        "total": {
                          "type": "integer",
                          "description": "总数量",
                          "example": 2
                        },
                        "page": {
                          "type": "integer",
                          "description": "当前页码",
                          "example": 1
                        },
                        "limit": {
                          "type": "integer",
                          "description": "每页数量",
                          "example": 10
                        },
                        "totalPages": {
                          "type": "integer",
                          "description": "总页数",
                          "example": 1
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "活动不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/activity-checkins/registration/{id}": {
      "post": {
        "summary": "活动报名签到",
        "tags": [
          "活动签到"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "报名ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "location"
                ],
                "properties": {
                  "location": {
                    "type": "string",
                    "description": "签到地点"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "签到成功"
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "报名记录不存在"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/activity-checkins/batch": {
      "post": {
        "summary": "批量签到",
        "tags": [
          "活动签到"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "registrationIds",
                  "location"
                ],
                "properties": {
                  "registrationIds": {
                    "type": "array",
                    "items": {
                      "type": "integer"
                    },
                    "description": "报名ID列表"
                  },
                  "location": {
                    "type": "string",
                    "description": "签到地点"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "批量签到处理完成"
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/activity-checkins/{activityId}/phone": {
      "post": {
        "summary": "根据手机号签到",
        "tags": [
          "活动签到"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "activityId",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "活动ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "phone",
                  "location"
                ],
                "properties": {
                  "phone": {
                    "type": "string",
                    "description": "手机号"
                  },
                  "location": {
                    "type": "string",
                    "description": "签到地点"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "签到成功"
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "活动或报名记录不存在"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/activity-checkins/{activityId}/stats": {
      "get": {
        "summary": "获取活动签到统计数据",
        "tags": [
          "活动签到"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "activityId",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "活动ID"
          }
        ],
        "responses": {
          "200": {
            "description": "获取活动签到统计数据成功"
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "活动不存在"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/activity-checkins/{activityId}/export": {
      "get": {
        "summary": "导出活动签到数据",
        "tags": [
          "活动签到"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "activityId",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "活动ID"
          }
        ],
        "responses": {
          "200": {
            "description": "导出签到数据成功"
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "活动不存在"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/activity-checkins/by-activity/{activityId}": {
      "get": {
        "summary": "按活动获取签到列表",
        "tags": [
          "活动签到"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "activityId",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "活动ID"
          }
        ],
        "responses": {
          "200": {
            "description": "成功"
          }
        }
      }
    },
    "/api/activity-checkins": {
      "get": {
        "summary": "获取活动签到列表",
        "tags": [
          "活动签到"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "activityId",
            "schema": {
              "type": "integer"
            },
            "description": "活动ID"
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 10
            },
            "description": "每页数量"
          }
        ],
        "responses": {
          "200": {
            "description": "获取活动签到列表成功"
          }
        }
      },
      "post": {
        "summary": "创建活动签到",
        "tags": [
          "活动签到"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "201": {
            "description": "创建成功"
          }
        }
      }
    },
    "/api/activity-checkins/{id}": {
      "get": {
        "summary": "获取活动签到详情",
        "tags": [
          "活动签到"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "签到ID"
          }
        ],
        "responses": {
          "200": {
            "description": "成功"
          }
        }
      },
      "put": {
        "summary": "更新活动签到",
        "tags": [
          "活动签到"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "签到ID"
          }
        ],
        "responses": {
          "200": {
            "description": "更新成功"
          }
        }
      },
      "delete": {
        "summary": "删除活动签到",
        "tags": [
          "活动签到"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "签到ID"
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功"
          }
        }
      }
    },
    "/api/activity-evaluations/by-activity/{activityId}": {
      "get": {
        "summary": "按活动获取评估列表",
        "tags": [
          "活动评价"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "activityId",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "活动ID"
          }
        ],
        "responses": {
          "200": {
            "description": "成功"
          }
        }
      }
    },
    "/api/activity-evaluations/by-rating/{rating}": {
      "get": {
        "summary": "按评分获取评估列表",
        "tags": [
          "活动评价"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "rating",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "评分"
          }
        ],
        "responses": {
          "200": {
            "description": "成功"
          }
        }
      }
    },
    "/api/activity-evaluations/statistics/{activityId}": {
      "get": {
        "summary": "获取活动评估统计",
        "tags": [
          "活动评价"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "activityId",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "活动ID"
          }
        ],
        "responses": {
          "200": {
            "description": "成功"
          }
        }
      }
    },
    "/api/activity-evaluations": {
      "post": {
        "summary": "创建activity_evaluations",
        "description": "创建一个新的活动评价记录",
        "tags": [
          "ActivityEvaluation"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "activityId",
                  "evaluatorType",
                  "evaluatorName",
                  "overallRating"
                ],
                "properties": {
                  "activityId": {
                    "type": "integer",
                    "description": "活动ID"
                  },
                  "registrationId": {
                    "type": "integer",
                    "description": "报名记录ID"
                  },
                  "parentId": {
                    "type": "integer",
                    "description": "家长ID"
                  },
                  "teacherId": {
                    "type": "integer",
                    "description": "教师ID"
                  },
                  "evaluatorType": {
                    "type": "integer",
                    "description": "评价者类型（1-家长，2-教师，3-其他）"
                  },
                  "evaluatorName": {
                    "type": "string",
                    "description": "评价者姓名"
                  },
                  "overallRating": {
                    "type": "integer",
                    "description": "总体评分（1-5星）"
                  },
                  "contentRating": {
                    "type": "integer",
                    "description": "内容评分（1-5星）"
                  },
                  "organizationRating": {
                    "type": "integer",
                    "description": "组织评分（1-5星）"
                  },
                  "environmentRating": {
                    "type": "integer",
                    "description": "环境评分（1-5星）"
                  },
                  "serviceRating": {
                    "type": "integer",
                    "description": "服务评分（1-5星）"
                  },
                  "comment": {
                    "type": "string",
                    "description": "评价内容"
                  },
                  "strengths": {
                    "type": "string",
                    "description": "活动优点"
                  },
                  "weaknesses": {
                    "type": "string",
                    "description": "活动不足"
                  },
                  "suggestions": {
                    "type": "string",
                    "description": "改进建议"
                  },
                  "images": {
                    "type": "string",
                    "description": "图片（JSON字符串，包含图片URL数组）"
                  },
                  "isPublic": {
                    "type": "integer",
                    "description": "是否公开（0-不公开，1-公开）"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "评价创建成功"
          },
          "201": {
            "description": "创建成功"
          },
          "400": {
            "description": "参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      },
      "get": {
        "summary": "获取activity_evaluations列表",
        "description": "获取活动评价列表，支持分页和筛选",
        "tags": [
          "ActivityEvaluation"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 10
            },
            "description": "每页数量"
          },
          {
            "in": "query",
            "name": "activityId",
            "schema": {
              "type": "integer"
            },
            "description": "活动ID"
          },
          {
            "in": "query",
            "name": "parentId",
            "schema": {
              "type": "integer"
            },
            "description": "家长ID"
          },
          {
            "in": "query",
            "name": "teacherId",
            "schema": {
              "type": "integer"
            },
            "description": "教师ID"
          },
          {
            "in": "query",
            "name": "registrationId",
            "schema": {
              "type": "integer"
            },
            "description": "报名记录ID"
          },
          {
            "in": "query",
            "name": "evaluatorType",
            "schema": {
              "type": "integer"
            },
            "description": "评价者类型"
          },
          {
            "in": "query",
            "name": "minRating",
            "schema": {
              "type": "integer"
            },
            "description": "最低评分"
          },
          {
            "in": "query",
            "name": "maxRating",
            "schema": {
              "type": "integer"
            },
            "description": "最高评分"
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "integer"
            },
            "description": "状态"
          },
          {
            "in": "query",
            "name": "isPublic",
            "schema": {
              "type": "integer"
            },
            "description": "是否公开"
          },
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "开始日期"
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "结束日期"
          },
          {
            "in": "query",
            "name": "sortBy",
            "schema": {
              "type": "string",
              "default": "createdAt"
            },
            "description": "排序字段"
          },
          {
            "in": "query",
            "name": "sortOrder",
            "schema": {
              "type": "string",
              "enum": [
                "ASC",
                "DESC"
              ],
              "default": "DESC"
            },
            "description": "排序方向"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/activity-evaluations/{id}": {
      "get": {
        "summary": "获取activity_evaluations详情",
        "description": "根据ID获取活动评价详情",
        "tags": [
          "ActivityEvaluation"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "评价ID"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "400": {
            "description": "参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "评价不存在"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      },
      "put": {
        "summary": "更新activity_evaluations",
        "description": "根据ID更新活动评价",
        "tags": [
          "ActivityEvaluation"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "评价ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "overallRating": {
                    "type": "integer",
                    "description": "总体评分（1-5星）"
                  },
                  "contentRating": {
                    "type": "integer",
                    "description": "内容评分（1-5星）"
                  },
                  "organizationRating": {
                    "type": "integer",
                    "description": "组织评分（1-5星）"
                  },
                  "environmentRating": {
                    "type": "integer",
                    "description": "环境评分（1-5星）"
                  },
                  "serviceRating": {
                    "type": "integer",
                    "description": "服务评分（1-5星）"
                  },
                  "comment": {
                    "type": "string",
                    "description": "评价内容"
                  },
                  "strengths": {
                    "type": "string",
                    "description": "活动优点"
                  },
                  "weaknesses": {
                    "type": "string",
                    "description": "活动不足"
                  },
                  "suggestions": {
                    "type": "string",
                    "description": "改进建议"
                  },
                  "images": {
                    "type": "string",
                    "description": "图片（JSON字符串，包含图片URL数组）"
                  },
                  "isPublic": {
                    "type": "integer",
                    "description": "是否公开（0-不公开，1-公开）"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新成功"
          },
          "400": {
            "description": "参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "description": "无权限"
          },
          "404": {
            "description": "评价不存在"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      },
      "delete": {
        "summary": "删除activity_evaluations",
        "description": "根据ID删除活动评价",
        "tags": [
          "ActivityEvaluation"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "评价ID"
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功"
          },
          "400": {
            "description": "参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "description": "无权限"
          },
          "404": {
            "description": "评价不存在"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/activity-evaluations/{id}/reply": {
      "post": {
        "summary": "回复评价",
        "description": "回复活动评价",
        "tags": [
          "活动评价"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "评价ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "content"
                ],
                "properties": {
                  "content": {
                    "type": "string",
                    "description": "回复内容"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "回复评价成功"
          },
          "400": {
            "description": "参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "评价不存在"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/activity-evaluations/activity/{activityId}/statistics": {
      "get": {
        "summary": "获取评价统计",
        "description": "获取特定活动的评价统计数据",
        "tags": [
          "活动评价"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "activityId",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "活动ID"
          }
        ],
        "responses": {
          "200": {
            "description": "获取评价统计成功"
          },
          "400": {
            "description": "参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "活动不存在"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/activity-evaluations/satisfaction-report": {
      "get": {
        "summary": "生成满意度报表",
        "description": "根据条件生成活动满意度报表",
        "tags": [
          "活动评价"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "开始日期"
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "结束日期"
          },
          {
            "in": "query",
            "name": "kindergartenId",
            "schema": {
              "type": "integer"
            },
            "description": "幼儿园ID"
          }
        ],
        "responses": {
          "200": {
            "description": "生成满意度报表成功"
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/activity-evaluations/statistics": {
      "get": {
        "summary": "获取活动评价统计数据",
        "tags": [
          "ActivityEvaluation"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      }
    },
    "/api/activity-plans": {
      "post": {
        "summary": "创建activity_plans",
        "tags": [
          "ActivityPlan"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "kindergartenId",
                  "title",
                  "activityType",
                  "startTime",
                  "endTime",
                  "location",
                  "capacity",
                  "registrationStartTime",
                  "registrationEndTime"
                ],
                "properties": {
                  "kindergartenId": {
                    "type": "integer",
                    "description": "幼儿园ID"
                  },
                  "planId": {
                    "type": "integer",
                    "description": "招生计划ID"
                  },
                  "title": {
                    "type": "string",
                    "description": "活动标题"
                  },
                  "activityType": {
                    "type": "integer",
                    "description": "活动类型 - 1:开放日 2:体验课 3:亲子活动 4:招生说明会 5:家长会 6:节日活动 7:其他"
                  },
                  "coverImage": {
                    "type": "string",
                    "description": "封面图片URL"
                  },
                  "startTime": {
                    "type": "string",
                    "format": "date-time",
                    "description": "活动开始时间"
                  },
                  "endTime": {
                    "type": "string",
                    "format": "date-time",
                    "description": "活动结束时间"
                  },
                  "location": {
                    "type": "string",
                    "description": "活动地点"
                  },
                  "capacity": {
                    "type": "integer",
                    "description": "活动容量"
                  },
                  "fee": {
                    "type": "number",
                    "description": "活动费用"
                  },
                  "description": {
                    "type": "string",
                    "description": "活动描述"
                  },
                  "agenda": {
                    "type": "string",
                    "description": "活动议程"
                  },
                  "registrationStartTime": {
                    "type": "string",
                    "format": "date-time",
                    "description": "报名开始时间"
                  },
                  "registrationEndTime": {
                    "type": "string",
                    "format": "date-time",
                    "description": "报名结束时间"
                  },
                  "needsApproval": {
                    "type": "integer",
                    "description": "是否需要审核 - 0:否 1:是"
                  },
                  "status": {
                    "type": "integer",
                    "description": "状态 - 0:草稿 1:未开始 2:报名中 3:进行中 4:已结束 5:已取消"
                  },
                  "remark": {
                    "type": "string",
                    "description": "备注信息"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "创建成功"
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      },
      "get": {
        "summary": "获取activity_plans列表",
        "tags": [
          "ActivityPlan"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "size",
            "schema": {
              "type": "integer",
              "default": 10
            },
            "description": "每页数量"
          },
          {
            "in": "query",
            "name": "title",
            "schema": {
              "type": "string"
            },
            "description": "活动标题（模糊搜索）"
          },
          {
            "in": "query",
            "name": "activityType",
            "schema": {
              "type": "integer"
            },
            "description": "活动类型"
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "integer"
            },
            "description": "状态"
          },
          {
            "in": "query",
            "name": "kindergartenId",
            "schema": {
              "type": "integer"
            },
            "description": "幼儿园ID"
          },
          {
            "in": "query",
            "name": "planId",
            "schema": {
              "type": "integer"
            },
            "description": "招生计划ID"
          },
          {
            "in": "query",
            "name": "startTimeStart",
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "description": "开始时间起点"
          },
          {
            "in": "query",
            "name": "startTimeEnd",
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "description": "开始时间终点"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/activity-plans/by-category/{category}": {
      "get": {
        "summary": "按类别获取活动计划",
        "tags": [
          "活动计划"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "category",
            "schema": {
              "type": "string"
            },
            "required": true,
            "description": "活动类别"
          }
        ],
        "responses": {
          "200": {
            "description": "成功"
          }
        }
      }
    },
    "/api/activity-plans/by-date/{date}": {
      "get": {
        "summary": "按日期获取活动计划",
        "tags": [
          "活动计划"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "date",
            "schema": {
              "type": "string"
            },
            "required": true,
            "description": "日期 (YYYY-MM-DD)"
          }
        ],
        "responses": {
          "200": {
            "description": "成功"
          }
        }
      }
    },
    "/api/activity-plans/{id}/publish": {
      "post": {
        "summary": "发布活动计划",
        "tags": [
          "活动计划"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "活动计划ID"
          }
        ],
        "responses": {
          "200": {
            "description": "发布成功"
          }
        }
      }
    },
    "/api/activity-plans/{id}": {
      "get": {
        "summary": "获取activity_plans详情",
        "tags": [
          "ActivityPlan"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "活动计划ID"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "未找到"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      },
      "put": {
        "summary": "更新activity_plans",
        "tags": [
          "ActivityPlan"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "活动计划ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "kindergartenId": {
                    "type": "integer",
                    "description": "幼儿园ID"
                  },
                  "planId": {
                    "type": "integer",
                    "description": "招生计划ID"
                  },
                  "title": {
                    "type": "string",
                    "description": "活动标题"
                  },
                  "activityType": {
                    "type": "integer",
                    "description": "活动类型"
                  },
                  "coverImage": {
                    "type": "string",
                    "description": "封面图片URL"
                  },
                  "startTime": {
                    "type": "string",
                    "format": "date-time",
                    "description": "活动开始时间"
                  },
                  "endTime": {
                    "type": "string",
                    "format": "date-time",
                    "description": "活动结束时间"
                  },
                  "location": {
                    "type": "string",
                    "description": "活动地点"
                  },
                  "capacity": {
                    "type": "integer",
                    "description": "活动容量"
                  },
                  "fee": {
                    "type": "number",
                    "description": "活动费用"
                  },
                  "description": {
                    "type": "string",
                    "description": "活动描述"
                  },
                  "agenda": {
                    "type": "string",
                    "description": "活动议程"
                  },
                  "registrationStartTime": {
                    "type": "string",
                    "format": "date-time",
                    "description": "报名开始时间"
                  },
                  "registrationEndTime": {
                    "type": "string",
                    "format": "date-time",
                    "description": "报名结束时间"
                  },
                  "needsApproval": {
                    "type": "integer",
                    "description": "是否需要审核"
                  },
                  "remark": {
                    "type": "string",
                    "description": "备注信息"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新成功"
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "未找到"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      },
      "delete": {
        "summary": "删除activity_plans",
        "tags": [
          "ActivityPlan"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "活动计划ID"
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功"
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "未找到"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/activity-plans/{id}/status": {
      "put": {
        "summary": "更新活动状态",
        "tags": [
          "活动计划"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "活动计划ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "status"
                ],
                "properties": {
                  "status": {
                    "type": "integer",
                    "description": "状态 - 0:草稿 1:未开始 2:报名中 3:进行中 4:已结束 5:已取消"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新成功"
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "未找到"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/activity-plans/{id}/cancel": {
      "post": {
        "summary": "取消活动",
        "tags": [
          "活动计划"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "活动计划ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "cancelReason"
                ],
                "properties": {
                  "cancelReason": {
                    "type": "string",
                    "description": "取消原因"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "取消成功"
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "未找到"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/activity-plans/{id}/statistics": {
      "get": {
        "summary": "获取活动统计数据",
        "tags": [
          "活动计划"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "活动计划ID"
          }
        ],
        "responses": {
          "200": {
            "description": "成功"
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "未找到"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/activity-planner/generate": {
      "post": {
        "tags": [
          "Activity Planner"
        ],
        "summary": "生成活动策划方案",
        "description": "使用AI智能体生成详细的活动策划方案，包括文本、图片和语音内容",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "activityType",
                  "targetAudience"
                ],
                "properties": {
                  "activityType": {
                    "type": "string",
                    "description": "活动类型",
                    "example": "儿童生日派对"
                  },
                  "targetAudience": {
                    "type": "string",
                    "description": "目标受众",
                    "example": "3-6岁儿童"
                  },
                  "budget": {
                    "type": "number",
                    "description": "预算（元）",
                    "example": 5000
                  },
                  "duration": {
                    "type": "string",
                    "description": "活动时长",
                    "example": "2小时"
                  },
                  "location": {
                    "type": "string",
                    "description": "活动地点",
                    "example": "室内游乐场"
                  },
                  "requirements": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "特殊要求",
                    "example": [
                      "需要摄影",
                      "准备生日蛋糕"
                    ]
                  },
                  "preferredStyle": {
                    "type": "string",
                    "enum": [
                      "professional",
                      "creative",
                      "fun",
                      "educational"
                    ],
                    "description": "偏好风格",
                    "example": "fun"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "策划方案生成成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "planId": {
                          "type": "string",
                          "example": "plan_1703123456789_abc123"
                        },
                        "title": {
                          "type": "string",
                          "example": "梦幻儿童生日派对"
                        },
                        "description": {
                          "type": "string",
                          "example": "为3-6岁儿童精心设计的生日派对活动"
                        },
                        "detailedPlan": {
                          "type": "object"
                        },
                        "generatedImages": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          },
                          "example": [
                            "/uploads/image1.png"
                          ]
                        },
                        "audioGuide": {
                          "type": "string",
                          "example": "/uploads/audio/guide.mp3"
                        },
                        "modelsUsed": {
                          "type": "object"
                        },
                        "processingTime": {
                          "type": "number",
                          "example": 15000
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/activity-planner/stats": {
      "get": {
        "tags": [
          "Activity Planner"
        ],
        "summary": "获取活动策划统计",
        "description": "获取用户的活动策划使用统计信息",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "days",
            "schema": {
              "type": "integer",
              "default": 30
            },
            "description": "统计天数"
          }
        ],
        "responses": {
          "200": {
            "description": "统计信息获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "totalPlans": {
                          "type": "number",
                          "example": 15
                        },
                        "successRate": {
                          "type": "number",
                          "example": 95.5
                        },
                        "averageProcessingTime": {
                          "type": "number",
                          "example": 12000
                        },
                        "popularActivityTypes": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          },
                          "example": [
                            "生日派对",
                            "团建活动"
                          ]
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/activity-planner/models": {
      "get": {
        "tags": [
          "Activity Planner"
        ],
        "summary": "获取可用AI模型",
        "description": "获取活动策划可用的AI模型列表",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "模型列表获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "textModels": {
                          "type": "array",
                          "items": {
                            "type": "object"
                          }
                        },
                        "imageModels": {
                          "type": "array",
                          "items": {
                            "type": "object"
                          }
                        },
                        "speechModels": {
                          "type": "array",
                          "items": {
                            "type": "object"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/activity-plans/statistics": {
      "get": {
        "summary": "获取活动计划统计数据",
        "tags": [
          "ActivityPlan"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      }
    },
    "/api/activity-poster/{activityId}/poster/generate": {
      "post": {
        "summary": "为活动生成海报",
        "description": "为指定活动生成营销海报",
        "tags": [
          "活动海报"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "activityId",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "required": false,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "posterType": {
                    "type": "string",
                    "enum": [
                      "main",
                      "share",
                      "detail",
                      "preview"
                    ]
                  },
                  "marketingConfig": {
                    "type": "object"
                  },
                  "templateId": {
                    "type": "integer"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "生成成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/activity-poster/{activityId}/posters": {
      "get": {
        "summary": "获取活动的所有海报",
        "description": "获取指定活动的所有海报列表",
        "tags": [
          "活动海报"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "activityId",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/activity-poster/{activityId}/poster/preview": {
      "get": {
        "summary": "预览活动海报",
        "description": "预览活动海报效果",
        "tags": [
          "活动海报"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "activityId",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "预览成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/activity-poster/{activityId}/publish": {
      "post": {
        "summary": "发布活动和海报",
        "description": "发布活动和海报到指定渠道",
        "tags": [
          "活动海报"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "activityId",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "required": false,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "publishChannels": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "发布成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/activity-poster/{activityId}/share": {
      "post": {
        "summary": "一键转发分享",
        "description": "一键转发分享活动到社交平台",
        "tags": [
          "活动海报"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "activityId",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "shareChannel"
                ],
                "properties": {
                  "shareChannel": {
                    "type": "string",
                    "enum": [
                      "wechat",
                      "weibo",
                      "qq",
                      "link",
                      "qrcode",
                      "other"
                    ]
                  },
                  "posterId": {
                    "type": "integer"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "分享成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/activity-poster/{activityId}/share/stats": {
      "get": {
        "summary": "获取活动分享统计",
        "description": "获取活动的分享统计数据",
        "tags": [
          "活动海报"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "activityId",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/activity-registration-page/generate": {
      "post": {
        "summary": "生成活动报名页面",
        "description": "为活动生成自定义报名页面，支持多种表单配置",
        "tags": [
          "活动报名页面"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "activityId": {
                    "type": "integer",
                    "description": "活动ID"
                  },
                  "title": {
                    "type": "string",
                    "description": "报名页面标题"
                  },
                  "description": {
                    "type": "string",
                    "description": "报名页面描述"
                  },
                  "formFields": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "name": {
                          "type": "string"
                        },
                        "label": {
                          "type": "string"
                        },
                        "type": {
                          "type": "string"
                        },
                        "required": {
                          "type": "boolean"
                        },
                        "options": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        }
                      }
                    },
                    "description": "表单字段配置"
                  },
                  "theme": {
                    "type": "object",
                    "description": "页面主题配置"
                  },
                  "settings": {
                    "type": "object",
                    "description": "其他设置"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "生成成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "报名页面生成成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "pageId": {
                          "type": "string",
                          "description": "页面ID"
                        },
                        "pageUrl": {
                          "type": "string",
                          "description": "页面访问链接"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未认证"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/activity-registration-page/{pageId}": {
      "get": {
        "summary": "获取报名页面配置",
        "description": "获取指定报名页面的配置信息，支持公开访问",
        "tags": [
          "活动报名页面"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "pageId",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "页面ID"
          }
        ],
        "responses": {
          "200": {
            "description": "获取页面配置成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "pageId": {
                          "type": "string"
                        },
                        "title": {
                          "type": "string"
                        },
                        "description": {
                          "type": "string"
                        },
                        "formFields": {
                          "type": "array",
                          "items": {
                            "type": "object"
                          }
                        },
                        "theme": {
                          "type": "object"
                        },
                        "activity": {
                          "type": "object"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "页面不存在"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/activity-registration-page/{pageId}/submit": {
      "post": {
        "summary": "提交报名信息",
        "description": "用户提交报名信息到指定的活动报名页面",
        "tags": [
          "活动报名页面"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "pageId",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "页面ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "formData": {
                    "type": "object",
                    "description": "表单数据"
                  },
                  "participantInfo": {
                    "type": "object",
                    "properties": {
                      "name": {
                        "type": "string"
                      },
                      "phone": {
                        "type": "string"
                      },
                      "email": {
                        "type": "string"
                      }
                    },
                    "description": "参与者基本信息"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "提交成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "报名提交成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "registrationId": {
                          "type": "integer",
                          "description": "报名ID"
                        },
                        "status": {
                          "type": "string",
                          "description": "报名状态"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误或表单验证失败"
          },
          "404": {
            "description": "页面不存在"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/activity-registration-page/{pageId}/stats": {
      "get": {
        "summary": "获取报名统计",
        "description": "获取指定报名页面的统计数据和报名列表",
        "tags": [
          "活动报名页面"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "pageId",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "页面ID"
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 10
            },
            "description": "每页数量"
          }
        ],
        "responses": {
          "200": {
            "description": "获取统计数据成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "totalRegistrations": {
                          "type": "integer",
                          "description": "总报名数"
                        },
                        "todayRegistrations": {
                          "type": "integer",
                          "description": "今日报名数"
                        },
                        "conversionRate": {
                          "type": "number",
                          "description": "转化率"
                        },
                        "registrations": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "integer"
                              },
                              "participantName": {
                                "type": "string"
                              },
                              "phone": {
                                "type": "string"
                              },
                              "submittedAt": {
                                "type": "string"
                              },
                              "status": {
                                "type": "string"
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未认证"
          },
          "403": {
            "description": "无权限访问"
          },
          "404": {
            "description": "页面不存在"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/activity-registrations": {
      "post": {
        "summary": "创建activity_registrations",
        "tags": [
          "ActivityRegistration"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "activityId",
                  "contactName",
                  "contactPhone",
                  "attendeeCount"
                ],
                "properties": {
                  "activityId": {
                    "type": "integer",
                    "description": "活动ID"
                  },
                  "parentId": {
                    "type": "integer",
                    "description": "家长ID"
                  },
                  "studentId": {
                    "type": "integer",
                    "description": "学生ID"
                  },
                  "contactName": {
                    "type": "string",
                    "description": "联系人姓名"
                  },
                  "contactPhone": {
                    "type": "string",
                    "description": "联系人电话"
                  },
                  "childName": {
                    "type": "string",
                    "description": "孩子姓名"
                  },
                  "childAge": {
                    "type": "integer",
                    "description": "孩子年龄"
                  },
                  "childGender": {
                    "type": "integer",
                    "description": "孩子性别 - 0:未知 1:男 2:女"
                  },
                  "attendeeCount": {
                    "type": "integer",
                    "description": "参加人数"
                  },
                  "specialNeeds": {
                    "type": "string",
                    "description": "特殊需求"
                  },
                  "source": {
                    "type": "string",
                    "description": "来源渠道"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "活动报名创建成功"
          },
          "201": {
            "description": "创建成功"
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      },
      "get": {
        "summary": "获取activity_registrations列表",
        "tags": [
          "ActivityRegistration"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer"
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer"
            },
            "description": "每页数量"
          },
          {
            "in": "query",
            "name": "activityId",
            "schema": {
              "type": "integer"
            },
            "description": "活动ID"
          },
          {
            "in": "query",
            "name": "parentId",
            "schema": {
              "type": "integer"
            },
            "description": "家长ID"
          },
          {
            "in": "query",
            "name": "studentId",
            "schema": {
              "type": "integer"
            },
            "description": "学生ID"
          },
          {
            "in": "query",
            "name": "contactName",
            "schema": {
              "type": "string"
            },
            "description": "联系人姓名"
          },
          {
            "in": "query",
            "name": "contactPhone",
            "schema": {
              "type": "string"
            },
            "description": "联系人电话"
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "integer"
            },
            "description": "状态 - 0:待审核 1:已确认 2:已拒绝 3:已取消 4:已签到 5:未出席"
          },
          {
            "in": "query",
            "name": "isConversion",
            "schema": {
              "type": "integer"
            },
            "description": "是否转化 - 0:未转化 1:已转化"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/activity-registrations/by-activity/{activityId}": {
      "get": {
        "summary": "按活动获取报名列表",
        "tags": [
          "活动报名"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "activityId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "活动ID"
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer"
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "size",
            "schema": {
              "type": "integer"
            },
            "description": "每页数量"
          }
        ],
        "responses": {
          "200": {
            "description": "按活动获取报名列表成功"
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "活动不存在"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/activity-registrations/by-student/{studentId}": {
      "get": {
        "summary": "按学生获取报名列表",
        "tags": [
          "活动报名"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "studentId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "学生ID"
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer"
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "size",
            "schema": {
              "type": "integer"
            },
            "description": "每页数量"
          }
        ],
        "responses": {
          "200": {
            "description": "按学生获取报名列表成功"
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "学生不存在"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/activity-registrations/by-status/{status}": {
      "get": {
        "summary": "按状态获取报名列表",
        "tags": [
          "活动报名"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "status",
            "required": true,
            "schema": {
              "type": "string",
              "enum": [
                "pending",
                "confirmed",
                "rejected",
                "cancelled",
                "checked-in",
                "absent"
              ]
            },
            "description": "报名状态"
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer"
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "size",
            "schema": {
              "type": "integer"
            },
            "description": "每页数量"
          }
        ],
        "responses": {
          "200": {
            "description": "按状态获取报名列表成功"
          },
          "400": {
            "description": "状态参数无效"
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/activity-registrations/batch-confirm": {
      "post": {
        "summary": "批量确认报名",
        "tags": [
          "活动报名"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "registrationIds"
                ],
                "properties": {
                  "registrationIds": {
                    "type": "array",
                    "items": {
                      "type": "integer"
                    },
                    "description": "报名ID列表"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "批量确认报名成功"
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/activity-registrations/{id}": {
      "get": {
        "summary": "获取activity_registrations详情",
        "tags": [
          "ActivityRegistration"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "报名ID"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "报名记录不存在"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      },
      "put": {
        "summary": "更新activity_registrations",
        "tags": [
          "ActivityRegistration"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "报名ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "contactName": {
                    "type": "string",
                    "description": "联系人姓名"
                  },
                  "contactPhone": {
                    "type": "string",
                    "description": "联系人电话"
                  },
                  "childName": {
                    "type": "string",
                    "description": "孩子姓名"
                  },
                  "childAge": {
                    "type": "integer",
                    "description": "孩子年龄"
                  },
                  "childGender": {
                    "type": "integer",
                    "description": "孩子性别 - 0:未知 1:男 2:女"
                  },
                  "attendeeCount": {
                    "type": "integer",
                    "description": "参加人数"
                  },
                  "specialNeeds": {
                    "type": "string",
                    "description": "特殊需求"
                  },
                  "source": {
                    "type": "string",
                    "description": "来源渠道"
                  },
                  "remark": {
                    "type": "string",
                    "description": "备注信息"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新成功"
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "报名记录不存在"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      },
      "delete": {
        "summary": "删除activity_registrations",
        "tags": [
          "ActivityRegistration"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "报名ID"
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功"
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "报名记录不存在"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/activity-registrations/{id}/payment": {
      "get": {
        "summary": "获取报名付款信息",
        "tags": [
          "活动报名"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "报名ID"
          }
        ],
        "responses": {
          "200": {
            "description": "获取报名付款信息成功"
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "报名记录不存在"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      },
      "post": {
        "summary": "处理报名付款",
        "tags": [
          "活动报名"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "报名ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "amount",
                  "paymentMethod"
                ],
                "properties": {
                  "amount": {
                    "type": "number",
                    "description": "付款金额"
                  },
                  "paymentMethod": {
                    "type": "string",
                    "enum": [
                      "wechat",
                      "alipay",
                      "cash",
                      "bank_transfer"
                    ],
                    "description": "付款方式"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "处理报名付款成功"
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "报名记录不存在"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/activity-registrations/{id}/review": {
      "post": {
        "summary": "审核活动报名",
        "tags": [
          "活动报名"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "报名ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "approved"
                ],
                "properties": {
                  "approved": {
                    "type": "boolean",
                    "description": "是否通过"
                  },
                  "reason": {
                    "type": "string",
                    "description": "拒绝原因"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "活动报名审核成功"
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "报名记录不存在"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/activity-registrations/{id}/cancel": {
      "post": {
        "summary": "取消活动报名",
        "tags": [
          "活动报名"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "报名ID"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "reason": {
                    "type": "string",
                    "description": "取消原因"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "活动报名取消成功"
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "报名记录不存在"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/activity-registrations/{id}/check-in": {
      "post": {
        "summary": "签到",
        "tags": [
          "活动报名"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "报名ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "location"
                ],
                "properties": {
                  "location": {
                    "type": "string",
                    "description": "签到地点"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "签到成功"
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "报名记录不存在"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/activity-registrations/{id}/absent": {
      "post": {
        "summary": "标记为未出席",
        "tags": [
          "活动报名"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "报名ID"
          }
        ],
        "responses": {
          "200": {
            "description": "已标记为未出席"
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "报名记录不存在"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/activity-registrations/{id}/feedback": {
      "post": {
        "summary": "记录反馈",
        "tags": [
          "活动报名"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "报名ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "feedback"
                ],
                "properties": {
                  "feedback": {
                    "type": "string",
                    "description": "反馈内容"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "反馈记录成功"
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "报名记录不存在"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/activity-registrations/{id}/convert": {
      "post": {
        "summary": "标记为转化",
        "tags": [
          "活动报名"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "报名ID"
          }
        ],
        "responses": {
          "200": {
            "description": "已标记为转化"
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "报名记录不存在"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/activity-registrations/activity/{activityId}/stats": {
      "get": {
        "summary": "获取活动报名统计数据",
        "tags": [
          "活动报名"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "activityId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "活动ID"
          }
        ],
        "responses": {
          "200": {
            "description": "获取活动报名统计数据成功"
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "活动不存在"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/activity-templates": {
      "get": {
        "summary": "获取所有活动模板",
        "description": "获取活动模板列表",
        "tags": [
          "活动模板"
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      },
      "post": {
        "summary": "创建活动模板",
        "description": "创建新的活动模板",
        "tags": [
          "活动模板"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "name"
                ],
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "创建成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/activity-templates/{id}": {
      "get": {
        "summary": "获取单个活动模板",
        "description": "根据ID获取活动模板详情",
        "tags": [
          "活动模板"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      },
      "put": {
        "summary": "更新活动模板",
        "description": "更新指定的活动模板",
        "tags": [
          "活动模板"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      },
      "delete": {
        "summary": "删除活动模板",
        "description": "删除指定的活动模板",
        "tags": [
          "活动模板"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/activity-templates/{id}/use": {
      "post": {
        "summary": "使用活动模板",
        "description": "使用模板并增加使用次数",
        "tags": [
          "活动模板"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "使用成功"
          }
        }
      }
    },
    "/api/add-permission/add-function-tools-permission": {
      "post": {
        "summary": "添加Function Tools权限",
        "description": "临时路由，用于添加Function Tools权限到系统",
        "tags": [
          "权限管理"
        ],
        "responses": {
          "200": {
            "description": "添加成功"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/admin/system-info": {
      "get": {
        "tags": [
          "Admin"
        ],
        "summary": "获取系统信息",
        "description": "获取服务器系统信息，包括Node.js版本、平台信息、内存使用情况等",
        "responses": {
          "200": {
            "description": "成功获取系统信息",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/SystemInfo"
                    },
                    "message": {
                      "type": "string",
                      "example": "获取系统信息成功"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/admin/logs": {
      "get": {
        "tags": [
          "Admin"
        ],
        "summary": "获取系统日志",
        "description": "获取系统日志，支持按级别过滤和限制数量",
        "parameters": [
          {
            "in": "query",
            "name": "level",
            "schema": {
              "type": "string",
              "enum": [
                "info",
                "warn",
                "error",
                "debug",
                "all"
              ],
              "default": "info"
            },
            "description": "日志级别过滤"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 1000,
              "default": 100
            },
            "description": "返回日志数量限制"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取系统日志",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "logs": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/LogEntry"
                          }
                        },
                        "total": {
                          "type": "integer",
                          "description": "过滤后总数"
                        },
                        "level": {
                          "type": "string",
                          "description": "当前过滤级别"
                        },
                        "limit": {
                          "type": "integer",
                          "description": "限制数量"
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "获取系统日志成功"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/admin/environment": {
      "get": {
        "tags": [
          "Admin"
        ],
        "summary": "获取环境配置",
        "description": "获取当前环境配置信息，包括环境变量等安全的配置信息",
        "responses": {
          "200": {
            "description": "成功获取环境信息",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/EnvironmentInfo"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Admin"
        ],
        "summary": "设置环境变量",
        "description": "临时设置环境变量（仅在内存中有效，服务器重启后恢复）",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "NODE_ENV": {
                    "type": "string",
                    "enum": [
                      "development",
                      "production",
                      "test"
                    ],
                    "description": "运行环境"
                  },
                  "SKIP_AUTH": {
                    "type": "boolean",
                    "description": "是否跳过认证"
                  },
                  "MOCK_PERMISSIONS": {
                    "type": "boolean",
                    "description": "是否使用模拟权限"
                  }
                },
                "example": {
                  "NODE_ENV": "development",
                  "SKIP_AUTH": true,
                  "MOCK_PERMISSIONS": true
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "成功设置环境变量",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "NODE_ENV": {
                          "type": "string"
                        },
                        "SKIP_AUTH": {
                          "type": "string"
                        },
                        "MOCK_PERMISSIONS": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string",
                          "example": "环境变量已设置（仅在内存中有效，服务器重启后将恢复）"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/admin/db-monitor/public-stats": {
      "get": {
        "tags": [
          "Admin"
        ],
        "summary": "获取公共数据库统计信息",
        "description": "获取数据库基本统计信息，包括查询数量、连接池状态等",
        "responses": {
          "200": {
            "description": "成功获取数据库统计信息",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "metrics": {
                          "$ref": "#/components/schemas/DatabaseMetrics"
                        },
                        "tableCount": {
                          "type": "number",
                          "description": "数据库表总数",
                          "example": 20
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/admin/db-monitor/metrics": {
      "get": {
        "tags": [
          "Admin"
        ],
        "summary": "获取数据库性能指标",
        "description": "获取详细的数据库性能指标，包括查询统计、连接池状态等",
        "responses": {
          "200": {
            "description": "成功获取数据库性能指标",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "description": "完整的数据库性能指标"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/admin/db-monitor/tables": {
      "get": {
        "tags": [
          "Admin"
        ],
        "summary": "获取数据库表统计信息",
        "description": "获取所有数据库表的统计信息，包括行数、大小等",
        "responses": {
          "200": {
            "description": "成功获取数据库表统计信息",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/TableStats"
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/admin/db-monitor/indexes": {
      "get": {
        "tags": [
          "Admin"
        ],
        "summary": "获取数据库索引使用情况",
        "description": "获取数据库索引的使用统计信息",
        "responses": {
          "200": {
            "description": "成功获取数据库索引使用情况",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "indexName": {
                            "type": "string",
                            "description": "索引名称"
                          },
                          "tableName": {
                            "type": "string",
                            "description": "表名"
                          },
                          "usageCount": {
                            "type": "number",
                            "description": "使用次数"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/admin/db-monitor/queries": {
      "get": {
        "tags": [
          "Admin"
        ],
        "summary": "获取数据库查询统计信息",
        "description": "获取数据库查询的统计信息，包括慢查询等",
        "responses": {
          "200": {
            "description": "成功获取数据库查询统计信息",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "query": {
                            "type": "string",
                            "description": "查询语句"
                          },
                          "executionCount": {
                            "type": "number",
                            "description": "执行次数"
                          },
                          "averageTime": {
                            "type": "number",
                            "description": "平均执行时间"
                          },
                          "maxTime": {
                            "type": "number",
                            "description": "最大执行时间"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/admin/refresh-permission-cache": {
      "post": {
        "tags": [
          "Admin"
        ],
        "summary": "手动刷新权限缓存",
        "description": "管理员手动刷新权限路由缓存，立即生效权限变更",
        "responses": {
          "200": {
            "description": "成功刷新权限缓存",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "权限缓存已成功刷新"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "refreshTime": {
                          "type": "number",
                          "description": "刷新耗时(ms)"
                        },
                        "before": {
                          "type": "object",
                          "description": "刷新前状态"
                        },
                        "after": {
                          "type": "object",
                          "description": "刷新后状态"
                        },
                        "changes": {
                          "type": "object",
                          "description": "变更统计"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "刷新失败"
          }
        }
      }
    },
    "/admin/permission-cache-status": {
      "get": {
        "tags": [
          "Admin"
        ],
        "summary": "获取权限缓存状态",
        "description": "获取权限缓存的详细状态信息，包括健康度、性能指标等",
        "responses": {
          "200": {
            "description": "成功获取缓存状态",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "cache": {
                          "type": "object",
                          "description": "缓存基本信息",
                          "properties": {
                            "routeCount": {
                              "type": "number",
                              "description": "路由数量"
                            },
                            "roleCount": {
                              "type": "number",
                              "description": "角色数量"
                            },
                            "lastLoadTime": {
                              "type": "number",
                              "description": "最后加载时间"
                            },
                            "cacheAge": {
                              "type": "number",
                              "description": "缓存年龄(ms)"
                            },
                            "isHealthy": {
                              "type": "boolean",
                              "description": "是否健康"
                            }
                          }
                        },
                        "metrics": {
                          "type": "object",
                          "description": "性能指标"
                        },
                        "watcher": {
                          "type": "object",
                          "description": "监听状态"
                        },
                        "health": {
                          "type": "object",
                          "description": "健康评分"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "获取状态失败"
          }
        }
      }
    },
    "/admin/permission-change-history": {
      "get": {
        "tags": [
          "Admin"
        ],
        "summary": "获取权限变更历史",
        "description": "获取权限变更的历史记录",
        "parameters": [
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 50
            },
            "description": "返回记录数量限制"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取变更历史",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "events": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "type": {
                                "type": "string",
                                "enum": [
                                  "create",
                                  "update",
                                  "destroy"
                                ]
                              },
                              "model": {
                                "type": "string"
                              },
                              "instanceId": {
                                "type": "string"
                              },
                              "timestamp": {
                                "type": "number"
                              },
                              "details": {
                                "type": "object"
                              }
                            }
                          }
                        },
                        "totalCount": {
                          "type": "number"
                        },
                        "limit": {
                          "type": "number"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "获取历史失败"
          }
        }
      },
      "delete": {
        "tags": [
          "Admin"
        ],
        "summary": "清空权限变更历史",
        "description": "清空权限变更历史记录",
        "responses": {
          "200": {
            "description": "成功清空历史记录"
          },
          "500": {
            "description": "清空失败"
          }
        }
      }
    },
    "/admin/force-refresh-cache": {
      "post": {
        "tags": [
          "Admin"
        ],
        "summary": "强制刷新缓存",
        "description": "紧急情况下强制立即刷新权限缓存",
        "responses": {
          "200": {
            "description": "成功强制刷新"
          },
          "500": {
            "description": "强制刷新失败"
          }
        }
      }
    },
    "/admin/warmup-cache": {
      "post": {
        "tags": [
          "Admin"
        ],
        "summary": "缓存预热",
        "description": "预热权限缓存，提升访问性能",
        "responses": {
          "200": {
            "description": "成功完成缓存预热"
          },
          "500": {
            "description": "预热失败"
          }
        }
      }
    },
    "/admin/start-permission-watcher": {
      "post": {
        "tags": [
          "Admin"
        ],
        "summary": "启动权限变更监听",
        "description": "手动启动权限变更监听服务",
        "responses": {
          "200": {
            "description": "成功启动权限变更监听"
          },
          "500": {
            "description": "启动失败"
          }
        }
      }
    },
    "/api/admission-notifications": {
      "post": {
        "summary": "创建admission_notifications",
        "tags": [
          "AdmissionNotification"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "admissionId",
                  "studentName",
                  "parentId",
                  "method",
                  "content",
                  "recipientContact"
                ],
                "properties": {
                  "admissionId": {
                    "type": "integer",
                    "description": "录取结果ID"
                  },
                  "studentName": {
                    "type": "string",
                    "description": "学生姓名"
                  },
                  "parentId": {
                    "type": "integer",
                    "description": "家长ID"
                  },
                  "method": {
                    "type": "string",
                    "enum": [
                      "sms",
                      "email",
                      "wechat",
                      "phone",
                      "letter",
                      "app"
                    ],
                    "description": "通知方式"
                  },
                  "content": {
                    "type": "string",
                    "description": "通知内容"
                  },
                  "recipientContact": {
                    "type": "string",
                    "description": "接收人联系方式"
                  },
                  "subject": {
                    "type": "string",
                    "description": "主题"
                  },
                  "templateId": {
                    "type": "integer",
                    "description": "模板ID"
                  },
                  "attachments": {
                    "type": "string",
                    "description": "附件"
                  },
                  "responseRequired": {
                    "type": "boolean",
                    "description": "是否需要回复"
                  },
                  "responseDeadline": {
                    "type": "string",
                    "format": "date",
                    "description": "回复截止日期"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "创建成功"
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      },
      "get": {
        "summary": "获取admission_notifications列表",
        "tags": [
          "AdmissionNotification"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "size",
            "schema": {
              "type": "integer",
              "default": 10
            },
            "description": "每页数量"
          },
          {
            "in": "query",
            "name": "studentName",
            "schema": {
              "type": "string"
            },
            "description": "学生姓名"
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string"
            },
            "description": "通知状态"
          },
          {
            "in": "query",
            "name": "method",
            "schema": {
              "type": "string"
            },
            "description": "通知方式"
          },
          {
            "in": "query",
            "name": "admissionId",
            "schema": {
              "type": "integer"
            },
            "description": "录取结果ID"
          },
          {
            "in": "query",
            "name": "parentId",
            "schema": {
              "type": "integer"
            },
            "description": "家长ID"
          },
          {
            "in": "query",
            "name": "senderId",
            "schema": {
              "type": "integer"
            },
            "description": "发送人ID"
          },
          {
            "in": "query",
            "name": "sendTimeStart",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "发送开始时间"
          },
          {
            "in": "query",
            "name": "sendTimeEnd",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "发送结束时间"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/admission-notifications/by-result/{resultId}": {
      "get": {
        "summary": "按录取结果获取通知",
        "tags": [
          "录取通知"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "resultId",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "录取结果ID"
          }
        ],
        "responses": {
          "200": {
            "description": "成功"
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "未找到"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/admission-notifications/by-parent/{parentId}": {
      "get": {
        "summary": "按家长获取通知",
        "tags": [
          "录取通知"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "parentId",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "家长ID"
          }
        ],
        "responses": {
          "200": {
            "description": "成功"
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "未找到"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/admission-notifications/{id}": {
      "get": {
        "summary": "获取admission_notifications详情",
        "tags": [
          "AdmissionNotification"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "通知ID"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "未找到"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      },
      "put": {
        "summary": "更新admission_notifications",
        "tags": [
          "AdmissionNotification"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "通知ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "studentName": {
                    "type": "string",
                    "description": "学生姓名"
                  },
                  "parentId": {
                    "type": "integer",
                    "description": "家长ID"
                  },
                  "method": {
                    "type": "string",
                    "enum": [
                      "sms",
                      "email",
                      "wechat",
                      "phone",
                      "letter",
                      "app"
                    ],
                    "description": "通知方式"
                  },
                  "content": {
                    "type": "string",
                    "description": "通知内容"
                  },
                  "recipientContact": {
                    "type": "string",
                    "description": "接收人联系方式"
                  },
                  "subject": {
                    "type": "string",
                    "description": "主题"
                  },
                  "templateId": {
                    "type": "integer",
                    "description": "模板ID"
                  },
                  "attachments": {
                    "type": "string",
                    "description": "附件"
                  },
                  "responseRequired": {
                    "type": "boolean",
                    "description": "是否需要回复"
                  },
                  "responseDeadline": {
                    "type": "string",
                    "format": "date",
                    "description": "回复截止日期"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新成功"
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "未找到"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      },
      "delete": {
        "summary": "删除admission_notifications",
        "tags": [
          "AdmissionNotification"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "通知ID"
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功"
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "未找到"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/admission-notifications/{id}/send": {
      "post": {
        "summary": "发送通知",
        "tags": [
          "录取通知"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "通知ID"
          }
        ],
        "responses": {
          "200": {
            "description": "发送成功"
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "未找到"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/admission-notifications/{id}/resend": {
      "post": {
        "summary": "重新发送通知",
        "tags": [
          "录取通知"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "通知ID"
          }
        ],
        "responses": {
          "200": {
            "description": "重新发送成功"
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "未找到"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/admission-notifications/{id}/delivered": {
      "put": {
        "summary": "标记通知为已送达",
        "tags": [
          "录取通知"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "通知ID"
          }
        ],
        "responses": {
          "200": {
            "description": "标记成功"
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "未找到"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/admission-notifications/{id}/read": {
      "put": {
        "summary": "标记通知为已读",
        "tags": [
          "录取通知"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "通知ID"
          }
        ],
        "responses": {
          "200": {
            "description": "标记成功"
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "未找到"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/admission-notifications/{id}/response": {
      "post": {
        "summary": "记录通知回复",
        "tags": [
          "录取通知"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "通知ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "content"
                ],
                "properties": {
                  "content": {
                    "type": "string",
                    "description": "回复内容"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "记录成功"
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "未找到"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/admission-results": {
      "post": {
        "summary": "创建admission_results",
        "tags": [
          "AdmissionResult"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "applicationId",
                  "studentName",
                  "parentId",
                  "planId",
                  "status",
                  "type",
                  "admissionDate",
                  "decisionMakerId",
                  "decisionDate"
                ],
                "properties": {
                  "applicationId": {
                    "type": "integer",
                    "description": "报名申请ID"
                  },
                  "studentName": {
                    "type": "string",
                    "description": "学生姓名"
                  },
                  "parentId": {
                    "type": "integer",
                    "description": "家长ID"
                  },
                  "planId": {
                    "type": "integer",
                    "description": "招生计划ID"
                  },
                  "classId": {
                    "type": "integer",
                    "description": "分配班级ID"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "pending",
                      "admitted",
                      "rejected",
                      "waitlisted",
                      "confirmed",
                      "canceled"
                    ],
                    "description": "录取状态"
                  },
                  "type": {
                    "type": "string",
                    "enum": [
                      "regular",
                      "special",
                      "priority",
                      "transfer"
                    ],
                    "description": "录取类型"
                  },
                  "admissionDate": {
                    "type": "string",
                    "format": "date",
                    "description": "录取日期"
                  },
                  "score": {
                    "type": "number",
                    "description": "评分"
                  },
                  "rank": {
                    "type": "integer",
                    "description": "排名"
                  },
                  "interviewResult": {
                    "type": "string",
                    "description": "面试结果"
                  },
                  "interviewDate": {
                    "type": "string",
                    "format": "date",
                    "description": "面试日期"
                  },
                  "interviewerId": {
                    "type": "integer",
                    "description": "面试官ID"
                  },
                  "decisionMakerId": {
                    "type": "integer",
                    "description": "决策者ID"
                  },
                  "decisionDate": {
                    "type": "string",
                    "format": "date",
                    "description": "决策日期"
                  },
                  "decisionReason": {
                    "type": "string",
                    "description": "决策原因"
                  },
                  "specialRequirements": {
                    "type": "string",
                    "description": "特殊要求"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "创建成功"
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      },
      "get": {
        "summary": "获取admission_results列表",
        "tags": [
          "AdmissionResult"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "size",
            "schema": {
              "type": "integer",
              "default": 10
            },
            "description": "每页数量"
          },
          {
            "in": "query",
            "name": "studentName",
            "schema": {
              "type": "string"
            },
            "description": "学生姓名"
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string"
            },
            "description": "录取状态"
          },
          {
            "in": "query",
            "name": "type",
            "schema": {
              "type": "string"
            },
            "description": "录取类型"
          },
          {
            "in": "query",
            "name": "planId",
            "schema": {
              "type": "integer"
            },
            "description": "招生计划ID"
          },
          {
            "in": "query",
            "name": "parentId",
            "schema": {
              "type": "integer"
            },
            "description": "家长ID"
          },
          {
            "in": "query",
            "name": "classId",
            "schema": {
              "type": "integer"
            },
            "description": "班级ID"
          },
          {
            "in": "query",
            "name": "admissionDateStart",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "录取开始日期"
          },
          {
            "in": "query",
            "name": "admissionDateEnd",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "录取结束日期"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/admission-results/by-application/{applicationId}": {
      "get": {
        "summary": "按申请获取录取结果",
        "tags": [
          "录取结果"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "applicationId",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "申请ID"
          }
        ],
        "responses": {
          "200": {
            "description": "成功"
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "未找到"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/admission-results/by-class/{classId}": {
      "get": {
        "summary": "按班级获取录取结果",
        "tags": [
          "录取结果"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "classId",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "班级ID"
          }
        ],
        "responses": {
          "200": {
            "description": "成功"
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "未找到"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/admission-results/statistics": {
      "get": {
        "summary": "获取录取统计数据",
        "tags": [
          "录取结果"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功"
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/admission-results/{id}": {
      "get": {
        "summary": "获取admission_results详情",
        "tags": [
          "AdmissionResult"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "录取结果ID"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "未找到"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      },
      "put": {
        "summary": "更新admission_results",
        "tags": [
          "AdmissionResult"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "录取结果ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "studentName": {
                    "type": "string",
                    "description": "学生姓名"
                  },
                  "parentId": {
                    "type": "integer",
                    "description": "家长ID"
                  },
                  "planId": {
                    "type": "integer",
                    "description": "招生计划ID"
                  },
                  "classId": {
                    "type": "integer",
                    "description": "分配班级ID"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "pending",
                      "admitted",
                      "rejected",
                      "waitlisted",
                      "confirmed",
                      "canceled"
                    ],
                    "description": "录取状态"
                  },
                  "type": {
                    "type": "string",
                    "enum": [
                      "regular",
                      "special",
                      "priority",
                      "transfer"
                    ],
                    "description": "录取类型"
                  },
                  "admissionDate": {
                    "type": "string",
                    "format": "date",
                    "description": "录取日期"
                  },
                  "score": {
                    "type": "number",
                    "description": "评分"
                  },
                  "rank": {
                    "type": "integer",
                    "description": "排名"
                  },
                  "interviewResult": {
                    "type": "string",
                    "description": "面试结果"
                  },
                  "interviewDate": {
                    "type": "string",
                    "format": "date",
                    "description": "面试日期"
                  },
                  "interviewerId": {
                    "type": "integer",
                    "description": "面试官ID"
                  },
                  "decisionReason": {
                    "type": "string",
                    "description": "决策原因"
                  },
                  "specialRequirements": {
                    "type": "string",
                    "description": "特殊要求"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新成功"
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "未找到"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      },
      "delete": {
        "summary": "删除admission_results",
        "tags": [
          "AdmissionResult"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "录取结果ID"
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功"
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "未找到"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/advertisements/stats": {
      "get": {
        "tags": [
          "Advertisements"
        ],
        "summary": "获取全部广告统计数据",
        "description": "获取系统中所有广告的统计信息，包括总数、活跃数、点击率等",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取统计数据成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "获取广告统计数据成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/AdvertisementStatistics"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "403": {
            "description": "权限不足"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/advertisements/by-type/{type}": {
      "get": {
        "tags": [
          "Advertisements"
        ],
        "summary": "按类型获取广告列表",
        "description": "根据广告类型获取对应的广告列表",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "type",
            "required": true,
            "schema": {
              "type": "string",
              "enum": [
                "banner",
                "popup",
                "video",
                "image",
                "text"
              ]
            },
            "description": "广告类型"
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 10
            },
            "description": "每页数量"
          }
        ],
        "responses": {
          "200": {
            "description": "获取广告列表成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "获取广告列表成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "advertisements": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/Advertisement"
                          }
                        },
                        "pagination": {
                          "type": "object",
                          "properties": {
                            "total": {
                              "type": "integer"
                            },
                            "page": {
                              "type": "integer"
                            },
                            "limit": {
                              "type": "integer"
                            },
                            "totalPages": {
                              "type": "integer"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "无效的广告类型"
          },
          "401": {
            "description": "未授权访问"
          },
          "403": {
            "description": "权限不足"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/advertisements/by-status/{status}": {
      "get": {
        "tags": [
          "Advertisements"
        ],
        "summary": "按状态获取广告列表",
        "description": "根据广告状态获取对应的广告列表",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "status",
            "required": true,
            "schema": {
              "type": "string",
              "enum": [
                "active",
                "paused",
                "expired",
                "draft"
              ]
            },
            "description": "广告状态"
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 10
            },
            "description": "每页数量"
          }
        ],
        "responses": {
          "200": {
            "description": "获取广告列表成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "获取广告列表成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "advertisements": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/Advertisement"
                          }
                        },
                        "pagination": {
                          "type": "object",
                          "properties": {
                            "total": {
                              "type": "integer"
                            },
                            "page": {
                              "type": "integer"
                            },
                            "limit": {
                              "type": "integer"
                            },
                            "totalPages": {
                              "type": "integer"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "无效的广告状态"
          },
          "401": {
            "description": "未授权访问"
          },
          "403": {
            "description": "权限不足"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/advertisements": {
      "get": {
        "tags": [
          "Advertisement"
        ],
        "summary": "获取advertisements列表",
        "description": "获取所有广告的分页列表，支持搜索和排序",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 10
            },
            "description": "每页数量"
          },
          {
            "in": "query",
            "name": "search",
            "schema": {
              "type": "string"
            },
            "description": "搜索关键词（标题、内容）"
          },
          {
            "in": "query",
            "name": "type",
            "schema": {
              "type": "string",
              "enum": [
                "banner",
                "popup",
                "video",
                "image",
                "text"
              ]
            },
            "description": "过滤广告类型"
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string",
              "enum": [
                "active",
                "paused",
                "expired",
                "draft"
              ]
            },
            "description": "过滤广告状态"
          },
          {
            "in": "query",
            "name": "sortBy",
            "schema": {
              "type": "string",
              "enum": [
                "createdAt",
                "title",
                "priority",
                "clickCount",
                "viewCount"
              ],
              "default": "createdAt"
            },
            "description": "排序字段"
          },
          {
            "in": "query",
            "name": "sortOrder",
            "schema": {
              "type": "string",
              "enum": [
                "asc",
                "desc"
              ],
              "default": "desc"
            },
            "description": "排序顺序"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "获取广告列表成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "advertisements": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/Advertisement"
                          }
                        },
                        "pagination": {
                          "type": "object",
                          "properties": {
                            "total": {
                              "type": "integer"
                            },
                            "page": {
                              "type": "integer"
                            },
                            "limit": {
                              "type": "integer"
                            },
                            "totalPages": {
                              "type": "integer"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "403": {
            "description": "权限不足"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      },
      "post": {
        "tags": [
          "Advertisement"
        ],
        "summary": "创建advertisements",
        "description": "创建一个新的广告",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "title",
                  "type",
                  "content",
                  "targetAudience",
                  "startDate",
                  "endDate"
                ],
                "properties": {
                  "title": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 200,
                    "description": "广告标题",
                    "example": "新学期招生宣传"
                  },
                  "type": {
                    "type": "string",
                    "enum": [
                      "banner",
                      "popup",
                      "video",
                      "image",
                      "text"
                    ],
                    "description": "广告类型",
                    "example": "banner"
                  },
                  "content": {
                    "type": "string",
                    "description": "广告内容",
                    "example": "欢迎家长们报名参加我们的新学期招生活动"
                  },
                  "imageUrl": {
                    "type": "string",
                    "format": "uri",
                    "description": "图片URL",
                    "example": "https://example.com/image.jpg"
                  },
                  "linkUrl": {
                    "type": "string",
                    "format": "uri",
                    "description": "链接URL",
                    "example": "https://example.com/enrollment"
                  },
                  "targetAudience": {
                    "type": "string",
                    "enum": [
                      "all",
                      "parent",
                      "teacher",
                      "admin"
                    ],
                    "description": "目标受众",
                    "example": "parent"
                  },
                  "priority": {
                    "type": "integer",
                    "minimum": 1,
                    "maximum": 10,
                    "default": 5,
                    "description": "优先级",
                    "example": 8
                  },
                  "startDate": {
                    "type": "string",
                    "format": "date-time",
                    "description": "开始时间",
                    "example": "2024-01-01T00:00:00Z"
                  },
                  "endDate": {
                    "type": "string",
                    "format": "date-time",
                    "description": "结束时间",
                    "example": "2024-12-31T23:59:59Z"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "创建成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 201
                    },
                    "message": {
                      "type": "string",
                      "example": "创建广告成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/Advertisement"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "参数错误"
          },
          "401": {
            "description": "未授权访问"
          },
          "403": {
            "description": "权限不足"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/advertisements/{id}/statistics": {
      "get": {
        "tags": [
          "Advertisements"
        ],
        "summary": "获取广告统计数据",
        "description": "获取指定广告的详细统计信息",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "广告ID"
          },
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "统计开始日期"
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "统计结束日期"
          }
        ],
        "responses": {
          "200": {
            "description": "获取统计数据成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "获取广告统计数据成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "advertisement": {
                          "$ref": "#/components/schemas/Advertisement"
                        },
                        "statistics": {
                          "type": "object",
                          "properties": {
                            "dailyViews": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "properties": {
                                  "date": {
                                    "type": "string",
                                    "format": "date"
                                  },
                                  "views": {
                                    "type": "integer"
                                  },
                                  "clicks": {
                                    "type": "integer"
                                  }
                                }
                              }
                            },
                            "totalViews": {
                              "type": "integer"
                            },
                            "totalClicks": {
                              "type": "integer"
                            },
                            "clickThroughRate": {
                              "type": "number",
                              "format": "float"
                            },
                            "conversionRate": {
                              "type": "number",
                              "format": "float"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "403": {
            "description": "权限不足"
          },
          "404": {
            "description": "广告不存在"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/advertisements/{id}/pause": {
      "post": {
        "tags": [
          "Advertisements"
        ],
        "summary": "暂停广告",
        "description": "暂停指定的广告，将状态设置为暂停",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "广告ID"
          }
        ],
        "responses": {
          "200": {
            "description": "暂停广告成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "暂停广告成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/Advertisement"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "广告状态不允许暂停"
          },
          "401": {
            "description": "未授权访问"
          },
          "403": {
            "description": "权限不足"
          },
          "404": {
            "description": "广告不存在"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/advertisements/{id}/resume": {
      "post": {
        "tags": [
          "Advertisements"
        ],
        "summary": "恢复广告",
        "description": "恢复暂停的广告，将状态设置为活跃",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "广告ID"
          }
        ],
        "responses": {
          "200": {
            "description": "恢复广告成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "恢复广告成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/Advertisement"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "广告状态不允许恢复"
          },
          "401": {
            "description": "未授权访问"
          },
          "403": {
            "description": "权限不足"
          },
          "404": {
            "description": "广告不存在"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/advertisements/{id}": {
      "get": {
        "tags": [
          "Advertisement"
        ],
        "summary": "获取advertisements详情",
        "description": "根据ID获取广告的详细信息",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "广告ID"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "获取广告详情成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/Advertisement"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "403": {
            "description": "权限不足"
          },
          "404": {
            "description": "广告不存在"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      },
      "put": {
        "tags": [
          "Advertisement"
        ],
        "summary": "更新advertisements",
        "description": "更新指定广告的信息",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "广告ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "title": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 200,
                    "description": "广告标题"
                  },
                  "type": {
                    "type": "string",
                    "enum": [
                      "banner",
                      "popup",
                      "video",
                      "image",
                      "text"
                    ],
                    "description": "广告类型"
                  },
                  "content": {
                    "type": "string",
                    "description": "广告内容"
                  },
                  "imageUrl": {
                    "type": "string",
                    "format": "uri",
                    "description": "图片URL"
                  },
                  "linkUrl": {
                    "type": "string",
                    "format": "uri",
                    "description": "链接URL"
                  },
                  "targetAudience": {
                    "type": "string",
                    "enum": [
                      "all",
                      "parent",
                      "teacher",
                      "admin"
                    ],
                    "description": "目标受众"
                  },
                  "priority": {
                    "type": "integer",
                    "minimum": 1,
                    "maximum": 10,
                    "description": "优先级"
                  },
                  "startDate": {
                    "type": "string",
                    "format": "date-time",
                    "description": "开始时间"
                  },
                  "endDate": {
                    "type": "string",
                    "format": "date-time",
                    "description": "结束时间"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "active",
                      "paused",
                      "expired",
                      "draft"
                    ],
                    "description": "状态"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "更新广告成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/Advertisement"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "参数错误"
          },
          "401": {
            "description": "未授权访问"
          },
          "403": {
            "description": "权限不足"
          },
          "404": {
            "description": "广告不存在"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      },
      "delete": {
        "tags": [
          "Advertisement"
        ],
        "summary": "删除advertisements",
        "description": "删除指定的广告（软删除）",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "广告ID"
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "删除广告成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "deletedId": {
                          "type": "integer",
                          "description": "已删除的广告ID"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "403": {
            "description": "权限不足"
          },
          "404": {
            "description": "广告不存在"
          },
          "409": {
            "description": "广告正在使用中，无法删除"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/ai-analysis/enrollment-trends": {
      "post": {
        "summary": "招生趋势分析",
        "description": "基于豆包1.6模型分析招生趋势数据",
        "tags": [
          "AI智能分析"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "timeRange": {
                    "type": "string",
                    "description": "时间范围"
                  },
                  "filters": {
                    "type": "object",
                    "description": "筛选条件"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "分析成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/ai-analysis/activity-effectiveness": {
      "post": {
        "summary": "活动效果分析",
        "description": "分析活动的效果和影响",
        "tags": [
          "AI智能分析"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "activityId": {
                    "type": "string"
                  },
                  "metrics": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "分析成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/ai-analysis/performance-prediction": {
      "post": {
        "summary": "绩效预测分析",
        "description": "预测教师或机构的绩效表现",
        "tags": [
          "AI智能分析"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "targetType": {
                    "type": "string",
                    "enum": [
                      "teacher",
                      "institution"
                    ]
                  },
                  "targetId": {
                    "type": "string"
                  },
                  "period": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "分析成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/ai-analysis/risk-assessment": {
      "post": {
        "summary": "风险评估分析",
        "description": "评估运营风险和潜在问题",
        "tags": [
          "AI智能分析"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "scope": {
                    "type": "string",
                    "description": "评估范围"
                  },
                  "factors": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "分析成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/ai-analysis/history": {
      "get": {
        "summary": "获取分析历史记录",
        "description": "获取AI分析的历史记录列表",
        "tags": [
          "AI智能分析"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "type",
            "schema": {
              "type": "string",
              "enum": [
                "enrollment",
                "activity",
                "performance",
                "risk"
              ]
            },
            "description": "分析类型"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/ai-analysis/{id}": {
      "get": {
        "summary": "获取分析详情",
        "description": "获取指定分析记录的详细信息",
        "tags": [
          "AI智能分析"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      },
      "delete": {
        "summary": "删除分析记录",
        "description": "删除指定的分析记录",
        "tags": [
          "AI智能分析"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/ai-analysis/{id}/export": {
      "post": {
        "summary": "导出分析报告",
        "description": "导出分析报告为指定格式",
        "tags": [
          "AI智能分析"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": false,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "format": {
                    "type": "string",
                    "enum": [
                      "pdf",
                      "excel",
                      "word"
                    ],
                    "default": "pdf"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "导出成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/ai-analysis/models/status": {
      "get": {
        "summary": "获取AI模型状态",
        "description": "获取AI模型的运行状态和性能指标",
        "tags": [
          "AI智能分析"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/ai-assistant-optimized/query": {
      "post": {
        "summary": "优化后的AI查询接口",
        "description": "提供三级分层处理的AI查询功能",
        "tags": [
          "AI助手优化"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "query",
                  "conversationId"
                ],
                "properties": {
                  "query": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 1000,
                    "description": "查询内容"
                  },
                  "conversationId": {
                    "type": "string",
                    "description": "会话ID"
                  },
                  "userId": {
                    "type": "integer",
                    "description": "用户ID（可选）"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "查询成功"
          },
          "400": {
            "description": "请求参数验证失败"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/ai-assistant-optimized/stats": {
      "get": {
        "summary": "获取性能统计",
        "description": "获取AI助手的性能统计数据",
        "tags": [
          "AI助手优化"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/ai-assistant-optimized/test-direct": {
      "post": {
        "summary": "测试直接响应功能",
        "description": "测试AI助手的直接响应功能",
        "tags": [
          "AI助手优化"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "action"
                ],
                "properties": {
                  "action": {
                    "type": "string",
                    "description": "操作类型"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "测试成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/ai-assistant-optimized/test-route": {
      "post": {
        "summary": "测试查询路由功能",
        "description": "测试AI查询路由功能",
        "tags": [
          "AI助手优化"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "query"
                ],
                "properties": {
                  "query": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 500
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "测试成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/ai-assistant-optimized/keywords": {
      "get": {
        "summary": "获取关键词词典",
        "description": "获取AI助手的关键词词典统计信息",
        "tags": [
          "AI助手优化"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/ai-assistant-optimized/health": {
      "get": {
        "summary": "健康检查",
        "description": "检查AI助手服务的健康状态",
        "tags": [
          "AI助手优化"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "服务健康",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "status": {
                          "type": "string"
                        },
                        "timestamp": {
                          "type": "string"
                        },
                        "version": {
                          "type": "string"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/ai-cache/stats": {
      "get": {
        "summary": "获取缓存统计信息",
        "tags": [
          "AI缓存"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功"
          }
        }
      }
    },
    "/api/ai-cache/health": {
      "get": {
        "summary": "检查Redis连接状态",
        "tags": [
          "AI缓存"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功"
          }
        }
      }
    },
    "/api/ai-cache/tool/{toolName}": {
      "delete": {
        "summary": "清除指定工具的缓存",
        "tags": [
          "AI缓存"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "toolName",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "成功"
          }
        }
      }
    },
    "/api/ai-cache/all": {
      "delete": {
        "summary": "清除所有缓存",
        "tags": [
          "AI缓存"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功"
          }
        }
      }
    },
    "/api/ai-cache/reset-stats": {
      "post": {
        "summary": "重置统计信息",
        "tags": [
          "AI缓存"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功"
          }
        }
      }
    },
    "/api/ai-cache/warmup": {
      "post": {
        "summary": "预热缓存",
        "tags": [
          "AI缓存"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "tools": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "name": {
                          "type": "string"
                        },
                        "args": {
                          "type": "object"
                        },
                        "intent": {
                          "type": "string"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "成功"
          }
        }
      }
    },
    "/api/ai-knowledge/by-page/{pagePath}": {
      "get": {
        "summary": "根据页面路径获取AI知识库文档",
        "description": "根据页面路径获取对应的AI知识库文档",
        "tags": [
          "AI知识库"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "pagePath",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "页面路径"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "400": {
            "description": "请求参数错误"
          }
        }
      }
    },
    "/api/ai-knowledge": {
      "get": {
        "summary": "获取所有AI知识库文档",
        "description": "获取所有AI知识库文档列表",
        "tags": [
          "AI知识库"
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/ai-knowledge/category/{category}": {
      "get": {
        "summary": "根据分类获取AI知识库文档",
        "description": "根据分类获取对应的AI知识库文档列表",
        "tags": [
          "AI知识库"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "category",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "知识库分类"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/ai/performance/system-status": {
      "get": {
        "summary": "获取系统状态概览",
        "tags": [
          "AI Performance Monitor"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取系统状态成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "status": {
                          "type": "string",
                          "enum": [
                            "normal",
                            "warning",
                            "critical"
                          ]
                        },
                        "message": {
                          "type": "string"
                        },
                        "metrics": {
                          "type": "object",
                          "properties": {
                            "cpu": {
                              "type": "object",
                              "properties": {
                                "usage": {
                                  "type": "number"
                                },
                                "cores": {
                                  "type": "number"
                                }
                              }
                            },
                            "memory": {
                              "type": "object",
                              "properties": {
                                "usage": {
                                  "type": "number"
                                },
                                "total": {
                                  "type": "number"
                                },
                                "used": {
                                  "type": "number"
                                }
                              }
                            },
                            "gpu": {
                              "type": "object",
                              "properties": {
                                "usage": {
                                  "type": "number"
                                },
                                "model": {
                                  "type": "string"
                                }
                              }
                            }
                          }
                        },
                        "lastUpdated": {
                          "type": "string",
                          "format": "date-time"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "403": {
            "description": "权限不足"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/ai/performance/models": {
      "get": {
        "summary": "获取AI模型性能数据",
        "tags": [
          "AI Performance Monitor"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "timeRange",
            "schema": {
              "type": "string",
              "enum": [
                "1h",
                "6h",
                "24h",
                "7d",
                "30d"
              ],
              "default": "24h"
            },
            "description": "时间范围"
          }
        ],
        "responses": {
          "200": {
            "description": "获取AI模型性能数据成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "models": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string"
                              },
                              "name": {
                                "type": "string"
                              },
                              "version": {
                                "type": "string"
                              },
                              "status": {
                                "type": "string",
                                "enum": [
                                  "running",
                                  "training",
                                  "stopped",
                                  "error"
                                ]
                              },
                              "metrics": {
                                "type": "object",
                                "properties": {
                                  "responseTime": {
                                    "type": "number"
                                  },
                                  "accuracy": {
                                    "type": "number"
                                  },
                                  "requestsPerMinute": {
                                    "type": "number"
                                  },
                                  "errorRate": {
                                    "type": "number"
                                  }
                                }
                              }
                            }
                          }
                        },
                        "totalModels": {
                          "type": "number"
                        },
                        "activeModels": {
                          "type": "number"
                        },
                        "lastUpdated": {
                          "type": "string",
                          "format": "date-time"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "403": {
            "description": "权限不足"
          }
        }
      }
    },
    "/api/ai/performance/logs": {
      "get": {
        "summary": "获取性能日志",
        "tags": [
          "AI Performance Monitor"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "level",
            "schema": {
              "type": "string",
              "enum": [
                "all",
                "INFO",
                "WARNING",
                "ERROR",
                "DEBUG"
              ],
              "default": "all"
            },
            "description": "日志级别过滤"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 50
            },
            "description": "返回数量限制"
          }
        ],
        "responses": {
          "200": {
            "description": "获取性能日志成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "logs": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string"
                              },
                              "timestamp": {
                                "type": "string",
                                "format": "date-time"
                              },
                              "level": {
                                "type": "string"
                              },
                              "service": {
                                "type": "string"
                              },
                              "message": {
                                "type": "string"
                              }
                            }
                          }
                        },
                        "total": {
                          "type": "number"
                        },
                        "filters": {
                          "type": "object"
                        },
                        "lastUpdated": {
                          "type": "string",
                          "format": "date-time"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/ai/performance/alerts": {
      "get": {
        "summary": "获取性能警报",
        "tags": [
          "AI Performance Monitor"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "resolved",
            "schema": {
              "type": "string",
              "enum": [
                "all",
                true,
                false
              ],
              "default": false
            },
            "description": "是否已解决"
          }
        ],
        "responses": {
          "200": {
            "description": "获取性能警报成功"
          }
        }
      }
    },
    "/api/ai/performance/refresh": {
      "post": {
        "summary": "刷新性能数据",
        "tags": [
          "AI Performance Monitor"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "刷新性能数据成功"
          }
        }
      }
    },
    "/api/ai/performance/export": {
      "get": {
        "summary": "导出性能报告",
        "tags": [
          "AI Performance Monitor"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "format",
            "schema": {
              "type": "string",
              "enum": [
                "json",
                "csv",
                "pdf"
              ],
              "default": "json"
            },
            "description": "导出格式"
          },
          {
            "in": "query",
            "name": "timeRange",
            "schema": {
              "type": "string",
              "enum": [
                "1h",
                "6h",
                "24h",
                "7d",
                "30d"
              ],
              "default": "24h"
            },
            "description": "时间范围"
          }
        ],
        "responses": {
          "200": {
            "description": "导出性能报告成功"
          }
        }
      }
    },
    "/api/ai-query/chat": {
      "post": {
        "summary": "AI查询聊天接口",
        "description": "AI中心查询页面专用的聊天窗口接口，支持自然语言查询和AI问答",
        "tags": [
          "AI查询"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "message"
                ],
                "properties": {
                  "message": {
                    "type": "string",
                    "description": "自然语言查询内容",
                    "example": "查询所有学生的基本信息"
                  },
                  "userId": {
                    "type": "integer",
                    "description": "用户ID",
                    "example": 121
                  },
                  "sessionId": {
                    "type": "string",
                    "description": "会话ID",
                    "example": "uuid-string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "查询成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "response": {
                          "type": "string",
                          "description": "AI回复内容"
                        },
                        "queryResult": {
                          "type": "array",
                          "description": "查询结果数据"
                        },
                        "sessionId": {
                          "type": "string",
                          "description": "会话ID"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/ai/query": {
      "post": {
        "summary": "AI智能查询接口",
        "description": "前端AI中心调用的主要查询接口，支持自然语言查询",
        "tags": [
          "AI查询"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "message"
                ],
                "properties": {
                  "message": {
                    "type": "string",
                    "description": "自然语言查询内容",
                    "example": "统计本月活动参与人数最多的前5个活动"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "查询成功"
          },
          "400": {
            "description": "请求参数错误"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/ai-query/execute": {
      "post": {
        "summary": "执行AI查询",
        "description": "执行AI生成的数据库查询",
        "tags": [
          "AI查询"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "查询执行成功"
          },
          "429": {
            "description": "请求过于频繁"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/ai-query/history": {
      "get": {
        "summary": "获取查询历史",
        "description": "获取当前用户的AI查询历史记录，支持分页和类型筛选",
        "tags": [
          "AI查询"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "description": "页码",
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "description": "每页条数",
            "schema": {
              "type": "integer",
              "default": 20
            }
          },
          {
            "name": "queryType",
            "in": "query",
            "description": "查询类型筛选",
            "schema": {
              "type": "string",
              "enum": [
                "data_query",
                "ai_response"
              ]
            }
          }
        ]
      }
    },
    "/api/ai-query/feedback": {
      "post": {
        "summary": "提交查询反馈",
        "description": "对AI查询结果提交用户反馈",
        "tags": [
          "AI查询"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/ai-query/templates": {
      "get": {
        "summary": "获取查询模板",
        "description": "获取预定义的查询模板列表",
        "tags": [
          "AI查询"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/ai-query/suggestions": {
      "get": {
        "summary": "获取查询建议",
        "description": "根据用户角色获取推荐的查询建议",
        "tags": [
          "AI查询"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/ai-query/statistics": {
      "get": {
        "summary": "获取查询统计",
        "description": "获取AI查询系统的使用统计信息",
        "tags": [
          "AI查询"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/ai-query/{id}": {
      "get": {
        "summary": "获取查询详情",
        "description": "获取指定查询记录的详细信息",
        "tags": [
          "AI查询"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/ai-query/{id}/re-execute": {
      "post": {
        "summary": "重新执行查询",
        "description": "重新执行指定的查询记录",
        "tags": [
          "AI查询"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/ai-query/{id}/export": {
      "get": {
        "summary": "导出查询结果",
        "description": "将查询结果导出为指定格式的文件",
        "tags": [
          "AI查询"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/ai-query/cache/cleanup": {
      "post": {
        "summary": "清理查询缓存",
        "description": "清理过期的查询缓存数据",
        "tags": [
          "AI查询管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/ai-shortcuts": {
      "get": {
        "summary": "获取AI快捷操作列表",
        "description": "获取AI快捷操作配置列表，支持角色过滤、分页和搜索",
        "tags": [
          "AI快捷操作"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "role",
            "in": "query",
            "description": "角色过滤",
            "schema": {
              "type": "string",
              "enum": [
                "principal",
                "admin",
                "teacher",
                "all"
              ]
            }
          },
          {
            "name": "category",
            "in": "query",
            "description": "类别过滤",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "is_active",
            "in": "query",
            "description": "状态过滤",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "页码",
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "description": "每页条数",
            "schema": {
              "type": "integer",
              "default": 20
            }
          },
          {
            "name": "search",
            "in": "query",
            "description": "搜索关键词",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      },
      "post": {
        "summary": "创建AI快捷操作",
        "description": "创建新的AI快捷操作配置",
        "tags": [
          "AI快捷操作"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "shortcut_name",
                  "prompt_name",
                  "category",
                  "system_prompt",
                  "api_endpoint"
                ],
                "properties": {
                  "shortcut_name": {
                    "type": "string",
                    "description": "快捷按钮显示名称"
                  },
                  "prompt_name": {
                    "type": "string",
                    "description": "提示词标识名称"
                  },
                  "category": {
                    "type": "string",
                    "enum": [
                      "enrollment_planning",
                      "activity_planning",
                      "progress_analysis",
                      "follow_up_reminder",
                      "conversion_monitoring",
                      "age_reminder",
                      "task_management",
                      "comprehensive_analysis"
                    ],
                    "description": "功能类别"
                  },
                  "role": {
                    "type": "string",
                    "enum": [
                      "principal",
                      "admin",
                      "teacher",
                      "all"
                    ],
                    "default": "all",
                    "description": "适用角色"
                  },
                  "system_prompt": {
                    "type": "string",
                    "description": "系统提示词内容"
                  },
                  "api_endpoint": {
                    "type": "string",
                    "enum": [
                      "ai_chat",
                      "ai_query"
                    ],
                    "description": "API接口类型"
                  },
                  "is_active": {
                    "type": "boolean",
                    "default": true,
                    "description": "是否启用"
                  },
                  "sort_order": {
                    "type": "integer",
                    "default": 0,
                    "description": "排序权重"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "创建成功"
          },
          "400": {
            "description": "参数错误"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/ai-shortcuts/user": {
      "get": {
        "summary": "获取用户可用的快捷操作",
        "description": "根据用户角色获取可用的AI快捷操作",
        "tags": [
          "AI快捷操作"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/ai-shortcuts/{id}": {
      "get": {
        "summary": "获取AI快捷操作详情",
        "description": "根据ID获取AI快捷操作的详细信息",
        "tags": [
          "AI快捷操作"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "快捷操作ID",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "404": {
            "description": "记录不存在"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      },
      "put": {
        "summary": "更新AI快捷操作",
        "description": "更新指定的AI快捷操作配置",
        "tags": [
          "AI快捷操作"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "快捷操作ID",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "shortcut_name": {
                    "type": "string"
                  },
                  "prompt_name": {
                    "type": "string"
                  },
                  "category": {
                    "type": "string"
                  },
                  "role": {
                    "type": "string"
                  },
                  "system_prompt": {
                    "type": "string"
                  },
                  "api_endpoint": {
                    "type": "string"
                  },
                  "is_active": {
                    "type": "boolean"
                  },
                  "sort_order": {
                    "type": "integer"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新成功"
          },
          "400": {
            "description": "参数错误"
          },
          "404": {
            "description": "记录不存在"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      },
      "delete": {
        "summary": "删除AI快捷操作",
        "description": "软删除指定的AI快捷操作",
        "tags": [
          "AI快捷操作"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "快捷操作ID",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功"
          },
          "404": {
            "description": "记录不存在"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/ai-shortcuts/{id}/config": {
      "get": {
        "summary": "获取快捷操作配置",
        "description": "获取用于AI调用的快捷操作配置信息",
        "tags": [
          "AI快捷操作"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "快捷操作ID",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "404": {
            "description": "记录不存在或无权限"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/ai-shortcuts/batch/delete": {
      "post": {
        "summary": "批量删除AI快捷操作",
        "description": "批量软删除AI快捷操作",
        "tags": [
          "AI快捷操作"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "ids"
                ],
                "properties": {
                  "ids": {
                    "type": "array",
                    "items": {
                      "type": "integer"
                    },
                    "description": "要删除的ID列表"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "批量删除成功"
          },
          "400": {
            "description": "参数错误"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/ai-shortcuts/sort": {
      "put": {
        "summary": "更新排序顺序",
        "description": "批量更新AI快捷操作的排序顺序",
        "tags": [
          "AI快捷操作"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "sortData"
                ],
                "properties": {
                  "sortData": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer"
                        },
                        "sort_order": {
                          "type": "integer"
                        }
                      }
                    },
                    "description": "排序数据"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新排序成功"
          },
          "400": {
            "description": "参数错误"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/ai-smart-assign/smart-assign": {
      "post": {
        "summary": "AI智能分配客户",
        "description": "使用AI算法智能分配客户给教师",
        "tags": [
          "AI智能分配"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "分配成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/ai-smart-assign/batch-assign": {
      "post": {
        "summary": "执行批量分配",
        "description": "批量分配多个客户给教师",
        "tags": [
          "AI智能分配"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "批量分配成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/ai-smart-assign/teacher-capacity": {
      "get": {
        "summary": "获取教师能力分析",
        "description": "获取教师的能力分析数据",
        "tags": [
          "AI智能分配"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/ai-stats/overview": {
      "get": {
        "summary": "获取AI中心概览统计",
        "description": "获取AI中心的概览统计数据",
        "tags": [
          "AI统计"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/ai-stats/recent-tasks": {
      "get": {
        "summary": "获取最近的AI任务",
        "description": "获取最近执行的AI任务列表",
        "tags": [
          "AI统计"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/ai-stats/models": {
      "get": {
        "summary": "获取AI模型列表",
        "description": "获取系统中可用的AI模型列表",
        "tags": [
          "AI统计"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/ai-stats/analysis-history": {
      "get": {
        "summary": "获取分析历史",
        "description": "获取AI分析的历史记录",
        "tags": [
          "AI统计"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/ai": {
      "get": {
        "summary": "获取AI模块API信息",
        "description": "返回AI模块的基本信息和可用端点",
        "tags": [
          "AI - 基础信息"
        ],
        "responses": {
          "200": {
            "description": "成功获取AI模块信息",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "AI模块API"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "version": {
                          "type": "string",
                          "example": "1.0.0"
                        },
                        "description": {
                          "type": "string",
                          "example": "幼儿园管理系统AI模块"
                        },
                        "endpoints": {
                          "type": "object",
                          "properties": {
                            "models": {
                              "type": "string",
                              "example": "/models"
                            },
                            "conversations": {
                              "type": "string",
                              "example": "/conversations"
                            },
                            "billing": {
                              "type": "string",
                              "example": "/models/:id/billing"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/ai/models/stats": {
      "get": {
        "summary": "获取AI模型统计信息",
        "description": "获取所有AI模型的使用统计和性能数据",
        "tags": [
          "AI - 模型管理"
        ],
        "responses": {
          "200": {
            "description": "成功获取模型统计信息",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "totalModels": {
                          "type": "integer"
                        },
                        "activeModels": {
                          "type": "integer"
                        },
                        "totalUsage": {
                          "type": "integer"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/ai/models/default": {
      "get": {
        "summary": "获取默认AI模型",
        "description": "获取当前系统设置的默认AI模型配置",
        "tags": [
          "AI - 模型管理"
        ],
        "responses": {
          "200": {
            "description": "成功获取默认模型",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "$ref": "#/components/schemas/AIModel"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "未找到默认模型"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      },
      "post": {
        "summary": "设置默认AI模型",
        "description": "设置系统默认使用的AI模型",
        "tags": [
          "AI - 模型管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "modelId"
                ],
                "properties": {
                  "modelId": {
                    "type": "integer",
                    "description": "要设置为默认的模型ID"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "默认模型设置成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "$ref": "#/components/schemas/AIModel"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "模型不存在"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/ai/models": {
      "get": {
        "summary": "获取所有AI模型",
        "description": "获取系统中配置的所有AI模型列表",
        "tags": [
          "AI - 模型管理"
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "description": "页码",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "每页数量",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取模型列表",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/AIModel"
                      }
                    },
                    "pagination": {
                      "$ref": "#/components/schemas/Pagination"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      },
      "post": {
        "summary": "创建新的AI模型",
        "description": "创建新的AI模型配置（需要管理员权限）",
        "tags": [
          "AI - 模型管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "name",
                  "provider",
                  "modelType"
                ],
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "模型名称"
                  },
                  "provider": {
                    "type": "string",
                    "description": "模型提供商"
                  },
                  "modelType": {
                    "type": "string",
                    "description": "模型类型"
                  },
                  "apiKey": {
                    "type": "string",
                    "description": "API密钥"
                  },
                  "baseUrl": {
                    "type": "string",
                    "description": "基础URL"
                  },
                  "maxTokens": {
                    "type": "integer",
                    "description": "最大令牌数"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "模型创建成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "$ref": "#/components/schemas/AIModel"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/ai/models/{id}": {
      "get": {
        "summary": "根据ID获取AI模型",
        "description": "获取指定ID的AI模型详细信息",
        "tags": [
          "AI - 模型管理"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "模型ID",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取模型信息",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "$ref": "#/components/schemas/AIModel"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "模型不存在"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      },
      "patch": {
        "summary": "更新AI模型",
        "description": "更新指定ID的AI模型配置（需要管理员权限）",
        "tags": [
          "AI - 模型管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "模型ID",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "模型名称"
                  },
                  "provider": {
                    "type": "string",
                    "description": "模型提供商"
                  },
                  "modelType": {
                    "type": "string",
                    "description": "模型类型"
                  },
                  "apiKey": {
                    "type": "string",
                    "description": "API密钥"
                  },
                  "baseUrl": {
                    "type": "string",
                    "description": "基础URL"
                  },
                  "maxTokens": {
                    "type": "integer",
                    "description": "最大令牌数"
                  },
                  "isActive": {
                    "type": "boolean",
                    "description": "是否启用"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "模型更新成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "$ref": "#/components/schemas/AIModel"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "模型不存在"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      },
      "delete": {
        "summary": "删除AI模型",
        "description": "删除指定ID的AI模型（需要管理员权限）",
        "tags": [
          "AI - 模型管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "模型ID",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "模型删除成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "模型不存在"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/ai/models/{id}/capabilities/{capability}": {
      "get": {
        "summary": "检查模型能力",
        "description": "检查指定AI模型是否支持特定能力",
        "tags": [
          "AI - 模型管理"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "模型ID",
            "schema": {
              "type": "integer"
            }
          },
          {
            "name": "capability",
            "in": "path",
            "required": true,
            "description": "能力类型",
            "schema": {
              "type": "string",
              "enum": [
                "text_generation",
                "image_generation",
                "speech_to_text",
                "text_to_speech",
                "translation"
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "成功检查模型能力",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "modelId": {
                          "type": "integer"
                        },
                        "capability": {
                          "type": "string"
                        },
                        "supported": {
                          "type": "boolean"
                        },
                        "details": {
                          "type": "object"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "模型不存在"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/ai/models/{id}/billing": {
      "get": {
        "summary": "获取模型计费规则",
        "description": "获取指定AI模型的计费规则和价格配置",
        "tags": [
          "AI - 计费管理"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "模型ID",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取计费规则",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/BillingRule"
                      }
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "模型不存在"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      },
      "post": {
        "summary": "创建计费规则",
        "description": "为指定AI模型创建新的计费规则（需要管理员权限）",
        "tags": [
          "AI - 计费管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "模型ID",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "billingType",
                  "rate"
                ],
                "properties": {
                  "billingType": {
                    "type": "string",
                    "enum": [
                      "per_token",
                      "per_request",
                      "per_minute"
                    ],
                    "description": "计费类型"
                  },
                  "rate": {
                    "type": "number",
                    "description": "费率"
                  },
                  "currency": {
                    "type": "string",
                    "default": "CNY",
                    "description": "货币类型"
                  },
                  "description": {
                    "type": "string",
                    "description": "规则描述"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "计费规则创建成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "$ref": "#/components/schemas/BillingRule"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "模型不存在"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/ai/conversations": {
      "get": {
        "summary": "获取对话列表",
        "description": "获取当前用户的AI对话列表",
        "tags": [
          "AI - 对话管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "description": "页码",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "每页数量",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 20
            }
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取对话列表",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Conversation"
                      }
                    },
                    "pagination": {
                      "$ref": "#/components/schemas/Pagination"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      },
      "post": {
        "summary": "创建新对话",
        "description": "创建新的AI对话会话",
        "tags": [
          "AI - 对话管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "title"
                ],
                "properties": {
                  "title": {
                    "type": "string",
                    "description": "对话标题"
                  },
                  "modelId": {
                    "type": "integer",
                    "description": "使用的AI模型ID（可选，默认使用系统默认模型）"
                  },
                  "systemPrompt": {
                    "type": "string",
                    "description": "系统提示词"
                  },
                  "context": {
                    "type": "object",
                    "description": "对话上下文信息"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "对话创建成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "$ref": "#/components/schemas/Conversation"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/ai/conversations/{id}": {
      "get": {
        "summary": "获取对话详情",
        "description": "获取指定ID的对话详细信息",
        "tags": [
          "AI - 对话管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "对话ID",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取对话详情",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "$ref": "#/components/schemas/Conversation"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "对话不存在"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      },
      "put": {
        "summary": "更新对话信息",
        "description": "更新指定对话的信息",
        "tags": [
          "AI - 对话管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "对话ID",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "title": {
                    "type": "string",
                    "description": "对话标题"
                  },
                  "systemPrompt": {
                    "type": "string",
                    "description": "系统提示词"
                  },
                  "context": {
                    "type": "object",
                    "description": "对话上下文信息"
                  },
                  "isActive": {
                    "type": "boolean",
                    "description": "是否活跃"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "对话更新成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "$ref": "#/components/schemas/Conversation"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "对话不存在"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      },
      "delete": {
        "summary": "删除对话",
        "description": "删除指定的对话及其所有消息",
        "tags": [
          "AI - 对话管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "对话ID",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "对话删除成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "对话不存在"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/ai/conversations/{id}/messages": {
      "get": {
        "summary": "获取对话消息",
        "description": "获取指定对话的所有消息",
        "tags": [
          "AI - 消息管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "对话ID",
            "schema": {
              "type": "integer"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "页码",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "每页数量",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 50
            }
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取消息列表",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/AIMessage"
                      }
                    },
                    "pagination": {
                      "$ref": "#/components/schemas/Pagination"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "对话不存在"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      },
      "post": {
        "summary": "发送消息",
        "description": "向指定对话发送新消息并获取AI回复",
        "tags": [
          "AI - 消息管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "对话ID",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "content"
                ],
                "properties": {
                  "content": {
                    "type": "string",
                    "description": "消息内容"
                  },
                  "messageType": {
                    "type": "string",
                    "enum": [
                      "text",
                      "image",
                      "file"
                    ],
                    "default": "text",
                    "description": "消息类型"
                  },
                  "attachments": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "url": {
                          "type": "string"
                        },
                        "type": {
                          "type": "string"
                        },
                        "name": {
                          "type": "string"
                        }
                      }
                    },
                    "description": "附件列表"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "消息发送成功，返回用户消息和AI回复",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "userMessage": {
                          "$ref": "#/components/schemas/AIMessage"
                        },
                        "aiResponse": {
                          "$ref": "#/components/schemas/AIMessage"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "对话不存在"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/ai/memories": {
      "get": {
        "summary": "获取AI记忆列表",
        "description": "获取当前用户的AI记忆和偏好信息",
        "tags": [
          "AI - 记忆管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "memoryType",
            "in": "query",
            "description": "记忆类型筛选",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "user_preference",
                "user_interest",
                "conversation_context",
                "system_note"
              ]
            }
          },
          {
            "name": "importance",
            "in": "query",
            "description": "重要性筛选（最小值）",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取记忆列表",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "success"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/AIMemory"
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      },
      "post": {
        "summary": "创建AI记忆",
        "description": "为当前用户创建新的AI记忆条目",
        "tags": [
          "AI - 记忆管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "content",
                  "memoryType"
                ],
                "properties": {
                  "conversationId": {
                    "type": "integer",
                    "description": "关联的对话ID（可选）"
                  },
                  "content": {
                    "type": "string",
                    "description": "记忆内容",
                    "minLength": 1,
                    "maxLength": 1000
                  },
                  "memoryType": {
                    "type": "string",
                    "enum": [
                      "user_preference",
                      "user_interest",
                      "conversation_context",
                      "system_note"
                    ],
                    "description": "记忆类型"
                  },
                  "importance": {
                    "type": "integer",
                    "minimum": 1,
                    "maximum": 10,
                    "default": 5,
                    "description": "重要性等级（1-10）"
                  },
                  "tags": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "标签列表"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "记忆创建成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 201
                    },
                    "message": {
                      "type": "string",
                      "example": "success"
                    },
                    "data": {
                      "$ref": "#/components/schemas/AIMemory"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/ai/predictions": {
      "get": {
        "summary": "获取AI预测分析",
        "description": "获取基于AI分析的幼儿园运营预测数据，包括招生、出勤、活动和资源使用预测",
        "tags": [
          "AI - 预测分析"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "timeRange",
            "in": "query",
            "description": "预测时间范围",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "week",
                "month",
                "quarter",
                "year"
              ],
              "default": "month"
            }
          },
          {
            "name": "category",
            "in": "query",
            "description": "预测类别",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "enrollment",
                "attendance",
                "activities",
                "resources",
                "all"
              ],
              "default": "all"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取AI预测分析",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取AI预测分析成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "enrollment": {
                          "type": "object",
                          "properties": {
                            "nextMonth": {
                              "type": "object",
                              "properties": {
                                "predicted": {
                                  "type": "integer",
                                  "example": 45
                                },
                                "confidence": {
                                  "type": "number",
                                  "format": "float",
                                  "example": 0.85
                                },
                                "trend": {
                                  "type": "string",
                                  "enum": [
                                    "increasing",
                                    "stable",
                                    "decreasing"
                                  ],
                                  "example": "increasing"
                                }
                              }
                            },
                            "nextQuarter": {
                              "type": "object",
                              "properties": {
                                "predicted": {
                                  "type": "integer",
                                  "example": 120
                                },
                                "confidence": {
                                  "type": "number",
                                  "format": "float",
                                  "example": 0.78
                                },
                                "trend": {
                                  "type": "string",
                                  "enum": [
                                    "increasing",
                                    "stable",
                                    "decreasing"
                                  ],
                                  "example": "stable"
                                }
                              }
                            }
                          }
                        },
                        "attendance": {
                          "type": "object",
                          "properties": {
                            "weeklyPrediction": {
                              "type": "array",
                              "items": {
                                "type": "integer"
                              },
                              "example": [
                                92,
                                89,
                                94,
                                91,
                                88
                              ]
                            },
                            "averageRate": {
                              "type": "number",
                              "format": "float",
                              "example": 90.8
                            },
                            "confidence": {
                              "type": "number",
                              "format": "float",
                              "example": 0.82
                            }
                          }
                        },
                        "activities": {
                          "type": "object",
                          "properties": {
                            "participationRate": {
                              "type": "object",
                              "properties": {
                                "predicted": {
                                  "type": "number",
                                  "format": "float",
                                  "example": 87.5
                                },
                                "confidence": {
                                  "type": "number",
                                  "format": "float",
                                  "example": 0.79
                                },
                                "recommendations": {
                                  "type": "array",
                                  "items": {
                                    "type": "string"
                                  },
                                  "example": [
                                    "建议增加户外活动",
                                    "考虑添加科学实验课程"
                                  ]
                                }
                              }
                            }
                          }
                        },
                        "resources": {
                          "type": "object",
                          "properties": {
                            "teacherWorkload": {
                              "type": "object",
                              "properties": {
                                "prediction": {
                                  "type": "string",
                                  "enum": [
                                    "low",
                                    "moderate",
                                    "high"
                                  ],
                                  "example": "moderate"
                                },
                                "confidence": {
                                  "type": "number",
                                  "format": "float",
                                  "example": 0.74
                                },
                                "suggestions": {
                                  "type": "array",
                                  "items": {
                                    "type": "string"
                                  },
                                  "example": [
                                    "合理分配教学任务",
                                    "适当增加助教支持"
                                  ]
                                }
                              }
                            },
                            "facilityUsage": {
                              "type": "object",
                              "properties": {
                                "classrooms": {
                                  "type": "number",
                                  "format": "float",
                                  "example": 0.85
                                },
                                "playground": {
                                  "type": "number",
                                  "format": "float",
                                  "example": 0.72
                                },
                                "library": {
                                  "type": "number",
                                  "format": "float",
                                  "example": 0.45
                                }
                              }
                            }
                          }
                        },
                        "insights": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "type": {
                                "type": "string",
                                "enum": [
                                  "trend",
                                  "alert",
                                  "opportunity"
                                ]
                              },
                              "message": {
                                "type": "string"
                              },
                              "priority": {
                                "type": "string",
                                "enum": [
                                  "low",
                                  "medium",
                                  "high"
                                ]
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/ai/agent/dispatch": {
      "post": {
        "summary": "调度AI智能体",
        "description": "向指定类型的AI智能体发送消息并获取响应",
        "tags": [
          "AI - 智能体调度"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "agentType",
                  "message"
                ],
                "properties": {
                  "agentType": {
                    "type": "string",
                    "enum": [
                      "ACTIVITY_PLANNER",
                      "CONTENT_CREATOR"
                    ],
                    "description": "智能体类型",
                    "example": "ACTIVITY_PLANNER"
                  },
                  "message": {
                    "type": "string",
                    "description": "发送给智能体的消息",
                    "minLength": 1,
                    "maxLength": 1000,
                    "example": "帮我策划一个春季亲子活动"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "智能体响应成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "success"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "agentType": {
                          "type": "string",
                          "example": "ACTIVITY_PLANNER"
                        },
                        "content": {
                          "type": "string",
                          "description": "智能体的响应内容"
                        },
                        "sessionId": {
                          "type": "string",
                          "description": "会话ID",
                          "example": "session_1673445600000_123"
                        },
                        "timestamp": {
                          "type": "string",
                          "format": "date-time",
                          "description": "响应时间戳"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 400
                    },
                    "message": {
                      "type": "string",
                      "example": "agentType and message are required"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 401
                    },
                    "message": {
                      "type": "string",
                      "example": "Unauthorized"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 500
                    },
                    "message": {
                      "type": "string",
                      "example": "智能体调度失败"
                    },
                    "error": {
                      "type": "string",
                      "description": "错误详情"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/ai/generate-activity-image": {
      "post": {
        "summary": "生成活动海报图片",
        "description": "使用AI文生图模型为活动生成海报图片，支持自定义提示词和风格",
        "tags": [
          "AI - 图片生成"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "prompt"
                ],
                "properties": {
                  "prompt": {
                    "type": "string",
                    "description": "图片生成提示词",
                    "example": "3-6岁幼儿园春游活动场景，孩子们在公园里快乐游玩"
                  },
                  "style": {
                    "type": "string",
                    "enum": [
                      "cartoon",
                      "natural",
                      "artistic"
                    ],
                    "default": "cartoon",
                    "description": "图片风格"
                  },
                  "size": {
                    "type": "string",
                    "enum": [
                      "512x512",
                      "1024x1024",
                      "1024x768",
                      "768x1024"
                    ],
                    "default": "1024x768",
                    "description": "图片尺寸"
                  },
                  "category": {
                    "type": "string",
                    "enum": [
                      "activity",
                      "poster",
                      "template",
                      "marketing",
                      "education"
                    ],
                    "default": "activity",
                    "description": "图片分类"
                  },
                  "activityData": {
                    "type": "object",
                    "description": "活动相关数据，用于优化图片生成",
                    "properties": {
                      "title": {
                        "type": "string",
                        "description": "活动标题"
                      },
                      "description": {
                        "type": "string",
                        "description": "活动描述"
                      },
                      "activityType": {
                        "type": "integer",
                        "description": "活动类型"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "图片生成成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "图片生成成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "imageUrl": {
                          "type": "string",
                          "description": "生成的图片URL"
                        },
                        "thumbnailUrl": {
                          "type": "string",
                          "description": "缩略图URL"
                        },
                        "metadata": {
                          "type": "object",
                          "properties": {
                            "prompt": {
                              "type": "string",
                              "description": "使用的提示词"
                            },
                            "style": {
                              "type": "string",
                              "description": "图片风格"
                            },
                            "duration": {
                              "type": "number",
                              "description": "生成耗时(毫秒)"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误"
          },
          "500": {
            "description": "图片生成失败"
          }
        }
      }
    },
    "/api/ai/image-generation-status": {
      "get": {
        "summary": "检查图片生成服务状态",
        "description": "检查文生图服务是否可用",
        "tags": [
          "AI - 图片生成"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "服务状态检查成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "available": {
                      "type": "boolean",
                      "description": "服务是否可用"
                    },
                    "model": {
                      "type": "string",
                      "description": "使用的模型名称"
                    },
                    "error": {
                      "type": "string",
                      "description": "错误信息(如果有)"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api-list": {
      "get": {
        "tags": [
          "API管理"
        ],
        "summary": "获取所有API端点列表",
        "description": "获取系统中所有可用的API端点，按模块分组显示",
        "responses": {
          "200": {
            "description": "成功获取API端点列表",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "total": {
                      "type": "integer",
                      "description": "API端点总数",
                      "example": 155
                    },
                    "modules": {
                      "type": "array",
                      "description": "按模块分组的API端点",
                      "items": {
                        "type": "object",
                        "properties": {
                          "module": {
                            "type": "string",
                            "description": "模块名称",
                            "example": "auth"
                          },
                          "routes": {
                            "type": "array",
                            "description": "该模块的路由列表",
                            "items": {
                              "type": "object",
                              "properties": {
                                "method": {
                                  "type": "string",
                                  "description": "HTTP方法",
                                  "example": "GET"
                                },
                                "path": {
                                  "type": "string",
                                  "description": "路由路径",
                                  "example": "/auth/login"
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "获取API列表失败",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "获取API列表失败"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api-list/{module}": {
      "get": {
        "tags": [
          "API管理"
        ],
        "summary": "获取指定模块的API端点",
        "description": "获取指定模块的所有API端点信息",
        "parameters": [
          {
            "in": "path",
            "name": "module",
            "required": true,
            "description": "模块名称",
            "schema": {
              "type": "string",
              "example": "auth"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取模块API端点列表",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "module": {
                      "type": "string",
                      "description": "模块名称",
                      "example": "auth"
                    },
                    "total": {
                      "type": "integer",
                      "description": "该模块的API端点总数",
                      "example": 8
                    },
                    "routes": {
                      "type": "array",
                      "description": "该模块的路由列表",
                      "items": {
                        "type": "object",
                        "properties": {
                          "method": {
                            "type": "string",
                            "description": "HTTP方法",
                            "example": "POST"
                          },
                          "path": {
                            "type": "string",
                            "description": "路由路径",
                            "example": "/auth/login"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "未找到指定模块",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "未找到模块: auth"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "获取模块API列表失败",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "获取模块API列表失败"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api": {
      "get": {
        "summary": "API基本信息",
        "tags": [
          "API"
        ],
        "responses": {
          "200": {
            "description": "成功返回API基本信息"
          }
        }
      }
    },
    "/api/version": {
      "get": {
        "summary": "获取API版本信息",
        "tags": [
          "API"
        ],
        "responses": {
          "200": {
            "description": "成功返回版本信息"
          }
        }
      }
    },
    "/api/health": {
      "get": {
        "summary": "API健康检查",
        "tags": [
          "API"
        ],
        "responses": {
          "200": {
            "description": "服务健康状态"
          }
        }
      }
    },
    "/api/system/logs": {
      "get": {
        "summary": "获取系统日志列表",
        "tags": [
          "系统日志"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 10
            },
            "description": "每页数量"
          },
          {
            "in": "query",
            "name": "level",
            "schema": {
              "type": "string",
              "enum": [
                "error",
                "warn",
                "info",
                "debug"
              ]
            },
            "description": "日志级别"
          }
        ],
        "responses": {
          "200": {
            "description": "系统日志列表",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "logs": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/SystemLog"
                          }
                        },
                        "total": {
                          "type": "integer"
                        },
                        "page": {
                          "type": "integer"
                        },
                        "limit": {
                          "type": "integer"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/system/logs/{id}": {
      "get": {
        "summary": "获取指定系统日志详情",
        "tags": [
          "系统日志"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "日志ID"
          }
        ],
        "responses": {
          "200": {
            "description": "系统日志详情",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "$ref": "#/components/schemas/SystemLog"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "summary": "删除指定系统日志",
        "tags": [
          "系统日志"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "日志ID"
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/system/logs/batch": {
      "delete": {
        "summary": "批量删除系统日志",
        "tags": [
          "系统日志"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "ids": {
                    "type": "array",
                    "items": {
                      "type": "integer"
                    },
                    "description": "要删除的日志ID数组"
                  }
                },
                "required": [
                  "ids"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "批量删除成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/system/logs/clear": {
      "delete": {
        "summary": "清空所有系统日志",
        "tags": [
          "系统日志"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "清空成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/system/logs/export": {
      "get": {
        "summary": "导出系统日志",
        "tags": [
          "系统日志"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "format",
            "schema": {
              "type": "string",
              "enum": [
                "csv",
                "json"
              ],
              "default": "csv"
            },
            "description": "导出格式"
          },
          {
            "in": "query",
            "name": "level",
            "schema": {
              "type": "string",
              "enum": [
                "error",
                "warn",
                "info",
                "debug"
              ]
            },
            "description": "日志级别过滤"
          }
        ],
        "responses": {
          "200": {
            "description": "导出文件",
            "content": {
              "application/octet-stream": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          }
        }
      }
    },
    "/api/dashboard/stats": {
      "get": {
        "summary": "获取仪表盘统计数据",
        "tags": [
          "Dashboard"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取统计数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "totalStudents": {
                          "type": "integer"
                        },
                        "totalTeachers": {
                          "type": "integer"
                        },
                        "totalClasses": {
                          "type": "integer"
                        },
                        "totalApplications": {
                          "type": "integer"
                        },
                        "userCount": {
                          "type": "number",
                          "description": "用户数量",
                          "example": 10
                        },
                        "kindergartenCount": {
                          "type": "number",
                          "description": "幼儿园数量",
                          "example": 5
                        },
                        "studentCount": {
                          "type": "number",
                          "description": "学生数量",
                          "example": 150
                        },
                        "enrollmentCount": {
                          "type": "number",
                          "description": "招生数量",
                          "example": 25
                        },
                        "activityCount": {
                          "type": "number",
                          "description": "活动数量",
                          "example": 8
                        },
                        "teacherCount": {
                          "type": "number",
                          "description": "教师数量",
                          "example": 35
                        },
                        "classCount": {
                          "type": "number",
                          "description": "班级数量",
                          "example": 12
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "获取仪表盘统计数据成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        },
        "description": "获取简化的仪表盘统计数据，包括用户、幼儿园、学生、招生、活动等数量统计"
      }
    },
    "/api/dashboard/todos": {
      "get": {
        "summary": "获取待办事项",
        "tags": [
          "Dashboard"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取待办事项",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Todo",
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "number"
                          },
                          "title": {
                            "type": "string"
                          },
                          "description": {
                            "type": "string"
                          },
                          "status": {
                            "type": "string",
                            "enum": [
                              "pending",
                              "completed"
                            ]
                          },
                          "priority": {
                            "type": "string",
                            "enum": [
                              "low",
                              "medium",
                              "high"
                            ]
                          },
                          "dueDate": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "createdAt": {
                            "type": "string",
                            "format": "date-time"
                          }
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "获取待办事项成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        },
        "description": "获取当前用户的待办事项列表"
      },
      "post": {
        "summary": "创建待办事项",
        "tags": [
          "Dashboard"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "title": {
                    "type": "string",
                    "description": "待办事项标题",
                    "example": "完成月度报告"
                  },
                  "description": {
                    "type": "string",
                    "description": "待办事项描述",
                    "example": "编写和提交月度工作报告"
                  },
                  "priority": {
                    "type": "string",
                    "enum": [
                      "low",
                      "medium",
                      "high"
                    ],
                    "description": "优先级",
                    "example": "high"
                  },
                  "dueDate": {
                    "type": "string",
                    "format": "date-time",
                    "description": "截止日期",
                    "example": "2025-07-20T18:00:00Z"
                  }
                },
                "required": [
                  "title"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "成功创建待办事项",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/Todo",
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "number"
                        },
                        "title": {
                          "type": "string"
                        },
                        "description": {
                          "type": "string"
                        },
                        "priority": {
                          "type": "string"
                        },
                        "status": {
                          "type": "string"
                        },
                        "dueDate": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "createdAt": {
                          "type": "string",
                          "format": "date-time"
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "创建待办事项成功"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        },
        "description": "创建新的待办事项"
      }
    },
    "/api/dashboard/todos/{id}/status": {
      "patch": {
        "summary": "更新待办事项状态",
        "tags": [
          "Dashboard"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "待办事项ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "status": {
                    "type": "string",
                    "enum": [
                      "pending",
                      "completed",
                      "completed"
                    ],
                    "description": "新的状态",
                    "example": "completed"
                  }
                },
                "required": [
                  "status"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "成功更新状态",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/Todo",
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "number"
                        },
                        "status": {
                          "type": "string"
                        },
                        "updatedAt": {
                          "type": "string",
                          "format": "date-time"
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "更新待办事项状态成功"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "待办事项不存在"
          },
          "500": {
            "description": "服务器错误"
          }
        },
        "description": "更新指定待办事项的状态"
      }
    },
    "/api/dashboard/todos/{id}": {
      "delete": {
        "summary": "删除待办事项",
        "tags": [
          "Dashboard"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "待办事项ID"
          }
        ],
        "responses": {
          "200": {
            "description": "成功删除待办事项",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "删除待办事项成功"
                    },
                    "data": {
                      "type": null
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "待办事项不存在"
          },
          "500": {
            "description": "服务器错误"
          }
        },
        "description": "删除指定的待办事项"
      }
    },
    "/api/dashboard/schedule": {
      "get": {
        "summary": "获取园长日程安排",
        "tags": [
          "Dashboard"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "date",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "查询日期"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取日程安排",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "items": {
                        "$ref": "#/components/schemas/Schedule"
                      },
                      "properties": {
                        "todoItems": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "number"
                              },
                              "title": {
                                "type": "string"
                              },
                              "dueDate": {
                                "type": "string",
                                "format": "date-time"
                              },
                              "priority": {
                                "type": "string",
                                "enum": [
                                  "HIGH",
                                  "MEDIUM",
                                  "LOW"
                                ]
                              }
                            }
                          }
                        },
                        "schedules": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "number"
                              },
                              "title": {
                                "type": "string"
                              },
                              "startTime": {
                                "type": "string",
                                "format": "date-time"
                              },
                              "endTime": {
                                "type": "string",
                                "format": "date-time"
                              },
                              "location": {
                                "type": "string"
                              },
                              "attendees": {
                                "type": "array",
                                "items": {
                                  "type": "string"
                                }
                              }
                            }
                          }
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "获取日程安排成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        },
        "description": "获取园长的日程安排和待办事项"
      },
      "post": {
        "summary": "创建日程安排",
        "tags": [
          "仪表盘"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "title": {
                    "type": "string",
                    "description": "日程标题"
                  },
                  "description": {
                    "type": "string",
                    "description": "日程描述"
                  },
                  "startTime": {
                    "type": "string",
                    "format": "date-time",
                    "description": "开始时间"
                  },
                  "endTime": {
                    "type": "string",
                    "format": "date-time",
                    "description": "结束时间"
                  },
                  "type": {
                    "type": "string",
                    "enum": [
                      "meeting",
                      "class",
                      "event",
                      "activity"
                    ],
                    "description": "日程类型"
                  }
                },
                "required": [
                  "title",
                  "startTime",
                  "endTime"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "创建成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "$ref": "#/components/schemas/Schedule"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/dashboard/classes": {
      "get": {
        "summary": "获取班级概览",
        "tags": [
          "Dashboard"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取班级概览",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "number"
                          },
                          "name": {
                            "type": "string"
                          },
                          "teacherName": {
                            "type": "string"
                          },
                          "studentCount": {
                            "type": "integer"
                          },
                          "capacity": {
                            "type": "number"
                          },
                          "type": {
                            "type": "string"
                          },
                          "currentStudents": {
                            "type": "number"
                          },
                          "teacher": {
                            "type": "string"
                          },
                          "room": {
                            "type": "string"
                          }
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "获取班级概览成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        },
        "description": "获取班级的概览信息和统计数据"
      }
    },
    "/api/campus/overview": {
      "get": {
        "summary": "获取校园概览",
        "tags": [
          "仪表盘"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "校园概览数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "totalStudents": {
                          "type": "integer"
                        },
                        "totalTeachers": {
                          "type": "integer"
                        },
                        "totalClasses": {
                          "type": "integer"
                        },
                        "occupancyRate": {
                          "type": "number",
                          "format": "float"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/dashboard/class-create": {
      "get": {
        "summary": "获取班级创建相关数据",
        "tags": [
          "Dashboard"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取班级创建数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "availableTeachers": {
                          "type": "array",
                          "description": "可用教师列表"
                        },
                        "classTypes": {
                          "type": "array",
                          "description": "班级类型列表"
                        },
                        "availableRooms": {
                          "type": "array",
                          "description": "可用教室列表"
                        },
                        "classTemplates": {
                          "type": "array",
                          "description": "班级模板列表"
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "获取班级创建仪表板数据成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        },
        "description": "获取创建班级所需的数据，包括可用教师、班级类型、教室等"
      }
    },
    "/api/dashboard/class-detail/{id}": {
      "get": {
        "summary": "获取班级详情数据",
        "tags": [
          "Dashboard"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "班级ID（可选，默认为1）"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取班级详情数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "classInfo": {
                          "type": "object",
                          "description": "班级基本信息"
                        },
                        "attendanceStats": {
                          "type": "object",
                          "description": "出勤统计"
                        },
                        "activities": {
                          "type": "array",
                          "description": "活动列表"
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "获取班级详情仪表板数据成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        },
        "description": "根据班级ID获取班级详细信息和统计数据"
      }
    },
    "/api/dashboard/class-list": {
      "get": {
        "summary": "获取班级列表数据",
        "tags": [
          "Dashboard"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取班级列表数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "classes": {
                          "type": "array",
                          "description": "班级列表"
                        },
                        "summary": {
                          "type": "object",
                          "description": "班级统计摘要"
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "获取班级列表仪表板数据成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        },
        "description": "获取所有班级的列表和统计信息"
      }
    },
    "/api/dashboard/custom-layout": {
      "get": {
        "summary": "获取自定义布局仪表板数据",
        "tags": [
          "Dashboard"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取自定义布局数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "description": "自定义布局数据"
                    },
                    "message": {
                      "type": "string",
                      "example": "获取自定义布局数据成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        },
        "description": "获取用户自定义布局的仪表板数据"
      }
    },
    "/api/dashboard/data-statistics": {
      "get": {
        "summary": "获取数据统计",
        "tags": [
          "Dashboard"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取数据统计",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "studentStats": {
                          "type": "object"
                        },
                        "teacherStats": {
                          "type": "object"
                        },
                        "classStats": {
                          "type": "object"
                        },
                        "applicationStats": {
                          "type": "object"
                        }
                      },
                      "description": "数据统计信息"
                    },
                    "message": {
                      "type": "string",
                      "example": "获取数据统计成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        },
        "description": "获取系统数据统计信息"
      }
    },
    "/api/principal/dashboard-stats": {
      "get": {
        "summary": "获取园长仪表盘统计",
        "tags": [
          "园长功能"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "园长仪表盘统计数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "totalStudents": {
                          "type": "integer"
                        },
                        "totalTeachers": {
                          "type": "integer"
                        },
                        "totalClasses": {
                          "type": "integer"
                        },
                        "enrollmentRate": {
                          "type": "number",
                          "format": "float"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/principal/activities": {
      "get": {
        "summary": "获取园长活动列表",
        "tags": [
          "园长功能"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "活动列表",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Activity"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/applications": {
      "get": {
        "summary": "获取申请列表",
        "tags": [
          "申请管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 10
            },
            "description": "每页数量"
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string",
              "enum": [
                "pending",
                "approved",
                "rejected"
              ]
            },
            "description": "申请状态"
          }
        ],
        "responses": {
          "200": {
            "description": "申请列表",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "applications": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/EnrollmentApplication"
                          }
                        },
                        "total": {
                          "type": "integer"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "summary": "创建新申请",
        "tags": [
          "申请管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "studentName": {
                    "type": "string",
                    "description": "学生姓名"
                  },
                  "parentName": {
                    "type": "string",
                    "description": "家长姓名"
                  },
                  "phone": {
                    "type": "string",
                    "description": "联系电话"
                  },
                  "enrollmentPlanId": {
                    "type": "integer",
                    "description": "报名计划ID"
                  },
                  "notes": {
                    "type": "string",
                    "description": "备注"
                  }
                },
                "required": [
                  "studentName",
                  "parentName",
                  "phone",
                  "enrollmentPlanId"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "创建成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "$ref": "#/components/schemas/EnrollmentApplication"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/applications/{id}/status": {
      "patch": {
        "summary": "更新申请状态",
        "tags": [
          "申请管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "申请ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "status": {
                    "type": "string",
                    "enum": [
                      "pending",
                      "approved",
                      "rejected"
                    ],
                    "description": "新状态"
                  },
                  "notes": {
                    "type": "string",
                    "description": "处理备注"
                  }
                },
                "required": [
                  "status"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "$ref": "#/components/schemas/EnrollmentApplication"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/applications/{id}": {
      "delete": {
        "summary": "删除申请",
        "tags": [
          "申请管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "申请ID"
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/quotas": {
      "get": {
        "summary": "获取配额列表",
        "tags": [
          "配额管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "配额列表",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer"
                          },
                          "className": {
                            "type": "string"
                          },
                          "totalQuota": {
                            "type": "integer"
                          },
                          "usedQuota": {
                            "type": "integer"
                          },
                          "availableQuota": {
                            "type": "integer"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "summary": "创建配额",
        "tags": [
          "配额管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "classId": {
                    "type": "integer",
                    "description": "班级ID"
                  },
                  "quota": {
                    "type": "integer",
                    "description": "配额数量"
                  },
                  "academicYear": {
                    "type": "string",
                    "description": "学年"
                  }
                },
                "required": [
                  "classId",
                  "quota",
                  "academicYear"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "创建成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/quotas/{id}": {
      "put": {
        "summary": "更新配额",
        "tags": [
          "配额管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "配额ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "quota": {
                    "type": "integer",
                    "description": "新配额数量"
                  },
                  "academicYear": {
                    "type": "string",
                    "description": "学年"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "summary": "删除配额",
        "tags": [
          "配额管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "配额ID"
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/marketing/analysis": {
      "get": {
        "summary": "获取营销分析数据",
        "tags": [
          "营销分析"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "开始日期"
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "结束日期"
          }
        ],
        "responses": {
          "200": {
            "description": "营销分析数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "campaigns": {
                          "type": "array",
                          "items": {
                            "type": "object"
                          }
                        },
                        "conversions": {
                          "type": "object"
                        },
                        "metrics": {
                          "type": "object"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/marketing/roi": {
      "get": {
        "summary": "获取营销ROI分析",
        "tags": [
          "营销分析"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "campaignId",
            "schema": {
              "type": "integer"
            },
            "description": "营销活动ID"
          },
          {
            "in": "query",
            "name": "period",
            "schema": {
              "type": "string",
              "enum": [
                "week",
                "month",
                "quarter",
                "year"
              ]
            },
            "description": "分析周期"
          }
        ],
        "responses": {
          "200": {
            "description": "ROI分析数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "roi": {
                          "type": "number",
                          "format": "float"
                        },
                        "cost": {
                          "type": "number",
                          "format": "float"
                        },
                        "revenue": {
                          "type": "number",
                          "format": "float"
                        },
                        "conversions": {
                          "type": "integer"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/posters/upload": {
      "post": {
        "summary": "上传海报图片",
        "tags": [
          "文件上传"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "file": {
                    "type": "string",
                    "format": "binary",
                    "description": "要上传的图片文件"
                  }
                },
                "required": [
                  "file"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "上传成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "fileName": {
                          "type": "string"
                        },
                        "url": {
                          "type": "string"
                        },
                        "size": {
                          "type": "integer"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "上传失败",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/assessment-admin/configs": {
      "get": {
        "summary": "获取测评配置列表",
        "tags": [
          "测评系统管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "description": "页码",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "required": false,
            "description": "每页数量",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 20
            }
          },
          {
            "name": "status",
            "in": "query",
            "required": false,
            "description": "配置状态过滤",
            "schema": {
              "type": "string",
              "enum": [
                "active",
                "inactive"
              ],
              "example": "active"
            }
          },
          {
            "name": "keyword",
            "in": "query",
            "required": false,
            "description": "关键词搜索（名称、描述）",
            "schema": {
              "type": "string",
              "example": "综合测评"
            }
          },
          {
            "name": "sortBy",
            "in": "query",
            "required": false,
            "description": "排序字段",
            "schema": {
              "type": "string",
              "enum": [
                "createdAt",
                "updatedAt",
                "name"
              ],
              "default": "createdAt"
            }
          },
          {
            "name": "sortOrder",
            "in": "query",
            "required": false,
            "description": "排序方向",
            "schema": {
              "type": "string",
              "enum": [
                "asc",
                "desc"
              ],
              "default": "DESC"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取测评配置列表成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "configs": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/AssessmentConfig"
                          }
                        },
                        "pagination": {
                          "type": "object",
                          "properties": {
                            "page": {
                              "type": "integer",
                              "example": 1
                            },
                            "pageSize": {
                              "type": "integer",
                              "example": 20
                            },
                            "total": {
                              "type": "integer",
                              "example": 15
                            },
                            "totalPages": {
                              "type": "integer",
                              "example": 1
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "$ref": "#/components/responses/AdminOnlyError"
          }
        }
      },
      "post": {
        "summary": "创建测评配置",
        "tags": [
          "测评系统管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "name",
                  "minAge",
                  "maxAge",
                  "dimensions"
                ],
                "properties": {
                  "name": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 100,
                    "description": "测评配置名称",
                    "example": "幼儿发展综合测评"
                  },
                  "description": {
                    "type": "string",
                    "description": "测评配置描述",
                    "example": "针对3-6岁幼儿的综合发展能力测评，包含六大维度"
                  },
                  "minAge": {
                    "type": "integer",
                    "minimum": 0,
                    "maximum": 216,
                    "description": "最小年龄（月）",
                    "example": 36
                  },
                  "maxAge": {
                    "type": "integer",
                    "minimum": 0,
                    "maximum": 216,
                    "description": "最大年龄（月）",
                    "example": 72
                  },
                  "dimensions": {
                    "type": "array",
                    "minItems": 1,
                    "maxItems": 10,
                    "items": {
                      "type": "object",
                      "required": [
                        "name",
                        "code",
                        "weight"
                      ],
                      "properties": {
                        "name": {
                          "type": "string",
                          "description": "维度名称",
                          "example": "注意力"
                        },
                        "code": {
                          "type": "string",
                          "pattern": "^[a-z_]+$",
                          "description": "维度代码",
                          "example": "attention"
                        },
                        "weight": {
                          "type": "number",
                          "minimum": 0,
                          "maximum": 1,
                          "description": "权重（0-1）",
                          "example": 0.2
                        },
                        "description": {
                          "type": "string",
                          "description": "维度描述",
                          "example": "测试幼儿的注意力和集中能力"
                        }
                      }
                    },
                    "description": "测评维度配置",
                    "example": [
                      {
                        "name": "注意力",
                        "code": "attention",
                        "weight": 0.2,
                        "description": "测试幼儿的注意力和集中能力"
                      },
                      {
                        "name": "记忆力",
                        "code": "memory",
                        "weight": 0.2,
                        "description": "测试幼儿的记忆和回想能力"
                      }
                    ]
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "active",
                      "inactive"
                    ],
                    "description": "配置状态",
                    "default": "active",
                    "example": "active"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "创建测评配置成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "测评配置创建成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/AssessmentConfig"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "配置名称不能为空，维度权重总和必须等于1"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "$ref": "#/components/responses/AdminOnlyError"
          }
        }
      }
    },
    "/api/assessment-admin/configs/{id}": {
      "put": {
        "summary": "更新测评配置",
        "tags": [
          "测评系统管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AssessmentConfigId"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 100,
                    "description": "测评配置名称",
                    "example": "更新后的幼儿发展综合测评"
                  },
                  "description": {
                    "type": "string",
                    "description": "测评配置描述",
                    "example": "更新后的测评描述"
                  },
                  "minAge": {
                    "type": "integer",
                    "minimum": 0,
                    "maximum": 216,
                    "description": "最小年龄（月）",
                    "example": 36
                  },
                  "maxAge": {
                    "type": "integer",
                    "minimum": 0,
                    "maximum": 216,
                    "description": "最大年龄（月）",
                    "example": 72
                  },
                  "dimensions": {
                    "type": "array",
                    "minItems": 1,
                    "maxItems": 10,
                    "items": {
                      "type": "object",
                      "required": [
                        "name",
                        "code",
                        "weight"
                      ],
                      "properties": {
                        "name": {
                          "type": "string",
                          "example": "注意力"
                        },
                        "code": {
                          "type": "string",
                          "pattern": "^[a-z_]+$",
                          "example": "attention"
                        },
                        "weight": {
                          "type": "number",
                          "minimum": 0,
                          "maximum": 1,
                          "example": 0.2
                        },
                        "description": {
                          "type": "string",
                          "example": "测试幼儿的注意力和集中能力"
                        }
                      }
                    },
                    "description": "测评维度配置"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "active",
                      "inactive"
                    ],
                    "description": "配置状态",
                    "example": "active"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新测评配置成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "测评配置更新成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/AssessmentConfig"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "配置名称不能为空，维度权重总和必须等于1"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "$ref": "#/components/responses/AdminOnlyError"
          },
          "404": {
            "$ref": "#/components/responses/AssessmentConfigNotFound"
          }
        }
      }
    },
    "/api/assessment-admin/questions": {
      "get": {
        "summary": "获取题目列表",
        "tags": [
          "测评系统管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "description": "页码",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "required": false,
            "description": "每页数量",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 20
            }
          },
          {
            "name": "configId",
            "in": "query",
            "required": false,
            "description": "测评配置ID过滤",
            "schema": {
              "type": "integer",
              "example": 1
            }
          },
          {
            "name": "dimension",
            "in": "query",
            "required": false,
            "description": "维度过滤",
            "schema": {
              "type": "string",
              "enum": [
                "attention",
                "memory",
                "logic",
                "language",
                "motor",
                "social"
              ],
              "example": "attention"
            }
          },
          {
            "name": "questionType",
            "in": "query",
            "required": false,
            "description": "题目类型过滤",
            "schema": {
              "type": "string",
              "enum": [
                "qa",
                "game",
                "interactive"
              ],
              "example": "qa"
            }
          },
          {
            "name": "ageGroup",
            "in": "query",
            "required": false,
            "description": "年龄组过滤",
            "schema": {
              "type": "string",
              "example": "3-4岁"
            }
          },
          {
            "name": "status",
            "in": "query",
            "required": false,
            "description": "题目状态过滤",
            "schema": {
              "type": "string",
              "enum": [
                "active",
                "inactive"
              ],
              "example": "active"
            }
          },
          {
            "name": "keyword",
            "in": "query",
            "required": false,
            "description": "关键词搜索（标题、内容）",
            "schema": {
              "type": "string",
              "example": "苹果"
            }
          },
          {
            "name": "sortBy",
            "in": "query",
            "required": false,
            "description": "排序字段",
            "schema": {
              "type": "string",
              "enum": [
                "createdAt",
                "updatedAt",
                "sortOrder",
                "difficulty",
                "title"
              ],
              "default": "sortOrder"
            }
          },
          {
            "name": "sortOrder",
            "in": "query",
            "required": false,
            "description": "排序方向",
            "schema": {
              "type": "string",
              "enum": [
                "asc",
                "desc"
              ],
              "default": "asc"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取题目列表成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "questions": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/AssessmentQuestion"
                          }
                        },
                        "pagination": {
                          "type": "object",
                          "properties": {
                            "page": {
                              "type": "integer",
                              "example": 1
                            },
                            "pageSize": {
                              "type": "integer",
                              "example": 20
                            },
                            "total": {
                              "type": "integer",
                              "example": 156
                            },
                            "totalPages": {
                              "type": "integer",
                              "example": 8
                            }
                          }
                        },
                        "statistics": {
                          "type": "object",
                          "properties": {
                            "totalCount": {
                              "type": "integer",
                              "example": 156
                            },
                            "dimensionCounts": {
                              "type": "object",
                              "example": {
                                "attention": 45,
                                "memory": 38,
                                "logic": 32,
                                "language": 25,
                                "motor": 8,
                                "social": 8
                              }
                            },
                            "typeCounts": {
                              "type": "object",
                              "example": {
                                "qa": 120,
                                "game": 25,
                                "interactive": 11
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "$ref": "#/components/responses/AdminOnlyError"
          }
        }
      },
      "post": {
        "summary": "创建题目",
        "tags": [
          "测评系统管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "configId",
                  "dimension",
                  "ageGroup",
                  "questionType",
                  "title",
                  "content",
                  "difficulty",
                  "score",
                  "sortOrder"
                ],
                "properties": {
                  "configId": {
                    "type": "integer",
                    "description": "所属测评配置ID",
                    "example": 1
                  },
                  "dimension": {
                    "type": "string",
                    "enum": [
                      "attention",
                      "memory",
                      "logic",
                      "language",
                      "motor",
                      "social"
                    ],
                    "description": "测评维度",
                    "example": "attention"
                  },
                  "ageGroup": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 20,
                    "description": "年龄组",
                    "example": "3-4岁"
                  },
                  "questionType": {
                    "type": "string",
                    "enum": [
                      "qa",
                      "game",
                      "interactive"
                    ],
                    "description": "题目类型",
                    "example": "qa"
                  },
                  "title": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 200,
                    "description": "题目标题",
                    "example": "找出红色的苹果"
                  },
                  "content": {
                    "type": "object",
                    "description": "题目内容（JSON格式）",
                    "example": {
                      "question": "请找出图片中的红色苹果",
                      "options": [
                        {
                          "id": 1,
                          "text": "红色苹果",
                          "correct": true,
                          "imageUrl": "https://example.com/images/red-apple.jpg"
                        },
                        {
                          "id": 2,
                          "text": "黄色香蕉",
                          "correct": false,
                          "imageUrl": "https://example.com/images/yellow-banana.jpg"
                        },
                        {
                          "id": 3,
                          "text": "绿色葡萄",
                          "correct": false,
                          "imageUrl": "https://example.com/images/green-grapes.jpg"
                        }
                      ],
                      "instructions": "点击红色的苹果"
                    },
                    "required": [
                      "question"
                    ]
                  },
                  "gameConfig": {
                    "type": "object",
                    "description": "游戏配置（游戏类型题目）",
                    "example": {
                      "gameType": "drag_drop",
                      "timeLimit": 60,
                      "maxAttempts": 3,
                      "targetZones": [
                        {
                          "x": 100,
                          "y": 100,
                          "width": 50,
                          "height": 50,
                          "correctItem": "red_apple"
                        }
                      ]
                    }
                  },
                  "imageUrl": {
                    "type": "string",
                    "format": "uri",
                    "description": "题目配图URL",
                    "example": "https://example.com/images/apple-question.jpg"
                  },
                  "imagePrompt": {
                    "type": "string",
                    "description": "AI生成图片的提示词",
                    "example": "卡通风格的红色苹果，适合幼儿认知，清晰的背景"
                  },
                  "audioUrl": {
                    "type": "string",
                    "format": "uri",
                    "description": "题目语音播报URL",
                    "example": "https://example.com/audio/question-1.mp3"
                  },
                  "audioText": {
                    "type": "string",
                    "description": "语音播报文本内容",
                    "example": "请找出图片中的红色苹果"
                  },
                  "difficulty": {
                    "type": "number",
                    "minimum": 1,
                    "maximum": 5,
                    "description": "难度等级（1-5）",
                    "example": 2
                  },
                  "score": {
                    "type": "number",
                    "minimum": 0,
                    "description": "题目分值",
                    "example": 10
                  },
                  "sortOrder": {
                    "type": "integer",
                    "minimum": 0,
                    "description": "排序顺序",
                    "example": 1
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "active",
                      "inactive"
                    ],
                    "description": "题目状态",
                    "default": "active",
                    "example": "active"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "创建题目成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "题目创建成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/AssessmentQuestion"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "测评配置不存在或题目内容格式错误"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "$ref": "#/components/responses/AdminOnlyError"
          }
        }
      }
    },
    "/api/assessment-admin/questions/{id}": {
      "put": {
        "summary": "更新题目",
        "tags": [
          "测评系统管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AssessmentQuestionId"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "title": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 200,
                    "description": "题目标题",
                    "example": "更新后的题目标题"
                  },
                  "content": {
                    "type": "object",
                    "description": "题目内容（JSON格式）",
                    "example": {
                      "question": "更新后的题目内容",
                      "options": [
                        {
                          "id": 1,
                          "text": "更新的选项1",
                          "correct": true
                        },
                        {
                          "id": 2,
                          "text": "更新的选项2",
                          "correct": false
                        }
                      ]
                    }
                  },
                  "gameConfig": {
                    "type": "object",
                    "description": "游戏配置",
                    "example": {
                      "gameType": "matching",
                      "timeLimit": 90
                    }
                  },
                  "imageUrl": {
                    "type": "string",
                    "format": "uri",
                    "description": "题目配图URL",
                    "example": "https://example.com/images/updated-question.jpg"
                  },
                  "audioUrl": {
                    "type": "string",
                    "format": "uri",
                    "description": "题目语音播报URL",
                    "example": "https://example.com/audio/updated-question.mp3"
                  },
                  "difficulty": {
                    "type": "number",
                    "minimum": 1,
                    "maximum": 5,
                    "description": "难度等级",
                    "example": 3
                  },
                  "score": {
                    "type": "number",
                    "minimum": 0,
                    "description": "题目分值",
                    "example": 15
                  },
                  "sortOrder": {
                    "type": "integer",
                    "minimum": 0,
                    "description": "排序顺序",
                    "example": 2
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "active",
                      "inactive"
                    ],
                    "description": "题目状态",
                    "example": "active"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新题目成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "题目更新成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/AssessmentQuestion"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "题目内容格式错误"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "$ref": "#/components/responses/AdminOnlyError"
          },
          "404": {
            "$ref": "#/components/responses/AssessmentQuestionNotFound"
          }
        }
      },
      "delete": {
        "summary": "删除题目",
        "tags": [
          "测评系统管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/AssessmentQuestionId"
          }
        ],
        "responses": {
          "200": {
            "description": "删除题目成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "题目删除成功"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "题目已被使用，无法删除",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "该题目已被测评记录使用，无法删除"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "$ref": "#/components/responses/AdminOnlyError"
          },
          "404": {
            "$ref": "#/components/responses/AssessmentQuestionNotFound"
          }
        }
      }
    },
    "/api/assessment-admin/physical-items": {
      "get": {
        "summary": "获取体能训练项目列表",
        "tags": [
          "测评系统管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "description": "页码",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "required": false,
            "description": "每页数量",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 20
            }
          },
          {
            "name": "category",
            "in": "query",
            "required": false,
            "description": "项目类别过滤",
            "schema": {
              "type": "string",
              "enum": [
                "balance",
                "strength",
                "flexibility",
                "coordination",
                "endurance"
              ],
              "example": "balance"
            }
          },
          {
            "name": "difficulty",
            "in": "query",
            "required": false,
            "description": "难度等级过滤",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 5,
              "example": 3
            }
          },
          {
            "name": "ageRange",
            "in": "query",
            "required": false,
            "description": "年龄范围过滤",
            "schema": {
              "type": "string",
              "example": "4-6岁"
            }
          },
          {
            "name": "status",
            "in": "query",
            "required": false,
            "description": "项目状态过滤",
            "schema": {
              "type": "string",
              "enum": [
                "active",
                "inactive"
              ],
              "example": "active"
            }
          },
          {
            "name": "keyword",
            "in": "query",
            "required": false,
            "description": "关键词搜索（名称、描述）",
            "schema": {
              "type": "string",
              "example": "平衡"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取体能训练项目列表成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "items": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/PhysicalItem"
                          }
                        },
                        "pagination": {
                          "type": "object",
                          "properties": {
                            "page": {
                              "type": "integer",
                              "example": 1
                            },
                            "pageSize": {
                              "type": "integer",
                              "example": 20
                            },
                            "total": {
                              "type": "integer",
                              "example": 45
                            },
                            "totalPages": {
                              "type": "integer",
                              "example": 3
                            }
                          }
                        },
                        "statistics": {
                          "type": "object",
                          "properties": {
                            "totalCount": {
                              "type": "integer",
                              "example": 45
                            },
                            "categoryCounts": {
                              "type": "object",
                              "example": {
                                "balance": 12,
                                "strength": 10,
                                "flexibility": 8,
                                "coordination": 9,
                                "endurance": 6
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "$ref": "#/components/responses/AdminOnlyError"
          }
        }
      }
    },
    "/api/assessment-admin/generate-image": {
      "post": {
        "summary": "AI生成题目配图",
        "tags": [
          "测评系统管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "prompt"
                ],
                "properties": {
                  "prompt": {
                    "type": "string",
                    "minLength": 10,
                    "maxLength": 500,
                    "description": "图片生成提示词",
                    "example": "卡通风格的红色苹果，适合幼儿认知，清晰的白色背景，色彩鲜艳"
                  },
                  "style": {
                    "type": "string",
                    "enum": [
                      "cartoon",
                      "realistic",
                      "watercolor",
                      "sketch",
                      "3d_render"
                    ],
                    "description": "图片风格",
                    "default": "cartoon",
                    "example": "cartoon"
                  },
                  "size": {
                    "type": "string",
                    "enum": [
                      "256x256",
                      "512x512",
                      "1024x1024"
                    ],
                    "description": "图片尺寸",
                    "default": "512x512",
                    "example": "512x512"
                  },
                  "ageGroup": {
                    "type": "string",
                    "description": "目标年龄组，用于优化图片内容",
                    "example": "3-4岁"
                  },
                  "questionType": {
                    "type": "string",
                    "enum": [
                      "qa",
                      "game",
                      "interactive"
                    ],
                    "description": "题目类型，用于优化图片风格",
                    "example": "qa"
                  },
                  "dimension": {
                    "type": "string",
                    "enum": [
                      "attention",
                      "memory",
                      "logic",
                      "language",
                      "motor",
                      "social"
                    ],
                    "description": "测评维度，用于优化图片内容",
                    "example": "attention"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "AI图片生成成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "图片生成成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "imageUrl": {
                          "type": "string",
                          "format": "uri",
                          "description": "生成的图片URL",
                          "example": "https://example.com/ai-images/generated-123456.jpg"
                        },
                        "thumbnailUrl": {
                          "type": "string",
                          "format": "uri",
                          "description": "缩略图URL",
                          "example": "https://example.com/ai-images/thumbs/generated-123456.jpg"
                        },
                        "imageId": {
                          "type": "string",
                          "description": "图片ID",
                          "example": "img_123456"
                        },
                        "prompt": {
                          "type": "string",
                          "description": "使用的提示词",
                          "example": "卡通风格的红色苹果，适合幼儿认知"
                        },
                        "style": {
                          "type": "string",
                          "description": "使用的风格",
                          "example": "cartoon"
                        },
                        "size": {
                          "type": "string",
                          "description": "图片尺寸",
                          "example": "512x512"
                        },
                        "generationTime": {
                          "type": "number",
                          "description": "生成耗时（秒）",
                          "example": 2.5
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "提示词不能为空或格式错误"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "402": {
            "description": "AI配额不足",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "AI图片生成配额不足"
                    },
                    "code": {
                      "type": "string",
                      "example": "QUOTA_EXCEEDED"
                    }
                  }
                }
              }
            }
          },
          "429": {
            "description": "请求过于频繁",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "请求过于频繁，请稍后再试"
                    },
                    "retryAfter": {
                      "type": "integer",
                      "example": 30
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "AI服务错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "AI图片生成服务暂时不可用"
                    },
                    "code": {
                      "type": "string",
                      "example": "AI_SERVICE_ERROR"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/assessment-share/share": {
      "post": {
        "summary": "记录分享行为",
        "description": "记录用户分享评估报告的行为，支持匿名分享",
        "tags": [
          "评估分享"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "recordId": {
                    "type": "string",
                    "description": "评估记录ID"
                  },
                  "shareType": {
                    "type": "string",
                    "description": "分享类型 (微信朋友圈/微信群/直接分享)"
                  },
                  "userId": {
                    "type": "integer",
                    "description": "用户ID (可选，支持匿名分享)"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "分享记录成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "分享记录成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "shareId": {
                          "type": "string",
                          "description": "分享记录ID"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/assessment-share/scan": {
      "post": {
        "summary": "记录扫描行为",
        "description": "记录用户扫描分享二维码的行为",
        "tags": [
          "评估分享"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "shareId": {
                    "type": "string",
                    "description": "分享记录ID"
                  },
                  "scanTime": {
                    "type": "string",
                    "description": "扫描时间"
                  },
                  "deviceInfo": {
                    "type": "object",
                    "description": "设备信息"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "扫描记录成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "扫描记录成功"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/assessment-share/stats/{recordId}": {
      "get": {
        "summary": "获取分享统计",
        "description": "获取指定评估记录的分享统计数据",
        "tags": [
          "评估分享"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "recordId",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "评估记录ID"
          }
        ],
        "responses": {
          "200": {
            "description": "获取统计数据成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取统计数据成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "totalShares": {
                          "type": "integer",
                          "description": "总分享次数"
                        },
                        "totalScans": {
                          "type": "integer",
                          "description": "总扫描次数"
                        },
                        "shareChannels": {
                          "type": "object",
                          "description": "各渠道分享统计"
                        },
                        "scanTimeline": {
                          "type": "array",
                          "description": "扫描时间线"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "记录不存在"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/assessment-share/rewards": {
      "get": {
        "summary": "获取用户分享奖励",
        "description": "获取当前用户的分享奖励记录",
        "tags": [
          "评估分享"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 10
            },
            "description": "每页数量"
          }
        ],
        "responses": {
          "200": {
            "description": "获取奖励记录成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取奖励记录成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "total": {
                          "type": "integer",
                          "description": "总记录数"
                        },
                        "page": {
                          "type": "integer",
                          "description": "当前页码"
                        },
                        "limit": {
                          "type": "integer",
                          "description": "每页数量"
                        },
                        "rewards": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "integer"
                              },
                              "rewardType": {
                                "type": "string"
                              },
                              "rewardValue": {
                                "type": "string"
                              },
                              "createdAt": {
                                "type": "string"
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未认证"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/assessment/start": {
      "post": {
        "summary": "开始测评",
        "description": "开始新的幼儿发展评估测评，创建测评记录并返回记录ID。\n\n**测评特点：**\n- 免费开放，无需注册即可开始\n- 基于5大发展领域的科学评估\n- 适合3-6岁幼儿\n- 约25分钟完成\n\n**评估领域：**\n- **认知发展**: 思维、记忆、问题解决能力\n- **身体发展**: 大运动和精细动作\n- **社交发展**: 人际交往和合作能力\n- **情感发展**: 情绪识别和管理能力\n- **语言发展**: 表达和理解能力\n\n**业务场景：**\n- 家长初步了解孩子发展水平\n- 幼儿园招生前的能力评估\n- 定期发展情况跟踪\n- 个性化教育方案制定参考\n",
        "tags": [
          "评估功能"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "childName": {
                    "type": "string",
                    "description": "孩子姓名",
                    "example": "小明"
                  },
                  "childAge": {
                    "type": "integer",
                    "minimum": 3,
                    "maximum": 6,
                    "description": "孩子年龄",
                    "example": 4
                  },
                  "childGender": {
                    "type": "string",
                    "enum": [
                      "male",
                      "female"
                    ],
                    "description": "孩子性别",
                    "example": "male"
                  },
                  "parentName": {
                    "type": "string",
                    "description": "家长姓名",
                    "example": "王先生"
                  },
                  "parentContact": {
                    "type": "string",
                    "description": "联系方式（可选）",
                    "example": "138****5678"
                  },
                  "assessmentType": {
                    "type": "string",
                    "enum": [
                      "comprehensive",
                      "quick",
                      "focused"
                    ],
                    "default": "comprehensive",
                    "description": "测评类型",
                    "example": "comprehensive"
                  }
                },
                "required": [
                  "childName",
                  "childAge",
                  "childGender"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "测评开始成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "recordId": {
                          "type": "string",
                          "format": "uuid",
                          "example": "550e8400-e29b-41d4-a716-446655440000"
                        },
                        "estimatedDuration": {
                          "type": "integer",
                          "description": "预计完成时间（分钟）",
                          "example": 25
                        },
                        "totalQuestions": {
                          "type": "integer",
                          "example": 25
                        },
                        "expiryTime": {
                          "type": "string",
                          "format": "date-time",
                          "description": "测评过期时间",
                          "example": "2023-12-02T10:00:00Z"
                        },
                        "instructions": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          },
                          "example": [
                            "请在安静的环境中进行测评",
                            "根据孩子的实际情况如实回答",
                            "每道题都有时间限制，请及时作答"
                          ]
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "测评已开始，请根据指引进行答题"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/ValidationError"
          },
          "500": {
            "$ref": "#/components/responses/ServerError"
          }
        }
      }
    },
    "/api/assessment/questions": {
      "get": {
        "summary": "获取题目列表",
        "description": "获取测评题目列表，支持按年龄和发展领域筛选。\n\n**题目特点：**\n- 科学设计，符合幼儿发展规律\n- 涵盖5大发展领域\n- 多种题型（选择题、量表题、文本题）\n- 年龄适应性分级\n\n**题目类型：**\n- **选择题**: 单一最佳答案\n- **量表题**: 程度评分（1-4分）\n- **文本题**: 开放性回答\n- **多选题**: 多个正确选项\n\n**业务场景：**\n- 测评过程中获取题目\n- 了解题目内容和要求\n- 预习和准备测评\n- 题目内容审查\n",
        "tags": [
          "评估功能"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "age",
            "schema": {
              "type": "integer",
              "minimum": 3,
              "maximum": 6
            },
            "description": "按年龄筛选题目",
            "example": 4
          },
          {
            "in": "query",
            "name": "category",
            "schema": {
              "type": "string",
              "enum": [
                "cognitive",
                "physical",
                "social",
                "emotional",
                "language"
              ]
            },
            "description": "按发展领域筛选",
            "example": "cognitive"
          },
          {
            "in": "query",
            "name": "difficulty",
            "schema": {
              "type": "string",
              "enum": [
                "easy",
                "medium",
                "hard"
              ]
            },
            "description": "按难度筛选",
            "example": "medium"
          },
          {
            "in": "query",
            "name": "type",
            "schema": {
              "type": "string",
              "enum": [
                "choice",
                "scale",
                "text",
                "multiple"
              ]
            },
            "description": "按题目类型筛选",
            "example": "choice"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 50
            },
            "description": "返回题目数量限制",
            "example": 10
          }
        ],
        "responses": {
          "200": {
            "description": "题目列表获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "questions": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/AssessmentQuestion"
                          }
                        },
                        "total": {
                          "type": "integer",
                          "example": 25
                        },
                        "categories": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          },
                          "example": [
                            "cognitive",
                            "physical",
                            "social",
                            "emotional",
                            "language"
                          ]
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "题目列表获取成功"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/ServerError"
          }
        }
      }
    },
    "/api/assessment/answer": {
      "post": {
        "summary": "提交答案",
        "description": "提交测评答案，支持实时保存和批量提交。\n\n**提交特点：**\n- 支持单题提交和批量提交\n- 自动记录答题时间\n- 实时保存防止数据丢失\n- 支持答案修改\n\n**答案格式：**\n- **选择题**: 选项ID和文本\n- **量表题**: 分数值\n- **文本题**: 文本内容\n- **多选题**: 选项ID数组\n\n**业务场景：**\n- 测评过程中实时保存答案\n- 批量提交已完成题目\n- 修改之前提交的答案\n- 测评进度跟踪\n",
        "tags": [
          "评估功能"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "recordId": {
                    "type": "string",
                    "format": "uuid",
                    "description": "测评记录ID",
                    "example": "550e8400-e29b-41d4-a716-446655440000"
                  },
                  "answers": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/AssessmentAnswer"
                    },
                    "description": "答案列表"
                  },
                  "isComplete": {
                    "type": "boolean",
                    "default": false,
                    "description": "是否完成所有题目",
                    "example": false
                  }
                },
                "required": [
                  "recordId",
                  "answers"
                ]
              },
              "examples": {
                "singleAnswer": {
                  "summary": "单题答案提交",
                  "value": {
                    "recordId": "550e8400-e29b-41d4-a716-446655440000",
                    "answers": [
                      {
                        "questionId": 1,
                        "answer": {
                          "selectedOption": 2,
                          "selectedText": "基本可以"
                        },
                        "timeSpent": 15,
                        "answeredAt": "2023-12-01T10:02:30Z"
                      }
                    ],
                    "isComplete": false
                  }
                },
                "batchAnswers": {
                  "summary": "批量答案提交",
                  "value": {
                    "recordId": "550e8400-e29b-41d4-a716-446655440000",
                    "answers": [
                      {
                        "questionId": 1,
                        "answer": {
                          "selectedOption": 2,
                          "selectedText": "基本可以"
                        },
                        "timeSpent": 15,
                        "answeredAt": "2023-12-01T10:02:30Z"
                      },
                      {
                        "questionId": 2,
                        "answer": {
                          "selectedOption": 3,
                          "selectedText": "需要帮助"
                        },
                        "timeSpent": 12,
                        "answeredAt": "2023-12-01T10:03:15Z"
                      }
                    ],
                    "isComplete": false
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "答案提交成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "savedAnswers": {
                          "type": "integer",
                          "description": "已保存答案数量",
                          "example": 5
                        },
                        "totalQuestions": {
                          "type": "integer",
                          "description": "总题目数",
                          "example": 25
                        },
                        "progress": {
                          "type": "number",
                          "format": "float",
                          "description": "完成进度百分比",
                          "example": 20
                        },
                        "nextQuestionId": {
                          "type": "integer",
                          "description": "下一题ID",
                          "example": 6
                        },
                        "timeRemaining": {
                          "type": "integer",
                          "description": "剩余时间（分钟）",
                          "example": 18
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "答案保存成功"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/ValidationError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "500": {
            "$ref": "#/components/responses/ServerError"
          }
        }
      }
    },
    "/api/assessment/{recordId}/complete": {
      "post": {
        "summary": "完成测评",
        "description": "标记测评为完成状态并生成初步评估结果。\n\n**完成流程：**\n- 验证所有题目是否已回答\n- 计算各领域得分\n- 生成综合评估等级\n- 触发报告生成流程\n\n**评分标准：**\n- **优秀**: 90-100分\n- **良好**: 75-89分\n- **一般**: 60-74分\n- **待提高**: 60分以下\n\n**业务场景：**\n- 用户完成所有题目后提交\n- 系统自动计算和评分\n- 准备生成详细报告\n- 结束测评会话\n",
        "tags": [
          "评估功能"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "recordId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "测评记录ID",
            "example": "550e8400-e29b-41d4-a716-446655440000"
          }
        ],
        "responses": {
          "200": {
            "description": "测评完成成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "recordId": {
                          "type": "string",
                          "format": "uuid",
                          "example": "550e8400-e29b-41d4-a716-446655440000"
                        },
                        "overallScore": {
                          "type": "number",
                          "format": "float",
                          "example": 85.5
                        },
                        "developmentalLevel": {
                          "type": "string",
                          "enum": [
                            "advanced",
                            "on_track",
                            "developing",
                            "needs_support"
                          ],
                          "example": "on_track"
                        },
                        "areaScores": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "area": {
                                "type": "string",
                                "example": "cognitive"
                              },
                              "score": {
                                "type": "number",
                                "format": "float",
                                "example": 88
                              },
                              "level": {
                                "type": "string",
                                "example": "good"
                              }
                            }
                          }
                        },
                        "completedAt": {
                          "type": "string",
                          "format": "date-time",
                          "example": "2023-12-01T10:25:00Z"
                        },
                        "reportReady": {
                          "type": "boolean",
                          "example": true
                        },
                        "reportUrl": {
                          "type": "string",
                          "example": "/api/assessment/report/550e8400-e29b-41d4-a716-446655440000"
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "测评完成，正在生成详细报告"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "测评未完成或存在未回答题目",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "还有题目未回答，无法完成测评"
                    },
                    "code": {
                      "type": "integer",
                      "example": 400
                    }
                  }
                }
              }
            }
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "500": {
            "$ref": "#/components/responses/ServerError"
          }
        }
      }
    },
    "/api/assessment/record/{recordId}": {
      "get": {
        "summary": "获取测评记录",
        "description": "获取指定测评记录的详细信息，包括答题情况、得分和状态。\n\n**记录内容：**\n- 孩子和家长基本信息\n- 测评进度和状态\n- 答题情况统计\n- 初步得分结果\n- 时间记录信息\n\n**业务场景：**\n- 查看测评进度\n- 获取测评结果摘要\n- 验证测评完成状态\n- 准备报告生成或查看\n",
        "tags": [
          "评估功能"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "recordId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "测评记录ID",
            "example": "550e8400-e29b-41d4-a716-446655440000"
          }
        ],
        "responses": {
          "200": {
            "description": "测评记录获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/AssessmentRecord"
                    },
                    "message": {
                      "type": "string",
                      "example": "测评记录获取成功"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "500": {
            "$ref": "#/components/responses/ServerError"
          }
        }
      }
    },
    "/api/assessment/report/{recordId}": {
      "get": {
        "summary": "获取测评报告",
        "description": "获取详细的测评报告，包含各领域分析、发展建议和个性化指导。\n\n**报告内容：**\n- **总体评估**: 综合得分和发展水平\n- **领域分析**: 5大发展领域详细评分\n- **优势分析**: 突出能力和发展亮点\n- **改进建议**: 需要关注的方面和提升建议\n- **活动建议**: 具体的家庭活动推荐\n- **趋势分析**: 与同龄儿童的对比分析\n\n**业务场景：**\n- 家长了解孩子发展情况\n- 制定个性化教育方案\n- 幼儿园招生评估参考\n- 定期发展情况跟踪\n\n**权限说明：**\n- 公开访问，但未注册用户会被引导注册\n- 注册用户可查看完整报告\n- 支持分享和下载功能\n",
        "tags": [
          "评估功能"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "recordId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "测评记录ID",
            "example": "550e8400-e29b-41d4-a716-446655440000"
          },
          {
            "in": "query",
            "name": "format",
            "schema": {
              "type": "string",
              "enum": [
                "json",
                "html",
                "pdf"
              ],
              "default": "json"
            },
            "description": "报告格式",
            "example": "json"
          },
          {
            "in": "query",
            "name": "lang",
            "schema": {
              "type": "string",
              "enum": [
                "zh",
                "en"
              ],
              "default": "zh"
            },
            "description": "报告语言",
            "example": "zh"
          }
        ],
        "responses": {
          "200": {
            "description": "测评报告获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/AssessmentReport"
                    },
                    "message": {
                      "type": "string",
                      "example": "测评报告获取成功"
                    }
                  }
                }
              }
            }
          },
          "402": {
            "description": "需要注册才能查看完整报告",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "需要注册账号才能查看完整报告"
                    },
                    "code": {
                      "type": "integer",
                      "example": 402
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "requiresRegistration": {
                          "type": "boolean",
                          "example": true
                        },
                        "preview": {
                          "type": "object",
                          "description": "报告预览信息"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "测评记录不存在或报告未生成",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "测评报告尚未生成"
                    },
                    "code": {
                      "type": "integer",
                      "example": 404
                    }
                  }
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/ServerError"
          }
        }
      }
    },
    "/api/assessment/my-records": {
      "get": {
        "summary": "获取我的测评记录列表",
        "description": "获取当前用户的所有测评记录，支持分页和筛选。\n\n**列表内容：**\n- 测评基本信息\n- 完成状态和时间\n- 初步得分结果\n- 报告生成状态\n- 分享和导出选项\n\n**业务场景：**\n- 用户查看历史测评记录\n- 测评结果对比分析\n- 报告重新下载\n- 分享测评结果\n\n**权限要求：**\n- 需要用户登录\n- 只能查看自己的记录\n- 支持记录管理操作\n",
        "tags": [
          "评估功能"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            },
            "description": "页码",
            "example": 1
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 50,
              "default": 10
            },
            "description": "每页记录数",
            "example": 10
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string",
              "enum": [
                "in_progress",
                "completed",
                "expired"
              ]
            },
            "description": "按状态筛选",
            "example": "completed"
          },
          {
            "in": "query",
            "name": "childAge",
            "schema": {
              "type": "integer",
              "minimum": 3,
              "maximum": 6
            },
            "description": "按孩子年龄筛选",
            "example": 4
          },
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "description": "开始日期筛选",
            "example": "2023-11-01T00:00:00Z"
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "description": "结束日期筛选",
            "example": "2023-12-31T23:59:59Z"
          }
        ],
        "responses": {
          "200": {
            "description": "测评记录列表获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "records": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/AssessmentRecord"
                          }
                        },
                        "pagination": {
                          "type": "object",
                          "properties": {
                            "page": {
                              "type": "integer",
                              "example": 1
                            },
                            "pageSize": {
                              "type": "integer",
                              "example": 10
                            },
                            "total": {
                              "type": "integer",
                              "example": 15
                            },
                            "totalPages": {
                              "type": "integer",
                              "example": 2
                            }
                          }
                        },
                        "statistics": {
                          "type": "object",
                          "properties": {
                            "totalAssessments": {
                              "type": "integer",
                              "example": 15
                            },
                            "completedAssessments": {
                              "type": "integer",
                              "example": 12
                            },
                            "averageScore": {
                              "type": "number",
                              "format": "float",
                              "example": 82.5
                            },
                            "lastAssessmentDate": {
                              "type": "string",
                              "format": "date-time",
                              "example": "2023-11-28T14:30:00Z"
                            }
                          }
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "测评记录列表获取成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "500": {
            "$ref": "#/components/responses/ServerError"
          }
        }
      }
    },
    "/api/assessment/growth-trajectory": {
      "get": {
        "summary": "获取成长轨迹",
        "description": "获取孩子的成长轨迹分析，展示多次测评的发展趋势。\n\n**轨迹分析：**\n- **整体趋势**: 综合能力发展变化\n- **领域趋势**: 各发展领域的进步情况\n- **里程碑追踪**: 重要发展节点记录\n- **进步速度**: 与同龄人的对比\n\n**数据特点：**\n- 基于多次测评数据\n- 支持趋势图表展示\n- 包含发展里程碑\n- 个性化发展建议\n\n**业务场景：**\n- 长期发展情况跟踪\n- 教育效果评估\n- 个性化方案调整\n- 家园共育沟通\n\n**权限说明：**\n- 公开访问，可匿名查看\n- 登录用户查看完整数据\n- 支持孩子信息关联\n",
        "tags": [
          "评估功能"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "childId",
            "schema": {
              "type": "string"
            },
            "description": "孩子唯一标识（登录后必填）",
            "example": "child_12345"
          },
          {
            "in": "query",
            "name": "period",
            "schema": {
              "type": "string",
              "enum": [
                "3months",
                "6months",
                "1year",
                "all"
              ],
              "default": "all"
            },
            "description": "分析时间范围",
            "example": "6months"
          },
          {
            "in": "query",
            "name": "areas",
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "enum": [
                "cognitive",
                "physical",
                "social",
                "emotional",
                "language"
              ]
            },
            "description": "分析的发展领域",
            "example": [
              "cognitive",
              "physical",
              "social"
            ]
          },
          {
            "in": "query",
            "name": "includeDetails",
            "schema": {
              "type": "boolean",
              "default": false
            },
            "description": "是否包含详细数据",
            "example": true
          }
        ],
        "responses": {
          "200": {
            "description": "成长轨迹获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/GrowthTrajectory"
                    },
                    "message": {
                      "type": "string",
                      "example": "成长轨迹数据获取成功"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "缺少必要参数（匿名用户需要提供childId）",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/responses/ValidationError"
                }
              }
            }
          },
          "404": {
            "description": "未找到孩子的测评数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "未找到该孩子的测评数据"
                    },
                    "code": {
                      "type": "integer",
                      "example": 404
                    }
                  }
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/ServerError"
          }
        }
      }
    },
    "/api/attendance-center/overview": {
      "get": {
        "summary": "获取全园考勤概览",
        "description": "获取幼儿园的整体考勤情况概览，包括出勤率、异常情况等",
        "tags": [
          "考勤中心管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "kindergartenId",
            "required": true,
            "schema": {
              "type": "integer",
              "example": 1
            },
            "description": "幼儿园ID"
          },
          {
            "in": "query",
            "name": "date",
            "schema": {
              "type": "string",
              "format": "date",
              "example": "2023-12-01"
            },
            "description": "查询日期（可选，默认今天）"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取考勤概览",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "date": {
                          "type": "string",
                          "example": "2023-12-01"
                        },
                        "totalStudents": {
                          "type": "integer",
                          "example": 150
                        },
                        "presentCount": {
                          "type": "integer",
                          "example": 142
                        },
                        "absentCount": {
                          "type": "integer",
                          "example": 8
                        },
                        "attendanceRate": {
                          "type": "number",
                          "example": 94.67
                        },
                        "lateCount": {
                          "type": "integer",
                          "example": 3
                        },
                        "leaveEarlyCount": {
                          "type": "integer",
                          "example": 2
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/attendance-center/statistics/daily": {
      "get": {
        "summary": "获取日考勤统计",
        "description": "获取指定日期的详细考勤统计数据，包括各班级的出勤情况、异常统计等",
        "tags": [
          "考勤中心管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "kindergartenId",
            "required": true,
            "schema": {
              "type": "integer",
              "example": 1
            },
            "description": "幼儿园ID"
          },
          {
            "in": "query",
            "name": "date",
            "schema": {
              "type": "string",
              "format": "date",
              "example": "2023-12-01"
            },
            "description": "查询日期（可选，默认今天）"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取日考勤统计数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "date": {
                          "type": "string",
                          "example": "2023-12-01",
                          "description": "统计日期"
                        },
                        "totalStudents": {
                          "type": "integer",
                          "example": 150,
                          "description": "总学生数"
                        },
                        "presentCount": {
                          "type": "integer",
                          "example": 142,
                          "description": "出勤人数"
                        },
                        "absentCount": {
                          "type": "integer",
                          "example": 8,
                          "description": "缺勤人数"
                        },
                        "lateCount": {
                          "type": "integer",
                          "example": 3,
                          "description": "迟到人数"
                        },
                        "leaveEarlyCount": {
                          "type": "integer",
                          "example": 2,
                          "description": "早退人数"
                        },
                        "sickLeaveCount": {
                          "type": "integer",
                          "example": 3,
                          "description": "病假人数"
                        },
                        "personalLeaveCount": {
                          "type": "integer",
                          "example": 2,
                          "description": "事假人数"
                        },
                        "classStatistics": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "classId": {
                                "type": "integer",
                                "example": 1
                              },
                              "className": {
                                "type": "string",
                                "example": "小班A班"
                              },
                              "totalStudents": {
                                "type": "integer",
                                "example": 25
                              },
                              "presentCount": {
                                "type": "integer",
                                "example": 24
                              },
                              "attendanceRate": {
                                "type": "number",
                                "example": 96
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/attendance-center/statistics/weekly": {
      "get": {
        "summary": "获取周考勤统计",
        "description": "获取指定日期范围内的周考勤统计数据，支持自定义周区间，提供趋势分析",
        "tags": [
          "考勤中心管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "kindergartenId",
            "required": true,
            "schema": {
              "type": "integer",
              "example": 1
            },
            "description": "幼儿园ID"
          },
          {
            "in": "query",
            "name": "startDate",
            "required": true,
            "schema": {
              "type": "string",
              "format": "date",
              "example": "2023-11-27"
            },
            "description": "开始日期（周一）"
          },
          {
            "in": "query",
            "name": "endDate",
            "required": true,
            "schema": {
              "type": "string",
              "format": "date",
              "example": "2023-12-03"
            },
            "description": "结束日期（周日）"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取周考勤统计数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "weekRange": {
                          "type": "string",
                          "example": "2023-11-27 至 2023-12-03",
                          "description": "统计周范围"
                        },
                        "totalSchoolDays": {
                          "type": "integer",
                          "example": 5,
                          "description": "本周上学天数"
                        },
                        "averageAttendanceRate": {
                          "type": "number",
                          "example": 95.2,
                          "description": "平均出勤率"
                        },
                        "totalStudentDays": {
                          "type": "integer",
                          "example": 750,
                          "description": "应出勤总人天数"
                        },
                        "presentStudentDays": {
                          "type": "integer",
                          "example": 714,
                          "description": "实际出勤人天数"
                        },
                        "dailyStatistics": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "date": {
                                "type": "string",
                                "example": "2023-11-27"
                              },
                              "dayOfWeek": {
                                "type": "string",
                                "example": "周一"
                              },
                              "attendanceRate": {
                                "type": "number",
                                "example": 96
                              },
                              "presentCount": {
                                "type": "integer",
                                "example": 145
                              },
                              "absentCount": {
                                "type": "integer",
                                "example": 5
                              }
                            }
                          }
                        },
                        "trendAnalysis": {
                          "type": "object",
                          "properties": {
                            "comparedToLastWeek": {
                              "type": "number",
                              "example": 2.3,
                              "description": "与上周相比的出勤率变化（百分点）"
                            },
                            "bestDay": {
                              "type": "string",
                              "example": "2023-11-29",
                              "description": "本周出勤率最高的一天"
                            },
                            "worstDay": {
                              "type": "string",
                              "example": "2023-11-27",
                              "description": "本周出勤率最低的一天"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/attendance-center/statistics/monthly": {
      "get": {
        "summary": "获取月考勤统计",
        "description": "获取指定年月的详细考勤统计数据，包括月度趋势、工作日/非工作日分析、异常统计等",
        "tags": [
          "考勤中心管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "kindergartenId",
            "required": true,
            "schema": {
              "type": "integer",
              "example": 1
            },
            "description": "幼儿园ID"
          },
          {
            "in": "query",
            "name": "year",
            "required": true,
            "schema": {
              "type": "integer",
              "example": 2023
            },
            "description": "年份"
          },
          {
            "in": "query",
            "name": "month",
            "required": true,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 12,
              "example": 12
            },
            "description": "月份（1-12）"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取月考勤统计数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "year": {
                          "type": "integer",
                          "example": 2023,
                          "description": "年份"
                        },
                        "month": {
                          "type": "integer",
                          "example": 12,
                          "description": "月份"
                        },
                        "monthName": {
                          "type": "string",
                          "example": "十二月",
                          "description": "月份名称"
                        },
                        "totalSchoolDays": {
                          "type": "integer",
                          "example": 22,
                          "description": "本月上学天数"
                        },
                        "totalStudents": {
                          "type": "integer",
                          "example": 150,
                          "description": "总学生数"
                        },
                        "monthlyAttendanceRate": {
                          "type": "number",
                          "example": 94.8,
                          "description": "月度出勤率"
                        },
                        "weeklyStatistics": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "weekNumber": {
                                "type": "integer",
                                "example": 1,
                                "description": "第几周"
                              },
                              "weekRange": {
                                "type": "string",
                                "example": "12-01 至 12-03"
                              },
                              "attendanceRate": {
                                "type": "number",
                                "example": 95.2
                              },
                              "trend": {
                                "type": "string",
                                "enum": [
                                  "up",
                                  "down",
                                  "stable"
                                ],
                                "example": "up"
                              }
                            }
                          }
                        },
                        "classStatistics": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "classId": {
                                "type": "integer",
                                "example": 1
                              },
                              "className": {
                                "type": "string",
                                "example": "小班A班"
                              },
                              "attendanceRate": {
                                "type": "number",
                                "example": 96.5
                              },
                              "ranking": {
                                "type": "integer",
                                "example": 1,
                                "description": "出勤率排名"
                              }
                            }
                          }
                        },
                        "absentReasons": {
                          "type": "object",
                          "properties": {
                            "sick": {
                              "type": "integer",
                              "example": 45,
                              "description": "病假人次"
                            },
                            "personal": {
                              "type": "integer",
                              "example": 23,
                              "description": "事假人次"
                            },
                            "unexcused": {
                              "type": "integer",
                              "example": 8,
                              "description": "旷课人次"
                            }
                          }
                        },
                        "comparison": {
                          "type": "object",
                          "properties": {
                            "comparedToLastMonth": {
                              "type": "number",
                              "example": 1.2,
                              "description": "与上月相比的出勤率变化"
                            },
                            "comparedToLastYear": {
                              "type": "number",
                              "example": 0.8,
                              "description": "与去年同期相比的出勤率变化"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/attendance-center/statistics/quarterly": {
      "get": {
        "summary": "获取季度考勤统计",
        "description": "获取指定年份季度的考勤统计数据，包含3个月的详细分析、趋势对比和异常情况统计",
        "tags": [
          "考勤中心管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "kindergartenId",
            "required": true,
            "schema": {
              "type": "integer",
              "example": 1
            },
            "description": "幼儿园ID"
          },
          {
            "in": "query",
            "name": "year",
            "required": true,
            "schema": {
              "type": "integer",
              "example": 2023
            },
            "description": "年份"
          },
          {
            "in": "query",
            "name": "quarter",
            "required": true,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 4,
              "example": 4
            },
            "description": "季度（1-4）"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取季度考勤统计数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "year": {
                          "type": "integer",
                          "example": 2023,
                          "description": "年份"
                        },
                        "quarter": {
                          "type": "integer",
                          "example": 4,
                          "description": "季度"
                        },
                        "quarterName": {
                          "type": "string",
                          "example": "第四季度",
                          "description": "季度名称"
                        },
                        "quarterlyAttendanceRate": {
                          "type": "number",
                          "example": 95.3,
                          "description": "季度平均出勤率"
                        },
                        "monthlyBreakdown": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "month": {
                                "type": "integer",
                                "example": 10
                              },
                              "monthName": {
                                "type": "string",
                                "example": "十月"
                              },
                              "attendanceRate": {
                                "type": "number",
                                "example": 94.8
                              },
                              "schoolDays": {
                                "type": "integer",
                                "example": 22
                              },
                              "presentDays": {
                                "type": "integer",
                                "example": 3156
                              }
                            }
                          }
                        },
                        "classPerformance": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "classId": {
                                "type": "integer",
                                "example": 1
                              },
                              "className": {
                                "type": "string",
                                "example": "小班A班"
                              },
                              "quarterlyAttendanceRate": {
                                "type": "number",
                                "example": 96.2
                              },
                              "ranking": {
                                "type": "integer",
                                "example": 1
                              }
                            }
                          }
                        },
                        "trends": {
                          "type": "object",
                          "properties": {
                            "monthOverMonth": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "properties": {
                                  "month": {
                                    "type": "integer",
                                    "example": 10
                                  },
                                  "change": {
                                    "type": "number",
                                    "example": 0.5
                                  },
                                  "trend": {
                                    "type": "string",
                                    "example": "up"
                                  }
                                }
                              }
                            },
                            "bestPerformingClass": {
                              "type": "string",
                              "example": "小班A班"
                            },
                            "mostImprovedClass": {
                              "type": "string",
                              "example": "中班B班"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/attendance-center/statistics/yearly": {
      "get": {
        "summary": "获取年度考勤统计",
        "description": "获取指定年份的完整考勤统计数据，包含全年趋势分析、季度对比、班级表现排名和异常情况统计",
        "tags": [
          "考勤中心管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "kindergartenId",
            "required": true,
            "schema": {
              "type": "integer",
              "example": 1
            },
            "description": "幼儿园ID"
          },
          {
            "in": "query",
            "name": "year",
            "required": true,
            "schema": {
              "type": "integer",
              "example": 2023
            },
            "description": "年份"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取年度考勤统计数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "year": {
                          "type": "integer",
                          "example": 2023,
                          "description": "统计年份"
                        },
                        "yearlyAttendanceRate": {
                          "type": "number",
                          "example": 94.6,
                          "description": "年度平均出勤率"
                        },
                        "totalSchoolDays": {
                          "type": "integer",
                          "example": 248,
                          "description": "全年上学天数"
                        },
                        "totalStudentDays": {
                          "type": "integer",
                          "example": 37200,
                          "description": "全年应出勤总人天数"
                        },
                        "quarterlyBreakdown": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "quarter": {
                                "type": "integer",
                                "example": 1
                              },
                              "quarterName": {
                                "type": "string",
                                "example": "第一季度"
                              },
                              "attendanceRate": {
                                "type": "number",
                                "example": 93.8
                              },
                              "trend": {
                                "type": "string",
                                "enum": [
                                  "up",
                                  "down",
                                  "stable"
                                ],
                                "example": "up"
                              }
                            }
                          }
                        },
                        "monthlyTrends": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "month": {
                                "type": "integer",
                                "example": 1
                              },
                              "monthName": {
                                "type": "string",
                                "example": "一月"
                              },
                              "attendanceRate": {
                                "type": "number",
                                "example": 92.5
                              },
                              "changeFromLastMonth": {
                                "type": "number",
                                "example": -0.8
                              }
                            }
                          }
                        },
                        "classRankings": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "rank": {
                                "type": "integer",
                                "example": 1
                              },
                              "classId": {
                                "type": "integer",
                                "example": 1
                              },
                              "className": {
                                "type": "string",
                                "example": "小班A班"
                              },
                              "attendanceRate": {
                                "type": "number",
                                "example": 97.2
                              },
                              "totalStudents": {
                                "type": "integer",
                                "example": 25
                              }
                            }
                          }
                        },
                        "attendanceInsights": {
                          "type": "object",
                          "properties": {
                            "bestMonth": {
                              "type": "object",
                              "properties": {
                                "month": {
                                  "type": "string",
                                  "example": "六月"
                                },
                                "attendanceRate": {
                                  "type": "number",
                                  "example": 97.8
                                }
                              }
                            },
                            "worstMonth": {
                              "type": "object",
                              "properties": {
                                "month": {
                                  "type": "string",
                                  "example": "一月"
                                },
                                "attendanceRate": {
                                  "type": "number",
                                  "example": 92.5
                                }
                              }
                            },
                            "improvementTrend": {
                              "type": "string",
                              "enum": [
                                "improving",
                                "declining",
                                "stable"
                              ],
                              "example": "improving"
                            }
                          }
                        },
                        "absentAnalysis": {
                          "type": "object",
                          "properties": {
                            "totalAbsentDays": {
                              "type": "integer",
                              "example": 1998
                            },
                            "sickLeavePercentage": {
                              "type": "number",
                              "example": 65.2
                            },
                            "personalLeavePercentage": {
                              "type": "number",
                              "example": 28.5
                            },
                            "unexcusedPercentage": {
                              "type": "number",
                              "example": 6.3
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/attendance-center/statistics/by-class": {
      "get": {
        "summary": "按班级统计考勤数据",
        "description": "获取指定幼儿园各班级的考勤统计数据，支持自定义时间范围，提供班级排名和对比分析",
        "tags": [
          "考勤中心管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "kindergartenId",
            "required": true,
            "schema": {
              "type": "integer",
              "example": 1
            },
            "description": "幼儿园ID"
          },
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string",
              "format": "date",
              "example": "2023-12-01"
            },
            "description": "开始日期（可选，默认本月第一天）"
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string",
              "format": "date",
              "example": "2023-12-31"
            },
            "description": "结束日期（可选，默认本月最后一天）"
          },
          {
            "in": "query",
            "name": "includeInactive",
            "schema": {
              "type": "boolean",
              "example": false
            },
            "description": "是否包含已停用班级（可选，默认false）"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取按班级统计的考勤数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "dateRange": {
                          "type": "string",
                          "example": "2023-12-01 至 2023-12-31",
                          "description": "统计日期范围"
                        },
                        "totalClasses": {
                          "type": "integer",
                          "example": 8,
                          "description": "统计班级总数"
                        },
                        "averageAttendanceRate": {
                          "type": "number",
                          "example": 94.6,
                          "description": "全园平均出勤率"
                        },
                        "classStatistics": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "classId": {
                                "type": "integer",
                                "example": 1
                              },
                              "className": {
                                "type": "string",
                                "example": "小班A班"
                              },
                              "teacherName": {
                                "type": "string",
                                "example": "张老师"
                              },
                              "totalStudents": {
                                "type": "integer",
                                "example": 25
                              },
                              "presentDays": {
                                "type": "integer",
                                "example": 525
                              },
                              "attendanceRate": {
                                "type": "number",
                                "example": 96.8
                              },
                              "ranking": {
                                "type": "integer",
                                "example": 1
                              },
                              "absentCount": {
                                "type": "integer",
                                "example": 8
                              },
                              "lateCount": {
                                "type": "integer",
                                "example": 3
                              },
                              "performance": {
                                "type": "string",
                                "enum": [
                                  "excellent",
                                  "good",
                                  "average",
                                  "poor"
                                ],
                                "example": "excellent"
                              }
                            }
                          }
                        },
                        "performanceDistribution": {
                          "type": "object",
                          "properties": {
                            "excellent": {
                              "type": "integer",
                              "example": 3
                            },
                            "good": {
                              "type": "integer",
                              "example": 4
                            },
                            "average": {
                              "type": "integer",
                              "example": 1
                            },
                            "poor": {
                              "type": "integer",
                              "example": 0
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/attendance-center/statistics/by-age": {
      "get": {
        "summary": "按年龄段统计考勤数据",
        "description": "获取指定幼儿园各年龄段（小班、中班、大班）的考勤统计数据，提供年龄段的出勤规律分析",
        "tags": [
          "考勤中心管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "kindergartenId",
            "required": true,
            "schema": {
              "type": "integer",
              "example": 1
            },
            "description": "幼儿园ID"
          },
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string",
              "format": "date",
              "example": "2023-12-01"
            },
            "description": "开始日期（可选，默认本月第一天）"
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string",
              "format": "date",
              "example": "2023-12-31"
            },
            "description": "结束日期（可选，默认本月最后一天）"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取按年龄段统计的考勤数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "dateRange": {
                          "type": "string",
                          "example": "2023-12-01 至 2023-12-31",
                          "description": "统计日期范围"
                        },
                        "totalStudents": {
                          "type": "integer",
                          "example": 150,
                          "description": "统计学生总数"
                        },
                        "ageGroupStatistics": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "ageGroup": {
                                "type": "string",
                                "enum": [
                                  "小班",
                                  "中班",
                                  "大班"
                                ],
                                "example": "小班"
                              },
                              "ageRange": {
                                "type": "string",
                                "example": "3-4岁"
                              },
                              "studentCount": {
                                "type": "integer",
                                "example": 50
                              },
                              "classCount": {
                                "type": "integer",
                                "example": 2
                              },
                              "attendanceRate": {
                                "type": "number",
                                "example": 95.2
                              },
                              "presentDays": {
                                "type": "integer",
                                "example": 1050
                              },
                              "absentDays": {
                                "type": "integer",
                                "example": 50
                              },
                              "sickDays": {
                                "type": "integer",
                                "example": 35
                              },
                              "personalLeaveDays": {
                                "type": "integer",
                                "example": 15
                              },
                              "ranking": {
                                "type": "integer",
                                "example": 1
                              }
                            }
                          }
                        },
                        "ageGroupComparison": {
                          "type": "object",
                          "properties": {
                            "bestPerformingGroup": {
                              "type": "string",
                              "example": "小班",
                              "description": "出勤率最高的年龄段"
                            },
                            "attendanceGap": {
                              "type": "number",
                              "example": 3.8,
                              "description": "最高与最低出勤率的差距"
                            },
                            "healthInsights": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "properties": {
                                  "ageGroup": {
                                    "type": "string",
                                    "example": "小班"
                                  },
                                  "healthIssue": {
                                    "type": "string",
                                    "example": "感冒多发"
                                  },
                                  "suggestion": {
                                    "type": "string",
                                    "example": "加强健康教育和营养指导"
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/attendance-center/records": {
      "get": {
        "summary": "获取考勤记录列表",
        "description": "获取幼儿园的考勤记录，支持多条件筛选和分页查询，提供详细的考勤信息和导出功能",
        "tags": [
          "考勤中心管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "kindergartenId",
            "required": true,
            "schema": {
              "type": "integer",
              "example": 1
            },
            "description": "幼儿园ID"
          },
          {
            "in": "query",
            "name": "classId",
            "schema": {
              "type": "integer",
              "example": 1
            },
            "description": "班级ID（可选）"
          },
          {
            "in": "query",
            "name": "studentId",
            "schema": {
              "type": "integer",
              "example": 123
            },
            "description": "学生ID（可选）"
          },
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string",
              "format": "date",
              "example": "2023-12-01"
            },
            "description": "开始日期（可选）"
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string",
              "format": "date",
              "example": "2023-12-31"
            },
            "description": "结束日期（可选）"
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string",
              "enum": [
                "present",
                "absent",
                "late",
                "leave_early",
                "sick_leave",
                "personal_leave"
              ],
              "example": "present"
            },
            "description": "考勤状态（可选）"
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "example": 1,
              "minimum": 1
            },
            "description": "页码（可选，默认1）"
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer",
              "example": 20,
              "minimum": 1,
              "maximum": 100
            },
            "description": "每页数量（可选，默认20）"
          },
          {
            "in": "query",
            "name": "sortBy",
            "schema": {
              "type": "string",
              "enum": [
                "date",
                "class",
                "student",
                "status",
                "check_in_time"
              ],
              "example": "date"
            },
            "description": "排序字段（可选，默认date）"
          },
          {
            "in": "query",
            "name": "sortOrder",
            "schema": {
              "type": "string",
              "enum": [
                "asc",
                "desc"
              ],
              "example": "desc"
            },
            "description": "排序方向（可选，默认desc）"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取考勤记录列表",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "items": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "integer",
                                "example": 1234,
                                "description": "考勤记录ID"
                              },
                              "studentId": {
                                "type": "integer",
                                "example": 123
                              },
                              "studentName": {
                                "type": "string",
                                "example": "张三"
                              },
                              "classId": {
                                "type": "integer",
                                "example": 1
                              },
                              "className": {
                                "type": "string",
                                "example": "小班A班"
                              },
                              "attendanceDate": {
                                "type": "string",
                                "format": "date",
                                "example": "2023-12-01"
                              },
                              "status": {
                                "type": "string",
                                "example": "present"
                              },
                              "checkInTime": {
                                "type": "string",
                                "format": "time",
                                "example": "08:30"
                              },
                              "checkOutTime": {
                                "type": "string",
                                "format": "time",
                                "example": "16:30"
                              },
                              "temperature": {
                                "type": "number",
                                "example": 36.5
                              },
                              "healthStatus": {
                                "type": "string",
                                "example": "正常"
                              },
                              "notes": {
                                "type": "string",
                                "example": "精神状态良好"
                              },
                              "recordedBy": {
                                "type": "string",
                                "example": "李老师"
                              },
                              "createdAt": {
                                "type": "string",
                                "format": "date-time",
                                "example": "2023-12-01T08:35:00Z"
                              }
                            }
                          }
                        },
                        "pagination": {
                          "type": "object",
                          "properties": {
                            "currentPage": {
                              "type": "integer",
                              "example": 1
                            },
                            "pageSize": {
                              "type": "integer",
                              "example": 20
                            },
                            "totalItems": {
                              "type": "integer",
                              "example": 150
                            },
                            "totalPages": {
                              "type": "integer",
                              "example": 8
                            },
                            "hasNext": {
                              "type": "boolean",
                              "example": true
                            },
                            "hasPrev": {
                              "type": "boolean",
                              "example": false
                            }
                          }
                        },
                        "summary": {
                          "type": "object",
                          "properties": {
                            "totalRecords": {
                              "type": "integer",
                              "example": 150
                            },
                            "presentCount": {
                              "type": "integer",
                              "example": 120
                            },
                            "absentCount": {
                              "type": "integer",
                              "example": 25
                            },
                            "lateCount": {
                              "type": "integer",
                              "example": 5
                            },
                            "attendanceRate": {
                              "type": "number",
                              "example": 80
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/attendance-center/records/{id}": {
      "put": {
        "summary": "修改考勤记录",
        "description": "园长或管理员权限，修改指定的考勤记录，包括状态、时间、健康信息等，所有修改都会记录操作日志",
        "tags": [
          "考勤中心管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer",
              "example": 1234
            },
            "description": "考勤记录ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "status": {
                    "type": "string",
                    "enum": [
                      "present",
                      "absent",
                      "late",
                      "leave_early",
                      "sick_leave",
                      "personal_leave"
                    ],
                    "example": "sick_leave",
                    "description": "考勤状态"
                  },
                  "checkInTime": {
                    "type": "string",
                    "format": "time",
                    "example": "08:45",
                    "description": "签到时间"
                  },
                  "checkOutTime": {
                    "type": "string",
                    "format": "time",
                    "example": "16:15",
                    "description": "签退时间"
                  },
                  "temperature": {
                    "type": "number",
                    "example": 37.2,
                    "description": "体温（摄氏度）"
                  },
                  "healthStatus": {
                    "type": "string",
                    "example": "轻微感冒",
                    "description": "健康状态"
                  },
                  "notes": {
                    "type": "string",
                    "example": "学生状态良好，正常参与活动",
                    "description": "备注"
                  },
                  "leaveReason": {
                    "type": "string",
                    "example": "家庭事务",
                    "description": "请假原因"
                  },
                  "changeReason": {
                    "type": "string",
                    "required": true,
                    "example": "家长电话确认实际为病假",
                    "description": "修改原因（必填）"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "成功修改考勤记录",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "example": 1234
                        },
                        "previousStatus": {
                          "type": "string",
                          "example": "absent"
                        },
                        "newStatus": {
                          "type": "string",
                          "example": "sick_leave"
                        },
                        "changeReason": {
                          "type": "string",
                          "example": "家长电话确认实际为病假"
                        },
                        "changedBy": {
                          "type": "string",
                          "example": "园长"
                        },
                        "changedAt": {
                          "type": "string",
                          "format": "date-time",
                          "example": "2023-12-01T14:30:00Z"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      },
      "delete": {
        "summary": "删除考勤记录",
        "description": "园长或管理员权限，删除指定的考勤记录，删除操作不可恢复，需要提供删除原因",
        "tags": [
          "考勤中心管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer",
              "example": 1234
            },
            "description": "考勤记录ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "deleteReason"
                ],
                "properties": {
                  "deleteReason": {
                    "type": "string",
                    "example": "重复录入，需要删除",
                    "description": "删除原因（必填）"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "成功删除考勤记录",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "deletedRecordId": {
                          "type": "integer",
                          "example": 1234
                        },
                        "deleteReason": {
                          "type": "string",
                          "example": "重复录入，需要删除"
                        },
                        "deletedBy": {
                          "type": "string",
                          "example": "园长"
                        },
                        "deletedAt": {
                          "type": "string",
                          "format": "date-time",
                          "example": "2023-12-01T14:30:00Z"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/attendance-center/records/reset": {
      "post": {
        "summary": "重置考勤记录",
        "description": "园长或管理员权限，重置指定考勤记录为默认状态，通常用于数据错误修正",
        "tags": [
          "考勤中心管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "id"
                ],
                "properties": {
                  "id": {
                    "type": "integer",
                    "example": 1234,
                    "description": "考勤记录ID（必填）"
                  },
                  "changeReason": {
                    "type": "string",
                    "example": "系统错误导致数据异常，需要重置",
                    "description": "重置原因（可选）"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "成功重置考勤记录",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "recordId": {
                          "type": "integer",
                          "example": 1234
                        },
                        "previousState": {
                          "type": "object",
                          "example": [
                            {
                              "status": "absent"
                            },
                            {
                              "checkInTime": null
                            },
                            {
                              "checkOutTime": null
                            }
                          ]
                        },
                        "resetState": {
                          "type": "object",
                          "example": [
                            {
                              "status": "present"
                            },
                            {
                              "checkInTime": "08:30"
                            },
                            {
                              "checkOutTime": "16:30"
                            }
                          ]
                        },
                        "resetReason": {
                          "type": "string",
                          "example": "系统错误导致数据异常，需要重置"
                        },
                        "resetBy": {
                          "type": "string",
                          "example": "园长"
                        },
                        "resetAt": {
                          "type": "string",
                          "format": "date-time",
                          "example": "2023-12-01T14:30:00Z"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/attendance-center/abnormal": {
      "get": {
        "summary": "获取异常考勤分析",
        "description": "获取指定时间段内的异常考勤情况分析，包括频繁缺勤、异常模式、预警建议等",
        "tags": [
          "考勤中心管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "kindergartenId",
            "required": true,
            "schema": {
              "type": "integer",
              "example": 1
            },
            "description": "幼儿园ID"
          },
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string",
              "format": "date",
              "example": "2023-12-01"
            },
            "description": "开始日期（可选，默认本月第一天）"
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string",
              "format": "date",
              "example": "2023-12-31"
            },
            "description": "结束日期（可选，默认本月最后一天）"
          },
          {
            "in": "query",
            "name": "alertLevel",
            "schema": {
              "type": "string",
              "enum": [
                "low",
                "medium",
                "high",
                "critical"
              ],
              "example": "medium"
            },
            "description": "预警级别筛选（可选）"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取异常考勤分析数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "analysisPeriod": {
                          "type": "string",
                          "example": "2023-12-01 至 2023-12-31",
                          "description": "分析时间段"
                        },
                        "totalAbnormalCases": {
                          "type": "integer",
                          "example": 25,
                          "description": "异常案例总数"
                        },
                        "abnormalPatterns": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "patternType": {
                                "type": "string",
                                "enum": [
                                  "frequent_absence",
                                  "irregular_schedule",
                                  "health_issues",
                                  "behavioral"
                                ],
                                "example": "frequent_absence"
                              },
                              "patternDescription": {
                                "type": "string",
                                "example": "频繁缺勤"
                              },
                              "affectedStudents": {
                                "type": "integer",
                                "example": 8
                              },
                              "severityLevel": {
                                "type": "string",
                                "enum": [
                                  "low",
                                  "medium",
                                  "high",
                                  "critical"
                                ],
                                "example": "medium"
                              }
                            }
                          }
                        },
                        "studentAlerts": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "studentId": {
                                "type": "integer",
                                "example": 123
                              },
                              "studentName": {
                                "type": "string",
                                "example": "张三"
                              },
                              "className": {
                                "type": "string",
                                "example": "小班A班"
                              },
                              "alertType": {
                                "type": "string",
                                "example": "连续缺勤超过3天"
                              },
                              "alertLevel": {
                                "type": "string",
                                "example": "high"
                              },
                              "alertReason": {
                                "type": "string",
                                "example": "本周连续缺勤4天，建议关注"
                              },
                              "suggestion": {
                                "type": "string",
                                "example": "联系家长了解情况，提供必要帮助"
                              }
                            }
                          }
                        },
                        "recommendations": {
                          "type": "array",
                          "items": {
                            "type": "string",
                            "example": "加强对频繁缺勤学生的关注和家访"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/attendance-center/health": {
      "get": {
        "summary": "获取健康监测数据",
        "description": "获取学生健康监测统计数据，包括体温异常、健康状况分析、流行病趋势等",
        "tags": [
          "考勤中心管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "kindergartenId",
            "required": true,
            "schema": {
              "type": "integer",
              "example": 1
            },
            "description": "幼儿园ID"
          },
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string",
              "format": "date",
              "example": "2023-12-01"
            },
            "description": "开始日期（可选，默认本月第一天）"
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string",
              "format": "date",
              "example": "2023-12-31"
            },
            "description": "结束日期（可选，默认本月最后一天）"
          },
          {
            "in": "query",
            "name": "healthStatus",
            "schema": {
              "type": "string",
              "enum": [
                "normal",
                "fever",
                "cough",
                "cold",
                "other"
              ],
              "example": "fever"
            },
            "description": "健康状态筛选（可选）"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取健康监测数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "monitoringPeriod": {
                          "type": "string",
                          "example": "2023-12-01 至 2023-12-31",
                          "description": "监测时间段"
                        },
                        "totalHealthChecks": {
                          "type": "integer",
                          "example": 3000,
                          "description": "总健康检查次数"
                        },
                        "healthStatusDistribution": {
                          "type": "object",
                          "properties": {
                            "normal": {
                              "type": "integer",
                              "example": 2850,
                              "description": "正常人数"
                            },
                            "fever": {
                              "type": "integer",
                              "example": 45,
                              "description": "发热人数"
                            },
                            "cough": {
                              "type": "integer",
                              "example": 68,
                              "description": "咳嗽人数"
                            },
                            "cold": {
                              "type": "integer",
                              "example": 37,
                              "description": "感冒人数"
                            }
                          }
                        },
                        "temperatureAnalysis": {
                          "type": "object",
                          "properties": {
                            "averageTemperature": {
                              "type": "number",
                              "example": 36.6,
                              "description": "平均体温"
                            },
                            "feverCount": {
                              "type": "integer",
                              "example": 12,
                              "description": "发热人次"
                            },
                            "highFeverCount": {
                              "type": "integer",
                              "example": 3,
                              "description": "高热人次（≥39°C）"
                            }
                          }
                        },
                        "healthTrends": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "date": {
                                "type": "string",
                                "example": "2023-12-01"
                              },
                              "abnormalCount": {
                                "type": "integer",
                                "example": 15
                              },
                              "healthScore": {
                                "type": "number",
                                "example": 95,
                                "description": "健康评分（0-100）"
                              }
                            }
                          }
                        },
                        "healthAlerts": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "alertType": {
                                "type": "string",
                                "example": "群体性发热"
                              },
                              "severity": {
                                "type": "string",
                                "enum": [
                                  "low",
                                  "medium",
                                  "high",
                                  "critical"
                                ],
                                "example": "medium"
                              },
                              "affectedCount": {
                                "type": "integer",
                                "example": 8
                              },
                              "description": {
                                "type": "string",
                                "example": "小班A班发现多例发热"
                              },
                              "recommendation": {
                                "type": "string",
                                "example": "建议加强晨检和教室通风"
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/attendance-center/export": {
      "post": {
        "summary": "导出考勤报表",
        "description": "园长或管理员权限，导出指定时间段的考勤数据报表，支持Excel和PDF格式，包含详细统计和分析",
        "tags": [
          "考勤中心管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "kindergartenId",
                  "startDate",
                  "endDate"
                ],
                "properties": {
                  "kindergartenId": {
                    "type": "integer",
                    "example": 1,
                    "description": "幼儿园ID（必填）"
                  },
                  "startDate": {
                    "type": "string",
                    "format": "date",
                    "example": "2023-12-01",
                    "description": "开始日期（必填）"
                  },
                  "endDate": {
                    "type": "string",
                    "format": "date",
                    "example": "2023-12-31",
                    "description": "结束日期（必填）"
                  },
                  "format": {
                    "type": "string",
                    "enum": [
                      "excel",
                      "pdf"
                    ],
                    "example": "excel",
                    "default": "excel",
                    "description": "导出格式（可选，默认excel）"
                  },
                  "includeDetails": {
                    "type": "boolean",
                    "example": true,
                    "default": true,
                    "description": "是否包含详细记录（可选，默认true）"
                  },
                  "includeStatistics": {
                    "type": "boolean",
                    "example": true,
                    "default": true,
                    "description": "是否包含统计分析（可选，默认true）"
                  },
                  "includeCharts": {
                    "type": "boolean",
                    "example": false,
                    "default": false,
                    "description": "是否包含图表（仅PDF格式，可选，默认false）"
                  },
                  "reportType": {
                    "type": "string",
                    "enum": [
                      "summary",
                      "detailed",
                      "analysis"
                    ],
                    "example": "detailed",
                    "default": "detailed",
                    "description": "报表类型（可选，默认detailed）"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "成功导出考勤报表",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "exportId": {
                          "type": "string",
                          "example": "export_20231201_143022",
                          "description": "导出任务ID"
                        },
                        "downloadUrl": {
                          "type": "string",
                          "example": "/api/attendance-center/download/export_20231201_143022.xlsx",
                          "description": "下载链接"
                        },
                        "fileName": {
                          "type": "string",
                          "example": "考勤报表_2023-12-01_至_2023-12-31.xlsx",
                          "description": "文件名"
                        },
                        "fileSize": {
                          "type": "string",
                          "example": "2.5MB",
                          "description": "文件大小"
                        },
                        "format": {
                          "type": "string",
                          "example": "excel",
                          "description": "导出格式"
                        },
                        "generatedAt": {
                          "type": "string",
                          "format": "date-time",
                          "example": "2023-12-01T14:30:22Z",
                          "description": "生成时间"
                        },
                        "expiresAt": {
                          "type": "string",
                          "format": "date-time",
                          "example": "2023-12-01T20:30:22Z",
                          "description": "过期时间"
                        },
                        "statistics": {
                          "type": "object",
                          "properties": {
                            "totalRecords": {
                              "type": "integer",
                              "example": 3000
                            },
                            "dateRange": {
                              "type": "string",
                              "example": "2023-12-01 至 2023-12-31"
                            },
                            "attendanceRate": {
                              "type": "number",
                              "example": 94.6
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/attendance-center/import": {
      "post": {
        "summary": "批量导入考勤数据",
        "description": "园长或管理员权限，批量导入考勤数据，支持Excel文件上传和数据验证，提供导入结果报告",
        "tags": [
          "考勤中心管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "records"
                ],
                "properties": {
                  "records": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "required": [
                        "studentId",
                        "classId",
                        "kindergartenId",
                        "attendanceDate",
                        "status"
                      ],
                      "properties": {
                        "studentId": {
                          "type": "integer",
                          "example": 123,
                          "description": "学生ID（必填）"
                        },
                        "classId": {
                          "type": "integer",
                          "example": 1,
                          "description": "班级ID（必填）"
                        },
                        "kindergartenId": {
                          "type": "integer",
                          "example": 1,
                          "description": "幼儿园ID（必填）"
                        },
                        "attendanceDate": {
                          "type": "string",
                          "format": "date",
                          "example": "2023-12-01",
                          "description": "考勤日期（必填）"
                        },
                        "status": {
                          "type": "string",
                          "enum": [
                            "present",
                            "absent",
                            "late",
                            "leave_early",
                            "sick_leave",
                            "personal_leave"
                          ],
                          "example": "present",
                          "description": "考勤状态（必填）"
                        },
                        "checkInTime": {
                          "type": "string",
                          "format": "time",
                          "example": "08:30",
                          "description": "签到时间（可选）"
                        },
                        "checkOutTime": {
                          "type": "string",
                          "format": "time",
                          "example": "16:30",
                          "description": "签退时间（可选）"
                        },
                        "temperature": {
                          "type": "number",
                          "example": 36.5,
                          "description": "体温（可选）"
                        },
                        "healthStatus": {
                          "type": "string",
                          "example": "正常",
                          "description": "健康状态（可选）"
                        },
                        "notes": {
                          "type": "string",
                          "example": "学生状态良好",
                          "description": "备注（可选）"
                        },
                        "leaveReason": {
                          "type": "string",
                          "example": "家中有事",
                          "description": "请假原因（可选）"
                        }
                      }
                    }
                  },
                  "validateOnly": {
                    "type": "boolean",
                    "example": false,
                    "default": false,
                    "description": "仅验证数据不实际导入（可选，默认false）"
                  },
                  "skipDuplicates": {
                    "type": "boolean",
                    "example": true,
                    "default": true,
                    "description": "跳过重复记录（可选，默认true）"
                  },
                  "updateExisting": {
                    "type": "boolean",
                    "example": false,
                    "default": false,
                    "description": "更新已存在的记录（可选，默认false）"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "成功导入考勤数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "importId": {
                          "type": "string",
                          "example": "import_20231201_143022",
                          "description": "导入任务ID"
                        },
                        "summary": {
                          "type": "object",
                          "properties": {
                            "totalRecords": {
                              "type": "integer",
                              "example": 100,
                              "description": "总记录数"
                            },
                            "successCount": {
                              "type": "integer",
                              "example": 95,
                              "description": "成功导入数"
                            },
                            "failureCount": {
                              "type": "integer",
                              "example": 5,
                              "description": "失败数"
                            },
                            "duplicateCount": {
                              "type": "integer",
                              "example": 3,
                              "description": "重复记录数"
                            },
                            "updatedCount": {
                              "type": "integer",
                              "example": 2,
                              "description": "更新记录数"
                            }
                          }
                        },
                        "details": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "rowIndex": {
                                "type": "integer",
                                "example": 1
                              },
                              "status": {
                                "type": "string",
                                "enum": [
                                  "success",
                                  "failure",
                                  "duplicate",
                                  "updated"
                                ],
                                "example": "success"
                              },
                              "studentName": {
                                "type": "string",
                                "example": "张三"
                              },
                              "message": {
                                "type": "string",
                                "example": "导入成功"
                              },
                              "errors": {
                                "type": "array",
                                "items": {
                                  "type": "string",
                                  "example": "学生ID不存在"
                                }
                              }
                            }
                          }
                        },
                        "validationErrors": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "type": {
                                "type": "string",
                                "example": "validation_error"
                              },
                              "message": {
                                "type": "string",
                                "example": "日期格式不正确"
                              },
                              "rowCount": {
                                "type": "integer",
                                "example": 5
                              }
                            }
                          }
                        },
                        "importedAt": {
                          "type": "string",
                          "format": "date-time",
                          "example": "2023-12-01T14:30:22Z",
                          "description": "导入时间"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/auth-permissions/permissions": {
      "get": {
        "summary": "获取用户权限列表",
        "description": "获取当前用户的所有权限",
        "tags": [
          "认证权限"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/auth-permissions/menu": {
      "get": {
        "summary": "获取用户菜单",
        "description": "获取当前用户可访问的菜单列表",
        "tags": [
          "认证权限"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/auth-permissions/check-permission": {
      "post": {
        "summary": "检查用户权限",
        "description": "检查用户是否拥有指定权限",
        "tags": [
          "认证权限"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "permission"
                ],
                "properties": {
                  "permission": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "检查成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/auth-permissions/roles": {
      "get": {
        "summary": "获取用户角色",
        "description": "获取当前用户的所有角色",
        "tags": [
          "认证权限"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/auth/login": {
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "用户登录",
        "description": "使用用户名和密码进行身份验证，成功后返回JWT访问令牌和刷新令牌",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LoginRequest"
              },
              "examples": {
                "admin_login": {
                  "summary": "管理员登录示例",
                  "value": {
                    "username": "admin",
                    "password": "password123"
                  }
                },
                "teacher_login": {
                  "summary": "教师登录示例",
                  "value": {
                    "username": "teacher@example.com",
                    "password": "teacher123"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "登录成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LoginResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "用户名和密码不能为空"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "认证失败",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "用户名或密码错误"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "登录失败，服务器错误"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/logout": {
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "用户登出",
        "description": "用户登出，使当前JWT令牌失效",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "登出成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "登出成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "未提供有效的认证令牌"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "登出失败，服务器错误"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/register": {
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "用户注册",
        "description": "注册新用户账户",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "username",
                  "email",
                  "password",
                  "role"
                ],
                "properties": {
                  "username": {
                    "type": "string",
                    "description": "用户名",
                    "example": "newuser"
                  },
                  "email": {
                    "type": "string",
                    "format": "email",
                    "description": "邮箱地址",
                    "example": "newuser@example.com"
                  },
                  "password": {
                    "type": "string",
                    "format": "password",
                    "description": "密码",
                    "example": "password123"
                  },
                  "role": {
                    "type": "string",
                    "enum": [
                      "admin",
                      "teacher",
                      "parent"
                    ],
                    "description": "用户角色",
                    "example": "teacher"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "注册成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "注册成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "description": "用户ID"
                        },
                        "username": {
                          "type": "string",
                          "description": "用户名"
                        },
                        "email": {
                          "type": "string",
                          "description": "邮箱"
                        },
                        "role": {
                          "type": "string",
                          "description": "角色"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "用户名已存在"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/auth/refresh-token": {
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "刷新访问令牌",
        "description": "使用刷新令牌获取新的访问令牌",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RefreshTokenRequest"
              },
              "example": {
                "refreshToken": "refresh_token_here"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "令牌刷新成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "token": {
                          "type": "string",
                          "description": "新的JWT访问令牌",
                          "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9"
                        },
                        "refreshToken": {
                          "type": "string",
                          "description": "新的刷新令牌",
                          "example": "new_refresh_token_here"
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "令牌刷新成功"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "刷新令牌不能为空"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "刷新令牌无效或已过期",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "刷新令牌无效或已过期"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "令牌刷新失败，服务器错误"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/verify-token": {
      "get": {
        "tags": [
          "Authentication"
        ],
        "summary": "验证访问令牌",
        "description": "验证当前JWT访问令牌的有效性",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "令牌验证成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TokenVerificationResponse"
                }
              }
            }
          },
          "401": {
            "description": "令牌无效或已过期",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "令牌无效或已过期"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "令牌验证失败，服务器错误"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/verify": {
      "get": {
        "tags": [
          "Authentication"
        ],
        "summary": "验证访问令牌 (别名)",
        "description": "验证当前JWT访问令牌的有效性 (兼容前端测试)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "令牌验证成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TokenVerificationResponse"
                }
              }
            }
          },
          "401": {
            "description": "令牌无效或已过期",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "令牌无效或已过期"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "令牌验证失败，服务器错误"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/me": {
      "get": {
        "tags": [
          "Authentication"
        ],
        "summary": "获取当前用户信息",
        "description": "获取当前已认证用户的详细信息",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取用户信息",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/User"
                    },
                    "message": {
                      "type": "string",
                      "example": "获取用户信息成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "未提供有效的认证令牌"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "用户不存在",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "用户不存在"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "获取用户信息失败，服务器错误"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/profile": {
      "get": {
        "tags": [
          "Authentication"
        ],
        "summary": "获取当前用户资料 (别名)",
        "description": "获取当前已认证用户的详细资料 (兼容前端调用)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取用户资料",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/User"
                    },
                    "message": {
                      "type": "string",
                      "example": "获取用户资料成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "未提供有效的认证令牌"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "用户不存在",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "用户不存在"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "获取用户资料失败，服务器错误"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/menu": {
      "get": {
        "tags": [
          "Authentication"
        ],
        "summary": "获取用户菜单权限",
        "description": "根据用户角色获取可访问的菜单项和权限信息",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取菜单权限",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "menuItems": {
                          "type": "array",
                          "description": "菜单项列表",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "description": "菜单项ID"
                              },
                              "title": {
                                "type": "string",
                                "description": "菜单标题"
                              },
                              "path": {
                                "type": "string",
                                "description": "菜单路径"
                              },
                              "icon": {
                                "type": "string",
                                "description": "菜单图标"
                              },
                              "visible": {
                                "type": "boolean",
                                "description": "是否可见"
                              },
                              "children": {
                                "type": "array",
                                "description": "子菜单项"
                              }
                            }
                          }
                        },
                        "permissions": {
                          "type": "object",
                          "properties": {
                            "isAdmin": {
                              "type": "boolean",
                              "description": "是否为管理员"
                            },
                            "role": {
                              "type": "string",
                              "description": "用户角色代码"
                            },
                            "roleName": {
                              "type": "string",
                              "description": "用户角色名称"
                            }
                          }
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "获取菜单权限成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/auth/roles": {
      "get": {
        "tags": [
          "Authentication"
        ],
        "summary": "获取用户角色信息",
        "description": "获取当前用户的角色信息和权限详情",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取角色信息",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "roles": {
                          "type": "array",
                          "description": "用户角色列表",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "integer",
                                "description": "角色ID"
                              },
                              "code": {
                                "type": "string",
                                "description": "角色代码"
                              },
                              "name": {
                                "type": "string",
                                "description": "角色名称"
                              },
                              "description": {
                                "type": "string",
                                "description": "角色描述"
                              },
                              "permissions": {
                                "type": "array",
                                "description": "角色权限列表"
                              }
                            }
                          }
                        },
                        "currentRole": {
                          "type": "object",
                          "description": "当前主要角色"
                        },
                        "isAdmin": {
                          "type": "boolean",
                          "description": "是否为管理员"
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "获取角色信息成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/auto-image/generate": {
      "post": {
        "summary": "生成单张图像",
        "description": "根据提示词使用AI生成图像",
        "tags": [
          "自动配图"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "prompt"
                ],
                "properties": {
                  "prompt": {
                    "type": "string",
                    "description": "图像生成提示词",
                    "example": "一个温馨的幼儿园教室，孩子们在快乐地学习"
                  },
                  "category": {
                    "type": "string",
                    "enum": [
                      "activity",
                      "poster",
                      "template",
                      "marketing",
                      "education"
                    ],
                    "description": "图像分类",
                    "example": "activity"
                  },
                  "style": {
                    "type": "string",
                    "enum": [
                      "natural",
                      "cartoon",
                      "realistic",
                      "artistic"
                    ],
                    "description": "图像风格",
                    "example": "natural"
                  },
                  "size": {
                    "type": "string",
                    "enum": [
                      "512x512",
                      "1024x1024",
                      "1024x768",
                      "768x1024"
                    ],
                    "description": "图像尺寸",
                    "example": "1024x768"
                  },
                  "quality": {
                    "type": "string",
                    "enum": [
                      "standard",
                      "hd"
                    ],
                    "description": "图像质量",
                    "example": "standard"
                  },
                  "watermark": {
                    "type": "boolean",
                    "description": "是否添加水印",
                    "example": true
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "图像生成成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "imageUrl": {
                          "type": "string",
                          "description": "生成的图像URL"
                        },
                        "usage": {
                          "type": "object",
                          "description": "使用统计"
                        },
                        "metadata": {
                          "type": "object",
                          "description": "生成元数据"
                        }
                      }
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "参数验证失败"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/auto-image/activity": {
      "post": {
        "summary": "为活动生成配图",
        "description": "根据活动信息自动生成配图",
        "tags": [
          "自动配图"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "activityTitle",
                  "activityDescription"
                ],
                "properties": {
                  "activityTitle": {
                    "type": "string",
                    "description": "活动标题",
                    "example": "春季亲子运动会"
                  },
                  "activityDescription": {
                    "type": "string",
                    "description": "活动描述",
                    "example": "家长和孩子一起参与的户外运动活动，增进亲子关系"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "活动配图生成成功"
          },
          "400": {
            "description": "参数验证失败"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/auto-image/poster": {
      "post": {
        "summary": "为海报生成配图",
        "description": "根据海报信息自动生成配图",
        "tags": [
          "自动配图"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "posterTitle",
                  "posterContent"
                ],
                "properties": {
                  "posterTitle": {
                    "type": "string",
                    "description": "海报标题",
                    "example": "2024年春季招生"
                  },
                  "posterContent": {
                    "type": "string",
                    "description": "海报内容",
                    "example": "优质教育环境，专业师资团队，欢迎报名咨询"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "海报配图生成成功"
          },
          "400": {
            "description": "参数验证失败"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/auto-image/template": {
      "post": {
        "summary": "为模板生成配图",
        "description": "根据模板信息自动生成配图",
        "tags": [
          "自动配图"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "templateName",
                  "templateDescription"
                ],
                "properties": {
                  "templateName": {
                    "type": "string",
                    "description": "模板名称",
                    "example": "亲子活动模板"
                  },
                  "templateDescription": {
                    "type": "string",
                    "description": "模板描述",
                    "example": "适用于各种亲子互动活动的通用模板"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "模板配图生成成功"
          },
          "400": {
            "description": "参数验证失败"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/auto-image/batch": {
      "post": {
        "summary": "批量生成图像",
        "description": "批量生成多张图像（最多10张）",
        "tags": [
          "自动配图"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "requests"
                ],
                "properties": {
                  "requests": {
                    "type": "array",
                    "maxItems": 10,
                    "items": {
                      "type": "object",
                      "required": [
                        "prompt"
                      ],
                      "properties": {
                        "prompt": {
                          "type": "string",
                          "description": "图像生成提示词"
                        },
                        "category": {
                          "type": "string",
                          "enum": [
                            "activity",
                            "poster",
                            "template",
                            "marketing",
                            "education"
                          ]
                        },
                        "style": {
                          "type": "string",
                          "enum": [
                            "natural",
                            "cartoon",
                            "realistic",
                            "artistic"
                          ]
                        },
                        "size": {
                          "type": "string",
                          "enum": [
                            "512x512",
                            "1024x1024",
                            "1024x768",
                            "768x1024"
                          ]
                        },
                        "quality": {
                          "type": "string",
                          "enum": [
                            "standard",
                            "hd"
                          ]
                        },
                        "watermark": {
                          "type": "boolean"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "批量生成完成"
          },
          "400": {
            "description": "参数验证失败"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/auto-image/status": {
      "get": {
        "summary": "检查服务状态",
        "description": "检查AI自动配图服务的可用性",
        "tags": [
          "自动配图"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "服务状态检查成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "available": {
                          "type": "boolean",
                          "description": "服务是否可用"
                        },
                        "model": {
                          "type": "string",
                          "description": "使用的模型名称"
                        },
                        "error": {
                          "type": "string",
                          "description": "错误信息（如果有）"
                        }
                      }
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/base": {
      "get": {
        "summary": "获取base列表",
        "tags": [
          "Base"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      },
      "post": {
        "summary": "创建base",
        "tags": [
          "Base"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "201": {
            "description": "创建成功"
          }
        }
      }
    },
    "/api/base/{id}": {
      "get": {
        "summary": "获取base详情",
        "tags": [
          "Base"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      },
      "put": {
        "summary": "更新base",
        "tags": [
          "Base"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "更新成功"
          }
        }
      },
      "delete": {
        "summary": "删除base",
        "tags": [
          "Base"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功"
          }
        }
      }
    },
    "/api/batch-import/preview": {
      "post": {
        "tags": [
          "批量导入服务"
        ],
        "summary": "上传并预览导入文件",
        "description": "上传Excel或CSV文件，预览导入数据并验证格式",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "required": [
                  "file",
                  "entityType"
                ],
                "properties": {
                  "file": {
                    "type": "string",
                    "format": "binary",
                    "description": "导入文件（支持.xlsx, .xls, .csv格式，最大10MB）"
                  },
                  "entityType": {
                    "type": "string",
                    "enum": [
                      "students",
                      "teachers",
                      "parents",
                      "customers",
                      "activities"
                    ],
                    "description": "导入实体类型",
                    "example": "students"
                  },
                  "options": {
                    "type": "object",
                    "properties": {
                      "skipHeader": {
                        "type": "boolean",
                        "description": "是否跳过表头",
                        "default": true
                      },
                      "encoding": {
                        "type": "string",
                        "enum": [
                          "utf-8",
                          "gbk"
                        ],
                        "description": "文件编码",
                        "default": "utf-8"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "预览成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/ImportPreview"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "不支持的文件格式"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "未授权访问"
                    }
                  }
                }
              }
            }
          },
          "413": {
            "description": "文件过大",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "文件大小不能超过10MB"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/batch-import/customer-preview": {
      "post": {
        "tags": [
          "批量导入服务"
        ],
        "summary": "客户导入预览（AI识别字段映射）",
        "description": "使用AI智能识别客户导入文件的字段映射关系",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "required": [
                  "file"
                ],
                "properties": {
                  "file": {
                    "type": "string",
                    "format": "binary",
                    "description": "客户数据文件（支持.xlsx, .xls, .csv格式）"
                  },
                  "autoMapping": {
                    "type": "boolean",
                    "description": "是否启用AI自动字段映射",
                    "default": true
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "AI字段映射成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "mapping": {
                          "type": "object",
                          "description": "AI识别的字段映射关系",
                          "example": {
                            "name": "customer_name",
                            "phone": "contact_phone",
                            "address": "home_address"
                          }
                        },
                        "confidence": {
                          "type": "number",
                          "description": "映射置信度",
                          "example": 0.85
                        },
                        "preview": {
                          "$ref": "#/components/schemas/ImportPreview"
                        },
                        "suggestions": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          },
                          "description": "AI优化建议",
                          "example": [
                            "建议添加'客户类型'字段",
                            "建议检查手机号格式"
                          ]
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "AI处理失败",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "AI字段识别失败"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/batch-import/execute": {
      "post": {
        "tags": [
          "批量导入服务"
        ],
        "summary": "执行批量导入",
        "description": "执行批量数据导入操作",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "entityType",
                  "data"
                ],
                "properties": {
                  "entityType": {
                    "type": "string",
                    "enum": [
                      "students",
                      "teachers",
                      "parents",
                      "customers",
                      "activities"
                    ],
                    "description": "导入实体类型",
                    "example": "students"
                  },
                  "data": {
                    "type": "array",
                    "items": {
                      "type": "object"
                    },
                    "description": "导入数据列表",
                    "example": [
                      {
                        "name": "张三",
                        "gender": "男",
                        "age": 5
                      }
                    ]
                  },
                  "options": {
                    "type": "object",
                    "properties": {
                      "skipDuplicates": {
                        "type": "boolean",
                        "description": "是否跳过重复数据",
                        "default": true
                      },
                      "updateExisting": {
                        "type": "boolean",
                        "description": "是否更新已存在的数据",
                        "default": false
                      },
                      "batchSize": {
                        "type": "integer",
                        "description": "批处理大小",
                        "default": 100,
                        "minimum": 10,
                        "maximum": 1000
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "导入执行成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "totalProcessed": {
                          "type": "integer",
                          "description": "总处理数",
                          "example": 100
                        },
                        "successCount": {
                          "type": "integer",
                          "description": "成功导入数",
                          "example": 95
                        },
                        "failureCount": {
                          "type": "integer",
                          "description": "导入失败数",
                          "example": 5
                        },
                        "duplicateCount": {
                          "type": "integer",
                          "description": "重复数据数",
                          "example": 3
                        },
                        "errors": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/ImportError"
                          },
                          "description": "详细错误信息"
                        },
                        "importId": {
                          "type": "string",
                          "description": "导入任务ID",
                          "example": "import_20240115_001"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "导入数据不能为空"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/batch-import/template/{entityType}": {
      "get": {
        "tags": [
          "批量导入服务"
        ],
        "summary": "下载导入模板",
        "description": "下载指定类型的标准导入模板文件",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "entityType",
            "required": true,
            "schema": {
              "type": "string",
              "enum": [
                "students",
                "teachers",
                "parents",
                "customers",
                "activities"
              ]
            },
            "description": "实体类型",
            "example": "students"
          },
          {
            "in": "query",
            "name": "format",
            "schema": {
              "type": "string",
              "enum": [
                "xlsx",
                "csv"
              ],
              "default": "xlsx"
            },
            "description": "模板格式",
            "example": "xlsx"
          }
        ],
        "responses": {
          "200": {
            "description": "模板下载成功",
            "content": {
              "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              },
              "text/csv": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          },
          "404": {
            "description": "模板不存在",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "该实体类型的模板不存在"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/business-center/overview": {
      "get": {
        "summary": "获取业务中心概览数据",
        "description": "获取业务中心的综合概览数据，包括各个中心的统计信息",
        "tags": [
          "业务中心"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "teachingCenter": {
                          "type": "object"
                        },
                        "enrollment": {
                          "type": "object"
                        },
                        "personnel": {
                          "type": "object"
                        },
                        "activities": {
                          "type": "object"
                        },
                        "system": {
                          "type": "object"
                        }
                      }
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/business-center/timeline": {
      "get": {
        "summary": "获取业务流程时间线数据",
        "description": "获取业务流程的时间线数据，包括各个业务模块的进度和状态",
        "tags": [
          "业务中心"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      }
    },
    "/api/business-center/enrollment-progress": {
      "get": {
        "summary": "获取招生进度数据",
        "description": "获取招生进度的详细数据，包括目标、当前进度和里程碑",
        "tags": [
          "业务中心"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      }
    },
    "/api/business-center/statistics": {
      "get": {
        "summary": "获取业务中心统计数据",
        "description": "获取业务中心的关键统计指标",
        "tags": [
          "业务中心"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      }
    },
    "/api/business-center/dashboard": {
      "get": {
        "summary": "获取业务中心仪表板数据",
        "description": "获取业务中心仪表板的聚合数据，包括概览、时间线和招生进度",
        "tags": [
          "业务中心"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      }
    },
    "/api/business-center/teaching-integration": {
      "get": {
        "summary": "获取教学中心集成数据",
        "description": "获取教学中心的集成数据，用于业务中心展示",
        "tags": [
          "业务中心"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      }
    },
    "/api/business-center/ui-config": {
      "get": {
        "summary": "获取UI配置数据",
        "description": "获取UI配置数据，包括进度颜色阈值和里程碑配置",
        "tags": [
          "业务中心"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      }
    },
    "/api/call-center/overview": {
      "get": {
        "summary": "获取呼叫中心概览数据",
        "description": "获取呼叫中心的整体运营数据概览，包括通话统计、AI分析结果、实时状态等",
        "tags": [
          "呼叫中心管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取概览数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "totalCalls": {
                          "type": "number",
                          "example": 1250,
                          "description": "总通话数量"
                        },
                        "activeCalls": {
                          "type": "number",
                          "example": 12,
                          "description": "当前活跃通话数"
                        },
                        "aiAnalysisCount": {
                          "type": "number",
                          "example": 850,
                          "description": "AI分析通话数量"
                        },
                        "averageCallDuration": {
                          "type": "number",
                          "example": 245,
                          "description": "平均通话时长（秒）"
                        },
                        "satisfactionRate": {
                          "type": "number",
                          "example": 4.2,
                          "description": "客户满意度评分"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/call-center/call/make": {
      "post": {
        "summary": "发起UDP呼叫",
        "description": "通过VOS系统发起UDP协议的外呼电话",
        "tags": [
          "呼叫中心管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "phoneNumber"
                ],
                "properties": {
                  "phoneNumber": {
                    "type": "string",
                    "example": "13800138000",
                    "description": "目标电话号码"
                  },
                  "callerId": {
                    "type": "string",
                    "example": "1001",
                    "description": "主叫号码/分机号"
                  },
                  "customerId": {
                    "type": "integer",
                    "example": 123,
                    "description": "客户ID"
                  },
                  "callType": {
                    "type": "string",
                    "enum": [
                      "outbound",
                      "inbound",
                      "transfer"
                    ],
                    "example": "outbound",
                    "description": "通话类型"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "成功发起呼叫",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "callId": {
                          "type": "string",
                          "example": "call_123456789",
                          "description": "通话ID"
                        },
                        "status": {
                          "type": "string",
                          "example": "initiated",
                          "description": "通话状态"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/call-center/call/{callId}/status": {
      "get": {
        "summary": "获取通话状态",
        "description": "获取指定通话的实时状态信息",
        "tags": [
          "呼叫中心管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "callId",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "通话ID"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取通话状态",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "callId": {
                          "type": "string",
                          "example": "call_123456789"
                        },
                        "status": {
                          "type": "string",
                          "example": "active",
                          "description": "通话状态"
                        },
                        "startTime": {
                          "type": "string",
                          "format": "date-time",
                          "example": "2023-12-01T10:30:00Z"
                        },
                        "duration": {
                          "type": "integer",
                          "example": 125,
                          "description": "通话时长（秒）"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/call-center/call/hangup": {
      "post": {
        "summary": "挂断通话",
        "description": "主动挂断指定的通话",
        "tags": [
          "呼叫中心管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "callId"
                ],
                "properties": {
                  "callId": {
                    "type": "string",
                    "example": "call_123456789",
                    "description": "要挂断的通话ID"
                  },
                  "reason": {
                    "type": "string",
                    "example": "completed",
                    "description": "挂断原因"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "成功挂断通话",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "callId": {
                          "type": "string",
                          "example": "call_123456789"
                        },
                        "finalStatus": {
                          "type": "string",
                          "example": "completed"
                        },
                        "endTime": {
                          "type": "string",
                          "format": "date-time",
                          "example": "2023-12-01T10:32:05Z"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/call-center/calls/active": {
      "get": {
        "summary": "获取活跃通话列表",
        "description": "获取当前所有活跃的通话列表",
        "tags": [
          "呼叫中心管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "example": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "example": 20
            },
            "description": "每页数量"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取活跃通话列表",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "items": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "callId": {
                                "type": "string"
                              },
                              "phoneNumber": {
                                "type": "string"
                              },
                              "startTime": {
                                "type": "string",
                                "format": "date-time"
                              },
                              "duration": {
                                "type": "integer"
                              },
                              "status": {
                                "type": "string"
                              }
                            }
                          }
                        },
                        "pagination": {
                          "$ref": "#/components/schemas/PaginationResponse"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/call-center/ai/analyze/{callId}": {
      "post": {
        "summary": "AI分析通话内容",
        "description": "使用AI技术分析通话录音，包括情感分析、关键词提取、通话质量评估等",
        "tags": [
          "呼叫中心管理",
          "AI分析"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "callId",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "通话ID"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "analysisType": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "enum": [
                        "sentiment",
                        "keywords",
                        "quality",
                        "compliance"
                      ]
                    },
                    "example": [
                      "sentiment",
                      "keywords"
                    ],
                    "description": "分析类型"
                  },
                  "language": {
                    "type": "string",
                    "example": "zh-CN",
                    "description": "语言代码"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "成功完成AI分析",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "analysisId": {
                          "type": "string",
                          "example": "analysis_123456"
                        },
                        "sentiment": {
                          "type": "object",
                          "properties": {
                            "score": {
                              "type": "number",
                              "example": 0.75
                            },
                            "label": {
                              "type": "string",
                              "example": "positive"
                            }
                          }
                        },
                        "keywords": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          },
                          "example": [
                            "报名",
                            "费用",
                            "时间"
                          ]
                        },
                        "quality": {
                          "type": "object",
                          "properties": {
                            "clarity": {
                              "type": "number",
                              "example": 0.85
                            },
                            "noise": {
                              "type": "number",
                              "example": 0.15
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/call-center/ai/batch-analyze": {
      "post": {
        "summary": "批量AI分析通话",
        "description": "批量分析多个通话的录音内容",
        "tags": [
          "呼叫中心管理",
          "AI分析"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "callIds"
                ],
                "properties": {
                  "callIds": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "example": [
                      "call_1",
                      "call_2",
                      "call_3"
                    ],
                    "description": "通话ID列表"
                  },
                  "analysisTypes": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "enum": [
                        "sentiment",
                        "keywords",
                        "quality",
                        "compliance"
                      ]
                    },
                    "example": [
                      "sentiment",
                      "keywords"
                    ],
                    "description": "分析类型"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "成功提交批量分析任务",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "batchId": {
                          "type": "string",
                          "example": "batch_123456"
                        },
                        "totalCalls": {
                          "type": "integer",
                          "example": 3
                        },
                        "status": {
                          "type": "string",
                          "example": "processing"
                        },
                        "estimatedTime": {
                          "type": "integer",
                          "example": 300,
                          "description": "预计完成时间（秒）"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/call-center/ai/synthesize": {
      "post": {
        "summary": "语音合成",
        "description": "将文本转换为语音文件",
        "tags": [
          "呼叫中心管理",
          "AI分析"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "text"
                ],
                "properties": {
                  "text": {
                    "type": "string",
                    "example": "您好，欢迎使用幼儿园管理系统",
                    "description": "要合成的文本内容"
                  },
                  "voice": {
                    "type": "string",
                    "example": "xiaoyan",
                    "description": "语音风格"
                  },
                  "speed": {
                    "type": "number",
                    "example": 1,
                    "minimum": 0.5,
                    "maximum": 2,
                    "description": "语速"
                  },
                  "volume": {
                    "type": "number",
                    "example": 1,
                    "minimum": 0.1,
                    "maximum": 2,
                    "description": "音量"
                  },
                  "format": {
                    "type": "string",
                    "enum": [
                      "mp3",
                      "wav",
                      "ogg"
                    ],
                    "example": "mp3",
                    "description": "音频格式"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "成功提交语音合成任务",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "taskId": {
                          "type": "string",
                          "example": "synthesize_123456"
                        },
                        "status": {
                          "type": "string",
                          "example": "processing"
                        },
                        "estimatedTime": {
                          "type": "integer",
                          "example": 10
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/call-center/ai/synthesize/{taskId}/status": {
      "get": {
        "summary": "获取语音合成状态",
        "description": "查询语音合成任务的执行状态和结果",
        "tags": [
          "呼叫中心管理",
          "AI分析"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "taskId",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "任务ID"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取合成状态",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "taskId": {
                          "type": "string",
                          "example": "synthesize_123456"
                        },
                        "status": {
                          "type": "string",
                          "enum": [
                            "processing",
                            "completed",
                            "failed"
                          ],
                          "example": "completed"
                        },
                        "progress": {
                          "type": "integer",
                          "example": 100
                        },
                        "audioUrl": {
                          "type": "string",
                          "example": "https://example.com/audio/voice.mp3"
                        },
                        "duration": {
                          "type": "number",
                          "example": 15.5,
                          "description": "音频时长（秒）"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/change-log": {
      "get": {
        "summary": "获取change_log列表",
        "tags": [
          "ChangeLog"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      },
      "post": {
        "summary": "创建change_log",
        "tags": [
          "ChangeLog"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "201": {
            "description": "创建成功"
          }
        }
      }
    },
    "/api/change-log/{id}": {
      "get": {
        "summary": "获取change_log详情",
        "tags": [
          "ChangeLog"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      },
      "put": {
        "summary": "更新change_log",
        "tags": [
          "ChangeLog"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "更新成功"
          }
        }
      },
      "delete": {
        "summary": "删除change_log",
        "tags": [
          "ChangeLog"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功"
          }
        }
      }
    },
    "/channel-trackings": {
      "get": {
        "tags": [
          "Channel Tracking"
        ],
        "summary": "获取渠道跟踪列表",
        "description": "获取所有渠道跟踪记录的列表，支持分页和筛选",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 10
            },
            "description": "每页数量"
          },
          {
            "in": "query",
            "name": "channel",
            "schema": {
              "type": "string"
            },
            "description": "按渠道名称筛选"
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string",
              "enum": [
                "active",
                "inactive",
                "pending"
              ]
            },
            "description": "按状态筛选"
          },
          {
            "in": "query",
            "name": "start_date",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "开始日期筛选"
          },
          {
            "in": "query",
            "name": "end_date",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "结束日期筛选"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取渠道跟踪列表",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/ChannelTracking"
                      }
                    },
                    "pagination": {
                      "type": "object",
                      "properties": {
                        "page": {
                          "type": "integer",
                          "example": 1
                        },
                        "limit": {
                          "type": "integer",
                          "example": 10
                        },
                        "total": {
                          "type": "integer",
                          "example": 50
                        },
                        "pages": {
                          "type": "integer",
                          "example": 5
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      },
      "post": {
        "tags": [
          "Channel Tracking"
        ],
        "summary": "创建渠道跟踪",
        "description": "创建新的渠道跟踪记录",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "channel_name",
                  "channel_type",
                  "tracking_code"
                ],
                "properties": {
                  "channel_name": {
                    "type": "string",
                    "minLength": 2,
                    "maxLength": 100,
                    "description": "渠道名称",
                    "example": "微信朋友圈推广"
                  },
                  "channel_type": {
                    "type": "string",
                    "enum": [
                      "social_media",
                      "search_engine",
                      "referral",
                      "direct",
                      "email",
                      "advertisement"
                    ],
                    "description": "渠道类型",
                    "example": "social_media"
                  },
                  "tracking_code": {
                    "type": "string",
                    "minLength": 3,
                    "maxLength": 50,
                    "description": "跟踪代码",
                    "example": "WX001"
                  },
                  "description": {
                    "type": "string",
                    "maxLength": 500,
                    "description": "渠道描述",
                    "example": "通过微信朋友圈投放的广告"
                  },
                  "target_audience": {
                    "type": "string",
                    "maxLength": 200,
                    "description": "目标受众",
                    "example": "25-35岁宝妈群体"
                  },
                  "budget": {
                    "type": "number",
                    "format": "decimal",
                    "minimum": 0,
                    "description": "预算金额",
                    "example": 5000
                  },
                  "start_date": {
                    "type": "string",
                    "format": "date",
                    "description": "开始日期",
                    "example": "2024-01-01"
                  },
                  "end_date": {
                    "type": "string",
                    "format": "date",
                    "description": "结束日期",
                    "example": "2024-12-31"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "active",
                      "inactive",
                      "pending"
                    ],
                    "default": "pending",
                    "description": "状态",
                    "example": "active"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "成功创建渠道跟踪",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/ChannelTracking"
                    },
                    "message": {
                      "type": "string",
                      "example": "渠道跟踪创建成功"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidationErrorResponse"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "409": {
            "description": "跟踪代码已存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/channel-trackings/{id}": {
      "get": {
        "tags": [
          "Channel Tracking"
        ],
        "summary": "获取单个渠道跟踪",
        "description": "根据ID获取特定的渠道跟踪详细信息",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "description": "渠道跟踪ID"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取渠道跟踪详情",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/ChannelTracking"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "无效的ID参数",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "description": "未找到指定的渠道跟踪",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      },
      "put": {
        "tags": [
          "Channel Tracking"
        ],
        "summary": "更新渠道跟踪",
        "description": "根据ID更新指定的渠道跟踪记录",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "description": "渠道跟踪ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "channel_name": {
                    "type": "string",
                    "minLength": 2,
                    "maxLength": 100,
                    "description": "渠道名称",
                    "example": "微信朋友圈推广"
                  },
                  "channel_type": {
                    "type": "string",
                    "enum": [
                      "social_media",
                      "search_engine",
                      "referral",
                      "direct",
                      "email",
                      "advertisement"
                    ],
                    "description": "渠道类型",
                    "example": "social_media"
                  },
                  "tracking_code": {
                    "type": "string",
                    "minLength": 3,
                    "maxLength": 50,
                    "description": "跟踪代码",
                    "example": "WX001"
                  },
                  "description": {
                    "type": "string",
                    "maxLength": 500,
                    "description": "渠道描述",
                    "example": "通过微信朋友圈投放的广告"
                  },
                  "target_audience": {
                    "type": "string",
                    "maxLength": 200,
                    "description": "目标受众",
                    "example": "25-35岁宝妈群体"
                  },
                  "budget": {
                    "type": "number",
                    "format": "decimal",
                    "minimum": 0,
                    "description": "预算金额",
                    "example": 5000
                  },
                  "start_date": {
                    "type": "string",
                    "format": "date",
                    "description": "开始日期",
                    "example": "2024-01-01"
                  },
                  "end_date": {
                    "type": "string",
                    "format": "date",
                    "description": "结束日期",
                    "example": "2024-12-31"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "active",
                      "inactive",
                      "pending"
                    ],
                    "description": "状态",
                    "example": "active"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "成功更新渠道跟踪",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/ChannelTracking"
                    },
                    "message": {
                      "type": "string",
                      "example": "渠道跟踪更新成功"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidationErrorResponse"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "description": "未找到指定的渠道跟踪",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "409": {
            "description": "跟踪代码已存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      },
      "delete": {
        "tags": [
          "Channel Tracking"
        ],
        "summary": "删除渠道跟踪",
        "description": "根据ID删除指定的渠道跟踪记录",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "description": "渠道跟踪ID"
          }
        ],
        "responses": {
          "200": {
            "description": "成功删除渠道跟踪",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "渠道跟踪删除成功"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "无效的ID参数",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "description": "未找到指定的渠道跟踪",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "409": {
            "description": "无法删除，渠道跟踪正在使用中",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/channel-trackings/statistics": {
      "get": {
        "tags": [
          "Channel Tracking"
        ],
        "summary": "获取渠道跟踪统计信息",
        "description": "获取渠道跟踪的各种统计数据和分析报告",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "period",
            "schema": {
              "type": "string",
              "enum": [
                "week",
                "month",
                "quarter",
                "year"
              ],
              "default": "month"
            },
            "description": "统计周期"
          },
          {
            "in": "query",
            "name": "channel_type",
            "schema": {
              "type": "string",
              "enum": [
                "social_media",
                "search_engine",
                "referral",
                "direct",
                "email",
                "advertisement"
              ]
            },
            "description": "按渠道类型筛选"
          },
          {
            "in": "query",
            "name": "start_date",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "开始日期"
          },
          {
            "in": "query",
            "name": "end_date",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "结束日期"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取统计信息",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "total_channels": {
                          "type": "integer",
                          "description": "总渠道数",
                          "example": 25
                        },
                        "active_channels": {
                          "type": "integer",
                          "description": "活跃渠道数",
                          "example": 18
                        },
                        "total_budget": {
                          "type": "number",
                          "format": "decimal",
                          "description": "总预算",
                          "example": 125000
                        },
                        "spent_budget": {
                          "type": "number",
                          "format": "decimal",
                          "description": "已花费预算",
                          "example": 89600
                        },
                        "channel_performance": {
                          "type": "array",
                          "description": "各渠道表现",
                          "items": {
                            "type": "object",
                            "properties": {
                              "channel_name": {
                                "type": "string",
                                "example": "微信朋友圈推广"
                              },
                              "tracking_code": {
                                "type": "string",
                                "example": "WX001"
                              },
                              "visits": {
                                "type": "integer",
                                "example": 1250
                              },
                              "conversions": {
                                "type": "integer",
                                "example": 45
                              },
                              "conversion_rate": {
                                "type": "number",
                                "format": "percentage",
                                "example": 3.6
                              },
                              "cost_per_conversion": {
                                "type": "number",
                                "format": "decimal",
                                "example": 89.5
                              }
                            }
                          }
                        },
                        "channel_type_stats": {
                          "type": "array",
                          "description": "按渠道类型统计",
                          "items": {
                            "type": "object",
                            "properties": {
                              "channel_type": {
                                "type": "string",
                                "example": "social_media"
                              },
                              "count": {
                                "type": "integer",
                                "example": 8
                              },
                              "total_budget": {
                                "type": "number",
                                "format": "decimal",
                                "example": 45000
                              },
                              "total_visits": {
                                "type": "integer",
                                "example": 5680
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/channel-trackings": {
      "get": {
        "summary": "获取channel_trackings列表",
        "tags": [
          "ChannelTracking"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      },
      "post": {
        "summary": "创建channel_trackings",
        "tags": [
          "ChannelTracking"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "201": {
            "description": "创建成功"
          }
        }
      }
    },
    "/api/channel-trackings/{id}": {
      "get": {
        "summary": "获取channel_trackings详情",
        "tags": [
          "ChannelTracking"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      },
      "put": {
        "summary": "更新channel_trackings",
        "tags": [
          "ChannelTracking"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "更新成功"
          }
        }
      },
      "delete": {
        "summary": "删除channel_trackings",
        "tags": [
          "ChannelTracking"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功"
          }
        }
      }
    },
    "/api/channels": {
      "get": {
        "summary": "获取channels列表",
        "tags": [
          "Channel"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      },
      "post": {
        "summary": "创建channels",
        "tags": [
          "Channel"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "201": {
            "description": "创建成功"
          }
        }
      }
    },
    "/api/channels/{id}": {
      "get": {
        "summary": "获取channels详情",
        "tags": [
          "Channel"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      },
      "put": {
        "summary": "更新channels",
        "tags": [
          "Channel"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "更新成功"
          }
        }
      },
      "delete": {
        "summary": "删除channels",
        "tags": [
          "Channel"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功"
          }
        }
      }
    },
    "/api/chat": {
      "get": {
        "summary": "获取聊天会话列表",
        "description": "获取当前用户的聊天会话列表，支持分页",
        "tags": [
          "Chat"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "number",
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "number",
              "default": 10
            },
            "description": "每页大小"
          }
        ],
        "responses": {
          "200": {
            "description": "获取聊天会话列表成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/ChatSessionList"
                    },
                    "message": {
                      "type": "string",
                      "example": "获取聊天会话列表成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "服务器错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/chat/sessions": {
      "get": {
        "summary": "获取聊天会话",
        "description": "获取当前用户的所有聊天会话",
        "tags": [
          "Chat"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取聊天会话成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/ChatSession"
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "获取聊天会话成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "服务器错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "summary": "创建新的聊天会话",
        "description": "为指定用户创建新的聊天会话",
        "tags": [
          "Chat"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateSessionRequest"
              },
              "example": {
                "userId": 1,
                "type": "consultation"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "创建聊天会话成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/ChatSession"
                    },
                    "message": {
                      "type": "string",
                      "example": "创建聊天会话成功"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "服务器错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/chat/messages": {
      "post": {
        "summary": "发送消息",
        "description": "在指定的聊天会话中发送消息",
        "tags": [
          "Chat"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SendMessageRequest"
              },
              "example": {
                "sessionId": 1,
                "content": "你好，我想咨询一下幼儿园的入学事宜",
                "type": "text"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "发送消息成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/ChatMessage"
                    },
                    "message": {
                      "type": "string",
                      "example": "发送消息成功"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "会话不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "服务器错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/chat/sessions/{sessionId}/messages": {
      "get": {
        "summary": "获取聊天记录",
        "description": "获取指定会话的聊天消息记录",
        "tags": [
          "Chat"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "sessionId",
            "required": true,
            "schema": {
              "type": "number"
            },
            "description": "会话ID"
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "number",
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "number",
              "default": 50
            },
            "description": "每页大小"
          }
        ],
        "responses": {
          "200": {
            "description": "获取聊天记录成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/MessageList"
                    },
                    "message": {
                      "type": "string",
                      "example": "获取聊天记录成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "会话不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "服务器错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/classes/stats": {
      "get": {
        "summary": "获取班级统计信息",
        "description": "获取系统中班级的统计数据，包括总数、各年级分布等",
        "tags": [
          "班级管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取班级统计信息",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "totalClasses": {
                          "type": "integer",
                          "description": "班级总数",
                          "example": 12
                        },
                        "gradeDistribution": {
                          "type": "object",
                          "description": "年级分布",
                          "additionalProperties": {
                            "type": "integer"
                          },
                          "example": {
                            "小班": 4,
                            "中班": 4,
                            "大班": 4
                          }
                        },
                        "averageStudentsPerClass": {
                          "type": "number",
                          "description": "平均每班学生数",
                          "example": 25.5
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/classes/statistics": {
      "get": {
        "summary": "获取班级统计信息 (兼容性接口)",
        "description": "获取系统中班级的统计数据，与 /stats 接口功能相同，提供兼容性支持",
        "tags": [
          "班级管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "deprecated": true,
        "responses": {
          "200": {
            "description": "成功获取班级统计信息",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ClassStatsResponse"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/classes": {
      "get": {
        "summary": "获取classes列表",
        "description": "分页获取班级列表，支持按年级、教师等条件筛选",
        "tags": [
          "Classe"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 10
            },
            "description": "每页数量"
          },
          {
            "in": "query",
            "name": "grade",
            "schema": {
              "type": "string",
              "enum": [
                "小班",
                "中班",
                "大班"
              ]
            },
            "description": "年级筛选"
          },
          {
            "in": "query",
            "name": "teacherId",
            "schema": {
              "type": "integer"
            },
            "description": "教师ID筛选"
          },
          {
            "in": "query",
            "name": "search",
            "schema": {
              "type": "string"
            },
            "description": "搜索关键词（班级名称）"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "classes": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/Class"
                          }
                        },
                        "pagination": {
                          "$ref": "#/components/schemas/Pagination"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      },
      "post": {
        "summary": "创建classes",
        "description": "创建一个新的班级，需要提供班级名称、年级等基本信息",
        "tags": [
          "Classe"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "name",
                  "grade"
                ],
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "班级名称",
                    "example": "小一班"
                  },
                  "grade": {
                    "type": "string",
                    "enum": [
                      "小班",
                      "中班",
                      "大班"
                    ],
                    "description": "年级",
                    "example": "小班"
                  },
                  "capacity": {
                    "type": "integer",
                    "minimum": 1,
                    "maximum": 50,
                    "description": "班级容量",
                    "example": 30
                  },
                  "teacherId": {
                    "type": "integer",
                    "description": "主班教师ID",
                    "example": 1
                  },
                  "description": {
                    "type": "string",
                    "description": "班级描述",
                    "example": "活泼可爱的小班"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "创建成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "班级创建成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/Class"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "message": "班级名称不能为空"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "409": {
            "description": "班级名称已存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "message": "班级名称已存在"
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/classes/{id}": {
      "get": {
        "summary": "获取classes详情",
        "description": "根据班级ID获取班级的详细信息，包括教师、学生等关联数据",
        "tags": [
          "Classe"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "班级ID"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/ClassDetail"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "description": "班级不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "message": "班级不存在"
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      },
      "put": {
        "summary": "更新classes",
        "description": "根据班级ID更新班级的详细信息",
        "tags": [
          "Classe"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "班级ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "班级名称",
                    "example": "小一班"
                  },
                  "grade": {
                    "type": "string",
                    "enum": [
                      "小班",
                      "中班",
                      "大班"
                    ],
                    "description": "年级",
                    "example": "小班"
                  },
                  "capacity": {
                    "type": "integer",
                    "minimum": 1,
                    "maximum": 50,
                    "description": "班级容量",
                    "example": 30
                  },
                  "teacherId": {
                    "type": "integer",
                    "description": "主班教师ID",
                    "example": 1
                  },
                  "description": {
                    "type": "string",
                    "description": "班级描述",
                    "example": "活泼可爱的小班"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "班级信息更新成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/Class"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "description": "班级不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "message": "班级不存在"
                }
              }
            }
          },
          "409": {
            "description": "班级名称已存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "message": "班级名称已存在"
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      },
      "delete": {
        "summary": "删除classes",
        "description": "根据班级ID删除班级，只有在班级没有学生的情况下才能删除",
        "tags": [
          "Classe"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "班级ID"
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "班级删除成功"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "班级有学生，无法删除",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "message": "班级还有学生，无法删除"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "description": "班级不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "message": "班级不存在"
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/classes/{id}/students": {
      "get": {
        "summary": "获取班级学生列表",
        "description": "获取指定班级的所有学生信息，支持分页和搜索",
        "tags": [
          "班级管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "班级ID"
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 10
            },
            "description": "每页数量"
          },
          {
            "in": "query",
            "name": "search",
            "schema": {
              "type": "string"
            },
            "description": "搜索关键词（学生姓名）"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取班级学生列表",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "students": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/Student"
                          }
                        },
                        "pagination": {
                          "$ref": "#/components/schemas/Pagination"
                        },
                        "class": {
                          "$ref": "#/components/schemas/Class"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "description": "班级不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "message": "班级不存在"
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      },
      "post": {
        "summary": "向班级添加学生",
        "description": "将一个或多个学生添加到指定班级中",
        "tags": [
          "班级管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "班级ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "studentIds"
                ],
                "properties": {
                  "studentIds": {
                    "type": "array",
                    "items": {
                      "type": "integer"
                    },
                    "description": "要添加的学生ID数组",
                    "example": [
                      1,
                      2,
                      3
                    ]
                  },
                  "studentId": {
                    "type": "integer",
                    "description": "单个学生ID（兼容性参数）",
                    "example": 1
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "成功添加学生到班级",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "学生添加成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "addedCount": {
                          "type": "integer",
                          "description": "成功添加的学生数量",
                          "example": 3
                        },
                        "skippedCount": {
                          "type": "integer",
                          "description": "跳过的学生数量（已在班级中）",
                          "example": 0
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "examples": {
                  "no_students": {
                    "summary": "未提供学生ID",
                    "value": {
                      "success": false,
                      "message": "请提供要添加的学生ID"
                    }
                  },
                  "capacity_exceeded": {
                    "summary": "班级容量不足",
                    "value": {
                      "success": false,
                      "message": "班级容量不足"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "description": "班级或学生不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "message": "班级不存在"
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/classes/{id}/students/{studentId}": {
      "delete": {
        "summary": "从班级移除学生",
        "description": "将指定学生从班级中移除",
        "tags": [
          "班级管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "班级ID"
          },
          {
            "in": "path",
            "name": "studentId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "学生ID"
          }
        ],
        "responses": {
          "200": {
            "description": "成功从班级移除学生",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "学生移除成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "description": "班级或学生不存在，或学生不在该班级中",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "examples": {
                  "class_not_found": {
                    "summary": "班级不存在",
                    "value": {
                      "success": false,
                      "message": "班级不存在"
                    }
                  },
                  "student_not_found": {
                    "summary": "学生不存在",
                    "value": {
                      "success": false,
                      "message": "学生不存在"
                    }
                  },
                  "student_not_in_class": {
                    "summary": "学生不在该班级中",
                    "value": {
                      "success": false,
                      "message": "学生不在该班级中"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/conversion-trackings/by-channel/{channelId}": {
      "get": {
        "summary": "按渠道获取转化跟踪列表",
        "tags": [
          "Marketing - Conversion Tracking"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "channelId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "营销渠道ID"
          }
        ],
        "responses": {
          "200": {
            "description": "按渠道获取转化跟踪列表成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "按渠道获取转化跟踪列表成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "channelId": {
                          "type": "integer",
                          "description": "渠道ID"
                        },
                        "items": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/ConversionTracking"
                          }
                        },
                        "total": {
                          "type": "integer",
                          "description": "记录总数"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/conversion-trackings": {
      "get": {
        "summary": "获取转化跟踪列表",
        "tags": [
          "Marketing - Conversion Tracking"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 10
            },
            "description": "每页数量"
          }
        ],
        "responses": {
          "200": {
            "description": "获取转化跟踪列表成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedConversionTrackingResponse"
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      },
      "post": {
        "summary": "创建转化跟踪",
        "tags": [
          "Marketing - Conversion Tracking"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConversionTrackingInput"
              },
              "example": {
                "channelId": 1,
                "conversionType": 1,
                "conversionSource": "微信公众号",
                "conversionEvent": "点击咨询按钮",
                "eventValue": 100
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "创建转化跟踪成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "创建转化跟踪成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "description": "新创建的转化跟踪记录ID"
                        },
                        "conversionType": {
                          "type": "integer",
                          "description": "转化类型"
                        },
                        "conversionSource": {
                          "type": "string",
                          "description": "转化来源"
                        },
                        "conversionEvent": {
                          "type": "string",
                          "description": "转化事件"
                        },
                        "createTime": {
                          "type": "string",
                          "format": "date-time",
                          "description": "创建时间"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/conversion-trackings/{id}": {
      "get": {
        "summary": "获取单个转化跟踪",
        "tags": [
          "Marketing - Conversion Tracking"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "转化跟踪记录ID"
          }
        ],
        "responses": {
          "200": {
            "description": "获取转化跟踪详情成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取转化跟踪详情成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/ConversionTracking"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "转化跟踪记录不存在"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      },
      "put": {
        "summary": "更新转化跟踪",
        "tags": [
          "Marketing - Conversion Tracking"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "转化跟踪记录ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConversionTrackingUpdate"
              },
              "example": {
                "conversionStatus": 1,
                "followUpStatus": 1,
                "eventValue": 150
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新转化跟踪成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "更新转化跟踪成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "description": "转化跟踪记录ID"
                        },
                        "updateTime": {
                          "type": "string",
                          "format": "date-time",
                          "description": "更新时间"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "转化跟踪记录不存在"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      },
      "delete": {
        "summary": "删除转化跟踪",
        "tags": [
          "Marketing - Conversion Tracking"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "转化跟踪记录ID"
          }
        ],
        "responses": {
          "200": {
            "description": "删除转化跟踪成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "删除转化跟踪成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "description": "被删除的转化跟踪记录ID"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "转化跟踪记录不存在"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/conversion-trackings/report": {
      "get": {
        "summary": "获取转化跟踪报告",
        "tags": [
          "Marketing - Conversion Tracking"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取转化跟踪报告成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取转化跟踪报告成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/ConversionTrackingReport"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "description": "权限不足"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/conversion-trackings": {
      "get": {
        "summary": "获取conversion_trackings列表",
        "tags": [
          "ConversionTracking"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      },
      "post": {
        "summary": "创建conversion_trackings",
        "tags": [
          "ConversionTracking"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "201": {
            "description": "创建成功"
          }
        }
      }
    },
    "/api/conversion-trackings/{id}": {
      "get": {
        "summary": "获取conversion_trackings详情",
        "tags": [
          "ConversionTracking"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      },
      "put": {
        "summary": "更新conversion_trackings",
        "tags": [
          "ConversionTracking"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "更新成功"
          }
        }
      },
      "delete": {
        "summary": "删除conversion_trackings",
        "tags": [
          "ConversionTracking"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功"
          }
        }
      }
    },
    "/api/coupons": {
      "get": {
        "summary": "获取coupons列表",
        "tags": [
          "Coupon"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      },
      "post": {
        "summary": "创建coupons",
        "tags": [
          "Coupon"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "201": {
            "description": "创建成功"
          }
        }
      }
    },
    "/api/coupons/{id}": {
      "get": {
        "summary": "获取coupons详情",
        "tags": [
          "Coupon"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      },
      "put": {
        "summary": "更新coupons",
        "tags": [
          "Coupon"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "更新成功"
          }
        }
      },
      "delete": {
        "summary": "删除coupons",
        "tags": [
          "Coupon"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功"
          }
        }
      }
    },
    "/api/crud": {
      "get": {
        "tags": [
          "Crud Management"
        ],
        "summary": "获取crud列表",
        "description": "获取系统中所有crud的列表",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "description": "页码",
            "schema": {
              "type": "integer",
              "default": 1,
              "minimum": 1
            }
          },
          {
            "in": "query",
            "name": "pageSize",
            "description": "每页数量",
            "schema": {
              "type": "integer",
              "default": 10,
              "minimum": 1,
              "maximum": 100
            }
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取crud列表",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CrudListResponse"
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Crud Management"
        ],
        "summary": "创建新crud",
        "description": "在系统中创建新的crud",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateCrudRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Crud创建成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CrudResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/crud/{id}": {
      "get": {
        "tags": [
          "Crud Management"
        ],
        "summary": "获取crud详情",
        "description": "根据ID获取crud的详细信息",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "description": "Crud ID",
            "schema": {
              "type": "integer",
              "minimum": 1
            }
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取crud详情",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CrudResponse"
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Crud不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Crud Management"
        ],
        "summary": "更新crud信息",
        "description": "根据ID更新crud的信息",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "description": "Crud ID",
            "schema": {
              "type": "integer",
              "minimum": 1
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateCrudRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Crud更新成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CrudResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Crud不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Crud Management"
        ],
        "summary": "删除crud",
        "description": "根据ID删除crud",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "description": "Crud ID",
            "schema": {
              "type": "integer",
              "minimum": 1
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Crud删除成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": null
                    },
                    "message": {
                      "type": "string",
                      "example": "删除crud成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Crud不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/teacher/customer-applications": {
      "post": {
        "summary": "教师申请客户（支持批量）",
        "tags": [
          "CustomerApplications"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "customerIds"
                ],
                "properties": {
                  "customerIds": {
                    "type": "array",
                    "items": {
                      "type": "integer"
                    },
                    "description": "客户ID列表",
                    "example": [
                      1,
                      2,
                      3
                    ]
                  },
                  "applyReason": {
                    "type": "string",
                    "description": "申请理由",
                    "example": "这些客户是我之前在活动中接触过的"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "申请提交成功"
          },
          "401": {
            "description": "未授权"
          }
        }
      },
      "get": {
        "summary": "获取教师的申请记录",
        "tags": [
          "CustomerApplications"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string",
              "enum": [
                "pending",
                "approved",
                "rejected"
              ]
            },
            "description": "申请状态"
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer",
              "default": 20
            },
            "description": "每页数量"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "description": "未授权"
          }
        }
      }
    },
    "/api/principal/customer-applications": {
      "get": {
        "summary": "获取园长待审批的申请列表",
        "tags": [
          "CustomerApplications"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string",
              "enum": [
                "pending",
                "approved",
                "rejected"
              ]
            },
            "description": "申请状态"
          },
          {
            "in": "query",
            "name": "teacherId",
            "schema": {
              "type": "integer"
            },
            "description": "教师ID"
          },
          {
            "in": "query",
            "name": "customerId",
            "schema": {
              "type": "integer"
            },
            "description": "客户ID"
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer",
              "default": 20
            },
            "description": "每页数量"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "description": "未授权"
          }
        }
      }
    },
    "/api/principal/customer-applications/{id}/review": {
      "post": {
        "summary": "园长审批申请",
        "tags": [
          "CustomerApplications"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "申请ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "action"
                ],
                "properties": {
                  "action": {
                    "type": "string",
                    "enum": [
                      "approve",
                      "reject"
                    ],
                    "description": "审批操作",
                    "example": "approve"
                  },
                  "rejectReason": {
                    "type": "string",
                    "description": "拒绝理由（拒绝时必填）",
                    "example": "该客户已有其他教师跟进"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "审批成功"
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权"
          }
        }
      }
    },
    "/api/principal/customer-applications/batch-review": {
      "post": {
        "summary": "批量审批申请",
        "tags": [
          "CustomerApplications"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "applicationIds",
                  "action"
                ],
                "properties": {
                  "applicationIds": {
                    "type": "array",
                    "items": {
                      "type": "integer"
                    },
                    "description": "申请ID列表",
                    "example": [
                      1,
                      2,
                      3
                    ]
                  },
                  "action": {
                    "type": "string",
                    "enum": [
                      "approve",
                      "reject"
                    ],
                    "description": "审批操作",
                    "example": "approve"
                  },
                  "rejectReason": {
                    "type": "string",
                    "description": "拒绝理由（批量拒绝时必填）",
                    "example": "批量拒绝原因"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "批量审批成功"
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权"
          }
        }
      }
    },
    "/api/customer-applications/stats": {
      "get": {
        "summary": "获取申请统计",
        "tags": [
          "CustomerApplications"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "description": "未授权"
          }
        }
      }
    },
    "/api/customer-applications/{id}": {
      "get": {
        "summary": "获取申请详情",
        "tags": [
          "CustomerApplications"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "申请ID"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "申请不存在"
          }
        }
      }
    },
    "/api/customer-follow-enhanced/records": {
      "post": {
        "summary": "创建跟进记录",
        "tags": [
          "客户跟进增强"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "customerId": {
                    "type": "integer",
                    "description": "客户ID"
                  },
                  "stage": {
                    "type": "integer",
                    "description": "跟进阶段 (1-8)"
                  },
                  "subStage": {
                    "type": "string",
                    "description": "子阶段标识"
                  },
                  "followType": {
                    "type": "string",
                    "description": "跟进方式"
                  },
                  "content": {
                    "type": "string",
                    "description": "跟进内容"
                  },
                  "customerFeedback": {
                    "type": "string",
                    "description": "客户反馈"
                  },
                  "nextFollowDate": {
                    "type": "string",
                    "format": "date-time",
                    "description": "下次跟进时间"
                  },
                  "mediaFiles": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "format": "binary"
                    },
                    "description": "媒体文件"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "创建成功"
          },
          "400": {
            "description": "参数错误"
          },
          "401": {
            "description": "未认证"
          }
        }
      }
    },
    "/api/customer-follow-enhanced/records/{id}": {
      "put": {
        "summary": "更新跟进记录",
        "tags": [
          "客户跟进增强"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "跟进记录ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "content": {
                    "type": "string"
                  },
                  "customerFeedback": {
                    "type": "string"
                  },
                  "stageStatus": {
                    "type": "string",
                    "enum": [
                      "pending",
                      "in_progress",
                      "completed",
                      "skipped"
                    ]
                  },
                  "nextFollowDate": {
                    "type": "string",
                    "format": "date-time"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新成功"
          }
        }
      }
    },
    "/api/customer-follow-enhanced/customers/{customerId}/timeline": {
      "get": {
        "summary": "获取客户跟进时间线",
        "tags": [
          "客户跟进增强"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "customerId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "客户ID"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer"
                          },
                          "stage": {
                            "type": "integer"
                          },
                          "stageName": {
                            "type": "string"
                          },
                          "subStage": {
                            "type": "string"
                          },
                          "followType": {
                            "type": "string"
                          },
                          "content": {
                            "type": "string"
                          },
                          "customerFeedback": {
                            "type": "string"
                          },
                          "aiSuggestions": {
                            "type": "object"
                          },
                          "stageStatus": {
                            "type": "string"
                          },
                          "mediaFiles": {
                            "type": "array"
                          },
                          "teacherName": {
                            "type": "string"
                          },
                          "createdAt": {
                            "type": "string",
                            "format": "date-time"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/customer-follow-enhanced/stages": {
      "get": {
        "summary": "获取阶段配置",
        "tags": [
          "客户跟进增强"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      }
    },
    "/api/customer-follow-enhanced/records/{followRecordId}/ai-suggestions": {
      "get": {
        "summary": "获取AI建议",
        "tags": [
          "客户跟进增强"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "followRecordId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "跟进记录ID"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      }
    },
    "/api/customer-follow-enhanced/records/{followRecordId}/complete": {
      "post": {
        "summary": "完成阶段",
        "tags": [
          "客户跟进增强"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "followRecordId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "跟进记录ID"
          }
        ],
        "responses": {
          "200": {
            "description": "完成成功"
          }
        }
      }
    },
    "/api/customer-follow-enhanced/records/{followRecordId}/skip": {
      "post": {
        "summary": "跳过阶段",
        "tags": [
          "客户跟进增强"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "followRecordId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "跟进记录ID"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "reason": {
                    "type": "string",
                    "description": "跳过原因"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "跳过成功"
          }
        }
      }
    },
    "/customer-pool": {
      "get": {
        "tags": [
          "CustomerPool"
        ],
        "summary": "获取客户池列表",
        "description": "分页获取客户池列表，支持多种筛选条件",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer",
              "default": 10
            },
            "description": "每页数量"
          },
          {
            "in": "query",
            "name": "source",
            "schema": {
              "type": "string",
              "enum": [
                "WEBSITE",
                "PHONE",
                "EMAIL",
                "REFERRAL",
                "OTHER"
              ]
            },
            "description": "来源渠道筛选"
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string",
              "enum": [
                "NEW",
                "CONTACTED",
                "QUALIFIED",
                "PROPOSAL",
                "NEGOTIATION",
                "CLOSED_WON",
                "CLOSED_LOST"
              ]
            },
            "description": "客户状态筛选"
          },
          {
            "in": "query",
            "name": "teacher",
            "schema": {
              "type": "integer"
            },
            "description": "负责老师ID筛选"
          },
          {
            "in": "query",
            "name": "keyword",
            "schema": {
              "type": "string"
            },
            "description": "关键词搜索(姓名、电话、跟进内容、备注)"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "items": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/CustomerPoolItem"
                          }
                        },
                        "total": {
                          "type": "integer",
                          "description": "总记录数"
                        },
                        "page": {
                          "type": "integer",
                          "description": "当前页码"
                        },
                        "pageSize": {
                          "type": "integer",
                          "description": "每页数量"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      },
      "post": {
        "tags": [
          "CustomerPool"
        ],
        "summary": "创建客户池记录",
        "description": "添加新的客户记录到客户池",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CustomerPoolRequest"
              },
              "example": {
                "name": "张三",
                "phone": "13800138000",
                "email": "zhangsan@example.com",
                "source": "WEBSITE",
                "remark": "网站注册用户",
                "teacherId": 1
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "创建成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/CustomerPoolItem"
                    },
                    "message": {
                      "type": "string",
                      "example": "创建客户记录成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/customer-pool/{id}": {
      "put": {
        "tags": [
          "CustomerPool"
        ],
        "summary": "更新客户池记录",
        "description": "更新指定客户的信息",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "客户ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "客户姓名"
                  },
                  "phone": {
                    "type": "string",
                    "description": "联系电话"
                  },
                  "source": {
                    "type": "string",
                    "enum": [
                      "WEBSITE",
                      "PHONE",
                      "EMAIL",
                      "REFERRAL",
                      "OTHER"
                    ],
                    "description": "来源渠道"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "NEW",
                      "CONTACTED",
                      "QUALIFIED",
                      "PROPOSAL",
                      "NEGOTIATION",
                      "CLOSED_WON",
                      "CLOSED_LOST"
                    ],
                    "description": "客户状态"
                  },
                  "remark": {
                    "type": "string",
                    "description": "备注信息"
                  },
                  "teacherId": {
                    "type": "integer",
                    "description": "分配的老师ID"
                  }
                }
              },
              "example": {
                "name": "李四",
                "phone": "13900139000",
                "source": "PHONE",
                "status": "CONTACTED",
                "remark": "已联系，有意向",
                "teacherId": 2
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/CustomerPoolItem"
                    },
                    "message": {
                      "type": "string",
                      "example": "更新客户记录成功"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      },
      "delete": {
        "tags": [
          "CustomerPool"
        ],
        "summary": "删除客户池记录",
        "description": "软删除指定的客户记录及其相关跟进记录",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "客户ID"
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "删除客户记录成功"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      },
      "get": {
        "tags": [
          "CustomerPool"
        ],
        "summary": "获取客户详情",
        "description": "根据客户ID获取客户的详细信息，包括基本信息、跟进记录、关联学生、分配老师等",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "客户ID"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/CustomerPoolDetail"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "404": {
            "description": "客户不存在",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string",
                          "example": "NOT_FOUND"
                        },
                        "message": {
                          "type": "string",
                          "example": "客户不存在"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/customer-pool/stats": {
      "get": {
        "tags": [
          "CustomerPool"
        ],
        "summary": "获取客户池统计数据",
        "description": "获取客户池的各项统计数据，包括总客户数、本月新增、未分配、转化等",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/CustomerPoolStats"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/customer-pool/list": {
      "get": {
        "tags": [
          "CustomerPool"
        ],
        "summary": "获取客户池列表数据",
        "description": "获取客户池详细列表数据，与根路径接口功能相同，提供备用接口",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer",
              "default": 10
            },
            "description": "每页数量"
          },
          {
            "in": "query",
            "name": "source",
            "schema": {
              "type": "string",
              "enum": [
                "WEBSITE",
                "PHONE",
                "EMAIL",
                "REFERRAL",
                "OTHER"
              ]
            },
            "description": "来源渠道筛选"
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string",
              "enum": [
                "NEW",
                "CONTACTED",
                "QUALIFIED",
                "PROPOSAL",
                "NEGOTIATION",
                "CLOSED_WON",
                "CLOSED_LOST"
              ]
            },
            "description": "客户状态筛选"
          },
          {
            "in": "query",
            "name": "teacher",
            "schema": {
              "type": "integer"
            },
            "description": "负责老师ID筛选"
          },
          {
            "in": "query",
            "name": "keyword",
            "schema": {
              "type": "string"
            },
            "description": "关键词搜索"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "items": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/CustomerPoolItem"
                          }
                        },
                        "total": {
                          "type": "integer"
                        },
                        "page": {
                          "type": "integer"
                        },
                        "pageSize": {
                          "type": "integer"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/customer-pool/assign": {
      "post": {
        "tags": [
          "CustomerPool"
        ],
        "summary": "分配客户给老师",
        "description": "将单个客户分配给指定的老师负责跟进",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AssignCustomerRequest"
              },
              "example": {
                "customerId": 1,
                "teacherId": 2,
                "remark": "分配给王老师负责"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "分配成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "description": "客户ID"
                        },
                        "teacherId": {
                          "type": "integer",
                          "description": "老师ID"
                        },
                        "teacherName": {
                          "type": "string",
                          "description": "老师姓名"
                        },
                        "assignTime": {
                          "type": "string",
                          "format": "date-time",
                          "description": "分配时间"
                        },
                        "remark": {
                          "type": "string",
                          "description": "分配备注"
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "分配成功"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/customer-pool/batch-assign": {
      "post": {
        "tags": [
          "CustomerPool"
        ],
        "summary": "批量分配客户",
        "description": "将多个客户批量分配给指定的老师负责跟进",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BatchAssignRequest"
              },
              "example": {
                "customerIds": [
                  1,
                  2,
                  3,
                  4
                ],
                "teacherId": 2,
                "remark": "批量分配给张老师"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "批量分配成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "assignedCount": {
                          "type": "integer",
                          "description": "成功分配的客户数量"
                        },
                        "teacherId": {
                          "type": "integer",
                          "description": "老师ID"
                        },
                        "teacherName": {
                          "type": "string",
                          "description": "老师姓名"
                        },
                        "assignTime": {
                          "type": "string",
                          "format": "date-time",
                          "description": "分配时间"
                        },
                        "remark": {
                          "type": "string",
                          "description": "分配备注"
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "批量分配成功"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/customer-pool/export": {
      "get": {
        "tags": [
          "CustomerPool"
        ],
        "summary": "导出客户数据",
        "description": "根据筛选条件导出客户数据为CSV格式文件",
        "parameters": [
          {
            "in": "query",
            "name": "source",
            "schema": {
              "type": "string",
              "enum": [
                "WEBSITE",
                "PHONE",
                "EMAIL",
                "REFERRAL",
                "OTHER"
              ]
            },
            "description": "来源渠道筛选"
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string",
              "enum": [
                "NEW",
                "CONTACTED",
                "QUALIFIED",
                "PROPOSAL",
                "NEGOTIATION",
                "CLOSED_WON",
                "CLOSED_LOST"
              ]
            },
            "description": "客户状态筛选"
          },
          {
            "in": "query",
            "name": "teacher",
            "schema": {
              "type": "integer"
            },
            "description": "负责老师ID筛选"
          },
          {
            "in": "query",
            "name": "keyword",
            "schema": {
              "type": "string"
            },
            "description": "关键词搜索"
          }
        ],
        "responses": {
          "200": {
            "description": "导出成功",
            "content": {
              "application/vnd.ms-excel": {
                "schema": {
                  "type": "string",
                  "format": "binary",
                  "description": "CSV格式的客户数据文件"
                }
              }
            },
            "headers": {
              "Content-Disposition": {
                "description": "文件下载头信息",
                "schema": {
                  "type": "string",
                  "example": "attachment; filename=customers.csv"
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/customer-pool/by-source/{source}": {
      "get": {
        "tags": [
          "CustomerPool"
        ],
        "summary": "按来源获取客户池",
        "description": "根据指定来源渠道获取客户列表",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "source",
            "required": true,
            "schema": {
              "type": "string",
              "enum": [
                "WEBSITE",
                "PHONE",
                "EMAIL",
                "REFERRAL",
                "OTHER"
              ]
            },
            "description": "来源渠道"
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer",
              "default": 10
            },
            "description": "每页数量"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "items": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/CustomerPoolItem"
                          }
                        },
                        "total": {
                          "type": "integer"
                        },
                        "page": {
                          "type": "integer"
                        },
                        "pageSize": {
                          "type": "integer"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/customer-pool/by-status/{status}": {
      "get": {
        "tags": [
          "CustomerPool"
        ],
        "summary": "按状态获取客户池",
        "description": "根据指定客户状态获取客户列表",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "status",
            "required": true,
            "schema": {
              "type": "string",
              "enum": [
                "NEW",
                "CONTACTED",
                "QUALIFIED",
                "PROPOSAL",
                "NEGOTIATION",
                "CLOSED_WON",
                "CLOSED_LOST"
              ]
            },
            "description": "客户状态"
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer",
              "default": 10
            },
            "description": "每页数量"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "items": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/CustomerPoolItem"
                          }
                        },
                        "total": {
                          "type": "integer"
                        },
                        "page": {
                          "type": "integer"
                        },
                        "pageSize": {
                          "type": "integer"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/customer-pool/{id}/follow-ups": {
      "get": {
        "tags": [
          "CustomerPool"
        ],
        "summary": "获取客户跟进记录",
        "description": "获取指定客户的所有跟进记录，按时间倒序排列",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "客户ID"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/FollowUpRecord"
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/customer-pool/import": {
      "post": {
        "tags": [
          "CustomerPool"
        ],
        "summary": "批量导入客户数据",
        "description": "通过上传文件批量导入客户数据到客户池",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "file": {
                    "type": "string",
                    "format": "binary",
                    "description": "客户数据文件（支持CSV、Excel格式）"
                  }
                },
                "required": [
                  "file"
                ]
              }
            },
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "file": {
                    "type": "string",
                    "description": "文件数据或文件路径"
                  }
                },
                "required": [
                  "file"
                ]
              },
              "example": {
                "file": "customer_data.csv"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "导入成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "importedCount": {
                          "type": "integer",
                          "description": "成功导入的客户数量",
                          "example": 10
                        },
                        "failedCount": {
                          "type": "integer",
                          "description": "导入失败的客户数量",
                          "example": 0
                        },
                        "importTime": {
                          "type": "string",
                          "format": "date-time",
                          "description": "导入时间"
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "导入成功"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误或文件格式不支持",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string",
                          "example": "INVALID_PARAMS"
                        },
                        "message": {
                          "type": "string",
                          "example": "缺少导入文件"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/customer-pool/{id}/follow-up": {
      "post": {
        "tags": [
          "CustomerPool"
        ],
        "summary": "添加客户跟进记录",
        "description": "为指定客户添加新的跟进记录",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "客户ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FollowUpRequest"
              },
              "example": {
                "content": "电话联系客户，了解需求",
                "type": "CALL"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "添加成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "description": "跟进记录ID"
                        },
                        "customerId": {
                          "type": "integer",
                          "description": "客户ID"
                        },
                        "content": {
                          "type": "string",
                          "description": "跟进内容"
                        },
                        "type": {
                          "type": "string",
                          "enum": [
                            "CALL",
                            "EMAIL",
                            "VISIT",
                            "OTHER"
                          ],
                          "description": "跟进类型"
                        },
                        "createTime": {
                          "type": "string",
                          "format": "date-time",
                          "description": "创建时间"
                        },
                        "creator": {
                          "type": "string",
                          "description": "创建人"
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "添加跟进记录成功"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "description": "客户不存在",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string",
                          "example": "NOT_FOUND"
                        },
                        "message": {
                          "type": "string",
                          "example": "客户不存在"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/customers/stats": {
      "get": {
        "summary": "获取客户统计数据",
        "tags": [
          "客户管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取统计数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "$ref": "#/components/schemas/CustomerStats"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/customers/list": {
      "get": {
        "summary": "获取客户列表",
        "tags": [
          "客户管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer",
              "default": 20
            },
            "description": "每页数量"
          },
          {
            "in": "query",
            "name": "name",
            "schema": {
              "type": "string"
            },
            "description": "客户姓名"
          },
          {
            "in": "query",
            "name": "phone",
            "schema": {
              "type": "string"
            },
            "description": "联系电话"
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string"
            },
            "description": "客户状态"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取客户列表",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "list": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/Customer"
                          }
                        },
                        "total": {
                          "type": "integer"
                        },
                        "page": {
                          "type": "integer"
                        },
                        "pageSize": {
                          "type": "integer"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/dashboard/overview": {
      "get": {
        "summary": "获取仪表盘概览",
        "description": "获取系统整体概览数据，包括用户、幼儿园、学生、申请等统计信息",
        "tags": [
          "Dashboard"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取仪表盘概览",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "totalUsers": {
                          "type": "number",
                          "description": "总用户数",
                          "example": 150
                        },
                        "totalKindergartens": {
                          "type": "number",
                          "description": "总幼儿园数",
                          "example": 12
                        },
                        "totalStudents": {
                          "type": "number",
                          "description": "总学生数",
                          "example": 1200
                        },
                        "totalApplications": {
                          "type": "number",
                          "description": "总申请数",
                          "example": 85
                        },
                        "recentActivities": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "number"
                              },
                              "type": {
                                "type": "string"
                              },
                              "description": {
                                "type": "string"
                              },
                              "time": {
                                "type": "string"
                              }
                            }
                          }
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "获取仪表盘概览成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/dashboard/statistics": {
      "get": {
        "summary": "获取统计数据",
        "description": "获取详细的统计数据，包括招生、活动、用户等各类统计信息",
        "tags": [
          "Dashboard"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取统计数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "enrollmentStats": {
                          "type": "object",
                          "properties": {
                            "total": {
                              "type": "number",
                              "example": 1200
                            },
                            "thisMonth": {
                              "type": "number",
                              "example": 85
                            },
                            "growth": {
                              "type": "number",
                              "example": 12.5
                            }
                          }
                        },
                        "activityStats": {
                          "type": "object",
                          "properties": {
                            "total": {
                              "type": "number",
                              "example": 45
                            },
                            "thisMonth": {
                              "type": "number",
                              "example": 8
                            },
                            "participation": {
                              "type": "number",
                              "example": 89.2
                            }
                          }
                        },
                        "userStats": {
                          "type": "object",
                          "properties": {
                            "total": {
                              "type": "number",
                              "example": 150
                            },
                            "active": {
                              "type": "number",
                              "example": 128
                            },
                            "newThisMonth": {
                              "type": "number",
                              "example": 15
                            }
                          }
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "获取统计数据成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/dashboard/real-time/system-status": {
      "get": {
        "summary": "获取实时系统状态",
        "description": "获取系统实时运行状态，包括CPU、内存、数据库等信息",
        "tags": [
          "Dashboard"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取系统状态",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "status": {
                          "type": "string",
                          "example": "healthy"
                        },
                        "uptime": {
                          "type": "string",
                          "example": "15 days 8 hours"
                        },
                        "cpu": {
                          "type": "object",
                          "properties": {
                            "usage": {
                              "type": "number",
                              "example": 45.2
                            },
                            "cores": {
                              "type": "number",
                              "example": 4
                            }
                          }
                        },
                        "memory": {
                          "type": "object",
                          "properties": {
                            "used": {
                              "type": "number",
                              "example": 2.1
                            },
                            "total": {
                              "type": "number",
                              "example": 8
                            },
                            "usage": {
                              "type": "number",
                              "example": 26.3
                            }
                          }
                        },
                        "database": {
                          "type": "object",
                          "properties": {
                            "status": {
                              "type": "string",
                              "example": "connected"
                            },
                            "responseTime": {
                              "type": "number",
                              "example": 12
                            }
                          }
                        },
                        "services": {
                          "type": "object",
                          "properties": {
                            "api": {
                              "type": "string",
                              "example": "running"
                            },
                            "auth": {
                              "type": "string",
                              "example": "running"
                            },
                            "notification": {
                              "type": "string",
                              "example": "running"
                            }
                          }
                        },
                        "lastCheck": {
                          "type": "string",
                          "format": "date-time"
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "获取系统状态成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/dashboard/schedule-data": {
      "get": {
        "summary": "获取日程安排页面的所有数据",
        "description": "获取日程安排页面的完整数据，包括统计信息、日程事件和即将到来的事件",
        "tags": [
          "Dashboard"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "startDate",
            "description": "开始日期",
            "schema": {
              "type": "string",
              "format": "date"
            }
          },
          {
            "in": "query",
            "name": "endDate",
            "description": "结束日期",
            "schema": {
              "type": "string",
              "format": "date"
            }
          },
          {
            "in": "query",
            "name": "viewType",
            "description": "视图类型",
            "schema": {
              "type": "string",
              "enum": [
                "month",
                "week",
                "day"
              ],
              "default": "month"
            }
          },
          {
            "in": "query",
            "name": "limit",
            "description": "即将到来事件的数量限制",
            "schema": {
              "type": "integer",
              "default": 5
            }
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取日程数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "stats": {
                          "type": "object",
                          "description": "统计数据"
                        },
                        "events": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "number"
                              },
                              "title": {
                                "type": "string"
                              },
                              "startTime": {
                                "type": "string",
                                "format": "date-time"
                              },
                              "endTime": {
                                "type": "string",
                                "format": "date-time"
                              }
                            }
                          }
                        },
                        "upcomingEvents": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "number"
                              },
                              "title": {
                                "type": "string"
                              },
                              "startTime": {
                                "type": "string",
                                "format": "date-time"
                              }
                            }
                          }
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "获取日程数据成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "用户未认证"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/dashboard/schedules": {
      "get": {
        "summary": "获取日程安排",
        "description": "获取用户的日程安排列表",
        "tags": [
          "Dashboard"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取日程安排",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "number"
                          },
                          "title": {
                            "type": "string"
                          },
                          "startTime": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "endTime": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "location": {
                            "type": "string"
                          },
                          "description": {
                            "type": "string"
                          }
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "获取日程安排成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/dashboard/principal/stats": {
      "get": {
        "summary": "获取园长仪表盘统计数据",
        "description": "获取园长专用的仪表盘统计数据，包括学生、班级、教师、活动等详细统计",
        "tags": [
          "Dashboard"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取园长统计数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "totalStudents": {
                          "type": "number",
                          "description": "总学生数",
                          "example": 320
                        },
                        "totalClasses": {
                          "type": "number",
                          "description": "总班级数",
                          "example": 12
                        },
                        "totalTeachers": {
                          "type": "number",
                          "description": "总教师数",
                          "example": 24
                        },
                        "totalActivities": {
                          "type": "number",
                          "description": "总活动数",
                          "example": 15
                        },
                        "pendingApplications": {
                          "type": "number",
                          "description": "待处理申请数",
                          "example": 18
                        },
                        "enrollmentRate": {
                          "type": "number",
                          "description": "招生率",
                          "example": 0.85
                        },
                        "teacherAttendanceRate": {
                          "type": "number",
                          "description": "教师出勤率",
                          "example": 0.95
                        },
                        "studentAttendanceRate": {
                          "type": "number",
                          "description": "学生出勤率",
                          "example": 0.92
                        },
                        "studentTrend": {
                          "type": "number",
                          "description": "学生数量趋势",
                          "example": 5.2
                        },
                        "classTrend": {
                          "type": "number",
                          "description": "班级数量趋势",
                          "example": 0
                        },
                        "applicationTrend": {
                          "type": "number",
                          "description": "申请数量趋势",
                          "example": 12.5
                        },
                        "enrollmentTrend": {
                          "type": "number",
                          "description": "招生趋势",
                          "example": 3.8
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "获取园长仪表盘统计数据成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/dashboard/principal/customer-pool/stats": {
      "get": {
        "summary": "获取客户池统计数据",
        "description": "获取客户池相关的统计信息（转发路由）",
        "tags": [
          "Dashboard"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取客户池统计数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "description": "客户池统计数据"
                    },
                    "message": {
                      "type": "string",
                      "example": "获取客户池统计数据成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/dashboard/principal/customer-pool/list": {
      "get": {
        "summary": "获取客户池列表",
        "description": "获取客户池的客户列表（转发路由）",
        "tags": [
          "Dashboard"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取客户池列表",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "customers": {
                          "type": "array",
                          "description": "客户列表"
                        },
                        "pagination": {
                          "type": "object",
                          "description": "分页信息"
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "获取客户池列表成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/dashboard/notices/stats": {
      "get": {
        "summary": "获取通知统计",
        "description": "获取通知的统计数据，包括总数、未读数、重要通知数和紧急通知数",
        "tags": [
          "Dashboard"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取通知统计",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "total": {
                          "type": "number",
                          "description": "总通知数",
                          "example": 15
                        },
                        "unread": {
                          "type": "number",
                          "description": "未读通知数",
                          "example": 5
                        },
                        "important": {
                          "type": "number",
                          "description": "重要通知数",
                          "example": 3
                        },
                        "urgent": {
                          "type": "number",
                          "description": "紧急通知数",
                          "example": 1
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "获取通知统计成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/dashboard/notices/important": {
      "get": {
        "summary": "获取重要通知",
        "description": "获取重要通知列表",
        "tags": [
          "Dashboard"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取重要通知",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "items": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "number",
                                "example": 1
                              },
                              "title": {
                                "type": "string",
                                "example": "2025年秋季招生计划已发布"
                              },
                              "publishTime": {
                                "type": "string",
                                "format": "date-time",
                                "example": "2025-03-15T08:00:00Z"
                              },
                              "importance": {
                                "type": "string",
                                "enum": [
                                  "HIGH",
                                  "MEDIUM",
                                  "LOW"
                                ],
                                "example": "HIGH"
                              },
                              "readCount": {
                                "type": "number",
                                "example": 20
                              },
                              "totalCount": {
                                "type": "number",
                                "example": 24
                              }
                            }
                          }
                        },
                        "total": {
                          "type": "number",
                          "example": 3
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "获取重要通知成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/dashboard/notices/{id}/read": {
      "post": {
        "summary": "标记通知为已读",
        "description": "将指定的通知标记为已读状态",
        "tags": [
          "Dashboard"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "description": "通知ID",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "成功标记已读",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": null
                    },
                    "message": {
                      "type": "string",
                      "example": "标记已读成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "通知不存在"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/dashboard/notices/mark-all-read": {
      "post": {
        "summary": "标记所有通知为已读",
        "description": "将所有未读通知标记为已读状态",
        "tags": [
          "Dashboard"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功标记所有已读",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": null
                    },
                    "message": {
                      "type": "string",
                      "example": "全部标记已读成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/dashboard/notices/{id}": {
      "delete": {
        "summary": "删除通知",
        "description": "删除指定的通知",
        "tags": [
          "Dashboard"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "description": "通知ID",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "成功删除通知",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": null
                    },
                    "message": {
                      "type": "string",
                      "example": "删除通知成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "通知不存在"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/dashboard/enrollment-trend": {
      "get": {
        "summary": "获取招生趋势数据",
        "description": "根据时间周期获取招生趋势数据",
        "tags": [
          "Dashboard"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "period",
            "description": "时间周期",
            "schema": {
              "type": "string",
              "enum": [
                "week",
                "month",
                "year"
              ],
              "default": "month"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取招生趋势数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "periods": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          },
                          "example": [
                            "1月",
                            "2月",
                            "3月",
                            "4月",
                            "5月",
                            "6月"
                          ]
                        },
                        "values": {
                          "type": "array",
                          "items": {
                            "type": "number"
                          },
                          "example": [
                            15,
                            12,
                            20,
                            18,
                            25,
                            22
                          ]
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "获取招生趋势数据成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/dashboard/enrollment-trends": {
      "get": {
        "summary": "获取招生趋势数据",
        "description": "获取详细的招生趋势分析数据",
        "tags": [
          "Dashboard"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取招生趋势数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "description": "招生趋势数据"
                    },
                    "message": {
                      "type": "string",
                      "example": "获取招生趋势数据成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/dashboard/channel-analysis": {
      "get": {
        "summary": "获取招生渠道分析",
        "description": "获取招生渠道的分析数据和效果统计",
        "tags": [
          "Dashboard"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取渠道分析数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "description": "渠道分析数据"
                    },
                    "message": {
                      "type": "string",
                      "example": "获取招生渠道分析成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/dashboard/conversion-funnel": {
      "get": {
        "summary": "获取咨询转化漏斗",
        "description": "获取咨询到报名的转化漏斗数据",
        "tags": [
          "Dashboard"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取转化漏斗数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "description": "转化漏斗数据"
                    },
                    "message": {
                      "type": "string",
                      "example": "获取咨询转化漏斗成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/dashboard/activities": {
      "get": {
        "summary": "获取活动数据",
        "description": "获取活动参与度图表所需的数据",
        "tags": [
          "Dashboard"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取活动数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "description": "活动数据"
                    },
                    "message": {
                      "type": "string",
                      "example": "获取活动数据成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/dashboard/charts": {
      "get": {
        "summary": "获取图表数据",
        "description": "获取仪表板各种图表所需的数据",
        "tags": [
          "Dashboard"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取图表数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "enrollmentTrend": {
                          "type": "array",
                          "description": "招生趋势数据"
                        },
                        "activityStats": {
                          "type": "array",
                          "description": "活动统计数据"
                        },
                        "classDistribution": {
                          "type": "array",
                          "description": "班级分布数据"
                        },
                        "performanceMetrics": {
                          "type": "array",
                          "description": "绩效指标数据"
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "获取图表数据成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/dashboard/kindergarten": {
      "get": {
        "summary": "获取幼儿园概览数据",
        "description": "获取幼儿园的整体概览信息，包括设施、项目等",
        "tags": [
          "Dashboard"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取幼儿园概览数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "basic": {
                          "type": "object",
                          "description": "基本信息"
                        },
                        "facilities": {
                          "type": "object",
                          "description": "设施信息"
                        },
                        "academics": {
                          "type": "object",
                          "description": "教学项目信息"
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "获取幼儿园概览成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/dashboard/campus-overview": {
      "get": {
        "summary": "获取校园概览数据",
        "description": "获取校园的详细概览信息",
        "tags": [
          "Dashboard"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取校园概览数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "description": "校园概览数据"
                    },
                    "message": {
                      "type": "string",
                      "example": "获取校园概览成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/dashboard/statistics/table": {
      "get": {
        "summary": "获取统计表格数据",
        "description": "获取分页的统计表格数据",
        "tags": [
          "Dashboard"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer",
              "default": 10
            },
            "description": "每页数量"
          },
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "开始日期"
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "结束日期"
          },
          {
            "in": "query",
            "name": "type",
            "schema": {
              "type": "string"
            },
            "description": "统计类型"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取表格数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "items": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string"
                              },
                              "date": {
                                "type": "string"
                              },
                              "enrollmentCount": {
                                "type": "number"
                              },
                              "activityCount": {
                                "type": "number"
                              },
                              "participationRate": {
                                "type": "number"
                              },
                              "conversionRate": {
                                "type": "number"
                              },
                              "revenue": {
                                "type": "number"
                              },
                              "updateTime": {
                                "type": "string"
                              }
                            }
                          }
                        },
                        "total": {
                          "type": "number"
                        }
                      }
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/dashboard/statistics/enrollment-trends": {
      "get": {
        "summary": "获取招生趋势数据",
        "description": "获取招生趋势图表数据",
        "tags": [
          "Dashboard"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "开始日期"
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "结束日期"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取招生趋势数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "date": {
                            "type": "string"
                          },
                          "value": {
                            "type": "number"
                          },
                          "label": {
                            "type": "string"
                          }
                        }
                      }
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/dashboard/statistics/activity-data": {
      "get": {
        "summary": "获取活动数据",
        "description": "获取活动统计数据",
        "tags": [
          "Dashboard"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "开始日期"
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "结束日期"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取活动数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "categories": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        },
                        "series": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "name": {
                                "type": "string"
                              },
                              "data": {
                                "type": "array",
                                "items": {
                                  "type": "number"
                                }
                              }
                            }
                          }
                        }
                      }
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/dashboard/cache/stats": {
      "get": {
        "summary": "获取Dashboard缓存统计",
        "tags": [
          "Dashboard"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      }
    },
    "/api/dashboard/cache/clear": {
      "post": {
        "summary": "清除Dashboard缓存",
        "tags": [
          "Dashboard"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "clearAll",
            "schema": {
              "type": "boolean"
            },
            "description": "是否清除所有缓存"
          }
        ],
        "responses": {
          "200": {
            "description": "清除成功"
          }
        }
      }
    },
    "/api/data-import/check-permission": {
      "post": {
        "summary": "检查数据导入权限",
        "tags": [
          "DataImport"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "importType": {
                    "type": "string",
                    "enum": [
                      "student",
                      "parent",
                      "teacher"
                    ],
                    "description": "导入类型"
                  }
                },
                "required": [
                  "importType"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "权限检查成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "hasPermission": {
                          "type": "boolean"
                        },
                        "importType": {
                          "type": "string"
                        },
                        "userId": {
                          "type": "number"
                        }
                      }
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/data-import/parse": {
      "post": {
        "summary": "解析上传的文档",
        "tags": [
          "DataImport"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "filePath": {
                    "type": "string",
                    "description": "文件路径"
                  },
                  "importType": {
                    "type": "string",
                    "enum": [
                      "student",
                      "parent",
                      "teacher"
                    ],
                    "description": "导入类型"
                  }
                },
                "required": [
                  "filePath",
                  "importType"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "文档解析成功"
          }
        }
      }
    },
    "/api/data-import/schema/{type}": {
      "get": {
        "summary": "获取数据库表结构",
        "tags": [
          "DataImport"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "type",
            "required": true,
            "schema": {
              "type": "string",
              "enum": [
                "student",
                "parent",
                "teacher"
              ]
            },
            "description": "数据类型"
          }
        ],
        "responses": {
          "200": {
            "description": "获取表结构成功"
          }
        }
      }
    },
    "/api/data-import/mapping": {
      "post": {
        "summary": "生成字段映射建议",
        "tags": [
          "DataImport"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "documentFields": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "文档字段列表"
                  },
                  "importType": {
                    "type": "string",
                    "enum": [
                      "student",
                      "parent",
                      "teacher"
                    ],
                    "description": "导入类型"
                  }
                },
                "required": [
                  "documentFields",
                  "importType"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "字段映射生成成功"
          }
        }
      }
    },
    "/api/data-import/preview": {
      "post": {
        "summary": "数据预览和验证",
        "tags": [
          "DataImport"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "description": "待导入的数据"
                  },
                  "fieldMappings": {
                    "type": "array",
                    "description": "字段映射关系"
                  },
                  "importType": {
                    "type": "string",
                    "enum": [
                      "student",
                      "parent",
                      "teacher"
                    ],
                    "description": "导入类型"
                  }
                },
                "required": [
                  "data",
                  "fieldMappings",
                  "importType"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "数据预览生成成功"
          }
        }
      }
    },
    "/api/data-import/execute": {
      "post": {
        "summary": "执行数据导入",
        "tags": [
          "DataImport"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "array",
                    "description": "待导入的数据"
                  },
                  "fieldMappings": {
                    "type": "array",
                    "description": "字段映射关系"
                  },
                  "importType": {
                    "type": "string",
                    "enum": [
                      "student",
                      "parent",
                      "teacher"
                    ],
                    "description": "导入类型"
                  }
                },
                "required": [
                  "data",
                  "fieldMappings",
                  "importType"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "数据导入成功"
          },
          "400": {
            "description": "数据验证失败"
          }
        }
      }
    },
    "/api/data-import/history": {
      "get": {
        "summary": "获取导入历史记录",
        "tags": [
          "DataImport"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer",
              "default": 10
            },
            "description": "每页数量"
          },
          {
            "in": "query",
            "name": "importType",
            "schema": {
              "type": "string",
              "enum": [
                "student",
                "parent",
                "teacher"
              ]
            },
            "description": "导入类型过滤"
          }
        ],
        "responses": {
          "200": {
            "description": "获取导入历史成功"
          }
        }
      }
    },
    "/api/data-import/supported-types": {
      "get": {
        "summary": "获取支持的导入类型",
        "tags": [
          "DataImport"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取支持的导入类型成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "supportedTypes": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "type": {
                                "type": "string"
                              },
                              "hasPermission": {
                                "type": "boolean"
                              },
                              "displayName": {
                                "type": "string"
                              }
                            }
                          }
                        },
                        "allTypes": {
                          "type": "array",
                          "items": {
                            "type": "object"
                          }
                        }
                      }
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/database/tables": {
      "get": {
        "summary": "获取所有数据库表列表",
        "tags": [
          "Database Metadata"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取表列表",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "database": {
                          "type": "string",
                          "example": "kindergarten_db"
                        },
                        "tableCount": {
                          "type": "integer",
                          "example": 73
                        },
                        "tables": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "tableName": {
                                "type": "string",
                                "example": "students"
                              },
                              "tableComment": {
                                "type": "string",
                                "example": "学生信息表"
                              },
                              "estimatedRows": {
                                "type": "integer",
                                "example": 1200
                              },
                              "createTime": {
                                "type": "string",
                                "format": "date-time"
                              },
                              "updateTime": {
                                "type": "string",
                                "format": "date-time"
                              }
                            }
                          }
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "成功获取 73 个数据表信息"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/database/tables/{tableName}": {
      "get": {
        "summary": "获取单个表的详细结构",
        "tags": [
          "Database Metadata"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "tableName",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "表名",
            "example": "students"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取表结构",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "table": {
                          "type": "object",
                          "properties": {
                            "tableName": {
                              "type": "string",
                              "example": "students"
                            },
                            "tableComment": {
                              "type": "string",
                              "example": "学生信息表"
                            },
                            "estimatedRows": {
                              "type": "integer",
                              "example": 1200
                            }
                          }
                        },
                        "columns": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "columnName": {
                                "type": "string",
                                "example": "id"
                              },
                              "dataType": {
                                "type": "string",
                                "example": "int"
                              },
                              "columnType": {
                                "type": "string",
                                "example": "int(11)"
                              },
                              "isNullable": {
                                "type": "string",
                                "example": "NO"
                              },
                              "columnKey": {
                                "type": "string",
                                "example": "PRI"
                              },
                              "columnDefault": {
                                "type": "string",
                                "nullable": true
                              },
                              "extra": {
                                "type": "string",
                                "example": "auto_increment"
                              },
                              "columnComment": {
                                "type": "string",
                                "example": "学生ID"
                              }
                            }
                          }
                        },
                        "columnCount": {
                          "type": "integer",
                          "example": 15
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "成功获取表 students 的结构信息"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "表不存在"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/database/tables/{tableName}/indexes": {
      "get": {
        "summary": "获取表的索引信息",
        "tags": [
          "Database Metadata"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "tableName",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "表名",
            "example": "students"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取索引信息",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "tableName": {
                          "type": "string",
                          "example": "students"
                        },
                        "indexCount": {
                          "type": "integer",
                          "example": 5
                        },
                        "indexes": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "indexName": {
                                "type": "string",
                                "example": "idx_class_id"
                              },
                              "unique": {
                                "type": "boolean",
                                "example": false
                              },
                              "indexType": {
                                "type": "string",
                                "example": "BTREE"
                              },
                              "columns": {
                                "type": "array",
                                "items": {
                                  "type": "string"
                                },
                                "example": [
                                  "class_id"
                                ]
                              },
                              "comment": {
                                "type": "string",
                                "example": "班级索引"
                              }
                            }
                          }
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "成功获取表 students 的索引信息"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/database/tables/{tableName}/relations": {
      "get": {
        "summary": "获取表的关联关系（外键）",
        "tags": [
          "Database Metadata"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "tableName",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "表名",
            "example": "students"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取关联关系",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "tableName": {
                          "type": "string",
                          "example": "students"
                        },
                        "relationCount": {
                          "type": "integer",
                          "example": 2
                        },
                        "relations": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "constraintName": {
                                "type": "string",
                                "example": "fk_students_class"
                              },
                              "columnName": {
                                "type": "string",
                                "example": "class_id"
                              },
                              "referencedTable": {
                                "type": "string",
                                "example": "classes"
                              },
                              "referencedColumn": {
                                "type": "string",
                                "example": "id"
                              },
                              "updateRule": {
                                "type": "string",
                                "example": "CASCADE"
                              },
                              "deleteRule": {
                                "type": "string",
                                "example": "SET NULL"
                              }
                            }
                          }
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "成功获取表 students 的关联关系"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/document-import/permissions": {
      "get": {
        "summary": "获取当前用户的导入权限",
        "description": "查询当前用户可以导入哪些类型的数据",
        "tags": [
          "文档导入"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取权限信息成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "userRole": {
                          "type": "string",
                          "example": "teacher"
                        },
                        "permissions": {
                          "type": "object",
                          "properties": {
                            "teacher": {
                              "type": "boolean"
                            },
                            "parent": {
                              "type": "boolean"
                            }
                          }
                        },
                        "canImportTeacher": {
                          "type": "boolean"
                        },
                        "canImportParent": {
                          "type": "boolean"
                        },
                        "permissionInfo": {
                          "type": "object",
                          "properties": {
                            "teacher": {
                              "type": "string"
                            },
                            "parent": {
                              "type": "string"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/document-import/formats": {
      "get": {
        "summary": "获取支持的文档格式",
        "description": "获取系统支持的文档格式和字段说明",
        "tags": [
          "文档导入"
        ],
        "responses": {
          "200": {
            "description": "获取格式信息成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "supportedFormats": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "type": {
                                "type": "string"
                              },
                              "description": {
                                "type": "string"
                              },
                              "examples": {
                                "type": "array",
                                "items": {
                                  "type": "string"
                                }
                              }
                            }
                          }
                        },
                        "teacherFields": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "field": {
                                "type": "string"
                              },
                              "required": {
                                "type": "boolean"
                              },
                              "description": {
                                "type": "string"
                              }
                            }
                          }
                        },
                        "parentFields": {
                          "type": "array",
                          "items": {
                            "type": "object"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/document-import/preview": {
      "post": {
        "summary": "预览文档解析结果",
        "description": "使用AI解析文档内容但不实际导入，用于预览和验证",
        "tags": [
          "文档导入"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "documentType",
                  "documentContent"
                ],
                "properties": {
                  "documentType": {
                    "type": "string",
                    "enum": [
                      "teacher",
                      "parent"
                    ],
                    "description": "数据类型"
                  },
                  "documentContent": {
                    "type": "string",
                    "description": "文档内容"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "预览解析成功"
          },
          "400": {
            "description": "请求参数错误"
          },
          "403": {
            "description": "权限不足"
          }
        }
      }
    },
    "/api/document-import/import": {
      "post": {
        "summary": "导入文档数据",
        "description": "使用AI解析文档内容并导入教师或家长数据到数据库",
        "tags": [
          "文档导入"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "documentType",
                  "documentContent"
                ],
                "properties": {
                  "documentType": {
                    "type": "string",
                    "enum": [
                      "teacher",
                      "parent"
                    ],
                    "description": "导入数据类型"
                  },
                  "documentContent": {
                    "type": "string",
                    "description": "文档内容"
                  },
                  "previewOnly": {
                    "type": "boolean",
                    "default": false,
                    "description": "仅预览不导入"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "导入成功"
          },
          "400": {
            "description": "请求参数错误或数据验证失败"
          },
          "403": {
            "description": "权限不足"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/document-import/history": {
      "get": {
        "summary": "获取导入历史记录",
        "description": "查询用户的文档导入历史记录",
        "tags": [
          "文档导入"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "description": "页码",
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "每页数量",
            "schema": {
              "type": "integer",
              "default": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取历史记录成功"
          }
        }
      }
    },
    "/api/document-instances/batch-delete": {
      "post": {
        "summary": "批量删除文档实例",
        "tags": [
          "文档实例管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "ids"
                ],
                "properties": {
                  "ids": {
                    "type": "array",
                    "items": {
                      "type": "integer"
                    },
                    "description": "要删除的文档实例ID列表",
                    "example": [
                      1,
                      2,
                      3
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "批量删除成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "成功删除3个文档实例"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "deletedCount": {
                          "type": "integer",
                          "example": 3
                        },
                        "deletedIds": {
                          "type": "array",
                          "items": {
                            "type": "integer"
                          },
                          "example": [
                            1,
                            2,
                            3
                          ]
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "请提供要删除的文档实例ID列表"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/document-instances/{id}/export": {
      "get": {
        "summary": "导出文档实例",
        "tags": [
          "文档实例管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/DocumentInstanceId"
          },
          {
            "name": "format",
            "in": "query",
            "required": false,
            "description": "导出格式",
            "schema": {
              "type": "string",
              "enum": [
                "pdf",
                "docx",
                "excel"
              ],
              "default": "pdf"
            }
          },
          {
            "name": "includeComments",
            "in": "query",
            "required": false,
            "description": "是否包含评论",
            "schema": {
              "type": "boolean",
              "default": false
            }
          },
          {
            "name": "includeHistory",
            "in": "query",
            "required": false,
            "description": "是否包含版本历史",
            "schema": {
              "type": "boolean",
              "default": false
            }
          }
        ],
        "responses": {
          "200": {
            "description": "导出成功",
            "content": {
              "application/octet-stream": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              },
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "downloadUrl": {
                          "type": "string",
                          "example": "/api/files/download/document-export-123456.pdf"
                        },
                        "fileName": {
                          "type": "string",
                          "example": "安全检查记录表_20240115.pdf"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "404": {
            "$ref": "#/components/responses/DocumentInstanceNotFound"
          }
        }
      }
    },
    "/api/document-instances/{id}/assign": {
      "post": {
        "summary": "分配文档",
        "tags": [
          "文档实例管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/DocumentInstanceId"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "assignedTo"
                ],
                "properties": {
                  "assignedTo": {
                    "type": "integer",
                    "description": "分配给的用户ID",
                    "example": 2
                  },
                  "deadline": {
                    "type": "string",
                    "format": "date-time",
                    "description": "截止日期",
                    "example": "2024-02-01T23:59:59Z"
                  },
                  "assignMessage": {
                    "type": "string",
                    "description": "分配备注信息",
                    "example": "请在月底前完成填写"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "分配成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "文档分配成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/DocumentInstance"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "分配用户不存在或无效"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "404": {
            "$ref": "#/components/responses/DocumentInstanceNotFound"
          }
        }
      }
    },
    "/api/document-instances/{id}/submit": {
      "post": {
        "summary": "提交审核",
        "tags": [
          "文档实例管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/DocumentInstanceId"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "submitMessage": {
                    "type": "string",
                    "description": "提交备注信息",
                    "example": "文档已完成，请审核"
                  },
                  "attachments": {
                    "type": "array",
                    "items": {
                      "type": "object"
                    },
                    "description": "提交时的附件"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "提交成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "文档已提交审核"
                    },
                    "data": {
                      "$ref": "#/components/schemas/DocumentInstance"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "文档状态不允许提交",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "文档已完成，无法重复提交"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "404": {
            "$ref": "#/components/responses/DocumentInstanceNotFound"
          }
        }
      }
    },
    "/api/document-instances/{id}/review": {
      "post": {
        "summary": "审核文档",
        "tags": [
          "文档实例管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/DocumentInstanceId"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "action",
                  "status"
                ],
                "properties": {
                  "action": {
                    "type": "string",
                    "enum": [
                      "approve",
                      "reject",
                      "request_changes"
                    ],
                    "description": "审核动作",
                    "example": "approve"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "approved",
                      "rejected",
                      "under_review"
                    ],
                    "description": "审核结果状态",
                    "example": "approved"
                  },
                  "reviewComments": {
                    "type": "string",
                    "description": "审核意见",
                    "example": "文档内容完整，符合安全检查要求"
                  },
                  "requiresChanges": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "field": {
                          "type": "string",
                          "example": "安全措施描述"
                        },
                        "issue": {
                          "type": "string",
                          "example": "描述不够详细"
                        },
                        "suggestion": {
                          "type": "string",
                          "example": "请补充具体的防护措施"
                        }
                      }
                    },
                    "description": "需要修改的内容（仅在request_changes时使用）"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "审核成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "文档审核完成"
                    },
                    "data": {
                      "$ref": "#/components/schemas/DocumentInstance"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "审核失败",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "文档状态不允许审核"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "description": "无权限审核",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "您没有权限审核此文档"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "$ref": "#/components/responses/DocumentInstanceNotFound"
          }
        }
      }
    },
    "/api/document-instances/{id}/comments": {
      "get": {
        "summary": "获取评论列表",
        "tags": [
          "文档实例管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/DocumentInstanceId"
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "description": "页码",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "required": false,
            "description": "每页数量",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 20
            }
          },
          {
            "name": "sortBy",
            "in": "query",
            "required": false,
            "description": "排序字段",
            "schema": {
              "type": "string",
              "enum": [
                "createdAt",
                "updatedAt"
              ],
              "default": "createdAt"
            }
          },
          {
            "name": "sortOrder",
            "in": "query",
            "required": false,
            "description": "排序方向",
            "schema": {
              "type": "string",
              "enum": [
                "asc",
                "desc"
              ],
              "default": "desc"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取评论列表成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "comments": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/DocumentInstanceComment"
                          }
                        },
                        "pagination": {
                          "type": "object",
                          "properties": {
                            "page": {
                              "type": "integer",
                              "example": 1
                            },
                            "pageSize": {
                              "type": "integer",
                              "example": 20
                            },
                            "total": {
                              "type": "integer",
                              "example": 15
                            },
                            "totalPages": {
                              "type": "integer",
                              "example": 1
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "404": {
            "$ref": "#/components/responses/DocumentInstanceNotFound"
          }
        }
      },
      "post": {
        "summary": "添加评论",
        "tags": [
          "文档实例管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/DocumentInstanceId"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "content"
                ],
                "properties": {
                  "content": {
                    "type": "string",
                    "description": "评论内容",
                    "minLength": 1,
                    "maxLength": 1000,
                    "example": "这个地方需要修改，应该补充安全防护措施的描述"
                  },
                  "parentId": {
                    "type": "integer",
                    "description": "父评论ID（回复评论时使用）",
                    "example": 5
                  },
                  "mentions": {
                    "type": "array",
                    "items": {
                      "type": "integer"
                    },
                    "description": "提及的用户ID列表",
                    "example": [
                      2,
                      3
                    ]
                  },
                  "attachments": {
                    "type": "array",
                    "items": {
                      "type": "object"
                    },
                    "description": "评论附件"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "添加评论成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "评论添加成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/DocumentInstanceComment"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "评论内容不能为空"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "404": {
            "$ref": "#/components/responses/DocumentInstanceNotFound"
          }
        }
      }
    },
    "/api/document-instances/{id}/versions": {
      "get": {
        "summary": "获取版本历史",
        "tags": [
          "文档实例管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/DocumentInstanceId"
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "description": "页码",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "required": false,
            "description": "每页数量",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 50,
              "default": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取版本历史成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "versions": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/DocumentInstanceVersion"
                          }
                        },
                        "pagination": {
                          "type": "object",
                          "properties": {
                            "page": {
                              "type": "integer",
                              "example": 1
                            },
                            "pageSize": {
                              "type": "integer",
                              "example": 10
                            },
                            "total": {
                              "type": "integer",
                              "example": 5
                            },
                            "totalPages": {
                              "type": "integer",
                              "example": 1
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "404": {
            "$ref": "#/components/responses/DocumentInstanceNotFound"
          }
        }
      },
      "post": {
        "summary": "创建新版本",
        "tags": [
          "文档实例管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/DocumentInstanceId"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "content",
                  "changes"
                ],
                "properties": {
                  "content": {
                    "type": "string",
                    "description": "新版本内容",
                    "example": "更新后的文档内容，包含新的安全检查标准..."
                  },
                  "changes": {
                    "type": "string",
                    "description": "变更说明",
                    "minLength": 1,
                    "maxLength": 500,
                    "example": "根据最新安全标准更新了检查项目"
                  },
                  "version": {
                    "type": "integer",
                    "description": "版本号（可选，自动递增）",
                    "example": 2
                  },
                  "tags": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "版本标签",
                    "example": [
                      "安全更新",
                      "标准修订"
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "创建新版本成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "新版本创建成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/DocumentInstanceVersion"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "文档内容或变更说明不能为空"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "404": {
            "$ref": "#/components/responses/DocumentInstanceNotFound"
          }
        }
      }
    },
    "/api/document-instances/{id}": {
      "get": {
        "summary": "获取文档实例详情",
        "tags": [
          "文档实例管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/DocumentInstanceId"
          },
          {
            "name": "include",
            "in": "query",
            "required": false,
            "description": "包含的关联数据",
            "schema": {
              "type": "string",
              "enum": [
                "template",
                "creator",
                "assignee",
                "reviewer",
                "comments",
                "versions"
              ],
              "example": "template,creator,comments"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取文档实例详情成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/DocumentInstance"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "404": {
            "$ref": "#/components/responses/DocumentInstanceNotFound"
          }
        }
      },
      "put": {
        "summary": "更新文档实例",
        "tags": [
          "文档实例管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/DocumentInstanceId"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "title": {
                    "type": "string",
                    "description": "文档标题",
                    "example": "更新后的安全检查记录表"
                  },
                  "content": {
                    "type": "string",
                    "description": "文档内容",
                    "example": "更新后的文档内容..."
                  },
                  "filledData": {
                    "type": "object",
                    "description": "填充的数据",
                    "example": {
                      "field1": "updated_value1",
                      "field2": "updated_value2"
                    }
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "draft",
                      "in_progress",
                      "submitted",
                      "under_review",
                      "approved",
                      "rejected",
                      "completed"
                    ],
                    "description": "文档状态",
                    "example": "in_progress"
                  },
                  "completionRate": {
                    "type": "number",
                    "minimum": 0,
                    "maximum": 100,
                    "description": "完成率",
                    "example": 90
                  },
                  "deadline": {
                    "type": "string",
                    "format": "date-time",
                    "description": "截止日期",
                    "example": "2024-02-01T23:59:59Z"
                  },
                  "tags": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "标签列表",
                    "example": [
                      "安全",
                      "检查",
                      "月度",
                      "更新"
                    ]
                  },
                  "metadata": {
                    "type": "object",
                    "description": "元数据",
                    "example": {
                      "priority": "high",
                      "category": "safety",
                      "updated": true
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "文档实例更新成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/DocumentInstance"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误或文档状态不允许修改",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "文档已提交审核，无法修改"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "404": {
            "$ref": "#/components/responses/DocumentInstanceNotFound"
          }
        }
      },
      "delete": {
        "summary": "删除文档实例",
        "tags": [
          "文档实例管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/DocumentInstanceId"
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "文档实例删除成功"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "文档状态不允许删除",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "已审核的文档无法删除"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "404": {
            "$ref": "#/components/responses/DocumentInstanceNotFound"
          }
        }
      }
    },
    "/api/document-instances": {
      "get": {
        "summary": "获取文档实例列表",
        "tags": [
          "文档实例管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "description": "页码",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "required": false,
            "description": "每页数量",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 20
            }
          },
          {
            "name": "status",
            "in": "query",
            "required": false,
            "description": "文档状态过滤",
            "schema": {
              "type": "string",
              "enum": [
                "draft",
                "in_progress",
                "submitted",
                "under_review",
                "approved",
                "rejected",
                "completed"
              ],
              "example": "draft"
            }
          },
          {
            "name": "templateId",
            "in": "query",
            "required": false,
            "description": "模板ID过滤",
            "schema": {
              "type": "integer",
              "example": 1
            }
          },
          {
            "name": "createdBy",
            "in": "query",
            "required": false,
            "description": "创建者ID过滤",
            "schema": {
              "type": "integer",
              "example": 1
            }
          },
          {
            "name": "assignedTo",
            "in": "query",
            "required": false,
            "description": "分配用户ID过滤",
            "schema": {
              "type": "integer",
              "example": 2
            }
          },
          {
            "name": "keyword",
            "in": "query",
            "required": false,
            "description": "关键词搜索（标题、内容）",
            "schema": {
              "type": "string",
              "example": "安全检查"
            }
          },
          {
            "name": "sortBy",
            "in": "query",
            "required": false,
            "description": "排序字段",
            "schema": {
              "type": "string",
              "enum": [
                "createdAt",
                "updatedAt",
                "title",
                "deadline",
                "completionRate"
              ],
              "default": "createdAt"
            }
          },
          {
            "name": "sortOrder",
            "in": "query",
            "required": false,
            "description": "排序方向",
            "schema": {
              "type": "string",
              "enum": [
                "asc",
                "desc"
              ],
              "default": "DESC"
            }
          },
          {
            "name": "deadlineFrom",
            "in": "query",
            "required": false,
            "description": "截止日期开始范围",
            "schema": {
              "type": "string",
              "format": "date-time",
              "example": "2024-01-01T00:00:00Z"
            }
          },
          {
            "name": "deadlineTo",
            "in": "query",
            "required": false,
            "description": "截止日期结束范围",
            "schema": {
              "type": "string",
              "format": "date-time",
              "example": "2024-12-31T23:59:59Z"
            }
          },
          {
            "name": "tags",
            "in": "query",
            "required": false,
            "description": "标签过滤（逗号分隔）",
            "schema": {
              "type": "string",
              "example": "安全,检查"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取文档实例列表成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "instances": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/DocumentInstance"
                          }
                        },
                        "pagination": {
                          "type": "object",
                          "properties": {
                            "page": {
                              "type": "integer",
                              "example": 1
                            },
                            "pageSize": {
                              "type": "integer",
                              "example": 20
                            },
                            "total": {
                              "type": "integer",
                              "example": 125
                            },
                            "totalPages": {
                              "type": "integer",
                              "example": 7
                            }
                          }
                        },
                        "statistics": {
                          "type": "object",
                          "properties": {
                            "totalCount": {
                              "type": "integer",
                              "example": 125
                            },
                            "statusCounts": {
                              "type": "object",
                              "example": {
                                "draft": 45,
                                "in_progress": 30,
                                "submitted": 15,
                                "approved": 25,
                                "rejected": 10
                              }
                            },
                            "avgCompletionRate": {
                              "type": "number",
                              "example": 78.5
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      },
      "post": {
        "summary": "创建文档实例",
        "tags": [
          "文档实例管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "templateId",
                  "title"
                ],
                "properties": {
                  "templateId": {
                    "type": "integer",
                    "description": "文档模板ID",
                    "example": 1
                  },
                  "inspectionTaskId": {
                    "type": "integer",
                    "description": "检查任务ID（可选）",
                    "example": 1
                  },
                  "title": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 200,
                    "description": "文档标题",
                    "example": "幼儿园月度安全检查记录表"
                  },
                  "content": {
                    "type": "string",
                    "description": "文档内容（可选，从模板继承）",
                    "example": "安全检查的详细内容..."
                  },
                  "filledData": {
                    "type": "object",
                    "description": "预填充的数据",
                    "example": {
                      "检查日期": "2024-01-15",
                      "检查人": "张老师"
                    }
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "draft",
                      "in_progress"
                    ],
                    "description": "初始状态",
                    "default": "draft",
                    "example": "draft"
                  },
                  "completionRate": {
                    "type": "number",
                    "minimum": 0,
                    "maximum": 100,
                    "description": "初始完成率",
                    "default": 0,
                    "example": 0
                  },
                  "deadline": {
                    "type": "string",
                    "format": "date-time",
                    "description": "截止日期",
                    "example": "2024-02-01T23:59:59Z"
                  },
                  "assignedTo": {
                    "type": "integer",
                    "description": "分配给的用户ID（可选）",
                    "example": 2
                  },
                  "tags": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "标签列表",
                    "example": [
                      "安全",
                      "检查",
                      "月度"
                    ]
                  },
                  "metadata": {
                    "type": "object",
                    "description": "元数据",
                    "example": {
                      "priority": "high",
                      "category": "safety"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "创建成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "文档实例创建成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/DocumentInstance"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "文档模板不存在或标题不能为空"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/document-statistics/overview": {
      "get": {
        "summary": "获取文档统计概览",
        "description": "获取文档使用的总体统计数据和关键指标",
        "tags": [
          "文档统计"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取统计概览成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "totalDocuments": {
                          "type": "integer",
                          "description": "总文档数"
                        },
                        "activeUsers": {
                          "type": "integer",
                          "description": "活跃用户数"
                        },
                        "templateUsage": {
                          "type": "object",
                          "description": "模板使用统计"
                        },
                        "recentActivity": {
                          "type": "array",
                          "description": "最近活动"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未认证"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/document-statistics/trends": {
      "get": {
        "summary": "获取使用趋势",
        "description": "获取文档使用的时间趋势数据和增长情况",
        "tags": [
          "文档统计"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "period",
            "schema": {
              "type": "string",
              "enum": [
                "week",
                "month",
                "quarter",
                "year"
              ],
              "default": "month"
            },
            "description": "统计周期"
          }
        ],
        "responses": {
          "200": {
            "description": "获取趋势数据成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "trends": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "date": {
                                "type": "string"
                              },
                              "count": {
                                "type": "integer"
                              },
                              "growth": {
                                "type": "number"
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未认证"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/document-statistics/template-ranking": {
      "get": {
        "summary": "获取模板使用排行",
        "description": "获取文档模板的使用频率排行数据",
        "tags": [
          "文档统计"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 10
            },
            "description": "返回数量限制"
          }
        ],
        "responses": {
          "200": {
            "description": "获取排行榜成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "rankings": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "templateId": {
                                "type": "integer"
                              },
                              "templateName": {
                                "type": "string"
                              },
                              "usageCount": {
                                "type": "integer"
                              },
                              "percentage": {
                                "type": "number"
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未认证"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/document-statistics/completion-rate": {
      "get": {
        "summary": "获取完成率统计",
        "description": "获取文档创建和编辑的完成率数据",
        "tags": [
          "文档统计"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取完成率数据成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "overallCompletion": {
                          "type": "number",
                          "description": "总体完成率"
                        },
                        "byCategory": {
                          "type": "object",
                          "description": "按分类的完成率"
                        },
                        "abandonmentRate": {
                          "type": "number",
                          "description": "放弃率"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未认证"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/document-statistics/user-stats": {
      "get": {
        "summary": "获取用户统计",
        "description": "获取用户的文档使用行为统计数据",
        "tags": [
          "文档统计"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "userId",
            "schema": {
              "type": "integer"
            },
            "description": "用户ID (可选，不填则当前用户)"
          }
        ],
        "responses": {
          "200": {
            "description": "获取用户统计成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "documentCount": {
                          "type": "integer",
                          "description": "文档数量"
                        },
                        "templatesUsed": {
                          "type": "array",
                          "description": "使用的模板"
                        },
                        "activityLevel": {
                          "type": "string",
                          "description": "活跃度等级"
                        },
                        "lastActive": {
                          "type": "string",
                          "description": "最后活跃时间"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未认证"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/document-statistics/export": {
      "get": {
        "summary": "导出统计报表",
        "description": "导出文档统计报表为Excel或PDF格式",
        "tags": [
          "文档统计"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "format",
            "schema": {
              "type": "string",
              "enum": [
                "excel",
                "pdf",
                "csv"
              ],
              "default": "excel"
            },
            "description": "导出格式"
          },
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "开始日期"
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "结束日期"
          }
        ],
        "responses": {
          "200": {
            "description": "导出成功",
            "content": {
              "application/octet-stream": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未认证"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/document-templates/categories": {
      "get": {
        "summary": "获取模板分类列表",
        "description": "获取所有文档模板的分类信息，包括每个分类下的模板数量",
        "tags": [
          "Document Templates"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取分类列表",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/TemplateCategory"
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "获取分类列表成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/document-templates/recommend": {
      "get": {
        "summary": "获取智能推荐模板",
        "description": "基于用户的使用历史、偏好和当前场景智能推荐合适的文档模板",
        "tags": [
          "Document Templates"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 20,
              "default": 5
            },
            "description": "推荐数量限制"
          },
          {
            "in": "query",
            "name": "category_id",
            "schema": {
              "type": "integer"
            },
            "description": "指定分类ID进行推荐"
          },
          {
            "in": "query",
            "name": "context",
            "schema": {
              "type": "string",
              "enum": [
                "teaching",
                "admin",
                "parent",
                "activity"
              ]
            },
            "description": "使用场景上下文"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取推荐模板",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/TemplateRecommendation"
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "获取推荐模板成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/document-templates/search": {
      "get": {
        "summary": "搜索文档模板",
        "description": "根据关键词、分类、标签等条件搜索文档模板",
        "tags": [
          "Document Templates"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "keyword",
            "schema": {
              "type": "string"
            },
            "description": "搜索关键词（标题、描述、标签）",
            "example": "教学计划"
          },
          {
            "in": "query",
            "name": "category_id",
            "schema": {
              "type": "integer"
            },
            "description": "分类ID筛选",
            "example": 1
          },
          {
            "in": "query",
            "name": "type",
            "schema": {
              "type": "string",
              "enum": [
                "official",
                "custom",
                "shared"
              ]
            },
            "description": "模板类型筛选",
            "example": "official"
          },
          {
            "in": "query",
            "name": "tags",
            "schema": {
              "type": "string"
            },
            "description": "标签筛选（多个标签用逗号分隔）",
            "example": "教学,计划"
          },
          {
            "in": "query",
            "name": "is_public",
            "schema": {
              "type": "boolean"
            },
            "description": "是否公开模板"
          },
          {
            "in": "query",
            "name": "sort_by",
            "schema": {
              "type": "string",
              "enum": [
                "created_at",
                "usage_count",
                "rating",
                "download_count"
              ],
              "default": "created_at"
            },
            "description": "排序字段"
          },
          {
            "in": "query",
            "name": "sort_order",
            "schema": {
              "type": "string",
              "enum": [
                "asc",
                "desc"
              ],
              "default": "desc"
            },
            "description": "排序顺序"
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 50,
              "default": 20
            },
            "description": "每页数量"
          }
        ],
        "responses": {
          "200": {
            "description": "成功搜索到模板",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/TemplateListResponse"
                    },
                    "message": {
                      "type": "string",
                      "example": "搜索模板成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/document-templates/{id}": {
      "get": {
        "summary": "获取模板详情",
        "description": "根据模板ID获取指定模板的详细信息，包括内容和使用统计",
        "tags": [
          "Document Templates"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "模板ID",
            "example": 1
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取模板详情",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/DocumentTemplate"
                    },
                    "message": {
                      "type": "string",
                      "example": "获取模板详情成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/document-templates": {
      "get": {
        "summary": "获取模板列表",
        "description": "分页获取文档模板列表，支持分类筛选和排序",
        "tags": [
          "Document Templates"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 50,
              "default": 20
            },
            "description": "每页数量"
          },
          {
            "in": "query",
            "name": "category_id",
            "schema": {
              "type": "integer"
            },
            "description": "分类ID筛选",
            "example": 1
          },
          {
            "in": "query",
            "name": "type",
            "schema": {
              "type": "string",
              "enum": [
                "official",
                "custom",
                "shared"
              ]
            },
            "description": "模板类型筛选",
            "example": "official"
          },
          {
            "in": "query",
            "name": "is_featured",
            "schema": {
              "type": "boolean"
            },
            "description": "是否只显示推荐模板"
          },
          {
            "in": "query",
            "name": "sort_by",
            "schema": {
              "type": "string",
              "enum": [
                "created_at",
                "usage_count",
                "rating",
                "download_count"
              ],
              "default": "created_at"
            },
            "description": "排序字段"
          },
          {
            "in": "query",
            "name": "sort_order",
            "schema": {
              "type": "string",
              "enum": [
                "asc",
                "desc"
              ],
              "default": "desc"
            },
            "description": "排序顺序"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取模板列表",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/TemplateListResponse"
                    },
                    "message": {
                      "type": "string",
                      "example": "获取模板列表成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/enrollment-ai/ai-status": {
      "get": {
        "tags": [
          "Enrollment AI"
        ],
        "summary": "检查AI服务状态",
        "description": "检查招生AI服务的运行状态和可用性",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "AI服务状态信息",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "status": {
                          "type": "string",
                          "example": "running"
                        },
                        "version": {
                          "type": "string",
                          "example": "1.0.0"
                        },
                        "modelStatus": {
                          "type": "object",
                          "properties": {
                            "available": {
                              "type": "boolean",
                              "example": true
                            },
                            "models": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              },
                              "example": [
                                "gpt-3.5-turbo",
                                "gpt-4"
                              ]
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/enrollment-ai/trends": {
      "get": {
        "tags": [
          "Enrollment AI"
        ],
        "summary": "生成招生趋势分析",
        "description": "生成全局招生趋势分析报告，包括历史数据分析和未来趋势预测",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "timeRange",
            "in": "query",
            "description": "时间范围",
            "schema": {
              "type": "string",
              "enum": [
                "month",
                "quarter",
                "year",
                "all"
              ],
              "default": "year"
            }
          },
          {
            "name": "region",
            "in": "query",
            "description": "地区筛选",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "includeCompetitors",
            "in": "query",
            "description": "是否包含竞对分析",
            "schema": {
              "type": "boolean",
              "default": false
            }
          }
        ],
        "responses": {
          "200": {
            "description": "趋势分析报告",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "trendData": {
                          "type": "object",
                          "properties": {
                            "enrollmentTrend": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "properties": {
                                  "period": {
                                    "type": "string"
                                  },
                                  "enrollment": {
                                    "type": "number"
                                  },
                                  "growth": {
                                    "type": "number"
                                  }
                                }
                              }
                            },
                            "prediction": {
                              "type": "object",
                              "properties": {
                                "next6Months": {
                                  "type": "number"
                                },
                                "next12Months": {
                                  "type": "number"
                                },
                                "confidence": {
                                  "type": "number",
                                  "example": 0.85
                                }
                              }
                            }
                          }
                        },
                        "insights": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "type": {
                                "type": "string"
                              },
                              "title": {
                                "type": "string"
                              },
                              "description": {
                                "type": "string"
                              },
                              "impact": {
                                "type": "string",
                                "enum": [
                                  "high",
                                  "medium",
                                  "low"
                                ]
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/enrollment-ai/plan/{id}/smart-planning": {
      "post": {
        "tags": [
          "Enrollment AI"
        ],
        "summary": "生成智能招生规划",
        "description": "为指定招生计划生成AI智能规划建议，包括招生策略、时间安排和资源配置",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "招生计划ID",
            "schema": {
              "type": "integer",
              "example": 1
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "preferences": {
                    "type": "object",
                    "properties": {
                      "targetEnrollment": {
                        "type": "number",
                        "description": "目标招生人数",
                        "example": 100
                      },
                      "priority": {
                        "type": "string",
                        "enum": [
                          "quality",
                          "quantity",
                          "balance"
                        ],
                        "description": "招生优先级",
                        "example": "balance"
                      },
                      "budget": {
                        "type": "number",
                        "description": "预算限制",
                        "example": 50000
                      }
                    }
                  },
                  "constraints": {
                    "type": "object",
                    "properties": {
                      "timeLimit": {
                        "type": "string",
                        "description": "时间限制",
                        "example": "2024-06-30"
                      },
                      "resources": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        },
                        "description": "可用资源",
                        "example": [
                          "social_media",
                          "open_day",
                          "referral"
                        ]
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "智能规划结果",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "planningId": {
                          "type": "string",
                          "example": "planning_123456"
                        },
                        "strategy": {
                          "type": "object",
                          "properties": {
                            "overview": {
                              "type": "string"
                            },
                            "phases": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "properties": {
                                  "name": {
                                    "type": "string"
                                  },
                                  "duration": {
                                    "type": "string"
                                  },
                                  "activities": {
                                    "type": "array",
                                    "items": {
                                      "type": "string"
                                    }
                                  },
                                  "budget": {
                                    "type": "number"
                                  }
                                }
                              }
                            }
                          }
                        },
                        "timeline": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "date": {
                                "type": "string"
                              },
                              "milestone": {
                                "type": "string"
                              },
                              "description": {
                                "type": "string"
                              }
                            }
                          }
                        },
                        "recommendations": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "type": {
                                "type": "string"
                              },
                              "priority": {
                                "type": "string"
                              },
                              "description": {
                                "type": "string"
                              },
                              "expectedImpact": {
                                "type": "string"
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "招生计划不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/enrollment-ai/plan/{id}/forecast": {
      "post": {
        "tags": [
          "Enrollment AI"
        ],
        "summary": "生成招生预测",
        "description": "为指定招生计划生成AI预测分析，包括招生数量预测和成功率分析",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "招生计划ID",
            "schema": {
              "type": "integer",
              "example": 1
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "forecastPeriod": {
                    "type": "string",
                    "enum": [
                      "monthly",
                      "quarterly",
                      "yearly"
                    ],
                    "description": "预测周期",
                    "example": "quarterly"
                  },
                  "includeScenarios": {
                    "type": "boolean",
                    "description": "是否包含多情景分析",
                    "default": true
                  },
                  "factors": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "影响因素",
                    "example": [
                      "competition",
                      "seasonality",
                      "marketing"
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "预测分析结果",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "forecastId": {
                          "type": "string",
                          "example": "forecast_123456"
                        },
                        "predictions": {
                          "type": "object",
                          "properties": {
                            "enrollment": {
                              "type": "object",
                              "properties": {
                                "optimistic": {
                                  "type": "number",
                                  "example": 120
                                },
                                "realistic": {
                                  "type": "number",
                                  "example": 100
                                },
                                "pessimistic": {
                                  "type": "number",
                                  "example": 80
                                }
                              }
                            },
                            "timeline": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "properties": {
                                  "period": {
                                    "type": "string"
                                  },
                                  "projected": {
                                    "type": "number"
                                  },
                                  "confidence": {
                                    "type": "number"
                                  }
                                }
                              }
                            }
                          }
                        },
                        "riskFactors": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "factor": {
                                "type": "string"
                              },
                              "impact": {
                                "type": "string",
                                "enum": [
                                  "high",
                                  "medium",
                                  "low"
                                ]
                              },
                              "probability": {
                                "type": "number"
                              },
                              "mitigation": {
                                "type": "string"
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "招生计划不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/enrollment-ai/plan/{id}/strategy": {
      "post": {
        "tags": [
          "Enrollment AI"
        ],
        "summary": "生成招生策略",
        "description": "为指定招生计划生成AI招生策略建议，包括渠道选择和营销策略",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "招生计划ID",
            "schema": {
              "type": "integer",
              "example": 1
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "targetSegment": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "目标群体",
                    "example": [
                      "young_parents",
                      "working_families"
                    ]
                  },
                  "budget": {
                    "type": "number",
                    "description": "营销预算",
                    "example": 30000
                  },
                  "channels": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "可用渠道",
                    "example": [
                      "social_media",
                      "word_of_mouth",
                      "events"
                    ]
                  },
                  "goals": {
                    "type": "object",
                    "properties": {
                      "primary": {
                        "type": "string",
                        "example": "increase_enrollment"
                      },
                      "secondary": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        },
                        "example": [
                          "brand_awareness",
                          "lead_generation"
                        ]
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "策略建议结果",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "strategyId": {
                          "type": "string",
                          "example": "strategy_123456"
                        },
                        "recommendations": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "channel": {
                                "type": "string"
                              },
                              "strategy": {
                                "type": "string"
                              },
                              "budget": {
                                "type": "number"
                              },
                              "expectedROI": {
                                "type": "number"
                              },
                              "timeline": {
                                "type": "string"
                              },
                              "kpis": {
                                "type": "array",
                                "items": {
                                  "type": "string"
                                }
                              }
                            }
                          }
                        },
                        "implementation": {
                          "type": "object",
                          "properties": {
                            "phases": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "properties": {
                                  "name": {
                                    "type": "string"
                                  },
                                  "duration": {
                                    "type": "string"
                                  },
                                  "activities": {
                                    "type": "array",
                                    "items": {
                                      "type": "string"
                                    }
                                  },
                                  "budget": {
                                    "type": "number"
                                  }
                                }
                              }
                            },
                            "milestones": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "properties": {
                                  "name": {
                                    "type": "string"
                                  },
                                  "date": {
                                    "type": "string"
                                  },
                                  "metric": {
                                    "type": "string"
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "招生计划不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/enrollment-ai/plan/{id}/optimization": {
      "post": {
        "tags": [
          "Enrollment AI"
        ],
        "summary": "生成容量优化建议",
        "description": "为指定招生计划生成AI容量优化建议，包括资源配置和效率提升",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "招生计划ID",
            "schema": {
              "type": "integer",
              "example": 1
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "currentCapacity": {
                    "type": "number",
                    "description": "当前容量",
                    "example": 80
                  },
                  "targetCapacity": {
                    "type": "number",
                    "description": "目标容量",
                    "example": 120
                  },
                  "constraints": {
                    "type": "object",
                    "properties": {
                      "budget": {
                        "type": "number",
                        "example": 50000
                      },
                      "timeframe": {
                        "type": "string",
                        "example": "6months"
                      },
                      "resources": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        },
                        "example": [
                          "staff",
                          "facilities",
                          "equipment"
                        ]
                      }
                    }
                  },
                  "optimization_goals": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "优化目标",
                    "example": [
                      "cost_efficiency",
                      "quality_improvement",
                      "capacity_increase"
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "优化建议结果",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "optimizationId": {
                          "type": "string",
                          "example": "optimization_123456"
                        },
                        "recommendations": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "area": {
                                "type": "string",
                                "example": "staffing"
                              },
                              "current": {
                                "type": "string"
                              },
                              "recommended": {
                                "type": "string"
                              },
                              "impact": {
                                "type": "string"
                              },
                              "cost": {
                                "type": "number"
                              },
                              "implementation": {
                                "type": "string"
                              }
                            }
                          }
                        },
                        "projections": {
                          "type": "object",
                          "properties": {
                            "capacityIncrease": {
                              "type": "number",
                              "example": 50
                            },
                            "costSavings": {
                              "type": "number",
                              "example": 15000
                            },
                            "timeToImplement": {
                              "type": "string",
                              "example": "3-4 months"
                            },
                            "roi": {
                              "type": "number",
                              "example": 2.5
                            }
                          }
                        },
                        "implementation_plan": {
                          "type": "object",
                          "properties": {
                            "phases": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "properties": {
                                  "phase": {
                                    "type": "string"
                                  },
                                  "duration": {
                                    "type": "string"
                                  },
                                  "actions": {
                                    "type": "array",
                                    "items": {
                                      "type": "string"
                                    }
                                  },
                                  "budget": {
                                    "type": "number"
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "招生计划不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/enrollment-ai/plan/{id}/simulation": {
      "post": {
        "tags": [
          "Enrollment AI"
        ],
        "summary": "生成招生仿真",
        "description": "为指定招生计划生成AI仿真分析，模拟不同情景下的招生结果",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "招生计划ID",
            "schema": {
              "type": "integer",
              "example": 1
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "scenarios": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "name": {
                          "type": "string",
                          "example": "base_scenario"
                        },
                        "parameters": {
                          "type": "object",
                          "properties": {
                            "budget": {
                              "type": "number"
                            },
                            "marketing_intensity": {
                              "type": "string",
                              "enum": [
                                "low",
                                "medium",
                                "high"
                              ]
                            },
                            "competition_level": {
                              "type": "string",
                              "enum": [
                                "low",
                                "medium",
                                "high"
                              ]
                            },
                            "seasonal_factor": {
                              "type": "number"
                            }
                          }
                        }
                      }
                    },
                    "description": "仿真场景"
                  },
                  "iterations": {
                    "type": "number",
                    "description": "仿真迭代次数",
                    "example": 1000,
                    "minimum": 100,
                    "maximum": 10000
                  },
                  "time_horizon": {
                    "type": "string",
                    "description": "仿真时间范围",
                    "example": "12months",
                    "enum": [
                      "3months",
                      "6months",
                      "12months",
                      "24months"
                    ]
                  },
                  "confidence_level": {
                    "type": "number",
                    "description": "置信水平",
                    "example": 0.95,
                    "minimum": 0.8,
                    "maximum": 0.99
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "仿真分析结果",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "simulationId": {
                          "type": "string",
                          "example": "simulation_123456"
                        },
                        "results": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "scenario": {
                                "type": "string"
                              },
                              "statistics": {
                                "type": "object",
                                "properties": {
                                  "mean": {
                                    "type": "number"
                                  },
                                  "median": {
                                    "type": "number"
                                  },
                                  "std_dev": {
                                    "type": "number"
                                  },
                                  "min": {
                                    "type": "number"
                                  },
                                  "max": {
                                    "type": "number"
                                  },
                                  "confidence_interval": {
                                    "type": "object",
                                    "properties": {
                                      "lower": {
                                        "type": "number"
                                      },
                                      "upper": {
                                        "type": "number"
                                      }
                                    }
                                  }
                                }
                              },
                              "probability_distributions": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "properties": {
                                    "range": {
                                      "type": "string"
                                    },
                                    "probability": {
                                      "type": "number"
                                    }
                                  }
                                }
                              }
                            }
                          }
                        },
                        "comparative_analysis": {
                          "type": "object",
                          "properties": {
                            "best_scenario": {
                              "type": "string"
                            },
                            "worst_scenario": {
                              "type": "string"
                            },
                            "recommended_scenario": {
                              "type": "string"
                            },
                            "risk_assessment": {
                              "type": "object",
                              "properties": {
                                "high_risk_probability": {
                                  "type": "number"
                                },
                                "medium_risk_probability": {
                                  "type": "number"
                                },
                                "low_risk_probability": {
                                  "type": "number"
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "招生计划不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/enrollment-ai/plan/{id}/evaluation": {
      "post": {
        "tags": [
          "Enrollment AI"
        ],
        "summary": "生成计划评估",
        "description": "为指定招生计划生成AI评估分析，评估计划效果和改进建议",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "招生计划ID",
            "schema": {
              "type": "integer",
              "example": 1
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "evaluation_criteria": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "评估标准",
                    "example": [
                      "enrollment_rate",
                      "cost_effectiveness",
                      "lead_quality",
                      "conversion_rate"
                    ]
                  },
                  "comparison_baseline": {
                    "type": "string",
                    "description": "对比基准",
                    "enum": [
                      "previous_year",
                      "industry_average",
                      "target_goals",
                      "competitor_benchmark"
                    ],
                    "example": "previous_year"
                  },
                  "include_recommendations": {
                    "type": "boolean",
                    "description": "是否包含改进建议",
                    "default": true
                  },
                  "detailed_analysis": {
                    "type": "boolean",
                    "description": "是否生成详细分析",
                    "default": false
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "评估分析结果",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "evaluationId": {
                          "type": "string",
                          "example": "evaluation_123456"
                        },
                        "overall_score": {
                          "type": "number",
                          "description": "总体评分",
                          "example": 8.5,
                          "minimum": 0,
                          "maximum": 10
                        },
                        "performance_metrics": {
                          "type": "object",
                          "properties": {
                            "enrollment_rate": {
                              "type": "object",
                              "properties": {
                                "current": {
                                  "type": "number"
                                },
                                "target": {
                                  "type": "number"
                                },
                                "achievement": {
                                  "type": "number"
                                },
                                "grade": {
                                  "type": "string",
                                  "enum": [
                                    "A+",
                                    "A",
                                    "B+",
                                    "B",
                                    "C+",
                                    "C",
                                    "D",
                                    "F"
                                  ]
                                }
                              }
                            },
                            "cost_per_enrollment": {
                              "type": "object",
                              "properties": {
                                "current": {
                                  "type": "number"
                                },
                                "benchmark": {
                                  "type": "number"
                                },
                                "efficiency": {
                                  "type": "string"
                                }
                              }
                            },
                            "lead_quality": {
                              "type": "object",
                              "properties": {
                                "score": {
                                  "type": "number"
                                },
                                "conversion_rate": {
                                  "type": "number"
                                },
                                "satisfaction": {
                                  "type": "number"
                                }
                              }
                            }
                          }
                        },
                        "strengths": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "area": {
                                "type": "string"
                              },
                              "description": {
                                "type": "string"
                              },
                              "impact": {
                                "type": "string",
                                "enum": [
                                  "high",
                                  "medium",
                                  "low"
                                ]
                              }
                            }
                          }
                        },
                        "weaknesses": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "area": {
                                "type": "string"
                              },
                              "description": {
                                "type": "string"
                              },
                              "severity": {
                                "type": "string",
                                "enum": [
                                  "critical",
                                  "high",
                                  "medium",
                                  "low"
                                ]
                              }
                            }
                          }
                        },
                        "recommendations": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "priority": {
                                "type": "string",
                                "enum": [
                                  "high",
                                  "medium",
                                  "low"
                                ]
                              },
                              "category": {
                                "type": "string"
                              },
                              "title": {
                                "type": "string"
                              },
                              "description": {
                                "type": "string"
                              },
                              "expected_impact": {
                                "type": "string"
                              },
                              "implementation_effort": {
                                "type": "string",
                                "enum": [
                                  "low",
                                  "medium",
                                  "high"
                                ]
                              },
                              "timeframe": {
                                "type": "string"
                              }
                            }
                          }
                        },
                        "improvement_roadmap": {
                          "type": "object",
                          "properties": {
                            "short_term": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "medium_term": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "long_term": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "招生计划不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/enrollment-ai/plan/{id}/ai-history": {
      "get": {
        "tags": [
          "Enrollment AI"
        ],
        "summary": "获取AI分析历史",
        "description": "获取指定招生计划的AI分析历史记录",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "招生计划ID",
            "schema": {
              "type": "integer",
              "example": 1
            }
          },
          {
            "name": "type",
            "in": "query",
            "description": "分析类型筛选",
            "schema": {
              "type": "string",
              "enum": [
                "planning",
                "forecast",
                "strategy",
                "optimization",
                "simulation",
                "evaluation"
              ]
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "返回记录数量限制",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 10
            }
          },
          {
            "name": "offset",
            "in": "query",
            "description": "记录偏移量",
            "schema": {
              "type": "integer",
              "minimum": 0,
              "default": 0
            }
          },
          {
            "name": "startDate",
            "in": "query",
            "description": "开始日期",
            "schema": {
              "type": "string",
              "format": "date"
            }
          },
          {
            "name": "endDate",
            "in": "query",
            "description": "结束日期",
            "schema": {
              "type": "string",
              "format": "date"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "AI分析历史记录",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "total": {
                          "type": "integer",
                          "description": "总记录数",
                          "example": 25
                        },
                        "records": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "example": "analysis_123456"
                              },
                              "type": {
                                "type": "string",
                                "enum": [
                                  "planning",
                                  "forecast",
                                  "strategy",
                                  "optimization",
                                  "simulation",
                                  "evaluation"
                                ],
                                "example": "forecast"
                              },
                              "created_at": {
                                "type": "string",
                                "format": "date-time",
                                "example": "2024-01-15T10:30:00Z"
                              },
                              "status": {
                                "type": "string",
                                "enum": [
                                  "completed",
                                  "processing",
                                  "failed"
                                ],
                                "example": "completed"
                              },
                              "parameters": {
                                "type": "object",
                                "description": "分析参数"
                              },
                              "results_summary": {
                                "type": "object",
                                "properties": {
                                  "key_insights": {
                                    "type": "array",
                                    "items": {
                                      "type": "string"
                                    }
                                  },
                                  "performance_score": {
                                    "type": "number"
                                  },
                                  "recommendations_count": {
                                    "type": "integer"
                                  }
                                }
                              },
                              "metadata": {
                                "type": "object",
                                "properties": {
                                  "processing_time": {
                                    "type": "number",
                                    "description": "处理时间(秒)"
                                  },
                                  "model_version": {
                                    "type": "string"
                                  },
                                  "confidence_score": {
                                    "type": "number"
                                  }
                                }
                              }
                            }
                          }
                        },
                        "pagination": {
                          "type": "object",
                          "properties": {
                            "current_page": {
                              "type": "integer"
                            },
                            "total_pages": {
                              "type": "integer"
                            },
                            "has_next": {
                              "type": "boolean"
                            },
                            "has_previous": {
                              "type": "boolean"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "招生计划不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/enrollment-ai/plan/{id}/batch-analysis": {
      "post": {
        "tags": [
          "Enrollment AI"
        ],
        "summary": "批量AI分析",
        "description": "为指定招生计划执行批量AI分析，一次性生成多种类型的分析报告",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "招生计划ID",
            "schema": {
              "type": "integer",
              "example": 1
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "analysis_types": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "enum": [
                        "planning",
                        "forecast",
                        "strategy",
                        "optimization",
                        "simulation",
                        "evaluation"
                      ]
                    },
                    "description": "要执行的分析类型",
                    "example": [
                      "forecast",
                      "strategy",
                      "evaluation"
                    ]
                  },
                  "parameters": {
                    "type": "object",
                    "description": "分析参数配置",
                    "properties": {
                      "global": {
                        "type": "object",
                        "properties": {
                          "priority": {
                            "type": "string",
                            "enum": [
                              "speed",
                              "accuracy",
                              "comprehensive"
                            ],
                            "default": "accuracy"
                          },
                          "async_mode": {
                            "type": "boolean",
                            "default": true
                          }
                        }
                      },
                      "specific": {
                        "type": "object",
                        "description": "特定分析类型的参数",
                        "additionalProperties": true
                      }
                    }
                  },
                  "notification": {
                    "type": "object",
                    "properties": {
                      "email": {
                        "type": "boolean",
                        "description": "完成后发送邮件通知",
                        "default": false
                      },
                      "webhook": {
                        "type": "string",
                        "description": "回调webhook URL"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "批量分析任务创建成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "batch_id": {
                          "type": "string",
                          "example": "batch_123456"
                        },
                        "status": {
                          "type": "string",
                          "enum": [
                            "queued",
                            "processing",
                            "completed",
                            "failed"
                          ],
                          "example": "queued"
                        },
                        "tasks": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "task_id": {
                                "type": "string"
                              },
                              "analysis_type": {
                                "type": "string"
                              },
                              "status": {
                                "type": "string",
                                "enum": [
                                  "pending",
                                  "processing",
                                  "completed",
                                  "failed"
                                ]
                              },
                              "estimated_completion": {
                                "type": "string",
                                "format": "date-time"
                              }
                            }
                          }
                        },
                        "estimated_total_time": {
                          "type": "number",
                          "description": "预计总完成时间(分钟)",
                          "example": 15
                        },
                        "progress_url": {
                          "type": "string",
                          "description": "进度查询URL"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "招生计划不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/enrollment-ai/plan/{id}/export-ai-report": {
      "get": {
        "tags": [
          "Enrollment AI"
        ],
        "summary": "导出AI分析报告",
        "description": "导出指定招生计划的AI分析报告，支持多种格式",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "招生计划ID",
            "schema": {
              "type": "integer",
              "example": 1
            }
          },
          {
            "name": "format",
            "in": "query",
            "description": "导出格式",
            "schema": {
              "type": "string",
              "enum": [
                "pdf",
                "excel",
                "word",
                "json"
              ],
              "default": "pdf"
            }
          },
          {
            "name": "include_types",
            "in": "query",
            "description": "包含的分析类型",
            "schema": {
              "type": "array",
              "items": {
                "type": "string",
                "enum": [
                  "planning",
                  "forecast",
                  "strategy",
                  "optimization",
                  "simulation",
                  "evaluation"
                ]
              }
            },
            "style": "form",
            "explode": false
          },
          {
            "name": "date_range",
            "in": "query",
            "description": "日期范围",
            "schema": {
              "type": "string",
              "enum": [
                "last_week",
                "last_month",
                "last_quarter",
                "last_year",
                "all_time"
              ],
              "default": "last_month"
            }
          },
          {
            "name": "include_charts",
            "in": "query",
            "description": "是否包含图表",
            "schema": {
              "type": "boolean",
              "default": true
            }
          },
          {
            "name": "template",
            "in": "query",
            "description": "报告模板",
            "schema": {
              "type": "string",
              "enum": [
                "executive_summary",
                "detailed_analysis",
                "technical_report",
                "presentation"
              ],
              "default": "detailed_analysis"
            }
          },
          {
            "name": "language",
            "in": "query",
            "description": "报告语言",
            "schema": {
              "type": "string",
              "enum": [
                "zh-CN",
                "en-US"
              ],
              "default": "zh-CN"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "报告导出成功",
            "content": {
              "application/pdf": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              },
              "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              },
              "application/vnd.openxmlformats-officedocument.wordprocessingml.document": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              },
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "report_id": {
                          "type": "string",
                          "example": "report_123456"
                        },
                        "title": {
                          "type": "string",
                          "example": "招生计划AI分析报告"
                        },
                        "generated_at": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "summary": {
                          "type": "object",
                          "properties": {
                            "total_analyses": {
                              "type": "integer"
                            },
                            "date_range": {
                              "type": "string"
                            },
                            "key_insights": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            }
                          }
                        },
                        "sections": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "type": {
                                "type": "string"
                              },
                              "title": {
                                "type": "string"
                              },
                              "content": {
                                "type": "object"
                              },
                              "charts": {
                                "type": "array",
                                "items": {
                                  "type": "object"
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "招生计划不存在或无可用数据",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/enrollment-applications": {
      "post": {
        "summary": "创建enrollment_applications",
        "tags": [
          "EnrollmentApplication"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "studentName",
                  "gender",
                  "birthDate",
                  "parentId",
                  "planId",
                  "contactPhone",
                  "applicationSource"
                ],
                "properties": {
                  "studentName": {
                    "type": "string",
                    "description": "学生姓名"
                  },
                  "gender": {
                    "type": "string",
                    "description": "性别"
                  },
                  "birthDate": {
                    "type": "string",
                    "format": "date",
                    "description": "出生日期"
                  },
                  "parentId": {
                    "type": "integer",
                    "description": "家长ID"
                  },
                  "planId": {
                    "type": "integer",
                    "description": "招生计划ID"
                  },
                  "contactPhone": {
                    "type": "string",
                    "description": "联系电话"
                  },
                  "contactAddress": {
                    "type": "string",
                    "description": "联系地址"
                  },
                  "emergencyContact": {
                    "type": "string",
                    "description": "紧急联系人"
                  },
                  "emergencyPhone": {
                    "type": "string",
                    "description": "紧急联系电话"
                  },
                  "specialNeeds": {
                    "type": "string",
                    "description": "特殊需求"
                  },
                  "previousSchool": {
                    "type": "string",
                    "description": "原就读学校"
                  },
                  "applicationSource": {
                    "type": "string",
                    "description": "申请来源"
                  },
                  "notes": {
                    "type": "string",
                    "description": "备注"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "创建成功"
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      },
      "get": {
        "summary": "获取enrollment_applications列表",
        "tags": [
          "EnrollmentApplication"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "size",
            "schema": {
              "type": "integer",
              "default": 10
            },
            "description": "每页数量"
          },
          {
            "in": "query",
            "name": "studentName",
            "schema": {
              "type": "string"
            },
            "description": "学生姓名"
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string"
            },
            "description": "申请状态"
          },
          {
            "in": "query",
            "name": "planId",
            "schema": {
              "type": "integer"
            },
            "description": "招生计划ID"
          },
          {
            "in": "query",
            "name": "parentId",
            "schema": {
              "type": "integer"
            },
            "description": "家长ID"
          },
          {
            "in": "query",
            "name": "applyDateStart",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "申请开始日期"
          },
          {
            "in": "query",
            "name": "applyDateEnd",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "申请结束日期"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/enrollment-applications/{id}": {
      "get": {
        "summary": "获取enrollment_applications详情",
        "tags": [
          "EnrollmentApplication"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "申请ID"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "未找到"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      },
      "put": {
        "summary": "更新enrollment_applications",
        "tags": [
          "EnrollmentApplication"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "申请ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "studentName": {
                    "type": "string",
                    "description": "学生姓名"
                  },
                  "contactPhone": {
                    "type": "string",
                    "description": "联系电话"
                  },
                  "applicationStatus": {
                    "type": "string",
                    "description": "申请状态"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新成功"
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "未找到"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      },
      "delete": {
        "summary": "删除enrollment_applications",
        "tags": [
          "EnrollmentApplication"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "申请ID"
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功"
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "未找到"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/enrollment-applications/by-plan/{planId}": {
      "get": {
        "summary": "按计划获取招生申请",
        "tags": [
          "报名申请"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "planId",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "招生计划ID"
          }
        ],
        "responses": {
          "200": {
            "description": "成功"
          }
        }
      }
    },
    "/api/enrollment-applications/by-status/{status}": {
      "get": {
        "summary": "按状态获取招生申请",
        "tags": [
          "报名申请"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "status",
            "schema": {
              "type": "string"
            },
            "required": true,
            "description": "申请状态"
          }
        ],
        "responses": {
          "200": {
            "description": "成功"
          }
        }
      }
    },
    "/api/enrollment-applications/{id}/documents": {
      "post": {
        "summary": "上传申请文档",
        "tags": [
          "报名申请"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "申请ID"
          }
        ],
        "responses": {
          "201": {
            "description": "上传成功"
          }
        }
      },
      "get": {
        "summary": "获取申请文档列表",
        "tags": [
          "报名申请"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "申请ID"
          }
        ],
        "responses": {
          "200": {
            "description": "成功"
          }
        }
      }
    },
    "/api/enrollment-applications/{id}/interview": {
      "post": {
        "summary": "安排面试",
        "tags": [
          "报名申请"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "申请ID"
          }
        ],
        "responses": {
          "201": {
            "description": "安排成功"
          }
        }
      }
    },
    "/api/enrollment-applications/{id}/review": {
      "put": {
        "summary": "审核申请",
        "tags": [
          "报名申请"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "申请ID"
          }
        ],
        "responses": {
          "200": {
            "description": "审核成功"
          }
        }
      },
      "post": {
        "summary": "审核报名申请",
        "tags": [
          "报名申请"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "报名申请ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "status"
                ],
                "properties": {
                  "status": {
                    "type": "string",
                    "enum": [
                      "approved",
                      "rejected",
                      "reviewing"
                    ],
                    "description": "审核状态"
                  },
                  "comments": {
                    "type": "string",
                    "description": "审核意见"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "审核成功"
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "未找到"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/enrollment-applications/{id}/status": {
      "patch": {
        "summary": "更新申请状态",
        "tags": [
          "报名申请"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "报名申请ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "status"
                ],
                "properties": {
                  "status": {
                    "type": "string",
                    "enum": [
                      "pending",
                      "reviewing",
                      "approved",
                      "rejected",
                      "cancelled"
                    ],
                    "description": "申请状态"
                  },
                  "notes": {
                    "type": "string",
                    "description": "状态更新备注"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新成功"
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "未找到"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/enrollment-applications/{applicationId}/materials": {
      "get": {
        "summary": "获取报名申请材料列表",
        "tags": [
          "报名申请材料"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "applicationId",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "报名申请ID"
          }
        ],
        "responses": {
          "200": {
            "description": "成功"
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "未找到"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      },
      "post": {
        "summary": "添加报名申请材料",
        "tags": [
          "报名申请材料"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "applicationId",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "报名申请ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "materialType",
                  "materialName",
                  "fileId"
                ],
                "properties": {
                  "materialType": {
                    "type": "string",
                    "description": "材料类型"
                  },
                  "materialName": {
                    "type": "string",
                    "description": "材料名称"
                  },
                  "fileId": {
                    "type": "integer",
                    "description": "文件ID"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "创建成功"
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "未找到"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/enrollment-applications/materials/{materialId}": {
      "delete": {
        "summary": "删除报名申请材料",
        "tags": [
          "报名申请材料"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "materialId",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "材料ID"
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功"
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "未找到"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/enrollment-applications/materials/{materialId}/verify": {
      "post": {
        "summary": "验证报名申请材料",
        "tags": [
          "报名申请材料"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "materialId",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "材料ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "status"
                ],
                "properties": {
                  "status": {
                    "type": "string",
                    "enum": [
                      "approved",
                      "rejected"
                    ],
                    "description": "验证状态"
                  },
                  "comments": {
                    "type": "string",
                    "description": "验证意见"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "验证成功"
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "未找到"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/enrollment/overview": {
      "get": {
        "summary": "获取招生中心概览数据",
        "tags": [
          "EnrollmentCenter"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "timeRange",
            "schema": {
              "type": "string",
              "enum": [
                "week",
                "month",
                "quarter",
                "year"
              ]
            },
            "description": "时间范围"
          },
          {
            "in": "query",
            "name": "kindergartenId",
            "schema": {
              "type": "integer"
            },
            "description": "幼儿园ID"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "statistics": {
                          "type": "object"
                        },
                        "charts": {
                          "type": "object"
                        },
                        "quickStats": {
                          "type": "object"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/enrollment/plans": {
      "get": {
        "summary": "获取招生计划列表",
        "tags": [
          "EnrollmentCenter"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer",
              "default": 10
            }
          },
          {
            "in": "query",
            "name": "search",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "year",
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "semester",
            "schema": {
              "type": "string",
              "enum": [
                "spring",
                "autumn"
              ]
            }
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string",
              "enum": [
                "draft",
                "active",
                "inactive"
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      },
      "post": {
        "summary": "创建招生计划",
        "tags": [
          "EnrollmentCenter"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "title",
                  "year",
                  "semester",
                  "targetCount"
                ],
                "properties": {
                  "title": {
                    "type": "string"
                  },
                  "year": {
                    "type": "integer"
                  },
                  "semester": {
                    "type": "string",
                    "enum": [
                      "spring",
                      "autumn"
                    ]
                  },
                  "targetCount": {
                    "type": "integer"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "创建成功"
          }
        }
      }
    },
    "/api/enrollment/plans/{id}": {
      "get": {
        "summary": "获取招生计划详情",
        "tags": [
          "EnrollmentCenter"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      },
      "put": {
        "summary": "更新招生计划",
        "tags": [
          "EnrollmentCenter"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "更新成功"
          }
        }
      },
      "delete": {
        "summary": "删除招生计划",
        "tags": [
          "EnrollmentCenter"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功"
          }
        }
      }
    },
    "/api/enrollment/applications": {
      "get": {
        "summary": "获取申请列表",
        "tags": [
          "EnrollmentCenter"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      }
    },
    "/api/enrollment/applications/{id}": {
      "get": {
        "summary": "获取申请详情",
        "tags": [
          "EnrollmentCenter"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      }
    },
    "/api/enrollment/applications/{id}/status": {
      "put": {
        "summary": "更新申请状态",
        "tags": [
          "EnrollmentCenter"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "status"
                ],
                "properties": {
                  "status": {
                    "type": "string",
                    "enum": [
                      "pending",
                      "approved",
                      "rejected",
                      "interview"
                    ]
                  },
                  "remarks": {
                    "type": "string"
                  },
                  "notifyParent": {
                    "type": "boolean"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新成功"
          }
        }
      }
    },
    "/api/enrollment/consultations": {
      "get": {
        "summary": "获取咨询列表",
        "tags": [
          "EnrollmentCenter"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      }
    },
    "/api/enrollment/consultations/statistics": {
      "get": {
        "summary": "获取咨询统计数据",
        "tags": [
          "EnrollmentCenter"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      }
    },
    "/api/enrollment/analytics/trends": {
      "get": {
        "summary": "获取招生趋势分析",
        "tags": [
          "EnrollmentCenter"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      }
    },
    "/api/enrollment/ai/predict": {
      "post": {
        "summary": "AI智能预测",
        "tags": [
          "EnrollmentCenter"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "预测成功"
          }
        }
      }
    },
    "/api/enrollment/ai/strategy": {
      "post": {
        "summary": "AI策略建议",
        "tags": [
          "EnrollmentCenter"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "策略建议成功"
          }
        }
      }
    },
    "/enrollment-consultation": {
      "post": {
        "summary": "创建招生咨询记录",
        "tags": [
          "Enrollment Consultation"
        ],
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "parentName",
                  "phone",
                  "childName",
                  "childAge",
                  "consultationType"
                ],
                "properties": {
                  "parentName": {
                    "type": "string",
                    "description": "家长姓名",
                    "example": "张三"
                  },
                  "phone": {
                    "type": "string",
                    "description": "联系电话",
                    "example": "13800138000"
                  },
                  "childName": {
                    "type": "string",
                    "description": "孩子姓名",
                    "example": "小明"
                  },
                  "childAge": {
                    "type": "integer",
                    "description": "孩子年龄",
                    "example": 4
                  },
                  "childGender": {
                    "type": "string",
                    "enum": [
                      "male",
                      "female"
                    ],
                    "description": "孩子性别",
                    "example": "male"
                  },
                  "consultationType": {
                    "type": "string",
                    "enum": [
                      "phone",
                      "online",
                      "visit"
                    ],
                    "description": "咨询方式",
                    "example": "phone"
                  },
                  "consultationContent": {
                    "type": "string",
                    "description": "咨询内容",
                    "example": "想了解课程安排和收费标准"
                  },
                  "preferredContactTime": {
                    "type": "string",
                    "description": "希望联系时间",
                    "example": "工作日下午"
                  },
                  "notes": {
                    "type": "string",
                    "description": "备注信息",
                    "example": "对小班制教学感兴趣"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "创建成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "创建招生咨询记录成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "example": 1
                        },
                        "parentName": {
                          "type": "string",
                          "example": "张三"
                        },
                        "phone": {
                          "type": "string",
                          "example": "13800138000"
                        },
                        "childName": {
                          "type": "string",
                          "example": "小明"
                        },
                        "status": {
                          "type": "string",
                          "example": "pending"
                        },
                        "createdAt": {
                          "type": "string",
                          "format": "date-time"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权访问"
          },
          "403": {
            "description": "权限不足"
          }
        }
      },
      "get": {
        "summary": "获取招生咨询列表",
        "tags": [
          "Enrollment Consultation"
        ],
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "description": "页码",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "description": "每页条数",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 10
            }
          },
          {
            "name": "status",
            "in": "query",
            "description": "咨询状态筛选",
            "schema": {
              "type": "string",
              "enum": [
                "pending",
                "contacted",
                "visited",
                "enrolled",
                "cancelled"
              ]
            }
          },
          {
            "name": "consultationType",
            "in": "query",
            "description": "咨询方式筛选",
            "schema": {
              "type": "string",
              "enum": [
                "phone",
                "online",
                "visit"
              ]
            }
          },
          {
            "name": "keyword",
            "in": "query",
            "description": "关键字搜索(家长姓名/电话/孩子姓名)",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取招生咨询列表成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "total": {
                          "type": "integer",
                          "example": 50
                        },
                        "items": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "integer",
                                "example": 1
                              },
                              "parentName": {
                                "type": "string",
                                "example": "张三"
                              },
                              "phone": {
                                "type": "string",
                                "example": "13800138000"
                              },
                              "childName": {
                                "type": "string",
                                "example": "小明"
                              },
                              "childAge": {
                                "type": "integer",
                                "example": 4
                              },
                              "consultationType": {
                                "type": "string",
                                "example": "phone"
                              },
                              "status": {
                                "type": "string",
                                "example": "pending"
                              },
                              "createdAt": {
                                "type": "string",
                                "format": "date-time"
                              }
                            }
                          }
                        },
                        "page": {
                          "type": "integer",
                          "example": 1
                        },
                        "pageSize": {
                          "type": "integer",
                          "example": 10
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "403": {
            "description": "权限不足"
          }
        }
      }
    },
    "/enrollment-consultation/statistics": {
      "get": {
        "summary": "获取招生咨询统计数据",
        "tags": [
          "Enrollment Consultation"
        ],
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "startDate",
            "in": "query",
            "description": "开始日期(YYYY-MM-DD)",
            "schema": {
              "type": "string",
              "format": "date",
              "example": "2024-01-01"
            }
          },
          {
            "name": "endDate",
            "in": "query",
            "description": "结束日期(YYYY-MM-DD)",
            "schema": {
              "type": "string",
              "format": "date",
              "example": "2024-12-31"
            }
          },
          {
            "name": "groupBy",
            "in": "query",
            "description": "统计分组方式",
            "schema": {
              "type": "string",
              "enum": [
                "day",
                "week",
                "month",
                "quarter",
                "year"
              ],
              "default": "month"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取统计数据成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "summary": {
                          "type": "object",
                          "properties": {
                            "totalConsultations": {
                              "type": "integer",
                              "description": "总咨询数",
                              "example": 120
                            },
                            "pendingCount": {
                              "type": "integer",
                              "description": "待处理数量",
                              "example": 15
                            },
                            "contactedCount": {
                              "type": "integer",
                              "description": "已联系数量",
                              "example": 80
                            },
                            "enrolledCount": {
                              "type": "integer",
                              "description": "已报名数量",
                              "example": 25
                            },
                            "conversionRate": {
                              "type": "number",
                              "format": "float",
                              "description": "转化率(%)",
                              "example": 20.83
                            }
                          }
                        },
                        "consultationTypeStats": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "type": {
                                "type": "string",
                                "example": "phone"
                              },
                              "count": {
                                "type": "integer",
                                "example": 60
                              },
                              "percentage": {
                                "type": "number",
                                "format": "float",
                                "example": 50
                              }
                            }
                          }
                        },
                        "timeSeriesData": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "period": {
                                "type": "string",
                                "example": "2024-01"
                              },
                              "count": {
                                "type": "integer",
                                "example": 25
                              },
                              "enrolled": {
                                "type": "integer",
                                "example": 5
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "403": {
            "description": "权限不足"
          }
        }
      }
    },
    "/enrollment-consultation/followups": {
      "post": {
        "summary": "创建咨询跟进记录",
        "tags": [
          "Enrollment Consultation"
        ],
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "consultationId",
                  "followupType",
                  "followupContent"
                ],
                "properties": {
                  "consultationId": {
                    "type": "integer",
                    "description": "招生咨询记录ID",
                    "example": 1
                  },
                  "followupType": {
                    "type": "string",
                    "enum": [
                      "phone",
                      "email",
                      "visit",
                      "other"
                    ],
                    "description": "跟进方式",
                    "example": "phone"
                  },
                  "followupContent": {
                    "type": "string",
                    "description": "跟进内容",
                    "example": "电话联系家长，详细介绍了课程安排和收费标准"
                  },
                  "nextFollowupDate": {
                    "type": "string",
                    "format": "date",
                    "description": "下次跟进日期",
                    "example": "2024-02-01"
                  },
                  "outcome": {
                    "type": "string",
                    "enum": [
                      "interested",
                      "not_interested",
                      "need_more_info",
                      "scheduled_visit",
                      "enrolled"
                    ],
                    "description": "跟进结果",
                    "example": "interested"
                  },
                  "notes": {
                    "type": "string",
                    "description": "备注信息",
                    "example": "家长表示有意向，希望安排实地参观"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "创建成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "创建跟进记录成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "example": 1
                        },
                        "consultationId": {
                          "type": "integer",
                          "example": 1
                        },
                        "followupType": {
                          "type": "string",
                          "example": "phone"
                        },
                        "followupContent": {
                          "type": "string",
                          "example": "电话联系家长，详细介绍了课程安排和收费标准"
                        },
                        "outcome": {
                          "type": "string",
                          "example": "interested"
                        },
                        "createdAt": {
                          "type": "string",
                          "format": "date-time"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权访问"
          },
          "403": {
            "description": "权限不足"
          },
          "404": {
            "description": "招生咨询记录不存在"
          }
        }
      },
      "get": {
        "summary": "获取跟进记录列表",
        "tags": [
          "Enrollment Consultation"
        ],
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "consultationId",
            "in": "query",
            "description": "招生咨询记录ID筛选",
            "schema": {
              "type": "integer"
            }
          },
          {
            "name": "followupType",
            "in": "query",
            "description": "跟进方式筛选",
            "schema": {
              "type": "string",
              "enum": [
                "phone",
                "email",
                "visit",
                "other"
              ]
            }
          },
          {
            "name": "outcome",
            "in": "query",
            "description": "跟进结果筛选",
            "schema": {
              "type": "string",
              "enum": [
                "interested",
                "not_interested",
                "need_more_info",
                "scheduled_visit",
                "enrolled"
              ]
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "页码",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "description": "每页条数",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取跟进记录列表成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "total": {
                          "type": "integer",
                          "example": 30
                        },
                        "items": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "integer",
                                "example": 1
                              },
                              "consultationId": {
                                "type": "integer",
                                "example": 1
                              },
                              "followupType": {
                                "type": "string",
                                "example": "phone"
                              },
                              "followupContent": {
                                "type": "string",
                                "example": "电话联系家长，详细介绍了课程安排"
                              },
                              "outcome": {
                                "type": "string",
                                "example": "interested"
                              },
                              "nextFollowupDate": {
                                "type": "string",
                                "format": "date",
                                "example": "2024-02-01"
                              },
                              "createdAt": {
                                "type": "string",
                                "format": "date-time"
                              },
                              "consultation": {
                                "type": "object",
                                "properties": {
                                  "id": {
                                    "type": "integer",
                                    "example": 1
                                  },
                                  "parentName": {
                                    "type": "string",
                                    "example": "张三"
                                  },
                                  "childName": {
                                    "type": "string",
                                    "example": "小明"
                                  },
                                  "phone": {
                                    "type": "string",
                                    "example": "13800138000"
                                  }
                                }
                              }
                            }
                          }
                        },
                        "page": {
                          "type": "integer",
                          "example": 1
                        },
                        "pageSize": {
                          "type": "integer",
                          "example": 10
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "403": {
            "description": "权限不足"
          }
        }
      }
    },
    "/enrollment-consultation/followups/{id}": {
      "get": {
        "summary": "根据ID获取跟进记录详情",
        "tags": [
          "Enrollment Consultation"
        ],
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "跟进记录ID",
            "schema": {
              "type": "integer",
              "example": 1
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取跟进记录详情成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "example": 1
                        },
                        "consultationId": {
                          "type": "integer",
                          "example": 1
                        },
                        "followupType": {
                          "type": "string",
                          "example": "phone"
                        },
                        "followupContent": {
                          "type": "string",
                          "example": "电话联系家长，详细介绍了课程安排和收费标准"
                        },
                        "outcome": {
                          "type": "string",
                          "example": "interested"
                        },
                        "nextFollowupDate": {
                          "type": "string",
                          "format": "date",
                          "example": "2024-02-01"
                        },
                        "notes": {
                          "type": "string",
                          "example": "家长表示有意向，希望安排实地参观"
                        },
                        "createdAt": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "updatedAt": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "consultation": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "integer",
                              "example": 1
                            },
                            "parentName": {
                              "type": "string",
                              "example": "张三"
                            },
                            "childName": {
                              "type": "string",
                              "example": "小明"
                            },
                            "phone": {
                              "type": "string",
                              "example": "13800138000"
                            },
                            "childAge": {
                              "type": "integer",
                              "example": 4
                            },
                            "consultationType": {
                              "type": "string",
                              "example": "phone"
                            },
                            "status": {
                              "type": "string",
                              "example": "contacted"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "403": {
            "description": "权限不足"
          },
          "404": {
            "description": "跟进记录不存在"
          }
        }
      }
    },
    "/enrollment-consultation/{id}": {
      "get": {
        "summary": "根据ID获取招生咨询记录详情",
        "tags": [
          "Enrollment Consultation"
        ],
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "招生咨询记录ID",
            "schema": {
              "type": "integer",
              "example": 1
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取招生咨询记录详情成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "example": 1
                        },
                        "parentName": {
                          "type": "string",
                          "example": "张三"
                        },
                        "phone": {
                          "type": "string",
                          "example": "13800138000"
                        },
                        "childName": {
                          "type": "string",
                          "example": "小明"
                        },
                        "childAge": {
                          "type": "integer",
                          "example": 4
                        },
                        "childGender": {
                          "type": "string",
                          "example": "male"
                        },
                        "consultationType": {
                          "type": "string",
                          "example": "phone"
                        },
                        "consultationContent": {
                          "type": "string",
                          "example": "想了解课程安排和收费标准"
                        },
                        "preferredContactTime": {
                          "type": "string",
                          "example": "工作日下午"
                        },
                        "status": {
                          "type": "string",
                          "example": "pending"
                        },
                        "notes": {
                          "type": "string",
                          "example": "对小班制教学感兴趣"
                        },
                        "createdAt": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "updatedAt": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "followups": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "integer",
                                "example": 1
                              },
                              "followupType": {
                                "type": "string",
                                "example": "phone"
                              },
                              "followupContent": {
                                "type": "string",
                                "example": "电话联系家长"
                              },
                              "outcome": {
                                "type": "string",
                                "example": "interested"
                              },
                              "createdAt": {
                                "type": "string",
                                "format": "date-time"
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "403": {
            "description": "权限不足"
          },
          "404": {
            "description": "招生咨询记录不存在"
          }
        }
      },
      "put": {
        "summary": "更新招生咨询记录",
        "tags": [
          "Enrollment Consultation"
        ],
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "招生咨询记录ID",
            "schema": {
              "type": "integer",
              "example": 1
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "parentName": {
                    "type": "string",
                    "description": "家长姓名",
                    "example": "张三"
                  },
                  "phone": {
                    "type": "string",
                    "description": "联系电话",
                    "example": "13800138000"
                  },
                  "childName": {
                    "type": "string",
                    "description": "孩子姓名",
                    "example": "小明"
                  },
                  "childAge": {
                    "type": "integer",
                    "description": "孩子年龄",
                    "example": 4
                  },
                  "childGender": {
                    "type": "string",
                    "enum": [
                      "male",
                      "female"
                    ],
                    "description": "孩子性别",
                    "example": "male"
                  },
                  "consultationType": {
                    "type": "string",
                    "enum": [
                      "phone",
                      "online",
                      "visit"
                    ],
                    "description": "咨询方式",
                    "example": "phone"
                  },
                  "consultationContent": {
                    "type": "string",
                    "description": "咨询内容",
                    "example": "想了解课程安排和收费标准"
                  },
                  "preferredContactTime": {
                    "type": "string",
                    "description": "希望联系时间",
                    "example": "工作日下午"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "pending",
                      "contacted",
                      "visited",
                      "enrolled",
                      "cancelled"
                    ],
                    "description": "咨询状态",
                    "example": "contacted"
                  },
                  "notes": {
                    "type": "string",
                    "description": "备注信息",
                    "example": "对小班制教学感兴趣"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "更新招生咨询记录成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "example": 1
                        },
                        "parentName": {
                          "type": "string",
                          "example": "张三"
                        },
                        "phone": {
                          "type": "string",
                          "example": "13800138000"
                        },
                        "childName": {
                          "type": "string",
                          "example": "小明"
                        },
                        "status": {
                          "type": "string",
                          "example": "contacted"
                        },
                        "updatedAt": {
                          "type": "string",
                          "format": "date-time"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权访问"
          },
          "403": {
            "description": "权限不足"
          },
          "404": {
            "description": "招生咨询记录不存在"
          }
        }
      },
      "delete": {
        "summary": "删除招生咨询记录",
        "tags": [
          "Enrollment Consultation"
        ],
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "招生咨询记录ID",
            "schema": {
              "type": "integer",
              "example": 1
            }
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "删除招生咨询记录成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "deletedId": {
                          "type": "integer",
                          "example": 1
                        },
                        "deletedAt": {
                          "type": "string",
                          "format": "date-time"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "403": {
            "description": "权限不足"
          },
          "404": {
            "description": "招生咨询记录不存在"
          },
          "409": {
            "description": "存在关联数据，无法删除",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "该咨询记录存在跟进记录，无法删除"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "followupCount": {
                          "type": "integer",
                          "example": 3
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/enrollment-consultations": {
      "get": {
        "summary": "获取enrollment_consultations列表",
        "tags": [
          "EnrollmentConsultation"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      },
      "post": {
        "summary": "创建enrollment_consultations",
        "tags": [
          "EnrollmentConsultation"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "201": {
            "description": "创建成功"
          }
        }
      }
    },
    "/api/enrollment-consultations/{id}": {
      "get": {
        "summary": "获取enrollment_consultations详情",
        "tags": [
          "EnrollmentConsultation"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      },
      "put": {
        "summary": "更新enrollment_consultations",
        "tags": [
          "EnrollmentConsultation"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "更新成功"
          }
        }
      },
      "delete": {
        "summary": "删除enrollment_consultations",
        "tags": [
          "EnrollmentConsultation"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功"
          }
        }
      }
    },
    "/api/enrollment-finance/linkages": {
      "get": {
        "summary": "获取招生财务关联列表",
        "tags": [
          "EnrollmentFinance"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string"
            },
            "description": "财务状态筛选"
          },
          {
            "in": "query",
            "name": "className",
            "schema": {
              "type": "string"
            },
            "description": "班级名称筛选"
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer"
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer"
            },
            "description": "每页数量"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/enrollment-finance/stats": {
      "get": {
        "summary": "获取招生财务统计数据",
        "tags": [
          "EnrollmentFinance"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/enrollment-finance/statistics": {
      "get": {
        "summary": "获取招生财务统计数据 (兼容旧路径)",
        "tags": [
          "EnrollmentFinance"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/enrollment-finance/fee-package-templates": {
      "get": {
        "summary": "获取费用套餐模板列表",
        "tags": [
          "EnrollmentFinance"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/enrollment-finance/fee-templates": {
      "get": {
        "summary": "获取费用套餐模板列表 (兼容旧路径)",
        "tags": [
          "EnrollmentFinance"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/enrollment-finance/process/{id}": {
      "get": {
        "summary": "获取招生流程详情",
        "tags": [
          "EnrollmentFinance"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "招生申请ID"
          }
        ]
      }
    },
    "/api/enrollment-finance/confirm-payment": {
      "post": {
        "summary": "确认收款 (园长角色)",
        "tags": [
          "EnrollmentFinance"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "enrollmentId": {
                    "type": "string"
                  },
                  "amount": {
                    "type": "number"
                  },
                  "paymentMethod": {
                    "type": "string"
                  },
                  "notes": {
                    "type": "string"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/enrollment-finance/send-payment-reminder": {
      "post": {
        "summary": "发送缴费提醒",
        "tags": [
          "EnrollmentFinance"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "enrollmentIds": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/enrollment-finance/generate-bill": {
      "post": {
        "summary": "生成缴费单",
        "tags": [
          "EnrollmentFinance"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/enrollment-finance/batch-generate-bills": {
      "post": {
        "summary": "批量生成缴费单",
        "tags": [
          "EnrollmentFinance"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/enrollment-finance/config": {
      "get": {
        "summary": "获取招生财务配置",
        "tags": [
          "EnrollmentFinance"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/enrollment-interviews": {
      "post": {
        "summary": "创建enrollment_interviews",
        "tags": [
          "EnrollmentInterview"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "applicationId",
                  "interviewDate",
                  "interviewerId"
                ],
                "properties": {
                  "applicationId": {
                    "type": "integer",
                    "description": "申请ID"
                  },
                  "interviewDate": {
                    "type": "string",
                    "format": "date-time",
                    "description": "面试日期"
                  },
                  "interviewerId": {
                    "type": "integer",
                    "description": "面试官ID"
                  },
                  "location": {
                    "type": "string",
                    "description": "面试地点"
                  },
                  "status": {
                    "type": "string",
                    "description": "面试状态"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "创建成功"
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      },
      "get": {
        "summary": "获取enrollment_interviews列表",
        "tags": [
          "EnrollmentInterview"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer",
              "default": 10
            },
            "description": "每页数量"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/enrollment-interviews/stats": {
      "get": {
        "summary": "获取面试记录统计数据",
        "tags": [
          "面试记录"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功"
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/enrollment-interviews/{id}": {
      "get": {
        "summary": "获取enrollment_interviews详情",
        "tags": [
          "EnrollmentInterview"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "面试记录ID"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "未找到"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      },
      "put": {
        "summary": "更新enrollment_interviews",
        "tags": [
          "EnrollmentInterview"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "面试记录ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "interviewDate": {
                    "type": "string",
                    "format": "date-time",
                    "description": "面试日期"
                  },
                  "location": {
                    "type": "string",
                    "description": "面试地点"
                  },
                  "status": {
                    "type": "string",
                    "description": "面试状态"
                  },
                  "score": {
                    "type": "number",
                    "description": "面试分数"
                  },
                  "feedback": {
                    "type": "string",
                    "description": "面试反馈"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新成功"
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "未找到"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      },
      "delete": {
        "summary": "删除enrollment_interviews",
        "tags": [
          "EnrollmentInterview"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "integer"
            },
            "required": true,
            "description": "面试记录ID"
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功"
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "未找到"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/enrollment-plans": {
      "post": {
        "tags": [
          "EnrollmentPlan"
        ],
        "summary": "创建招生计划",
        "description": "创建新的招生计划",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateEnrollmentPlanRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "创建成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "description": "权限不足"
          }
        }
      },
      "get": {
        "tags": [
          "EnrollmentPlan"
        ],
        "summary": "获取招生计划列表",
        "description": "获取所有招生计划列表，支持分页和筛选",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 10
            },
            "description": "每页数量"
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string",
              "enum": [
                "DRAFT",
                "ACTIVE",
                "COMPLETED",
                "CANCELLED"
              ]
            },
            "description": "状态筛选"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "description": "权限不足"
          }
        }
      }
    },
    "/enrollment-plans/statistics": {
      "get": {
        "tags": [
          "EnrollmentPlan"
        ],
        "summary": "获取全局招生计划统计",
        "description": "获取全局招生计划统计数据",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "description": "权限不足"
          }
        }
      }
    },
    "/enrollment-plans/analytics": {
      "get": {
        "tags": [
          "EnrollmentPlan"
        ],
        "summary": "获取招生分析数据",
        "description": "获取招生计划分析数据和趋势",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "开始日期"
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "结束日期"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "description": "权限不足"
          }
        }
      }
    },
    "/enrollment-plans/{id}": {
      "get": {
        "tags": [
          "EnrollmentPlan"
        ],
        "summary": "获取招生计划详情",
        "description": "根据ID获取招生计划详细信息",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "招生计划ID"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "description": "权限不足"
          },
          "404": {
            "description": "招生计划不存在"
          }
        }
      },
      "put": {
        "tags": [
          "EnrollmentPlan"
        ],
        "summary": "更新招生计划",
        "description": "更新指定ID的招生计划信息",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "招生计划ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateEnrollmentPlanRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "description": "权限不足"
          },
          "404": {
            "description": "招生计划不存在"
          }
        }
      },
      "delete": {
        "tags": [
          "EnrollmentPlan"
        ],
        "summary": "删除招生计划",
        "description": "删除指定ID的招生计划",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "招生计划ID"
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "description": "权限不足"
          },
          "404": {
            "description": "招生计划不存在"
          }
        }
      }
    },
    "/enrollment-plans/{id}/classes": {
      "post": {
        "tags": [
          "EnrollmentPlan"
        ],
        "summary": "设置招生计划班级",
        "description": "为招生计划关联班级",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "招生计划ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "classIds"
                ],
                "properties": {
                  "classIds": {
                    "type": "array",
                    "items": {
                      "type": "integer"
                    },
                    "description": "班级ID列表"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "设置成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "description": "权限不足"
          },
          "404": {
            "description": "招生计划不存在"
          }
        }
      }
    },
    "/enrollment-plans/{id}/assignees": {
      "post": {
        "tags": [
          "EnrollmentPlan"
        ],
        "summary": "设置招生计划负责人",
        "description": "为招生计划指定负责人",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "招生计划ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "assigneeIds"
                ],
                "properties": {
                  "assigneeIds": {
                    "type": "array",
                    "items": {
                      "type": "integer"
                    },
                    "description": "负责人ID列表"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "设置成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "description": "权限不足"
          },
          "404": {
            "description": "招生计划不存在"
          }
        }
      }
    },
    "/enrollment-plans/{id}/statistics": {
      "get": {
        "tags": [
          "EnrollmentPlan"
        ],
        "summary": "获取招生计划统计",
        "description": "获取指定招生计划的统计数据",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "招生计划ID"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/EnrollmentPlanStatistics"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "description": "权限不足"
          },
          "404": {
            "description": "招生计划不存在"
          }
        }
      }
    },
    "/enrollment-plans/{id}/trackings": {
      "get": {
        "tags": [
          "EnrollmentPlan"
        ],
        "summary": "获取招生计划跟踪记录",
        "description": "获取指定招生计划的跟踪记录列表",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "招生计划ID"
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 10
            },
            "description": "每页数量"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "description": "权限不足"
          },
          "404": {
            "description": "招生计划不存在"
          }
        }
      },
      "post": {
        "tags": [
          "EnrollmentPlan"
        ],
        "summary": "添加招生计划跟踪记录",
        "description": "为指定招生计划添加跟踪记录",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "招生计划ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "trackingContent"
                ],
                "properties": {
                  "trackingContent": {
                    "type": "string",
                    "description": "跟踪内容"
                  },
                  "trackingDate": {
                    "type": "string",
                    "format": "date",
                    "description": "跟踪日期（可选，默认当前日期）"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "添加成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "description": "权限不足"
          },
          "404": {
            "description": "招生计划不存在"
          }
        }
      }
    },
    "/enrollment-plans/{id}/status": {
      "put": {
        "tags": [
          "EnrollmentPlan"
        ],
        "summary": "更新招生计划状态",
        "description": "更新指定招生计划的状态",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "招生计划ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "status"
                ],
                "properties": {
                  "status": {
                    "type": "string",
                    "enum": [
                      "DRAFT",
                      "ACTIVE",
                      "COMPLETED",
                      "CANCELLED"
                    ],
                    "description": "新状态"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "description": "权限不足"
          },
          "404": {
            "description": "招生计划不存在"
          }
        }
      }
    },
    "/api/enrollment-plans": {
      "get": {
        "summary": "获取enrollment_plans列表",
        "tags": [
          "EnrollmentPlan"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      },
      "post": {
        "summary": "创建enrollment_plans",
        "tags": [
          "EnrollmentPlan"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "201": {
            "description": "创建成功"
          }
        }
      }
    },
    "/api/enrollment-plans/{id}": {
      "get": {
        "summary": "获取enrollment_plans详情",
        "tags": [
          "EnrollmentPlan"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      },
      "put": {
        "summary": "更新enrollment_plans",
        "tags": [
          "EnrollmentPlan"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "更新成功"
          }
        }
      },
      "delete": {
        "summary": "删除enrollment_plans",
        "tags": [
          "EnrollmentPlan"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功"
          }
        }
      }
    },
    "/api/enrollment/quotas": {
      "get": {
        "summary": "获取招生名额列表",
        "tags": [
          "EnrollmentQuotas"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer",
              "default": 10
            },
            "description": "每页数量"
          },
          {
            "in": "query",
            "name": "planId",
            "schema": {
              "type": "integer"
            },
            "description": "招生计划ID过滤"
          },
          {
            "in": "query",
            "name": "classId",
            "schema": {
              "type": "integer"
            },
            "description": "班级ID过滤"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "total": {
                          "type": "integer"
                        },
                        "items": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/EnrollmentQuota"
                          }
                        },
                        "page": {
                          "type": "integer"
                        },
                        "pageSize": {
                          "type": "integer"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "description": "无权限"
          }
        }
      },
      "post": {
        "summary": "创建招生名额",
        "tags": [
          "EnrollmentQuotas"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "planId",
                  "classId",
                  "totalQuota"
                ],
                "properties": {
                  "planId": {
                    "type": "integer",
                    "description": "招生计划ID"
                  },
                  "classId": {
                    "type": "integer",
                    "description": "班级ID"
                  },
                  "totalQuota": {
                    "type": "integer",
                    "minimum": 1,
                    "description": "总名额"
                  },
                  "reservedQuota": {
                    "type": "integer",
                    "minimum": 0,
                    "description": "预留名额"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "创建成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "$ref": "#/components/schemas/EnrollmentQuota"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "description": "无权限"
          }
        }
      }
    },
    "/api/enrollment/quotas/by-plan/{planId}": {
      "get": {
        "summary": "按计划获取招生名额",
        "tags": [
          "EnrollmentQuotas"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "planId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "招生计划ID"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "allOf": [
                          {
                            "$ref": "#/components/schemas/EnrollmentQuota"
                          },
                          {
                            "type": "object",
                            "properties": {
                              "class": {
                                "type": "object",
                                "properties": {
                                  "id": {
                                    "type": "integer"
                                  },
                                  "name": {
                                    "type": "string"
                                  },
                                  "grade": {
                                    "type": "string"
                                  }
                                }
                              }
                            }
                          }
                        ]
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "description": "无权限"
          },
          "404": {
            "description": "计划不存在"
          }
        }
      }
    },
    "/api/enrollment/quotas/by-class/{classId}": {
      "get": {
        "summary": "按班级获取招生名额",
        "tags": [
          "EnrollmentQuotas"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "classId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "班级ID"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "allOf": [
                          {
                            "$ref": "#/components/schemas/EnrollmentQuota"
                          },
                          {
                            "type": "object",
                            "properties": {
                              "plan": {
                                "type": "object",
                                "properties": {
                                  "id": {
                                    "type": "integer"
                                  },
                                  "title": {
                                    "type": "string"
                                  },
                                  "year": {
                                    "type": "integer"
                                  },
                                  "semester": {
                                    "type": "integer"
                                  }
                                }
                              }
                            }
                          }
                        ]
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "description": "无权限"
          },
          "404": {
            "description": "班级不存在"
          }
        }
      }
    },
    "/api/enrollment/quotas/{id}": {
      "get": {
        "summary": "获取招生名额详情",
        "tags": [
          "EnrollmentQuotas"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "招生名额ID"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "allOf": [
                        {
                          "$ref": "#/components/schemas/EnrollmentQuota"
                        },
                        {
                          "type": "object",
                          "properties": {
                            "plan": {
                              "type": "object",
                              "properties": {
                                "id": {
                                  "type": "integer"
                                },
                                "title": {
                                  "type": "string"
                                },
                                "year": {
                                  "type": "integer"
                                },
                                "semester": {
                                  "type": "integer"
                                }
                              }
                            },
                            "class": {
                              "type": "object",
                              "properties": {
                                "id": {
                                  "type": "integer"
                                },
                                "name": {
                                  "type": "string"
                                },
                                "grade": {
                                  "type": "string"
                                }
                              }
                            }
                          }
                        }
                      ]
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "description": "无权限"
          },
          "404": {
            "description": "名额不存在"
          }
        }
      },
      "put": {
        "summary": "更新招生名额",
        "tags": [
          "EnrollmentQuotas"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "招生名额ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "planId": {
                    "type": "integer",
                    "description": "招生计划ID"
                  },
                  "classId": {
                    "type": "integer",
                    "description": "班级ID"
                  },
                  "totalQuota": {
                    "type": "integer",
                    "minimum": 1,
                    "description": "总名额"
                  },
                  "usedQuota": {
                    "type": "integer",
                    "minimum": 0,
                    "description": "已使用名额"
                  },
                  "reservedQuota": {
                    "type": "integer",
                    "minimum": 0,
                    "description": "预留名额"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "$ref": "#/components/schemas/EnrollmentQuota"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "description": "无权限"
          },
          "404": {
            "description": "名额不存在"
          }
        }
      },
      "delete": {
        "summary": "删除招生名额",
        "tags": [
          "EnrollmentQuotas"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "招生名额ID"
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "null"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "description": "无权限"
          },
          "404": {
            "description": "名额不存在"
          },
          "409": {
            "description": "名额已被使用，无法删除"
          }
        }
      }
    },
    "/api/enrollment/quotas/allocate": {
      "post": {
        "summary": "分配招生名额",
        "tags": [
          "EnrollmentQuotas"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "planId",
                  "classId",
                  "allocatedQuota"
                ],
                "properties": {
                  "planId": {
                    "type": "integer",
                    "description": "招生计划ID"
                  },
                  "classId": {
                    "type": "integer",
                    "description": "班级ID"
                  },
                  "allocatedQuota": {
                    "type": "integer",
                    "minimum": 1,
                    "description": "分配名额数量"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "分配成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "$ref": "#/components/schemas/QuotaAllocation"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "409": {
            "description": "名额不足"
          }
        }
      }
    },
    "/api/enrollment/quotas/statistics/{planId}": {
      "get": {
        "summary": "获取招生名额统计",
        "tags": [
          "EnrollmentQuotas"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "planId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "招生计划ID"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "$ref": "#/components/schemas/QuotaStatistics"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "计划不存在"
          }
        }
      }
    },
    "/api/enrollment/quotas/batch-adjust": {
      "post": {
        "summary": "批量调整招生名额",
        "tags": [
          "EnrollmentQuotas"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "adjustments"
                ],
                "properties": {
                  "adjustments": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "required": [
                        "id",
                        "newQuota"
                      ],
                      "properties": {
                        "id": {
                          "type": "integer",
                          "description": "名额ID"
                        },
                        "newQuota": {
                          "type": "integer",
                          "minimum": 1,
                          "description": "新名额"
                        },
                        "reason": {
                          "type": "string",
                          "description": "调整原因"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "调整成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "adjustedCount": {
                          "type": "integer",
                          "description": "调整数量"
                        },
                        "adjustedAt": {
                          "type": "string",
                          "format": "date-time",
                          "description": "调整时间"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "参数错误"
          },
          "401": {
            "description": "未授权"
          }
        }
      }
    },
    "/api/enrollment/quotas/{id}/adjust": {
      "patch": {
        "summary": "调整招生名额",
        "tags": [
          "EnrollmentQuotas"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "招生名额ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "newQuota"
                ],
                "properties": {
                  "newQuota": {
                    "type": "integer",
                    "minimum": 1,
                    "description": "新名额"
                  },
                  "reason": {
                    "type": "string",
                    "description": "调整原因"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "调整成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "description": "名额ID"
                        },
                        "oldQuota": {
                          "type": "integer",
                          "description": "原名额"
                        },
                        "newQuota": {
                          "type": "integer",
                          "description": "新名额"
                        },
                        "adjustmentReason": {
                          "type": "string",
                          "description": "调整原因"
                        },
                        "adjustedAt": {
                          "type": "string",
                          "format": "date-time",
                          "description": "调整时间"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "description": "无权限"
          },
          "404": {
            "description": "名额不存在"
          }
        }
      }
    },
    "security": {
      "0": {
        "bearerAuth": []
      }
    },
    "/api/enrollment-quotas": {
      "get": {
        "tags": [
          "EnrollmentQuota"
        ],
        "summary": "获取招生配额列表",
        "description": "获取招生配额列表，支持多种查询条件和分页",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "planId",
            "schema": {
              "type": "integer"
            },
            "description": "招生计划ID筛选",
            "example": 10
          },
          {
            "in": "query",
            "name": "classId",
            "schema": {
              "type": "integer"
            },
            "description": "班级ID筛选",
            "example": 1
          },
          {
            "in": "query",
            "name": "kindergartenId",
            "schema": {
              "type": "integer"
            },
            "description": "幼儿园ID筛选",
            "example": 1
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string",
              "enum": [
                "active",
                "full",
                "available",
                "expired"
              ]
            },
            "description": "配额状态筛选",
            "example": "available"
          },
          {
            "in": "query",
            "name": "hasAvailableQuota",
            "schema": {
              "type": "boolean"
            },
            "description": "是否有可用配额筛选",
            "example": true
          },
          {
            "in": "query",
            "name": "includeDetails",
            "schema": {
              "type": "boolean",
              "default": false
            },
            "description": "是否包含招生计划和班级详细信息",
            "example": true
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            },
            "description": "页码",
            "example": 1
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 20
            },
            "description": "每页数量",
            "example": 20
          },
          {
            "in": "query",
            "name": "search",
            "schema": {
              "type": "string"
            },
            "description": "搜索关键词（班级名称、招生计划名称等）",
            "example": "小班"
          }
        ],
        "responses": {
          "200": {
            "description": "获取配额列表成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取招生配额列表成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "list": {
                          "type": "array",
                          "items": {
                            "oneOf": [
                              {
                                "$ref": "#/components/schemas/EnrollmentQuota"
                              },
                              {
                                "$ref": "#/components/schemas/EnrollmentQuotaWithDetails"
                              }
                            ]
                          },
                          "description": "配额列表"
                        },
                        "pagination": {
                          "type": "object",
                          "properties": {
                            "currentPage": {
                              "type": "integer",
                              "description": "当前页码",
                              "example": 1
                            },
                            "pageSize": {
                              "type": "integer",
                              "description": "每页数量",
                              "example": 20
                            },
                            "totalItems": {
                              "type": "integer",
                              "description": "总记录数",
                              "example": 50
                            },
                            "totalPages": {
                              "type": "integer",
                              "description": "总页数",
                              "example": 3
                            }
                          }
                        },
                        "statistics": {
                          "type": "object",
                          "properties": {
                            "totalQuotas": {
                              "type": "integer",
                              "description": "总配额数",
                              "example": 1500
                            },
                            "usedQuotas": {
                              "type": "integer",
                              "description": "已使用配额数",
                              "example": 750
                            },
                            "availableQuotas": {
                              "type": "integer",
                              "description": "可用配额数",
                              "example": 600
                            },
                            "reservedQuotas": {
                              "type": "integer",
                              "description": "预留配额数",
                              "example": 150
                            },
                            "averageEnrollmentRate": {
                              "type": "number",
                              "format": "decimal",
                              "description": "平均招生完成率",
                              "example": 50
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      },
      "post": {
        "tags": [
          "EnrollmentQuota"
        ],
        "summary": "创建招生配额",
        "description": "为指定招生计划和班级创建新的招生配额",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateEnrollmentQuotaRequest"
              },
              "example": {
                "planId": 10,
                "classId": 1,
                "totalQuota": 30,
                "reservedQuota": 5,
                "remark": "面向社区招生，优先考虑本地居民"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "创建配额成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "创建招生配额成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/EnrollmentQuota"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/ValidationError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "409": {
            "description": "配额已存在",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "code": {
                      "type": "string",
                      "example": "QUOTA_EXISTS"
                    },
                    "message": {
                      "type": "string",
                      "example": "该招生计划和班级的配额已存在"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/enrollment-quotas/{id}": {
      "get": {
        "tags": [
          "EnrollmentQuota"
        ],
        "summary": "获取招生配额详情",
        "description": "根据ID获取指定招生配额的详细信息",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "配额ID",
            "example": 1001
          },
          {
            "in": "query",
            "name": "includeDetails",
            "schema": {
              "type": "boolean",
              "default": false
            },
            "description": "是否包含招生计划和班级详细信息",
            "example": true
          }
        ],
        "responses": {
          "200": {
            "description": "获取配额详情成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取招生配额详情成功"
                    },
                    "data": {
                      "oneOf": [
                        {
                          "$ref": "#/components/schemas/EnrollmentQuota"
                        },
                        {
                          "$ref": "#/components/schemas/EnrollmentQuotaWithDetails"
                        }
                      ]
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "description": "配额不存在",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "code": {
                      "type": "string",
                      "example": "NOT_FOUND"
                    },
                    "message": {
                      "type": "string",
                      "example": "招生配额不存在"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      },
      "put": {
        "tags": [
          "EnrollmentQuota"
        ],
        "summary": "更新招生配额",
        "description": "更新指定的招生配额信息",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "配额ID",
            "example": 1001
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateEnrollmentQuotaRequest"
              },
              "example": {
                "totalQuota": 35,
                "reservedQuota": 8,
                "remark": "根据实际需求调整配额"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新配额成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "更新招生配额成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/EnrollmentQuota"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/ValidationError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "description": "配额不存在",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "code": {
                      "type": "string",
                      "example": "NOT_FOUND"
                    },
                    "message": {
                      "type": "string",
                      "example": "招生配额不存在"
                    }
                  }
                }
              }
            }
          },
          "409": {
            "description": "配额冲突",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "code": {
                      "type": "string",
                      "example": "QUOTA_CONFLICT"
                    },
                    "message": {
                      "type": "string",
                      "example": "调整的配额与已使用配额冲突"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      },
      "delete": {
        "tags": [
          "EnrollmentQuota"
        ],
        "summary": "删除招生配额",
        "description": "删除指定的招生配额记录（软删除）",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "配额ID",
            "example": 1001
          }
        ],
        "responses": {
          "200": {
            "description": "删除配额成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "删除招生配额成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "description": "被删除的配额ID",
                          "example": 1001
                        },
                        "deletedAt": {
                          "type": "string",
                          "format": "date-time",
                          "description": "删除时间",
                          "example": "2024-01-15T16:30:00.000Z"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "description": "配额不存在",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "code": {
                      "type": "string",
                      "example": "NOT_FOUND"
                    },
                    "message": {
                      "type": "string",
                      "example": "招生配额不存在"
                    }
                  }
                }
              }
            }
          },
          "409": {
            "description": "配额正在使用中，无法删除",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "code": {
                      "type": "string",
                      "example": "QUOTA_IN_USE"
                    },
                    "message": {
                      "type": "string",
                      "example": "该配额正在使用中，无法删除"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/enrollment-statistics": {
      "get": {
        "summary": "获取招生统计数据",
        "description": "获取总体招生统计信息，包括申请数量、确认数量和转化率",
        "tags": [
          "EnrollmentStatistics"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "开始日期"
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "结束日期"
          },
          {
            "in": "query",
            "name": "campusId",
            "schema": {
              "type": "integer"
            },
            "description": "校区ID"
          }
        ],
        "responses": {
          "200": {
            "description": "招生统计数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "$ref": "#/components/schemas/EnrollmentStatistics"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "description": "权限不足"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/enrollment-statistics/trend": {
      "get": {
        "summary": "获取招生趋势数据",
        "description": "获取指定时间段内的招生趋势分析数据",
        "tags": [
          "EnrollmentStatistics"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "period",
            "schema": {
              "type": "string",
              "enum": [
                "daily",
                "weekly",
                "monthly",
                "yearly"
              ]
            },
            "description": "统计周期"
          },
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "开始日期"
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "结束日期"
          }
        ],
        "responses": {
          "200": {
            "description": "招生趋势数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/TrendData"
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "description": "权限不足"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/enrollment-statistics/channel": {
      "get": {
        "summary": "获取渠道分析数据",
        "description": "获取各招生渠道的效果分析数据，包括转化率和成本效益",
        "tags": [
          "EnrollmentStatistics"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "开始日期"
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "结束日期"
          },
          {
            "in": "query",
            "name": "channelType",
            "schema": {
              "type": "string"
            },
            "description": "渠道类型"
          }
        ],
        "responses": {
          "200": {
            "description": "渠道分析数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/ChannelAnalysis"
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "description": "权限不足"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/enrollment-statistics/plans": {
      "get": {
        "summary": "获取招生计划统计数据",
        "description": "获取各招生计划的统计信息，包括目标数、实际完成数等",
        "tags": [
          "EnrollmentStatistics"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "planId",
            "schema": {
              "type": "integer"
            },
            "description": "招生计划ID"
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string",
              "enum": [
                "active",
                "completed",
                "cancelled"
              ]
            },
            "description": "计划状态"
          },
          {
            "in": "query",
            "name": "year",
            "schema": {
              "type": "integer"
            },
            "description": "年份"
          }
        ],
        "responses": {
          "200": {
            "description": "招生计划统计数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "planId": {
                            "type": "integer",
                            "description": "计划ID"
                          },
                          "planName": {
                            "type": "string",
                            "description": "计划名称"
                          },
                          "targetCount": {
                            "type": "number",
                            "description": "目标数量"
                          },
                          "actualCount": {
                            "type": "number",
                            "description": "实际数量"
                          },
                          "completionRate": {
                            "type": "number",
                            "description": "完成率"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "description": "权限不足"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/enrollment-statistics/channels": {
      "get": {
        "summary": "获取招生渠道统计数据",
        "description": "获取各招生渠道的详细统计信息",
        "tags": [
          "EnrollmentStatistics"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "channelId",
            "schema": {
              "type": "integer"
            },
            "description": "渠道ID"
          },
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "开始日期"
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "结束日期"
          }
        ],
        "responses": {
          "200": {
            "description": "招生渠道统计数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/ChannelAnalysis"
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "description": "权限不足"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/enrollment-statistics/activities": {
      "get": {
        "summary": "获取招生活动统计数据",
        "description": "获取招生活动的效果统计数据",
        "tags": [
          "EnrollmentStatistics"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "activityId",
            "schema": {
              "type": "integer"
            },
            "description": "活动ID"
          },
          {
            "in": "query",
            "name": "activityType",
            "schema": {
              "type": "string"
            },
            "description": "活动类型"
          },
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "开始日期"
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "结束日期"
          }
        ],
        "responses": {
          "200": {
            "description": "招生活动统计数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "activityId": {
                            "type": "integer",
                            "description": "活动ID"
                          },
                          "activityName": {
                            "type": "string",
                            "description": "活动名称"
                          },
                          "participantCount": {
                            "type": "number",
                            "description": "参与人数"
                          },
                          "conversionCount": {
                            "type": "number",
                            "description": "转化人数"
                          },
                          "conversionRate": {
                            "type": "number",
                            "description": "转化率"
                          },
                          "cost": {
                            "type": "number",
                            "description": "活动成本"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "description": "权限不足"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/enrollment-statistics/conversions": {
      "get": {
        "summary": "获取招生转化率统计数据",
        "description": "获取各阶段的招生转化率统计分析",
        "tags": [
          "EnrollmentStatistics"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "funnel",
            "schema": {
              "type": "string",
              "enum": [
                "inquiry",
                "visit",
                "application",
                "enrollment"
              ]
            },
            "description": "转化漏斗阶段"
          },
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "开始日期"
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "结束日期"
          }
        ],
        "responses": {
          "200": {
            "description": "招生转化率统计数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "inquiryToVisit": {
                          "type": "number",
                          "description": "咨询到到访转化率"
                        },
                        "visitToApplication": {
                          "type": "number",
                          "description": "到访到申请转化率"
                        },
                        "applicationToEnrollment": {
                          "type": "number",
                          "description": "申请到入学转化率"
                        },
                        "overallConversion": {
                          "type": "number",
                          "description": "整体转化率"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "description": "权限不足"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/enrollment-statistics/performance": {
      "get": {
        "summary": "获取招生业绩统计数据",
        "description": "获取招生团队和个人的业绩统计数据",
        "tags": [
          "EnrollmentStatistics"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "staffId",
            "schema": {
              "type": "integer"
            },
            "description": "招生员工ID"
          },
          {
            "in": "query",
            "name": "departmentId",
            "schema": {
              "type": "integer"
            },
            "description": "部门ID"
          },
          {
            "in": "query",
            "name": "period",
            "schema": {
              "type": "string",
              "enum": [
                "monthly",
                "quarterly",
                "yearly"
              ]
            },
            "description": "统计周期"
          }
        ],
        "responses": {
          "200": {
            "description": "招生业绩统计数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "staffId": {
                            "type": "integer",
                            "description": "员工ID"
                          },
                          "staffName": {
                            "type": "string",
                            "description": "员工姓名"
                          },
                          "enrollmentCount": {
                            "type": "number",
                            "description": "招生数量"
                          },
                          "target": {
                            "type": "number",
                            "description": "目标数量"
                          },
                          "achievementRate": {
                            "type": "number",
                            "description": "达成率"
                          },
                          "ranking": {
                            "type": "integer",
                            "description": "排名"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "description": "权限不足"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/enrollment-statistics/trends": {
      "get": {
        "summary": "获取招生趋势统计数据",
        "description": "获取长期招生趋势分析数据，包括预测数据",
        "tags": [
          "EnrollmentStatistics"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "timespan",
            "schema": {
              "type": "string",
              "enum": [
                "6months",
                "1year",
                "2years",
                "3years"
              ]
            },
            "description": "时间跨度"
          },
          {
            "in": "query",
            "name": "includeForecast",
            "schema": {
              "type": "boolean"
            },
            "description": "是否包含预测数据"
          },
          {
            "in": "query",
            "name": "granularity",
            "schema": {
              "type": "string",
              "enum": [
                "daily",
                "weekly",
                "monthly"
              ]
            },
            "description": "数据粒度"
          }
        ],
        "responses": {
          "200": {
            "description": "招生趋势统计数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "historical": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/TrendData"
                          },
                          "description": "历史数据"
                        },
                        "forecast": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/TrendData"
                          },
                          "description": "预测数据"
                        },
                        "trendAnalysis": {
                          "type": "object",
                          "properties": {
                            "direction": {
                              "type": "string",
                              "enum": [
                                "upward",
                                "downward",
                                "stable"
                              ],
                              "description": "趋势方向"
                            },
                            "growthRate": {
                              "type": "number",
                              "description": "增长率"
                            },
                            "seasonality": {
                              "type": "boolean",
                              "description": "是否有季节性"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "description": "权限不足"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/enrollment-tasks": {
      "get": {
        "tags": [
          "招生任务管理"
        ],
        "summary": "获取招生任务列表",
        "description": "获取所有招生任务的分页列表",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer",
              "default": 10
            },
            "description": "每页数量"
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string",
              "enum": [
                "pending",
                "in_progress",
                "completed",
                "cancelled"
              ]
            },
            "description": "按状态筛选"
          },
          {
            "in": "query",
            "name": "priority",
            "schema": {
              "type": "string",
              "enum": [
                "low",
                "medium",
                "high",
                "urgent"
              ]
            },
            "description": "按优先级筛选"
          },
          {
            "in": "query",
            "name": "assignedTo",
            "schema": {
              "type": "integer"
            },
            "description": "按分配用户筛选"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取招生任务列表",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/EnrollmentTaskList"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "招生任务管理"
        ],
        "summary": "创建招生任务",
        "description": "创建新的招生任务",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateEnrollmentTask"
              },
              "example": {
                "title": "学前班招生宣传",
                "description": "负责学前班新学期招生宣传工作，包括宣传资料制作和推广活动",
                "status": "pending",
                "priority": "high",
                "assignedTo": 1,
                "dueDate": "2024-03-15T10:00:00.000Z"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "招生任务创建成功",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/EnrollmentTask"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "501": {
            "description": "功能暂未实现",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/enrollment-tasks/{id}": {
      "get": {
        "tags": [
          "招生任务管理"
        ],
        "summary": "获取招生任务详情",
        "description": "根据ID获取招生任务的详细信息",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "招生任务ID"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取招生任务详情",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/EnrollmentTask"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "招生任务不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "501": {
            "description": "功能暂未实现",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "招生任务管理"
        ],
        "summary": "更新招生任务",
        "description": "根据ID更新招生任务信息",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "招生任务ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateEnrollmentTask"
              },
              "example": {
                "title": "学前班招生宣传（更新）",
                "description": "负责学前班新学期招生宣传工作，包括宣传资料制作和推广活动，增加线上推广",
                "status": "in_progress",
                "priority": "urgent",
                "assignedTo": 2,
                "dueDate": "2024-03-10T10:00:00.000Z"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "招生任务更新成功",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/EnrollmentTask"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "招生任务不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "501": {
            "description": "功能暂未实现",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "招生任务管理"
        ],
        "summary": "删除招生任务",
        "description": "根据ID删除招生任务",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "招生任务ID"
          }
        ],
        "responses": {
          "200": {
            "description": "招生任务删除成功",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "object",
                          "properties": {
                            "message": {
                              "type": "string",
                              "example": "招生任务删除成功"
                            }
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "招生任务不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "501": {
            "description": "功能暂未实现",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/enrollment": {
      "get": {
        "summary": "获取招生概览",
        "description": "获取招生申请的统计概览信息",
        "tags": [
          "Enrollment - 招生管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取招生概览成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "overview": {
                          "$ref": "#/components/schemas/EnrollmentOverview"
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "获取招生概览成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "500": {
            "$ref": "#/components/responses/ServerError"
          }
        }
      }
    },
    "/api/enrollment/stats": {
      "get": {
        "summary": "获取招生统计",
        "description": "获取招生相关的统计数据",
        "tags": [
          "Enrollment - 招生管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取招生统计成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/EnrollmentStats"
                    },
                    "message": {
                      "type": "string",
                      "example": "获取招生统计成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "500": {
            "$ref": "#/components/responses/ServerError"
          }
        }
      }
    },
    "/api/enrollment/list": {
      "get": {
        "summary": "获取招生列表",
        "description": "获取分页的招生申请列表，支持多种筛选条件",
        "tags": [
          "Enrollment - 招生管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer",
              "default": 20
            },
            "description": "每页数量"
          },
          {
            "in": "query",
            "name": "studentName",
            "schema": {
              "type": "string"
            },
            "description": "学生姓名（模糊搜索）"
          },
          {
            "in": "query",
            "name": "parentName",
            "schema": {
              "type": "string"
            },
            "description": "家长姓名（模糊搜索）"
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string",
              "enum": [
                "PENDING",
                "APPROVED",
                "REJECTED"
              ]
            },
            "description": "申请状态"
          },
          {
            "in": "query",
            "name": "ageGroup",
            "schema": {
              "type": "string",
              "enum": [
                "小班",
                "中班",
                "大班",
                "学前班"
              ]
            },
            "description": "年龄组"
          }
        ],
        "responses": {
          "200": {
            "description": "获取招生列表成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "list": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/EnrollmentApplication"
                          }
                        },
                        "total": {
                          "type": "integer",
                          "description": "总记录数"
                        },
                        "page": {
                          "type": "integer",
                          "description": "当前页码"
                        },
                        "pageSize": {
                          "type": "integer",
                          "description": "每页数量"
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "获取招生列表成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "500": {
            "$ref": "#/components/responses/ServerError"
          }
        }
      }
    },
    "/api/enrollment/{id}": {
      "get": {
        "summary": "获取招生详情",
        "description": "根据ID获取特定招生申请的详细信息",
        "tags": [
          "Enrollment - 招生管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "招生申请ID"
          }
        ],
        "responses": {
          "200": {
            "description": "获取招生详情成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/EnrollmentApplication"
                    },
                    "message": {
                      "type": "string",
                      "example": "获取招生详情成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "404": {
            "description": "招生信息不存在",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "招生信息不存在"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string",
                          "example": "NOT_FOUND"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/ServerError"
          }
        }
      },
      "delete": {
        "summary": "删除招生信息",
        "description": "软删除指定的招生申请（设置deleted_at字段）",
        "tags": [
          "Enrollment - 招生管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "招生申请ID"
          }
        ],
        "responses": {
          "200": {
            "description": "删除招生信息成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "删除招生信息成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "500": {
            "$ref": "#/components/responses/ServerError"
          }
        }
      }
    },
    "/api/enrollment/follow": {
      "post": {
        "summary": "添加跟进记录",
        "description": "为指定的招生申请添加跟进记录",
        "tags": [
          "Enrollment - 招生管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "applicationId"
                ],
                "properties": {
                  "applicationId": {
                    "type": "integer",
                    "description": "招生申请ID"
                  },
                  "type": {
                    "type": "string",
                    "description": "跟进类型",
                    "example": "电话联系"
                  },
                  "content": {
                    "type": "string",
                    "description": "跟进内容",
                    "example": "已联系家长，安排下周面试"
                  },
                  "nextFollowTime": {
                    "type": "string",
                    "format": "date-time",
                    "description": "下次跟进时间",
                    "example": "2025-01-20T10:00:00.000Z"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "添加跟进记录成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "添加跟进记录成功"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "招生ID不能为空"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string",
                          "example": "INVALID_PARAMS"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "500": {
            "$ref": "#/components/responses/ServerError"
          }
        }
      }
    },
    "/enterprise-dashboard/overview": {
      "get": {
        "summary": "获取企业仪表盘汇总数据",
        "description": "获取企业管理仪表盘的核心统计数据和汇总信息",
        "tags": [
          "企业仪表盘"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取仪表盘数据成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "summary": {
                          "type": "object",
                          "properties": {
                            "totalKindergartens": {
                              "type": "integer",
                              "description": "总幼儿园数"
                            },
                            "totalTeachers": {
                              "type": "integer",
                              "description": "总教师数"
                            },
                            "totalStudents": {
                              "type": "integer",
                              "description": "总学生数"
                            },
                            "totalActivities": {
                              "type": "integer",
                              "description": "总活动数"
                            }
                          }
                        },
                        "trends": {
                          "type": "object",
                          "properties": {
                            "growthRate": {
                              "type": "number",
                              "description": "增长率"
                            },
                            "monthlyData": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "properties": {
                                  "month": {
                                    "type": "string"
                                  },
                                  "value": {
                                    "type": "number"
                                  }
                                }
                              },
                              "description": "月度数据趋势"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未认证"
          },
          "403": {
            "description": "无权限访问"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/errors/critical": {
      "post": {
        "tags": [
          "Errors"
        ],
        "summary": "报告关键错误",
        "description": "报告系统中的关键错误信息，用于错误监控和分析",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "message",
                  "stack",
                  "url"
                ],
                "properties": {
                  "message": {
                    "type": "string",
                    "description": "错误消息",
                    "example": "Uncaught TypeError: Cannot read property 'id' of undefined"
                  },
                  "stack": {
                    "type": "string",
                    "description": "错误堆栈信息",
                    "example": "TypeError: Cannot read property 'id' of undefined\n    at Object.getUser (app.js:123:45)"
                  },
                  "url": {
                    "type": "string",
                    "description": "发生错误的页面URL",
                    "example": "https://k.yyup.cc/dashboard"
                  },
                  "userAgent": {
                    "type": "string",
                    "description": "用户代理信息",
                    "example": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36"
                  },
                  "userId": {
                    "type": "integer",
                    "description": "用户ID（如果已登录）",
                    "example": 123
                  },
                  "timestamp": {
                    "type": "string",
                    "format": "date-time",
                    "description": "错误发生时间",
                    "example": "2025-01-15T10:30:00Z"
                  },
                  "errorType": {
                    "type": "string",
                    "description": "错误类型",
                    "enum": [
                      "javascript",
                      "network",
                      "syntax",
                      "runtime",
                      "security"
                    ],
                    "example": "runtime"
                  },
                  "severity": {
                    "type": "string",
                    "description": "错误严重程度",
                    "enum": [
                      "low",
                      "medium",
                      "high",
                      "critical"
                    ],
                    "example": "critical"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "错误报告成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "关键错误已记录"
                    },
                    "errorId": {
                      "type": "string",
                      "description": "错误记录ID",
                      "example": "error_1737891000123"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/errors/report": {
      "post": {
        "tags": [
          "Errors"
        ],
        "summary": "批量报告错误",
        "description": "批量提交多个错误报告，用于前端错误收集和分析",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "errors"
                ],
                "properties": {
                  "errors": {
                    "type": "array",
                    "description": "错误列表",
                    "minItems": 1,
                    "maxItems": 50,
                    "items": {
                      "type": "object",
                      "required": [
                        "message",
                        "stack",
                        "url"
                      ],
                      "properties": {
                        "message": {
                          "type": "string",
                          "description": "错误消息",
                          "example": "Network error: Failed to fetch"
                        },
                        "stack": {
                          "type": "string",
                          "description": "错误堆栈信息",
                          "example": "Error: Network error\n    at fetch (utils.js:45:12)"
                        },
                        "url": {
                          "type": "string",
                          "description": "发生错误的页面URL",
                          "example": "https://k.yyup.cc/students"
                        },
                        "userAgent": {
                          "type": "string",
                          "description": "用户代理信息",
                          "example": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7)"
                        },
                        "userId": {
                          "type": "integer",
                          "description": "用户ID（如果已登录）",
                          "example": 456
                        },
                        "timestamp": {
                          "type": "string",
                          "format": "date-time",
                          "description": "错误发生时间",
                          "example": "2025-01-15T10:45:00Z"
                        },
                        "errorType": {
                          "type": "string",
                          "description": "错误类型",
                          "enum": [
                            "javascript",
                            "network",
                            "syntax",
                            "runtime",
                            "security"
                          ],
                          "example": "network"
                        },
                        "severity": {
                          "type": "string",
                          "description": "错误严重程度",
                          "enum": [
                            "low",
                            "medium",
                            "high",
                            "critical"
                          ],
                          "example": "medium"
                        },
                        "context": {
                          "type": "object",
                          "description": "错误上下文信息",
                          "additionalProperties": true,
                          "example": {
                            "component": "StudentList",
                            "action": "loadData"
                          }
                        }
                      }
                    }
                  },
                  "sessionId": {
                    "type": "string",
                    "description": "会话ID，用于关联错误",
                    "example": "session_1737891000123"
                  },
                  "source": {
                    "type": "string",
                    "description": "错误来源",
                    "enum": [
                      "frontend",
                      "mobile",
                      "extension"
                    ],
                    "example": "frontend"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "批量错误报告成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "批量错误已记录"
                    },
                    "processedCount": {
                      "type": "integer",
                      "description": "成功处理的错误数量",
                      "example": 5
                    },
                    "errorIds": {
                      "type": "array",
                      "description": "生成的错误记录ID列表",
                      "items": {
                        "type": "string"
                      },
                      "example": [
                        "error_1737891000124",
                        "error_1737891000125"
                      ]
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "413": {
            "description": "错误数量超过限制",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/errors/statistics": {
      "get": {
        "tags": [
          "Errors"
        ],
        "summary": "获取错误统计",
        "description": "获取系统错误统计信息，包括错误数量、类型分布、趋势分析等",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "startDate",
            "required": false,
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "统计开始日期",
            "example": "2025-01-01"
          },
          {
            "in": "query",
            "name": "endDate",
            "required": false,
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "统计结束日期",
            "example": "2025-01-31"
          },
          {
            "in": "query",
            "name": "errorType",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "javascript",
                "network",
                "syntax",
                "runtime",
                "security"
              ]
            },
            "description": "错误类型过滤",
            "example": "javascript"
          },
          {
            "in": "query",
            "name": "severity",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "low",
                "medium",
                "high",
                "critical"
              ]
            },
            "description": "错误严重程度过滤",
            "example": "critical"
          },
          {
            "in": "query",
            "name": "groupBy",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "day",
                "week",
                "month",
                "type",
                "severity",
                "url"
              ]
            },
            "description": "分组统计方式",
            "example": "day"
          },
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 1000,
              "default": 100
            },
            "description": "返回结果数量限制",
            "example": 50
          }
        ],
        "responses": {
          "200": {
            "description": "错误统计信息获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "summary": {
                          "type": "object",
                          "description": "总体统计信息",
                          "properties": {
                            "totalErrors": {
                              "type": "integer",
                              "description": "错误总数",
                              "example": 1250
                            },
                            "criticalErrors": {
                              "type": "integer",
                              "description": "关键错误数量",
                              "example": 25
                            },
                            "recentErrors": {
                              "type": "integer",
                              "description": "最近24小时错误数",
                              "example": 45
                            },
                            "errorRate": {
                              "type": "number",
                              "description": "错误率（百分比）",
                              "example": 2.5
                            }
                          }
                        },
                        "typeDistribution": {
                          "type": "array",
                          "description": "错误类型分布",
                          "items": {
                            "type": "object",
                            "properties": {
                              "type": {
                                "type": "string",
                                "example": "javascript"
                              },
                              "count": {
                                "type": "integer",
                                "example": 580
                              },
                              "percentage": {
                                "type": "number",
                                "example": 46.4
                              }
                            }
                          }
                        },
                        "severityDistribution": {
                          "type": "array",
                          "description": "严重程度分布",
                          "items": {
                            "type": "object",
                            "properties": {
                              "severity": {
                                "type": "string",
                                "example": "high"
                              },
                              "count": {
                                "type": "integer",
                                "example": 125
                              },
                              "percentage": {
                                "type": "number",
                                "example": 10
                              }
                            }
                          }
                        },
                        "trends": {
                          "type": "array",
                          "description": "错误趋势数据",
                          "items": {
                            "type": "object",
                            "properties": {
                              "date": {
                                "type": "string",
                                "format": "date",
                                "example": "2025-01-15"
                              },
                              "count": {
                                "type": "integer",
                                "example": 42
                              }
                            }
                          }
                        },
                        "topUrls": {
                          "type": "array",
                          "description": "错误最多的页面",
                          "items": {
                            "type": "object",
                            "properties": {
                              "url": {
                                "type": "string",
                                "example": "https://k.yyup.cc/dashboard"
                              },
                              "count": {
                                "type": "integer",
                                "example": 88
                              },
                              "lastOccurred": {
                                "type": "string",
                                "format": "date-time",
                                "example": "2025-01-15T14:30:00Z"
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "未认证",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "无权限访问",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/errors/health": {
      "get": {
        "tags": [
          "Errors"
        ],
        "summary": "健康检查",
        "description": "检查错误收集系统的健康状态，包括服务可用性和系统运行状况",
        "responses": {
          "200": {
            "description": "系统健康状态正常",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "status": {
                      "type": "string",
                      "enum": [
                        "healthy",
                        "degraded",
                        "unhealthy"
                      ],
                      "example": "healthy"
                    },
                    "message": {
                      "type": "string",
                      "example": "错误收集系统运行正常"
                    },
                    "timestamp": {
                      "type": "string",
                      "format": "date-time",
                      "description": "检查时间",
                      "example": "2025-01-15T10:30:00Z"
                    },
                    "uptime": {
                      "type": "number",
                      "description": "系统运行时间（秒）",
                      "example": 86400
                    },
                    "version": {
                      "type": "string",
                      "description": "系统版本",
                      "example": "1.0.0"
                    },
                    "checks": {
                      "type": "object",
                      "description": "详细健康检查项",
                      "properties": {
                        "database": {
                          "type": "object",
                          "properties": {
                            "status": {
                              "type": "string",
                              "enum": [
                                "ok",
                                "error"
                              ],
                              "example": "ok"
                            },
                            "responseTime": {
                              "type": "number",
                              "description": "数据库响应时间（毫秒）",
                              "example": 25
                            }
                          }
                        },
                        "storage": {
                          "type": "object",
                          "properties": {
                            "status": {
                              "type": "string",
                              "enum": [
                                "ok",
                                "error"
                              ],
                              "example": "ok"
                            },
                            "freeSpace": {
                              "type": "string",
                              "description": "可用存储空间",
                              "example": "85%"
                            }
                          }
                        },
                        "memory": {
                          "type": "object",
                          "properties": {
                            "status": {
                              "type": "string",
                              "enum": [
                                "ok",
                                "warning",
                                "critical"
                              ],
                              "example": "ok"
                            },
                            "usage": {
                              "type": "string",
                              "description": "内存使用率",
                              "example": "68%"
                            }
                          }
                        }
                      }
                    },
                    "metrics": {
                      "type": "object",
                      "description": "系统指标",
                      "properties": {
                        "errorsProcessedToday": {
                          "type": "integer",
                          "description": "今日处理的错误数量",
                          "example": 145
                        },
                        "averageResponseTime": {
                          "type": "number",
                          "description": "平均响应时间（毫秒）",
                          "example": 120
                        },
                        "successRate": {
                          "type": "number",
                          "description": "成功率（百分比）",
                          "example": 99.8
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "503": {
            "description": "服务不可用",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "status": {
                      "type": "string",
                      "example": "unhealthy"
                    },
                    "message": {
                      "type": "string",
                      "example": "错误收集系统异常"
                    },
                    "errors": {
                      "type": "array",
                      "description": "检测到的错误列表",
                      "items": {
                        "type": "string"
                      },
                      "example": [
                        "数据库连接失败",
                        "存储空间不足"
                      ]
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/example": {
      "get": {
        "summary": "基本示例端点",
        "tags": [
          "Example"
        ],
        "responses": {
          "200": {
            "description": "成功返回示例数据"
          }
        }
      },
      "post": {
        "summary": "创建示例数据",
        "tags": [
          "Example"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "示例数据创建成功"
          },
          "400": {
            "description": "请求参数错误"
          }
        }
      }
    },
    "/example/{id}": {
      "get": {
        "summary": "获取指定ID的示例数据",
        "tags": [
          "Example"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "示例数据ID"
          }
        ],
        "responses": {
          "200": {
            "description": "成功返回示例数据"
          },
          "404": {
            "description": "示例数据不存在"
          }
        }
      }
    },
    "/api/expert-consultation/start": {
      "post": {
        "summary": "启动专家咨询",
        "description": "创建新的专家咨询会话，允许用户就特定主题咨询多位AI专家",
        "tags": [
          "Expert Consultation"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "topic",
                  "consultationType"
                ],
                "properties": {
                  "topic": {
                    "type": "string",
                    "description": "咨询主题",
                    "example": "如何提升幼儿园课程质量"
                  },
                  "consultationType": {
                    "type": "string",
                    "enum": [
                      "education",
                      "management",
                      "health",
                      "psychology",
                      "technology"
                    ],
                    "description": "咨询类型",
                    "example": "education"
                  },
                  "description": {
                    "type": "string",
                    "description": "详细描述",
                    "example": "我们幼儿园希望改进现有的课程体系，提升教学质量"
                  },
                  "expertCount": {
                    "type": "integer",
                    "minimum": 2,
                    "maximum": 5,
                    "default": 3,
                    "description": "参与咨询的专家数量",
                    "example": 3
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "专家咨询会话创建成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "sessionId": {
                          "type": "string",
                          "description": "咨询会话ID",
                          "example": "sess_123456789"
                        },
                        "topic": {
                          "type": "string",
                          "example": "如何提升幼儿园课程质量"
                        },
                        "status": {
                          "type": "string",
                          "enum": [
                            "active",
                            "completed",
                            "paused"
                          ],
                          "example": "active"
                        },
                        "experts": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string"
                              },
                              "name": {
                                "type": "string"
                              },
                              "expertise": {
                                "type": "string"
                              },
                              "avatar": {
                                "type": "string"
                              }
                            }
                          }
                        },
                        "createdAt": {
                          "type": "string",
                          "format": "date-time"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/expert-consultation/{sessionId}/next": {
      "get": {
        "summary": "获取下一个专家发言",
        "description": "获取咨询会话中下一个专家的发言或建议",
        "tags": [
          "Expert Consultation"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "sessionId",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "咨询会话ID",
            "example": "sess_123456789"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取专家发言",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "expert": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string",
                              "example": "expert_001"
                            },
                            "name": {
                              "type": "string",
                              "example": "李教授"
                            },
                            "expertise": {
                              "type": "string",
                              "example": "幼儿教育专家"
                            },
                            "avatar": {
                              "type": "string",
                              "example": "/avatars/expert_001.png"
                            }
                          }
                        },
                        "speech": {
                          "type": "object",
                          "properties": {
                            "content": {
                              "type": "string",
                              "example": "根据我多年的教学经验..."
                            },
                            "suggestions": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              },
                              "example": [
                                "建议1",
                                "建议2",
                                "建议3"
                              ]
                            },
                            "references": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              },
                              "example": [
                                "参考资料1",
                                "参考资料2"
                              ]
                            }
                          }
                        },
                        "round": {
                          "type": "integer",
                          "description": "当前轮次",
                          "example": 2
                        },
                        "isComplete": {
                          "type": "boolean",
                          "description": "咨询是否完成",
                          "example": false
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "咨询会话不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/expert-consultation/{sessionId}/stream-speech": {
      "get": {
        "summary": "流式获取专家发言",
        "description": "使用SSE流式获取专家发言，支持实时打字效果",
        "tags": [
          "Expert Consultation"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "sessionId",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "咨询会话ID"
          },
          {
            "in": "query",
            "name": "expertIndex",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "专家索引"
          }
        ],
        "responses": {
          "200": {
            "description": "SSE流式数据",
            "content": {
              "text/event-stream": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/api/expert-consultation/{sessionId}/progress": {
      "get": {
        "summary": "获取咨询进度",
        "description": "获取专家咨询会话的详细进度信息",
        "tags": [
          "Expert Consultation"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "sessionId",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "咨询会话ID",
            "example": "sess_123456789"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取咨询进度",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "sessionId": {
                          "type": "string",
                          "example": "sess_123456789"
                        },
                        "totalRounds": {
                          "type": "integer",
                          "description": "总轮次",
                          "example": 5
                        },
                        "currentRound": {
                          "type": "integer",
                          "description": "当前轮次",
                          "example": 3
                        },
                        "completedExperts": {
                          "type": "integer",
                          "description": "已发言专家数量",
                          "example": 2
                        },
                        "totalExperts": {
                          "type": "integer",
                          "description": "专家总数",
                          "example": 3
                        },
                        "progress": {
                          "type": "number",
                          "description": "进度百分比",
                          "example": 60.5
                        },
                        "status": {
                          "type": "string",
                          "enum": [
                            "active",
                            "completed",
                            "paused"
                          ],
                          "example": "active"
                        },
                        "estimatedTimeRemaining": {
                          "type": "integer",
                          "description": "预计剩余时间(分钟)",
                          "example": 15
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "咨询会话不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/expert-consultation/{sessionId}/summary": {
      "get": {
        "summary": "获取咨询汇总",
        "description": "获取专家咨询会话的完整汇总报告",
        "tags": [
          "Expert Consultation"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "sessionId",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "咨询会话ID",
            "example": "sess_123456789"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取咨询汇总",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "sessionId": {
                          "type": "string",
                          "example": "sess_123456789"
                        },
                        "topic": {
                          "type": "string",
                          "example": "如何提升幼儿园课程质量"
                        },
                        "summary": {
                          "type": "object",
                          "properties": {
                            "overview": {
                              "type": "string",
                              "description": "总体概述",
                              "example": "专家们一致认为..."
                            },
                            "keyPoints": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              },
                              "description": "关键要点",
                              "example": [
                                "要点1",
                                "要点2",
                                "要点3"
                              ]
                            },
                            "recommendations": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "properties": {
                                  "expert": {
                                    "type": "string"
                                  },
                                  "recommendation": {
                                    "type": "string"
                                  },
                                  "priority": {
                                    "type": "string",
                                    "enum": [
                                      "high",
                                      "medium",
                                      "low"
                                    ]
                                  }
                                }
                              }
                            },
                            "consensus": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              },
                              "description": "专家共识"
                            },
                            "differences": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              },
                              "description": "分歧观点"
                            }
                          }
                        },
                        "participants": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "expertId": {
                                "type": "string"
                              },
                              "name": {
                                "type": "string"
                              },
                              "expertise": {
                                "type": "string"
                              },
                              "contributionCount": {
                                "type": "integer"
                              }
                            }
                          }
                        },
                        "duration": {
                          "type": "integer",
                          "description": "咨询时长(分钟)",
                          "example": 45
                        },
                        "createdAt": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "completedAt": {
                          "type": "string",
                          "format": "date-time"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "咨询会话不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/expert-consultation/{sessionId}/action-plan": {
      "post": {
        "summary": "生成行动计划",
        "description": "基于专家咨询结果生成具体的行动计划",
        "tags": [
          "Expert Consultation"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "sessionId",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "咨询会话ID",
            "example": "sess_123456789"
          }
        ],
        "requestBody": {
          "required": false,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "priority": {
                    "type": "string",
                    "enum": [
                      "high",
                      "medium",
                      "low"
                    ],
                    "description": "优先级过滤",
                    "example": "high"
                  },
                  "timeframe": {
                    "type": "string",
                    "enum": [
                      "immediate",
                      "short_term",
                      "long_term"
                    ],
                    "description": "时间框架",
                    "example": "short_term"
                  },
                  "focus": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "关注重点",
                    "example": [
                      "教学质量",
                      "师资培训"
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "成功生成行动计划",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "planId": {
                          "type": "string",
                          "example": "plan_123456789"
                        },
                        "sessionId": {
                          "type": "string",
                          "example": "sess_123456789"
                        },
                        "actionPlan": {
                          "type": "object",
                          "properties": {
                            "overview": {
                              "type": "string",
                              "description": "计划概述"
                            },
                            "phases": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "properties": {
                                  "phase": {
                                    "type": "string"
                                  },
                                  "title": {
                                    "type": "string"
                                  },
                                  "duration": {
                                    "type": "string"
                                  },
                                  "actions": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "properties": {
                                        "task": {
                                          "type": "string"
                                        },
                                        "responsible": {
                                          "type": "string"
                                        },
                                        "deadline": {
                                          "type": "string"
                                        },
                                        "resources": {
                                          "type": "array",
                                          "items": {
                                            "type": "string"
                                          }
                                        },
                                        "priority": {
                                          "type": "string",
                                          "enum": [
                                            "high",
                                            "medium",
                                            "low"
                                          ]
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            },
                            "milestones": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "properties": {
                                  "milestone": {
                                    "type": "string"
                                  },
                                  "deadline": {
                                    "type": "string"
                                  },
                                  "criteria": {
                                    "type": "array",
                                    "items": {
                                      "type": "string"
                                    }
                                  }
                                }
                              }
                            },
                            "metrics": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "properties": {
                                  "metric": {
                                    "type": "string"
                                  },
                                  "target": {
                                    "type": "string"
                                  },
                                  "measurement": {
                                    "type": "string"
                                  }
                                }
                              }
                            }
                          }
                        },
                        "createdAt": {
                          "type": "string",
                          "format": "date-time"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "咨询会话不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/expert-consultation/{sessionId}": {
      "get": {
        "summary": "获取咨询会话详情",
        "description": "获取指定专家咨询会话的完整详细信息",
        "tags": [
          "Expert Consultation"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "sessionId",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "咨询会话ID",
            "example": "sess_123456789"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取咨询会话详情",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "sessionId": {
                          "type": "string",
                          "example": "sess_123456789"
                        },
                        "topic": {
                          "type": "string",
                          "example": "如何提升幼儿园课程质量"
                        },
                        "description": {
                          "type": "string",
                          "example": "我们幼儿园希望改进现有的课程体系"
                        },
                        "consultationType": {
                          "type": "string",
                          "example": "education"
                        },
                        "status": {
                          "type": "string",
                          "enum": [
                            "active",
                            "completed",
                            "paused"
                          ],
                          "example": "active"
                        },
                        "experts": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string"
                              },
                              "name": {
                                "type": "string"
                              },
                              "expertise": {
                                "type": "string"
                              },
                              "avatar": {
                                "type": "string"
                              },
                              "bio": {
                                "type": "string"
                              }
                            }
                          }
                        },
                        "messages": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string"
                              },
                              "expertId": {
                                "type": "string"
                              },
                              "content": {
                                "type": "string"
                              },
                              "round": {
                                "type": "integer"
                              },
                              "timestamp": {
                                "type": "string",
                                "format": "date-time"
                              }
                            }
                          }
                        },
                        "progress": {
                          "type": "object",
                          "properties": {
                            "currentRound": {
                              "type": "integer"
                            },
                            "totalRounds": {
                              "type": "integer"
                            },
                            "completedExperts": {
                              "type": "integer"
                            },
                            "totalExperts": {
                              "type": "integer"
                            }
                          }
                        },
                        "createdAt": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "updatedAt": {
                          "type": "string",
                          "format": "date-time"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "咨询会话不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/expert-consultation/user/history": {
      "get": {
        "summary": "获取用户咨询历史",
        "description": "获取当前用户的所有专家咨询历史记录",
        "tags": [
          "Expert Consultation"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            },
            "description": "页码",
            "example": 1
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 10
            },
            "description": "每页数量",
            "example": 10
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string",
              "enum": [
                "active",
                "completed",
                "paused"
              ]
            },
            "description": "状态过滤",
            "example": "completed"
          },
          {
            "in": "query",
            "name": "consultationType",
            "schema": {
              "type": "string",
              "enum": [
                "education",
                "management",
                "health",
                "psychology",
                "technology"
              ]
            },
            "description": "咨询类型过滤",
            "example": "education"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取咨询历史",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "consultations": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "sessionId": {
                                "type": "string",
                                "example": "sess_123456789"
                              },
                              "topic": {
                                "type": "string",
                                "example": "如何提升幼儿园课程质量"
                              },
                              "consultationType": {
                                "type": "string",
                                "example": "education"
                              },
                              "status": {
                                "type": "string",
                                "enum": [
                                  "active",
                                  "completed",
                                  "paused"
                                ],
                                "example": "completed"
                              },
                              "expertCount": {
                                "type": "integer",
                                "example": 3
                              },
                              "duration": {
                                "type": "integer",
                                "description": "咨询时长(分钟)",
                                "example": 45
                              },
                              "createdAt": {
                                "type": "string",
                                "format": "date-time"
                              },
                              "completedAt": {
                                "type": "string",
                                "format": "date-time",
                                "nullable": true
                              }
                            }
                          }
                        },
                        "pagination": {
                          "type": "object",
                          "properties": {
                            "page": {
                              "type": "integer",
                              "example": 1
                            },
                            "limit": {
                              "type": "integer",
                              "example": 10
                            },
                            "total": {
                              "type": "integer",
                              "example": 25
                            },
                            "totalPages": {
                              "type": "integer",
                              "example": 3
                            },
                            "hasNext": {
                              "type": "boolean",
                              "example": true
                            },
                            "hasPrev": {
                              "type": "boolean",
                              "example": false
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/expert-consultation/experts/types": {
      "get": {
        "summary": "获取专家类型列表",
        "description": "获取系统中可用的所有专家类型和专长领域",
        "tags": [
          "Expert Consultation"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取专家类型列表",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "expertTypes": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "type": {
                                "type": "string",
                                "example": "education"
                              },
                              "name": {
                                "type": "string",
                                "example": "教育专家"
                              },
                              "description": {
                                "type": "string",
                                "example": "专注于幼儿教育理论与实践"
                              },
                              "specialties": {
                                "type": "array",
                                "items": {
                                  "type": "string"
                                },
                                "example": [
                                  "课程设计",
                                  "教学方法",
                                  "学习评估"
                                ]
                              },
                              "availableExperts": {
                                "type": "integer",
                                "description": "可用专家数量",
                                "example": 5
                              }
                            }
                          }
                        },
                        "consultationTypes": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "value": {
                                "type": "string",
                                "example": "education"
                              },
                              "label": {
                                "type": "string",
                                "example": "教育咨询"
                              },
                              "description": {
                                "type": "string",
                                "example": "幼儿教育相关问题咨询"
                              },
                              "icon": {
                                "type": "string",
                                "example": "education-icon"
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/field-templates/popular/{entityType}": {
      "get": {
        "summary": "获取热门字段模板",
        "description": "根据实体类型获取热门的字段模板列表，按使用频率和评分排序。热门模板通常是经过验证的高质量模板，推荐给用户使用。",
        "tags": [
          "字段模板管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "entityType",
            "required": true,
            "schema": {
              "type": "string",
              "enum": [
                "student",
                "teacher",
                "class",
                "activity",
                "enrollment",
                "course",
                "parent",
                "staff"
              ]
            },
            "description": "实体类型"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 50,
              "default": 10
            },
            "description": "返回数量限制"
          },
          {
            "in": "query",
            "name": "category",
            "schema": {
              "type": "string",
              "enum": [
                "basic",
                "detailed",
                "custom",
                "system"
              ]
            },
            "description": "模板分类筛选"
          },
          {
            "in": "query",
            "name": "includePublic",
            "schema": {
              "type": "boolean",
              "default": true
            },
            "description": "是否包含公共模板"
          }
        ],
        "responses": {
          "200": {
            "description": "获取热门模板成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取热门字段模板成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "entityType": {
                          "type": "string",
                          "example": "student"
                        },
                        "templates": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/FieldTemplateSummary"
                          }
                        },
                        "total": {
                          "type": "integer",
                          "example": 10
                        },
                        "hasMore": {
                          "type": "boolean",
                          "example": false
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidationError"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "500": {
            "$ref": "#/components/responses/InternalError"
          }
        }
      }
    },
    "/field-templates/recent": {
      "get": {
        "summary": "获取最近使用的字段模板",
        "description": "获取当前用户最近使用的字段模板列表，按最后使用时间排序。方便用户快速访问和重复使用最近创建或应用过的模板。",
        "tags": [
          "字段模板管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 20,
              "default": 5
            },
            "description": "返回数量限制"
          },
          {
            "in": "query",
            "name": "entityType",
            "schema": {
              "type": "string",
              "enum": [
                "student",
                "teacher",
                "class",
                "activity",
                "enrollment",
                "course",
                "parent",
                "staff"
              ]
            },
            "description": "按实体类型筛选"
          },
          {
            "in": "query",
            "name": "days",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 365,
              "default": 30
            },
            "description": "最近天数筛选"
          }
        ],
        "responses": {
          "200": {
            "description": "获取最近使用的模板成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取最近使用的模板成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "templates": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/FieldTemplateSummary"
                          }
                        },
                        "total": {
                          "type": "integer",
                          "example": 5
                        },
                        "timeRange": {
                          "type": "object",
                          "properties": {
                            "days": {
                              "type": "integer",
                              "example": 30
                            },
                            "fromDate": {
                              "type": "string",
                              "format": "date-time"
                            },
                            "toDate": {
                              "type": "string",
                              "format": "date-time"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "500": {
            "$ref": "#/components/responses/InternalError"
          }
        }
      }
    },
    "/field-templates": {
      "post": {
        "summary": "创建字段模板",
        "description": "创建新的字段模板，定义特定实体类型的字段结构和配置。模板可以被用户重复使用，提高数据录入的效率和一致性。",
        "tags": [
          "字段模板管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "name",
                  "entityType",
                  "fields"
                ],
                "properties": {
                  "name": {
                    "type": "string",
                    "maxLength": 100,
                    "example": "学生基本信息模板",
                    "description": "模板名称"
                  },
                  "description": {
                    "type": "string",
                    "maxLength": 500,
                    "example": "包含学生基本信息的标准字段模板",
                    "description": "模板描述"
                  },
                  "entityType": {
                    "type": "string",
                    "enum": [
                      "student",
                      "teacher",
                      "class",
                      "activity",
                      "enrollment",
                      "course",
                      "parent",
                      "staff"
                    ],
                    "example": "student",
                    "description": "适用实体类型"
                  },
                  "category": {
                    "type": "string",
                    "enum": [
                      "basic",
                      "detailed",
                      "custom",
                      "system"
                    ],
                    "default": "custom",
                    "description": "模板分类"
                  },
                  "isPublic": {
                    "type": "boolean",
                    "default": false,
                    "description": "是否为公共模板（其他用户可见）"
                  },
                  "tags": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "maxLength": 30
                    },
                    "maxItems": 5,
                    "example": [
                      "基础",
                      "入学",
                      "标准"
                    ],
                    "description": "模板标签"
                  },
                  "fields": {
                    "type": "array",
                    "minItems": 1,
                    "maxItems": 100,
                    "items": {
                      "type": "object",
                      "required": [
                        "name",
                        "type"
                      ],
                      "properties": {
                        "name": {
                          "type": "string",
                          "maxLength": 50,
                          "example": "studentName",
                          "description": "字段名称"
                        },
                        "label": {
                          "type": "string",
                          "maxLength": 100,
                          "example": "学生姓名",
                          "description": "字段显示标签"
                        },
                        "type": {
                          "type": "string",
                          "enum": [
                            "text",
                            "number",
                            "email",
                            "phone",
                            "date",
                            "select",
                            "multiselect",
                            "textarea",
                            "boolean",
                            "file"
                          ],
                          "example": "text",
                          "description": "字段类型"
                        },
                        "required": {
                          "type": "boolean",
                          "default": false,
                          "description": "是否必填"
                        },
                        "defaultValue": {
                          "oneOf": [
                            {
                              "type": "string"
                            },
                            {
                              "type": "number"
                            },
                            {
                              "type": "boolean"
                            },
                            {
                              "type": "array"
                            },
                            {
                              "type": "object"
                            }
                          ],
                          "description": "默认值"
                        },
                        "placeholder": {
                          "type": "string",
                          "maxLength": 200,
                          "example": "请输入学生姓名",
                          "description": "输入提示"
                        },
                        "validation": {
                          "type": "object",
                          "properties": {
                            "minLength": {
                              "type": "integer",
                              "minimum": 0,
                              "example": 2
                            },
                            "maxLength": {
                              "type": "integer",
                              "minimum": 1,
                              "maximum": 1000,
                              "example": 50
                            },
                            "pattern": {
                              "type": "string",
                              "example": "^[\\u4e00-\\u9fa5a-zA-Z]+$"
                            },
                            "min": {
                              "type": "number"
                            },
                            "max": {
                              "type": "number"
                            },
                            "required": {
                              "type": "boolean"
                            }
                          },
                          "description": "验证规则"
                        },
                        "options": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "value": {
                                "type": "string",
                                "example": "male"
                              },
                              "label": {
                                "type": "string",
                                "example": "男"
                              }
                            },
                            "description": "选项配置（用于select/multiselect类型）"
                          },
                          "description": "字段选项配置"
                        },
                        "order": {
                          "type": "integer",
                          "minimum": 0,
                          "default": 0,
                          "description": "字段排序顺序"
                        },
                        "description": {
                          "type": "string",
                          "maxLength": 300,
                          "example": "学生真实姓名，与身份证一致",
                          "description": "字段说明"
                        },
                        "isVisible": {
                          "type": "boolean",
                          "default": true,
                          "description": "是否可见"
                        },
                        "isEditable": {
                          "type": "boolean",
                          "default": true,
                          "description": "是否可编辑"
                        }
                      }
                    },
                    "description": "字段配置列表"
                  },
                  "metadata": {
                    "type": "object",
                    "properties": {
                      "version": {
                        "type": "string",
                        "example": "1.0.0",
                        "description": "模板版本"
                      },
                      "author": {
                        "type": "string",
                        "example": "系统管理员",
                        "description": "模板作者"
                      },
                      "department": {
                        "type": "string",
                        "example": "教务处",
                        "description": "所属部门"
                      },
                      "notes": {
                        "type": "string",
                        "example": "适用于新生入学场景",
                        "description": "备注信息"
                      }
                    },
                    "description": "模板元数据"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "创建字段模板成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "创建字段模板成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/FieldTemplate"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidationError"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "409": {
            "description": "模板名称已存在",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "模板名称已存在"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "field": {
                          "type": "string",
                          "example": "name"
                        },
                        "value": {
                          "type": "string",
                          "example": "学生基本信息模板"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/InternalError"
          }
        }
      },
      "get": {
        "summary": "获取字段模板列表",
        "description": "获取字段模板的完整列表，支持多种筛选、搜索和排序功能。可以按实体类型、分类、创建者等条件查找模板。",
        "tags": [
          "字段模板管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer",
              "minimum": 10,
              "maximum": 100,
              "default": 20
            },
            "description": "每页数量"
          },
          {
            "in": "query",
            "name": "entityType",
            "schema": {
              "type": "string",
              "enum": [
                "student",
                "teacher",
                "class",
                "activity",
                "enrollment",
                "course",
                "parent",
                "staff"
              ]
            },
            "description": "实体类型筛选"
          },
          {
            "in": "query",
            "name": "category",
            "schema": {
              "type": "string",
              "enum": [
                "basic",
                "detailed",
                "custom",
                "system"
              ]
            },
            "description": "模板分类筛选"
          },
          {
            "in": "query",
            "name": "isPublic",
            "schema": {
              "type": "boolean"
            },
            "description": "是否为公共模板"
          },
          {
            "in": "query",
            "name": "search",
            "schema": {
              "type": "string",
              "maxLength": 100
            },
            "description": "搜索关键词（模板名称或描述）"
          },
          {
            "in": "query",
            "name": "tags",
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "description": "标签筛选"
          },
          {
            "in": "query",
            "name": "createdBy",
            "schema": {
              "type": "string"
            },
            "description": "创建者筛选"
          },
          {
            "in": "query",
            "name": "sortBy",
            "schema": {
              "type": "string",
              "enum": [
                "name",
                "createdAt",
                "updatedAt",
                "usageCount",
                "rating"
              ],
              "default": "createdAt"
            },
            "description": "排序字段"
          },
          {
            "in": "query",
            "name": "sortOrder",
            "schema": {
              "type": "string",
              "enum": [
                "asc",
                "desc"
              ],
              "default": "desc"
            },
            "description": "排序方向"
          },
          {
            "in": "query",
            "name": "includeStats",
            "schema": {
              "type": "boolean",
              "default": false
            },
            "description": "是否包含统计信息"
          }
        ],
        "responses": {
          "200": {
            "description": "获取模板列表成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取模板列表成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "templates": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/FieldTemplateSummary"
                          }
                        },
                        "pagination": {
                          "$ref": "#/components/schemas/Pagination"
                        },
                        "filters": {
                          "type": "object",
                          "properties": {
                            "entityTypes": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              },
                              "example": [
                                "student",
                                "teacher"
                              ]
                            },
                            "categories": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              },
                              "example": [
                                "basic",
                                "custom"
                              ]
                            }
                          }
                        },
                        "statistics": {
                          "type": "object",
                          "properties": {
                            "totalTemplates": {
                              "type": "integer",
                              "example": 45
                            },
                            "publicTemplates": {
                              "type": "integer",
                              "example": 18
                            },
                            "privateTemplates": {
                              "type": "integer",
                              "example": 27
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidationError"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "500": {
            "$ref": "#/components/responses/InternalError"
          }
        }
      }
    },
    "/field-templates/{id}": {
      "get": {
        "summary": "获取字段模板详情",
        "description": "根据模板ID获取字段模板的完整详细信息，包括所有字段配置、使用统计、应用历史等。",
        "tags": [
          "字段模板管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "description": "模板ID"
          },
          {
            "in": "query",
            "name": "includeUsage",
            "schema": {
              "type": "boolean",
              "default": false
            },
            "description": "是否包含使用统计"
          },
          {
            "in": "query",
            "name": "includeHistory",
            "schema": {
              "type": "boolean",
              "default": false
            },
            "description": "是否包含修改历史"
          },
          {
            "in": "query",
            "name": "version",
            "schema": {
              "type": "string"
            },
            "description": "获取指定版本的模板（可选）"
          }
        ],
        "responses": {
          "200": {
            "description": "获取模板详情成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取模板详情成功"
                    },
                    "data": {
                      "allOf": [
                        {
                          "$ref": "#/components/schemas/FieldTemplate"
                        },
                        {
                          "type": "object",
                          "properties": {
                            "usageStatistics": {
                              "type": "object",
                              "properties": {
                                "totalApplications": {
                                  "type": "integer",
                                  "example": 156
                                },
                                "activeApplications": {
                                  "type": "integer",
                                  "example": 23
                                },
                                "lastUsedAt": {
                                  "type": "string",
                                  "format": "date-time"
                                },
                                "usageByUsers": {
                                  "type": "integer",
                                  "example": 12
                                }
                              }
                            },
                            "versionHistory": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "properties": {
                                  "version": {
                                    "type": "string",
                                    "example": "1.1.0"
                                  },
                                  "changeDescription": {
                                    "type": "string",
                                    "example": "添加了联系电话字段"
                                  },
                                  "createdBy": {
                                    "type": "string",
                                    "example": "张三"
                                  },
                                  "createdAt": {
                                    "type": "string",
                                    "format": "date-time"
                                  }
                                }
                              }
                            },
                            "relatedTemplates": {
                              "type": "array",
                              "items": {
                                "$ref": "#/components/schemas/FieldTemplateSummary"
                              }
                            }
                          }
                        }
                      ]
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "500": {
            "$ref": "#/components/responses/InternalError"
          }
        }
      },
      "delete": {
        "summary": "删除字段模板",
        "description": "删除指定的字段模板。如果模板已被应用到实际对象，需要先解除应用关系或强制删除。删除操作不可逆，请谨慎操作。",
        "tags": [
          "字段模板管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "description": "模板ID"
          },
          {
            "in": "query",
            "name": "force",
            "schema": {
              "type": "boolean",
              "default": false
            },
            "description": "是否强制删除（即使模板正在使用中）"
          },
          {
            "in": "query",
            "name": "cascade",
            "schema": {
              "type": "boolean",
              "default": false
            },
            "description": "是否级联删除相关的应用记录"
          }
        ],
        "responses": {
          "200": {
            "description": "删除模板成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "删除字段模板成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "deletedTemplateId": {
                          "type": "integer",
                          "example": 1
                        },
                        "deletedTemplateName": {
                          "type": "string",
                          "example": "测试模板"
                        },
                        "affectedApplications": {
                          "type": "integer",
                          "example": 0
                        },
                        "deletionTime": {
                          "type": "string",
                          "format": "date-time"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "模板正在使用中，无法删除",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "模板正在使用中，无法删除"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "templateId": {
                          "type": "integer",
                          "example": 1
                        },
                        "activeApplications": {
                          "type": "integer",
                          "example": 15
                        },
                        "affectedEntities": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "entityType": {
                                "type": "string",
                                "example": "class"
                              },
                              "entityId": {
                                "type": "string",
                                "example": "12345"
                              },
                              "entityName": {
                                "type": "string",
                                "example": "大一1班"
                              }
                            }
                          }
                        },
                        "suggestions": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          },
                          "example": [
                            "先解除所有应用关系",
                            "使用force参数强制删除"
                          ]
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "500": {
            "$ref": "#/components/responses/InternalError"
          }
        }
      }
    },
    "/field-templates/{id}/apply": {
      "post": {
        "summary": "应用字段模板",
        "description": "将指定的字段模板应用到具体的实体对象上，根据模板配置初始化实体的字段结构。应用时会根据实体类型创建相应的数据记录。",
        "tags": [
          "字段模板管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "description": "模板ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "targetId",
                  "targetType"
                ],
                "properties": {
                  "targetId": {
                    "type": "string",
                    "example": "12345",
                    "description": "目标实体ID"
                  },
                  "targetType": {
                    "type": "string",
                    "enum": [
                      "class",
                      "activity",
                      "enrollment"
                    ],
                    "example": "class",
                    "description": "目标实体类型"
                  },
                  "overrideExisting": {
                    "type": "boolean",
                    "default": false,
                    "description": "是否覆盖现有字段配置"
                  },
                  "customizations": {
                    "type": "object",
                    "properties": {
                      "fieldOverrides": {
                        "type": "object",
                        "additionalProperties": {
                          "type": "object",
                          "properties": {
                            "required": {
                              "type": "boolean"
                            },
                            "defaultValue": {
                              "oneOf": [
                                {
                                  "type": "string"
                                },
                                {
                                  "type": "number"
                                },
                                {
                                  "type": "boolean"
                                },
                                {
                                  "type": "array"
                                }
                              ]
                            },
                            "options": {
                              "type": "array",
                              "items": {
                                "type": "object"
                              }
                            }
                          },
                          "description": "字段覆盖配置"
                        }
                      },
                      "fieldAdditions": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "name": {
                              "type": "string"
                            },
                            "type": {
                              "type": "string"
                            },
                            "required": {
                              "type": "boolean"
                            }
                          }
                        },
                        "description": "额外添加的字段"
                      },
                      "fieldRemovals": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        },
                        "description": "要移除的字段名称列表"
                      }
                    },
                    "description": "模板自定义配置"
                  },
                  "applyMode": {
                    "type": "string",
                    "enum": [
                      "full",
                      "partial",
                      "preview"
                    ],
                    "default": "full",
                    "description": "应用模式：完整应用、部分应用或预览"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "应用模板成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "应用字段模板成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "applicationId": {
                          "type": "string",
                          "example": "app_123456"
                        },
                        "templateId": {
                          "type": "integer",
                          "example": 1
                        },
                        "templateName": {
                          "type": "string",
                          "example": "学生基本信息模板"
                        },
                        "targetInfo": {
                          "type": "object",
                          "properties": {
                            "targetId": {
                              "type": "string",
                              "example": "12345"
                            },
                            "targetType": {
                              "type": "string",
                              "example": "class"
                            },
                            "targetName": {
                              "type": "string",
                              "example": "大一1班"
                            }
                          }
                        },
                        "appliedFields": {
                          "type": "integer",
                          "example": 15
                        },
                        "overriddenFields": {
                          "type": "integer",
                          "example": 3
                        },
                        "skippedFields": {
                          "type": "integer",
                          "example": 2
                        },
                        "applicationTime": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "previewData": {
                          "type": "object",
                          "properties": {
                            "fieldStructure": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "properties": {
                                  "name": {
                                    "type": "string"
                                  },
                                  "type": {
                                    "type": "string"
                                  },
                                  "required": {
                                    "type": "boolean"
                                  },
                                  "status": {
                                    "type": "string",
                                    "enum": [
                                      "applied",
                                      "overridden",
                                      "skipped",
                                      "custom"
                                    ]
                                  }
                                }
                              }
                            }
                          },
                          "description": "预览模式的字段结构（当applyMode为preview时）"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误或模板不兼容",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "模板类型与目标实体不兼容"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "templateEntityType": {
                          "type": "string",
                          "example": "student"
                        },
                        "targetEntityType": {
                          "type": "string",
                          "example": "activity"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "409": {
            "description": "目标对象已存在字段配置",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "目标对象已存在字段配置"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "targetId": {
                          "type": "string",
                          "example": "12345"
                        },
                        "existingFields": {
                          "type": "integer",
                          "example": 8
                        },
                        "suggestion": {
                          "type": "string",
                          "example": "设置overrideExisting为true可覆盖现有配置"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/InternalError"
          }
        }
      }
    },
    "/api/files": {
      "get": {
        "summary": "获取文件列表",
        "description": "获取当前用户上传的文件列表，支持分页和过滤",
        "tags": [
          "Files"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 10
            },
            "description": "每页数量"
          },
          {
            "in": "query",
            "name": "type",
            "schema": {
              "type": "string"
            },
            "description": "文件类型过滤"
          },
          {
            "in": "query",
            "name": "search",
            "schema": {
              "type": "string"
            },
            "description": "文件名搜索关键字"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取文件列表",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "获取文件列表成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "files": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/File"
                          }
                        },
                        "pagination": {
                          "$ref": "#/components/schemas/Pagination"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/files/upload": {
      "post": {
        "summary": "单文件上传",
        "description": "上传单个文件到服务器",
        "tags": [
          "Files"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "file": {
                    "type": "string",
                    "format": "binary",
                    "description": "要上传的文件"
                  },
                  "description": {
                    "type": "string",
                    "description": "文件描述"
                  },
                  "category": {
                    "type": "string",
                    "description": "文件分类"
                  }
                },
                "required": [
                  "file"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "文件上传成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "文件上传成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/File"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误或文件格式不支持",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "413": {
            "description": "文件大小超出限制",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/files/upload-multiple": {
      "post": {
        "summary": "多文件上传",
        "description": "一次上传多个文件（最多5个）",
        "tags": [
          "Files"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "files": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "format": "binary"
                    },
                    "maxItems": 5,
                    "description": "要上传的文件数组（最多5个）"
                  },
                  "description": {
                    "type": "string",
                    "description": "批量文件描述"
                  },
                  "category": {
                    "type": "string",
                    "description": "文件分类"
                  }
                },
                "required": [
                  "files"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "多文件上传成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "多文件上传成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "uploaded_files": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/File"
                          }
                        },
                        "failed_files": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "filename": {
                                "type": "string"
                              },
                              "error": {
                                "type": "string"
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误或文件数量超出限制",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/files/statistics": {
      "get": {
        "summary": "获取文件统计信息",
        "description": "获取用户文件的统计数据，包括总数、大小、类型分布等",
        "tags": [
          "Files"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取文件统计信息",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "获取文件统计成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "total_files": {
                          "type": "integer",
                          "description": "总文件数"
                        },
                        "total_size": {
                          "type": "integer",
                          "description": "总文件大小（字节）"
                        },
                        "file_types": {
                          "type": "object",
                          "description": "文件类型分布",
                          "additionalProperties": {
                            "type": "integer"
                          }
                        },
                        "upload_trend": {
                          "type": "array",
                          "description": "最近7天上传趋势",
                          "items": {
                            "type": "object",
                            "properties": {
                              "date": {
                                "type": "string",
                                "format": "date"
                              },
                              "count": {
                                "type": "integer"
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/files/storage-info": {
      "get": {
        "summary": "获取存储空间信息",
        "description": "获取用户当前存储空间使用情况和限制信息",
        "tags": [
          "Files"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取存储空间信息",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "获取存储信息成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "used_space": {
                          "type": "integer",
                          "description": "已使用空间（字节）"
                        },
                        "total_space": {
                          "type": "integer",
                          "description": "总空间限制（字节）"
                        },
                        "remaining_space": {
                          "type": "integer",
                          "description": "剩余空间（字节）"
                        },
                        "usage_percentage": {
                          "type": "number",
                          "format": "float",
                          "description": "使用率百分比"
                        },
                        "file_count": {
                          "type": "integer",
                          "description": "文件总数"
                        },
                        "max_file_size": {
                          "type": "integer",
                          "description": "单文件大小限制（字节）"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/files/cleanup-temp": {
      "post": {
        "summary": "清理临时文件",
        "description": "清理系统中的临时文件和无效引用",
        "tags": [
          "Files"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "older_than_hours": {
                    "type": "integer",
                    "minimum": 1,
                    "default": 24,
                    "description": "清理超过指定小时数的临时文件"
                  },
                  "force": {
                    "type": "boolean",
                    "default": false,
                    "description": "强制清理所有临时文件"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "清理操作完成",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "临时文件清理完成"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "cleaned_files": {
                          "type": "integer",
                          "description": "清理的文件数量"
                        },
                        "freed_space": {
                          "type": "integer",
                          "description": "释放的空间大小（字节）"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/files/download/{id}": {
      "get": {
        "summary": "下载文件",
        "description": "通过文件ID下载文件",
        "tags": [
          "Files"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "文件ID"
          },
          {
            "in": "query",
            "name": "inline",
            "schema": {
              "type": "boolean",
              "default": false
            },
            "description": "是否在浏览器中内联显示（适用于图片、PDF等）"
          }
        ],
        "responses": {
          "200": {
            "description": "文件下载成功",
            "content": {
              "application/octet-stream": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              },
              "image/*": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              },
              "application/pdf": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            },
            "headers": {
              "Content-Disposition": {
                "description": "文件下载头信息",
                "schema": {
                  "type": "string"
                }
              },
              "Content-Length": {
                "description": "文件大小",
                "schema": {
                  "type": "integer"
                }
              },
              "Content-Type": {
                "description": "文件MIME类型",
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "description": "无权限访问该文件",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "文件不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/files/{id}": {
      "get": {
        "summary": "获取文件详情",
        "description": "根据文件ID获取文件的详细信息",
        "tags": [
          "Files"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "文件ID"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取文件详情",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "获取文件详情成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/File"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "description": "无权限访问该文件",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "文件不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      },
      "put": {
        "summary": "更新文件信息",
        "description": "更新指定ID的文件元信息",
        "tags": [
          "File Management"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "文件ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "filename": {
                    "type": "string",
                    "description": "新的文件名"
                  },
                  "description": {
                    "type": "string",
                    "description": "文件描述"
                  },
                  "category": {
                    "type": "string",
                    "description": "文件分类"
                  },
                  "tags": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "文件标签"
                  },
                  "is_public": {
                    "type": "boolean",
                    "description": "是否公开"
                  },
                  "fileName": {
                    "type": "string",
                    "description": "文件名"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "文件信息更新成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "文件信息更新成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/File"
                    }
                  },
                  "$ref": "#/components/schemas/FileResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            },
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "description": "无权限修改该文件",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "文件不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            },
            "$ref": "#/components/responses/NotFound"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      },
      "delete": {
        "summary": "删除文件",
        "description": "删除指定的文件（包括物理文件和数据库记录）",
        "tags": [
          "Files"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "文件ID"
          },
          {
            "in": "query",
            "name": "force",
            "schema": {
              "type": "boolean",
              "default": false
            },
            "description": "强制删除（即使物理文件不存在）"
          }
        ],
        "responses": {
          "200": {
            "description": "文件删除成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "文件删除成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "deleted_file_id": {
                          "type": "integer"
                        },
                        "freed_space": {
                          "type": "integer",
                          "description": "释放的空间大小（字节）"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "description": "无权限删除该文件",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "文件不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/finance/overview": {
      "get": {
        "summary": "获取财务概览数据",
        "tags": [
          "Finance"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "财务概览数据获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "monthlyRevenue": {
                          "type": "number"
                        },
                        "revenueGrowth": {
                          "type": "number"
                        },
                        "pendingAmount": {
                          "type": "number"
                        },
                        "pendingCount": {
                          "type": "number"
                        },
                        "collectionRate": {
                          "type": "number"
                        },
                        "paidCount": {
                          "type": "number"
                        },
                        "totalCount": {
                          "type": "number"
                        },
                        "overdueAmount": {
                          "type": "number"
                        },
                        "overdueCount": {
                          "type": "number"
                        }
                      }
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/finance/today-payments": {
      "get": {
        "summary": "获取今日缴费数据",
        "tags": [
          "Finance"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "今日缴费数据获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "todayAmount": {
                          "type": "number"
                        },
                        "todayCount": {
                          "type": "number"
                        },
                        "payments": {
                          "type": "array",
                          "items": {
                            "type": "object"
                          }
                        }
                      }
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/finance/fee-package-templates": {
      "get": {
        "summary": "获取费用套餐模板列表",
        "tags": [
          "Finance"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "费用套餐模板列表获取成功"
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/finance/fee-items": {
      "get": {
        "summary": "获取收费项目列表",
        "tags": [
          "Finance"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "收费项目列表获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string"
                          },
                          "name": {
                            "type": "string"
                          },
                          "category": {
                            "type": "string"
                          },
                          "amount": {
                            "type": "number"
                          },
                          "period": {
                            "type": "string"
                          },
                          "isRequired": {
                            "type": "boolean"
                          },
                          "description": {
                            "type": "string"
                          },
                          "status": {
                            "type": "string"
                          }
                        }
                      }
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/finance/payment-records": {
      "get": {
        "summary": "获取缴费记录列表",
        "tags": [
          "Finance"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "缴费记录列表获取成功"
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/finance/reports": {
      "get": {
        "summary": "获取财务报表数据",
        "tags": [
          "Finance"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "财务报表数据获取成功"
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/finance/enrollment-finance": {
      "get": {
        "summary": "获取招生财务联动数据",
        "tags": [
          "Finance"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "招生财务联动数据获取成功"
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/fix-permissions/execute": {
      "post": {
        "tags": [
          "权限管理"
        ],
        "summary": "执行权限修复",
        "description": "重建系统所有中心菜单的权限数据，删除旧菜单并添加新菜单配置",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "权限修复执行成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "菜单权限修复完成"
                    },
                    "data": {
                      "$ref": "#/components/schemas/PermissionFixResult"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "权限修复失败"
                    },
                    "code": {
                      "type": "string",
                      "example": "INTERNAL_SERVER_ERROR"
                    }
                  }
                }
              }
            }
          }
        },
        "example": {
          "summary": "权限修复成功示例",
          "value": {
            "success": true,
            "message": "菜单权限修复完成",
            "data": {
              "totalDeleted": 45,
              "totalAdded": 52,
              "centers": [
                {
                  "centerId": 3002,
                  "centerName": "人员中心",
                  "deleted": 5,
                  "added": 4,
                  "menus": [
                    "学生管理",
                    "教师管理",
                    "家长管理",
                    "班级管理"
                  ]
                },
                {
                  "centerId": 3003,
                  "centerName": "活动中心",
                  "deleted": 6,
                  "added": 5,
                  "menus": [
                    "活动列表",
                    "创建活动",
                    "活动分析",
                    "活动评估",
                    "活动报名"
                  ]
                }
              ]
            }
          }
        }
      }
    },
    "/game/list": {
      "get": {
        "summary": "获取游戏列表",
        "description": "获取当前用户可访问的游戏列表，包括游戏基本信息、进度状态、解锁条件等。支持按类型、难度、状态等条件筛选。",
        "tags": [
          "游戏管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "category",
            "schema": {
              "type": "string",
              "enum": [
                "educational",
                "puzzle",
                "action",
                "strategy",
                "creative",
                "sports"
              ]
            },
            "description": "游戏分类筛选"
          },
          {
            "in": "query",
            "name": "difficulty",
            "schema": {
              "type": "string",
              "enum": [
                "easy",
                "medium",
                "hard",
                "expert"
              ]
            },
            "description": "难度筛选"
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string",
              "enum": [
                "available",
                "locked",
                "completed",
                "in_progress"
              ]
            },
            "description": "状态筛选"
          },
          {
            "in": "query",
            "name": "ageGroup",
            "schema": {
              "type": "string",
              "enum": [
                "3-5",
                "6-8",
                "9-12",
                "13+"
              ]
            },
            "description": "年龄组筛选"
          },
          {
            "in": "query",
            "name": "search",
            "schema": {
              "type": "string",
              "maxLength": 100
            },
            "description": "搜索关键词（游戏名称或描述）"
          },
          {
            "in": "query",
            "name": "sortBy",
            "schema": {
              "type": "string",
              "enum": [
                "name",
                "difficulty",
                "popularity",
                "rating",
                "createdAt"
              ],
              "default": "popularity"
            },
            "description": "排序字段"
          },
          {
            "in": "query",
            "name": "sortOrder",
            "schema": {
              "type": "string",
              "enum": [
                "asc",
                "desc"
              ],
              "default": "desc"
            },
            "description": "排序方向"
          },
          {
            "in": "query",
            "name": "includeProgress",
            "schema": {
              "type": "boolean",
              "default": true
            },
            "description": "是否包含用户进度信息"
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer",
              "minimum": 5,
              "maximum": 50,
              "default": 20
            },
            "description": "每页数量"
          }
        ],
        "responses": {
          "200": {
            "description": "获取游戏列表成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取游戏列表成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "games": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/GameSummary"
                          }
                        },
                        "pagination": {
                          "$ref": "#/components/schemas/Pagination"
                        },
                        "categories": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          },
                          "example": [
                            "educational",
                            "puzzle",
                            "creative"
                          ]
                        },
                        "userStats": {
                          "type": "object",
                          "properties": {
                            "totalGamesPlayed": {
                              "type": "integer",
                              "example": 15
                            },
                            "totalGameTime": {
                              "type": "integer",
                              "example": 1200
                            },
                            "achievements": {
                              "type": "integer",
                              "example": 8
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "500": {
            "$ref": "#/components/responses/InternalError"
          }
        }
      }
    },
    "/game/{gameKey}": {
      "get": {
        "summary": "获取游戏详情",
        "description": "根据游戏键值获取游戏的详细信息，包括游戏配置、关卡信息、用户进度、成就系统等完整数据。",
        "tags": [
          "游戏管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "gameKey",
            "required": true,
            "schema": {
              "type": "string",
              "pattern": "^[a-zA-Z0-9_-]+$",
              "maxLength": 50
            },
            "description": "游戏唯一标识键"
          },
          {
            "in": "query",
            "name": "includeProgress",
            "schema": {
              "type": "boolean",
              "default": true
            },
            "description": "是否包含用户游戏进度"
          },
          {
            "in": "query",
            "name": "includeLevels",
            "schema": {
              "type": "boolean",
              "default": false
            },
            "description": "是否包含关卡详细信息"
          },
          {
            "in": "query",
            "name": "includeAchievements",
            "schema": {
              "type": "boolean",
              "default": false
            },
            "description": "是否包含成就信息"
          },
          {
            "in": "query",
            "name": "includeLeaderboard",
            "schema": {
              "type": "boolean",
              "default": false
            },
            "description": "是否包含排行榜信息"
          }
        ],
        "responses": {
          "200": {
            "description": "获取游戏详情成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取游戏详情成功"
                    },
                    "data": {
                      "allOf": [
                        {
                          "$ref": "#/components/schemas/GameDetail"
                        },
                        {
                          "type": "object",
                          "properties": {
                            "userProgress": {
                              "$ref": "#/components/schemas/GameProgress"
                            },
                            "userSettings": {
                              "type": "object",
                              "properties": {
                                "soundEnabled": {
                                  "type": "boolean",
                                  "example": true
                                },
                                "musicVolume": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100,
                                  "example": 70
                                },
                                "controlScheme": {
                                  "type": "string",
                                  "example": "touch"
                                },
                                "difficulty": {
                                  "type": "string",
                                  "example": "medium"
                                }
                              }
                            },
                            "recommendations": {
                              "type": "array",
                              "items": {
                                "$ref": "#/components/schemas/GameSummary"
                              }
                            }
                          }
                        }
                      ]
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "500": {
            "$ref": "#/components/responses/InternalError"
          }
        }
      }
    },
    "/game/{gameKey}/levels": {
      "get": {
        "summary": "获取游戏关卡列表",
        "description": "获取指定游戏的所有关卡信息，包括关卡配置、解锁条件、用户进度、成绩记录等。",
        "tags": [
          "游戏管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "gameKey",
            "required": true,
            "schema": {
              "type": "string",
              "pattern": "^[a-zA-Z0-9_-]+$",
              "maxLength": 50
            },
            "description": "游戏唯一标识键"
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string",
              "enum": [
                "all",
                "unlocked",
                "locked",
                "completed",
                "in_progress"
              ],
              "default": "all"
            },
            "description": "关卡状态筛选"
          },
          {
            "in": "query",
            "name": "difficulty",
            "schema": {
              "type": "string",
              "enum": [
                "easy",
                "medium",
                "hard",
                "expert"
              ]
            },
            "description": "难度筛选"
          },
          {
            "in": "query",
            "name": "includeProgress",
            "schema": {
              "type": "boolean",
              "default": true
            },
            "description": "是否包含用户进度信息"
          },
          {
            "in": "query",
            "name": "includeRecords",
            "schema": {
              "type": "boolean",
              "default": false
            },
            "description": "是否包含成绩记录"
          }
        ],
        "responses": {
          "200": {
            "description": "获取关卡列表成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取关卡列表成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "gameKey": {
                          "type": "string",
                          "example": "math_puzzle"
                        },
                        "gameName": {
                          "type": "string",
                          "example": "数学拼图游戏"
                        },
                        "totalLevels": {
                          "type": "integer",
                          "example": 30
                        },
                        "completedLevels": {
                          "type": "integer",
                          "example": 12
                        },
                        "currentLevel": {
                          "type": "integer",
                          "example": 13
                        },
                        "levels": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/GameLevel"
                          }
                        },
                        "progress": {
                          "type": "object",
                          "properties": {
                            "completionRate": {
                              "type": "number",
                              "format": "float",
                              "example": 40
                            },
                            "totalStars": {
                              "type": "integer",
                              "example": 25
                            },
                            "totalScore": {
                              "type": "integer",
                              "example": 12500
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "500": {
            "$ref": "#/components/responses/InternalError"
          }
        }
      }
    },
    "/game/record": {
      "post": {
        "summary": "保存游戏记录",
        "description": "保存用户的游戏记录，包括关卡完成情况、得分、用时、成就等信息。系统会自动更新用户的游戏进度和统计数据。",
        "tags": [
          "游戏管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "gameKey",
                  "levelId",
                  "action"
                ],
                "properties": {
                  "gameKey": {
                    "type": "string",
                    "pattern": "^[a-zA-Z0-9_-]+$",
                    "maxLength": 50,
                    "example": "math_puzzle",
                    "description": "游戏唯一标识键"
                  },
                  "levelId": {
                    "type": "string",
                    "maxLength": 50,
                    "example": "level_01_03",
                    "description": "关卡ID"
                  },
                  "action": {
                    "type": "string",
                    "enum": [
                      "start",
                      "complete",
                      "pause",
                      "quit",
                      "save",
                      "achievement_unlock"
                    ],
                    "example": "complete",
                    "description": "记录动作类型"
                  },
                  "score": {
                    "type": "integer",
                    "minimum": 0,
                    "maximum": 9999999,
                    "example": 1250,
                    "description": "游戏得分"
                  },
                  "stars": {
                    "type": "integer",
                    "minimum": 0,
                    "maximum": 5,
                    "example": 3,
                    "description": "星级评分"
                  },
                  "duration": {
                    "type": "integer",
                    "minimum": 0,
                    "example": 185,
                    "description": "游戏时长（秒）"
                  },
                  "attempts": {
                    "type": "integer",
                    "minimum": 1,
                    "example": 3,
                    "description": "尝试次数"
                  },
                  "data": {
                    "type": "object",
                    "properties": {
                      "moves": {
                        "type": "integer",
                        "example": 25
                      },
                      "accuracy": {
                        "type": "number",
                        "format": "float",
                        "minimum": 0,
                        "maximum": 100,
                        "example": 85.5
                      },
                      "bonuses": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        },
                        "example": [
                          "speed_bonus",
                          "perfect_bonus"
                        ]
                      },
                      "customStats": {
                        "type": "object",
                        "additionalProperties": true
                      }
                    },
                    "description": "游戏具体数据"
                  },
                  "achievements": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "achievementId": {
                          "type": "string",
                          "example": "first_win"
                        },
                        "name": {
                          "type": "string",
                          "example": "首次胜利"
                        },
                        "description": {
                          "type": "string",
                          "example": "完成第一个关卡"
                        },
                        "points": {
                          "type": "integer",
                          "example": 50
                        }
                      }
                    },
                    "description": "解锁的成就列表"
                  },
                  "metadata": {
                    "type": "object",
                    "properties": {
                      "deviceInfo": {
                        "type": "string",
                        "example": "iPhone 13"
                      },
                      "appVersion": {
                        "type": "string",
                        "example": "2.1.0"
                      },
                      "sessionId": {
                        "type": "string",
                        "example": "sess_123456"
                      }
                    },
                    "description": "元数据信息"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "保存游戏记录成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "保存游戏记录成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "recordId": {
                          "type": "string",
                          "example": "rec_789012"
                        },
                        "gameKey": {
                          "type": "string",
                          "example": "math_puzzle"
                        },
                        "levelId": {
                          "type": "string",
                          "example": "level_01_03"
                        },
                        "updatedProgress": {
                          "type": "object",
                          "properties": {
                            "currentLevel": {
                              "type": "integer",
                              "example": 14
                            },
                            "totalScore": {
                              "type": "integer",
                              "example": 13750
                            },
                            "newUnlockedLevels": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              },
                              "example": [
                                "level_02_01"
                              ]
                            },
                            "nextLevelUnlocked": {
                              "type": "boolean",
                              "example": true
                            }
                          }
                        },
                        "newAchievements": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/Achievement"
                          },
                          "example": []
                        },
                        "leaderboards": {
                          "type": "object",
                          "properties": {
                            "globalRank": {
                              "type": "integer",
                              "example": 156
                            },
                            "friendsRank": {
                              "type": "integer",
                              "example": 12
                            },
                            "isNewHighScore": {
                              "type": "boolean",
                              "example": false
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidationError"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "500": {
            "$ref": "#/components/responses/InternalError"
          }
        }
      }
    },
    "/game/settings/user": {
      "get": {
        "summary": "获取用户游戏设置",
        "description": "获取当前用户的游戏设置配置，包括音频设置、控制方式、难度偏好、通知设置等个性化配置。",
        "tags": [
          "游戏管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取用户设置成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取用户游戏设置成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "userId": {
                          "type": "string",
                          "example": "user_12345"
                        },
                        "audio": {
                          "type": "object",
                          "properties": {
                            "soundEnabled": {
                              "type": "boolean",
                              "example": true
                            },
                            "musicEnabled": {
                              "type": "boolean",
                              "example": true
                            },
                            "soundVolume": {
                              "type": "number",
                              "minimum": 0,
                              "maximum": 100,
                              "example": 80
                            },
                            "musicVolume": {
                              "type": "number",
                              "minimum": 0,
                              "maximum": 100,
                              "example": 60
                            }
                          }
                        },
                        "controls": {
                          "type": "object",
                          "properties": {
                            "controlScheme": {
                              "type": "string",
                              "enum": [
                                "touch",
                                "tilt",
                                "joystick",
                                "keyboard"
                              ],
                              "example": "touch"
                            },
                            "sensitivity": {
                              "type": "number",
                              "minimum": 0,
                              "maximum": 100,
                              "example": 70
                            },
                            "invertControls": {
                              "type": "boolean",
                              "example": false
                            }
                          }
                        },
                        "difficulty": {
                          "type": "object",
                          "properties": {
                            "defaultDifficulty": {
                              "type": "string",
                              "enum": [
                                "easy",
                                "medium",
                                "hard",
                                "expert"
                              ],
                              "example": "medium"
                            },
                            "adaptiveDifficulty": {
                              "type": "boolean",
                              "example": true
                            },
                            "showHints": {
                              "type": "boolean",
                              "example": true
                            }
                          }
                        },
                        "display": {
                          "type": "object",
                          "properties": {
                            "graphicsQuality": {
                              "type": "string",
                              "enum": [
                                "low",
                                "medium",
                                "high",
                                "ultra"
                              ],
                              "example": "high"
                            },
                            "frameRate": {
                              "type": "integer",
                              "enum": [
                                30,
                                60,
                                120
                              ],
                              "example": 60
                            },
                            "fullscreen": {
                              "type": "boolean",
                              "example": false
                            }
                          }
                        },
                        "notifications": {
                          "type": "object",
                          "properties": {
                            "achievementAlerts": {
                              "type": "boolean",
                              "example": true
                            },
                            "leaderboardUpdates": {
                              "type": "boolean",
                              "example": false
                            },
                            "dailyReminders": {
                              "type": "boolean",
                              "example": true
                            }
                          }
                        },
                        "privacy": {
                          "type": "object",
                          "properties": {
                            "shareProgress": {
                              "type": "boolean",
                              "example": true
                            },
                            "appearInLeaderboard": {
                              "type": "boolean",
                              "example": true
                            },
                            "anonymousMode": {
                              "type": "boolean",
                              "example": false
                            }
                          }
                        },
                        "updatedAt": {
                          "type": "string",
                          "format": "date-time",
                          "example": "2024-01-15T10:30:00Z"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "500": {
            "$ref": "#/components/responses/InternalError"
          }
        }
      },
      "put": {
        "summary": "更新用户游戏设置",
        "description": "更新当前用户的游戏设置配置，包括音频、控制、难度、显示、通知等各种个性化设置。",
        "tags": [
          "游戏管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "audio": {
                    "type": "object",
                    "properties": {
                      "soundEnabled": {
                        "type": "boolean",
                        "example": true
                      },
                      "musicEnabled": {
                        "type": "boolean",
                        "example": true
                      },
                      "soundVolume": {
                        "type": "number",
                        "minimum": 0,
                        "maximum": 100,
                        "example": 80
                      },
                      "musicVolume": {
                        "type": "number",
                        "minimum": 0,
                        "maximum": 100,
                        "example": 60
                      }
                    },
                    "description": "音频设置"
                  },
                  "controls": {
                    "type": "object",
                    "properties": {
                      "controlScheme": {
                        "type": "string",
                        "enum": [
                          "touch",
                          "tilt",
                          "joystick",
                          "keyboard"
                        ],
                        "example": "touch"
                      },
                      "sensitivity": {
                        "type": "number",
                        "minimum": 0,
                        "maximum": 100,
                        "example": 70
                      },
                      "invertControls": {
                        "type": "boolean",
                        "example": false
                      }
                    },
                    "description": "控制设置"
                  },
                  "difficulty": {
                    "type": "object",
                    "properties": {
                      "defaultDifficulty": {
                        "type": "string",
                        "enum": [
                          "easy",
                          "medium",
                          "hard",
                          "expert"
                        ],
                        "example": "medium"
                      },
                      "adaptiveDifficulty": {
                        "type": "boolean",
                        "example": true
                      },
                      "showHints": {
                        "type": "boolean",
                        "example": true
                      }
                    },
                    "description": "难度设置"
                  },
                  "display": {
                    "type": "object",
                    "properties": {
                      "graphicsQuality": {
                        "type": "string",
                        "enum": [
                          "low",
                          "medium",
                          "high",
                          "ultra"
                        ],
                        "example": "high"
                      },
                      "frameRate": {
                        "type": "integer",
                        "enum": [
                          30,
                          60,
                          120
                        ],
                        "example": 60
                      },
                      "fullscreen": {
                        "type": "boolean",
                        "example": false
                      }
                    },
                    "description": "显示设置"
                  },
                  "notifications": {
                    "type": "object",
                    "properties": {
                      "achievementAlerts": {
                        "type": "boolean",
                        "example": true
                      },
                      "leaderboardUpdates": {
                        "type": "boolean",
                        "example": false
                      },
                      "dailyReminders": {
                        "type": "boolean",
                        "example": true
                      }
                    },
                    "description": "通知设置"
                  },
                  "privacy": {
                    "type": "object",
                    "properties": {
                      "shareProgress": {
                        "type": "boolean",
                        "example": true
                      },
                      "appearInLeaderboard": {
                        "type": "boolean",
                        "example": true
                      },
                      "anonymousMode": {
                        "type": "boolean",
                        "example": false
                      }
                    },
                    "description": "隐私设置"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新用户设置成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "更新用户游戏设置成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "updatedSettings": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          },
                          "example": [
                            "audio.soundVolume",
                            "difficulty.defaultDifficulty"
                          ]
                        },
                        "settings": {
                          "type": "object",
                          "description": "更新后的完整设置对象"
                        },
                        "updatedAt": {
                          "type": "string",
                          "format": "date-time",
                          "example": "2024-01-15T10:35:00Z"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidationError"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "500": {
            "$ref": "#/components/responses/InternalError"
          }
        }
      }
    },
    "/game/{gameKey}/leaderboard": {
      "get": {
        "summary": "获取游戏排行榜",
        "description": "获取指定游戏的排行榜信息，支持全球排行榜、好友排行榜、历史排行榜等多种排名方式。",
        "tags": [
          "游戏管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "gameKey",
            "required": true,
            "schema": {
              "type": "string",
              "pattern": "^[a-zA-Z0-9_-]+$",
              "maxLength": 50
            },
            "description": "游戏唯一标识键"
          },
          {
            "in": "query",
            "name": "type",
            "schema": {
              "type": "string",
              "enum": [
                "global",
                "friends",
                "class",
                "school",
                "weekly",
                "monthly"
              ],
              "default": "global"
            },
            "description": "排行榜类型"
          },
          {
            "in": "query",
            "name": "period",
            "schema": {
              "type": "string",
              "enum": [
                "all",
                "week",
                "month",
                "year"
              ],
              "default": "all"
            },
            "description": "统计周期"
          },
          {
            "in": "query",
            "name": "metric",
            "schema": {
              "type": "string",
              "enum": [
                "score",
                "stars",
                "completion_rate",
                "play_time"
              ],
              "default": "score"
            },
            "description": "排名指标"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "minimum": 5,
              "maximum": 100,
              "default": 50
            },
            "description": "返回数量限制"
          },
          {
            "in": "query",
            "name": "offset",
            "schema": {
              "type": "integer",
              "minimum": 0,
              "default": 0
            },
            "description": "偏移量"
          },
          {
            "in": "query",
            "name": "includeSelf",
            "schema": {
              "type": "boolean",
              "default": true
            },
            "description": "是否包含当前用户的排名"
          }
        ],
        "responses": {
          "200": {
            "description": "获取排行榜成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取游戏排行榜成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "gameKey": {
                          "type": "string",
                          "example": "math_puzzle"
                        },
                        "gameName": {
                          "type": "string",
                          "example": "数学拼图游戏"
                        },
                        "leaderboardType": {
                          "type": "string",
                          "example": "global"
                        },
                        "period": {
                          "type": "string",
                          "example": "all"
                        },
                        "metric": {
                          "type": "string",
                          "example": "score"
                        },
                        "totalPlayers": {
                          "type": "integer",
                          "example": 15847
                        },
                        "rankings": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/LeaderboardEntry"
                          }
                        },
                        "userRanking": {
                          "type": "object",
                          "properties": {
                            "rank": {
                              "type": "integer",
                              "example": 156
                            },
                            "score": {
                              "type": "integer",
                              "example": 2850
                            },
                            "percentile": {
                              "type": "number",
                              "format": "float",
                              "example": 99
                            },
                            "nearbyPlayers": {
                              "type": "array",
                              "items": {
                                "$ref": "#/components/schemas/LeaderboardEntry"
                              },
                              "example": []
                            }
                          }
                        },
                        "lastUpdated": {
                          "type": "string",
                          "format": "date-time"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "500": {
            "$ref": "#/components/responses/InternalError"
          }
        }
      }
    },
    "/api/groups": {
      "get": {
        "summary": "获取集团列表",
        "description": "获取所有幼儿园集团的列表，支持分页和条件筛选",
        "tags": [
          "集团管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "example": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer",
              "example": 20
            },
            "description": "每页数量"
          },
          {
            "in": "query",
            "name": "keyword",
            "schema": {
              "type": "string",
              "example": "阳光教育"
            },
            "description": "搜索关键词"
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string",
              "enum": [
                "active",
                "inactive",
                "suspended"
              ],
              "example": "active"
            },
            "description": "集团状态"
          },
          {
            "in": "query",
            "name": "type",
            "schema": {
              "type": "string",
              "enum": [
                "chain",
                "franchise",
                "independent"
              ],
              "example": "chain"
            },
            "description": "集团类型"
          },
          {
            "in": "query",
            "name": "investorId",
            "schema": {
              "type": "integer",
              "example": 123
            },
            "description": "投资者ID"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取集团列表",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "items": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/Group"
                          }
                        },
                        "pagination": {
                          "$ref": "#/components/schemas/PaginationResponse"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      },
      "post": {
        "summary": "创建幼儿园集团",
        "description": "创建新的幼儿园集团，支持连锁、加盟、独立等多种类型，提供完整的集团信息管理功能",
        "tags": [
          "集团管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "name",
                  "code",
                  "type",
                  "legalPerson"
                ],
                "properties": {
                  "name": {
                    "type": "string",
                    "example": "阳光教育集团",
                    "description": "集团名称（必填）"
                  },
                  "code": {
                    "type": "string",
                    "example": "YGJY2023",
                    "description": "集团编码，唯一标识（必填）"
                  },
                  "type": {
                    "type": "string",
                    "enum": [
                      "chain",
                      "franchise",
                      "independent"
                    ],
                    "example": "chain",
                    "description": "集团类型（必填）：chain-连锁，franchise-加盟，independent-独立"
                  },
                  "legalPerson": {
                    "type": "string",
                    "example": "张三",
                    "description": "法人代表（必填）"
                  },
                  "description": {
                    "type": "string",
                    "example": "专注于幼儿教育的综合性教育集团",
                    "description": "集团描述（可选）"
                  },
                  "address": {
                    "type": "string",
                    "example": "北京市朝阳区建国路88号",
                    "description": "集团地址（可选）"
                  },
                  "phone": {
                    "type": "string",
                    "example": "010-12345678",
                    "description": "联系电话（可选）"
                  },
                  "email": {
                    "type": "string",
                    "format": "email",
                    "example": "contact@yangguangedu.com",
                    "description": "邮箱地址（可选）"
                  },
                  "website": {
                    "type": "string",
                    "example": "https://www.yangguangedu.com",
                    "description": "官方网站（可选）"
                  },
                  "logoUrl": {
                    "type": "string",
                    "example": "https://example.com/logo.png",
                    "description": "集团Logo URL（可选）"
                  },
                  "businessLicense": {
                    "type": "string",
                    "example": "91110000123456789X",
                    "description": "营业执照号（可选）"
                  },
                  "establishedDate": {
                    "type": "string",
                    "format": "date",
                    "example": "2020-01-15",
                    "description": "成立日期（可选）"
                  },
                  "registeredCapital": {
                    "type": "number",
                    "example": 5000000,
                    "description": "注册资本（可选）"
                  },
                  "investorId": {
                    "type": "integer",
                    "example": 1,
                    "description": "投资者ID（可选）"
                  },
                  "settings": {
                    "type": "object",
                    "properties": {
                      "maxKindergartens": {
                        "type": "integer",
                        "example": 50,
                        "description": "最大幼儿园数量限制"
                      },
                      "enableMultiSite": {
                        "type": "boolean",
                        "example": true,
                        "description": "是否启用多园区管理"
                      },
                      "enableCentralizedProcurement": {
                        "type": "boolean",
                        "example": true,
                        "description": "是否启用集中采购"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "成功创建集团",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "example": 1,
                          "description": "集团ID"
                        },
                        "name": {
                          "type": "string",
                          "example": "阳光教育集团"
                        },
                        "code": {
                          "type": "string",
                          "example": "YGJY2023"
                        },
                        "type": {
                          "type": "string",
                          "example": "chain"
                        },
                        "status": {
                          "type": "string",
                          "example": "active"
                        },
                        "createdAt": {
                          "type": "string",
                          "format": "date-time",
                          "example": "2023-12-01T14:30:00Z"
                        },
                        "createdBy": {
                          "type": "string",
                          "example": "管理员"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "409": {
            "description": "集团编码已存在",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "集团编码已存在"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/groups/my": {
      "get": {
        "summary": "获取当前用户的集团列表",
        "description": "获取当前用户所属的所有集团信息",
        "tags": [
          "集团管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取用户集团列表",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer",
                            "example": 1,
                            "description": "集团ID"
                          },
                          "name": {
                            "type": "string",
                            "example": "阳光教育集团",
                            "description": "集团名称"
                          },
                          "role": {
                            "type": "string",
                            "enum": [
                              "admin",
                              "manager",
                              "teacher",
                              "parent"
                            ],
                            "example": "admin",
                            "description": "用户在集团中的角色"
                          },
                          "permissions": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            },
                            "example": [
                              "group:read",
                              "group:write",
                              "member:manage"
                            ],
                            "description": "用户权限列表"
                          },
                          "joinDate": {
                            "type": "string",
                            "format": "date-time",
                            "example": "2023-01-15T10:30:00Z",
                            "description": "加入集团时间"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/groups/{id}": {
      "get": {
        "summary": "获取集团详情",
        "description": "获取指定幼儿园集团的详细信息",
        "tags": [
          "集团管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer",
              "example": 1
            },
            "description": "集团ID"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取集团详情",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/GroupDetail"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      },
      "put": {
        "summary": "更新集团信息",
        "description": "更新指定集团的基本信息，需要集团管理员权限，支持部分更新和完整信息修改",
        "tags": [
          "集团管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer",
              "example": 1
            },
            "description": "集团ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "example": "阳光教育集团（更新）",
                    "description": "集团名称"
                  },
                  "description": {
                    "type": "string",
                    "example": "专注于幼儿教育的综合性教育集团，提供高品质教育服务",
                    "description": "集团描述"
                  },
                  "address": {
                    "type": "string",
                    "example": "北京市朝阳区建国路88号SOHO现代城",
                    "description": "集团地址"
                  },
                  "phone": {
                    "type": "string",
                    "example": "010-87654321",
                    "description": "联系电话"
                  },
                  "email": {
                    "type": "string",
                    "format": "email",
                    "example": "info@yangguangedu.com",
                    "description": "邮箱地址"
                  },
                  "website": {
                    "type": "string",
                    "example": "https://www.yangguangedu.com.cn",
                    "description": "官方网站"
                  },
                  "logoUrl": {
                    "type": "string",
                    "example": "https://example.com/new-logo.png",
                    "description": "集团Logo URL"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "active",
                      "inactive",
                      "suspended"
                    ],
                    "example": "active",
                    "description": "集团状态"
                  },
                  "settings": {
                    "type": "object",
                    "properties": {
                      "maxKindergartens": {
                        "type": "integer",
                        "example": 100,
                        "description": "最大幼儿园数量限制"
                      },
                      "enableMultiSite": {
                        "type": "boolean",
                        "example": true,
                        "description": "是否启用多园区管理"
                      },
                      "enableCentralizedProcurement": {
                        "type": "boolean",
                        "example": true,
                        "description": "是否启用集中采购"
                      },
                      "enableUnifiedCurriculum": {
                        "type": "boolean",
                        "example": true,
                        "description": "是否启用统一课程"
                      }
                    }
                  },
                  "changeReason": {
                    "type": "string",
                    "required": true,
                    "example": "更新集团联系信息和Logo",
                    "description": "修改原因（必填）"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "成功更新集团信息",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "example": 1
                        },
                        "name": {
                          "type": "string",
                          "example": "阳光教育集团（更新）"
                        },
                        "updatedAt": {
                          "type": "string",
                          "format": "date-time",
                          "example": "2023-12-01T15:30:00Z"
                        },
                        "updatedBy": {
                          "type": "string",
                          "example": "集团管理员"
                        },
                        "changeReason": {
                          "type": "string",
                          "example": "更新集团联系信息和Logo"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "description": "无权限修改该集团信息",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "无权限修改该集团信息"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      },
      "delete": {
        "summary": "删除集团",
        "description": "删除指定的幼儿园集团，仅投资人权限，删除操作不可恢复，将同时删除相关联的所有数据",
        "tags": [
          "集团管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer",
              "example": 1
            },
            "description": "集团ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "deleteReason",
                  "confirmation"
                ],
                "properties": {
                  "deleteReason": {
                    "type": "string",
                    "example": "业务调整，停止运营",
                    "description": "删除原因（必填）"
                  },
                  "confirmation": {
                    "type": "string",
                    "example": "DELETE_GROUP_1",
                    "description": "删除确认码，格式：DELETE_GROUP_{集团ID}（必填）"
                  },
                  "transferData": {
                    "type": "object",
                    "properties": {
                      "transferToGroupId": {
                        "type": "integer",
                        "example": 2,
                        "description": "数据转移到的目标集团ID（可选）"
                      },
                      "keepKindergartens": {
                        "type": "boolean",
                        "example": false,
                        "description": "是否保留幼儿园独立运营（可选）"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "成功删除集团",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "deletedGroupId": {
                          "type": "integer",
                          "example": 1
                        },
                        "groupName": {
                          "type": "string",
                          "example": "阳光教育集团"
                        },
                        "deletedAt": {
                          "type": "string",
                          "format": "date-time",
                          "example": "2023-12-01T16:30:00Z"
                        },
                        "deletedBy": {
                          "type": "string",
                          "example": "投资人"
                        },
                        "deleteReason": {
                          "type": "string",
                          "example": "业务调整，停止运营"
                        },
                        "affectedResources": {
                          "type": "object",
                          "properties": {
                            "kindergartens": {
                              "type": "integer",
                              "example": 5
                            },
                            "users": {
                              "type": "integer",
                              "example": 120
                            },
                            "records": {
                              "type": "integer",
                              "example": 5000
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "description": "无权限删除该集团或确认码错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "无权限删除该集团或确认码错误"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "409": {
            "description": "集团下还有幼儿园，无法删除",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "请先处理集团下的幼儿园，然后再删除集团"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/groups/{groupId}/users": {
      "get": {
        "summary": "获取集团用户列表",
        "description": "获取指定集团的所有用户列表，支持分页查询和角色筛选，显示用户在集团中的角色和权限信息",
        "tags": [
          "集团管理",
          "集团用户管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "groupId",
            "required": true,
            "schema": {
              "type": "integer",
              "example": 1
            },
            "description": "集团ID"
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "example": 1,
              "minimum": 1
            },
            "description": "页码（可选，默认1）"
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer",
              "example": 20,
              "minimum": 1,
              "maximum": 100
            },
            "description": "每页数量（可选，默认20）"
          },
          {
            "in": "query",
            "name": "role",
            "schema": {
              "type": "string",
              "enum": [
                "admin",
                "manager",
                "teacher",
                "parent"
              ],
              "example": "teacher"
            },
            "description": "角色筛选（可选）"
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string",
              "enum": [
                "active",
                "inactive",
                "suspended"
              ],
              "example": "active"
            },
            "description": "用户状态筛选（可选）"
          },
          {
            "in": "query",
            "name": "keyword",
            "schema": {
              "type": "string",
              "example": "张老师"
            },
            "description": "搜索关键词（可选）"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取集团用户列表",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "items": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "userId": {
                                "type": "integer",
                                "example": 123,
                                "description": "用户ID"
                              },
                              "username": {
                                "type": "string",
                                "example": "teacher001",
                                "description": "用户名"
                              },
                              "realName": {
                                "type": "string",
                                "example": "张老师",
                                "description": "真实姓名"
                              },
                              "email": {
                                "type": "string",
                                "example": "zhang@kindergarten.com",
                                "description": "邮箱"
                              },
                              "phone": {
                                "type": "string",
                                "example": "13800138000",
                                "description": "手机号"
                              },
                              "role": {
                                "type": "string",
                                "enum": [
                                  "admin",
                                  "manager",
                                  "teacher",
                                  "parent"
                                ],
                                "example": "teacher",
                                "description": "集团角色"
                              },
                              "roleName": {
                                "type": "string",
                                "example": "教师",
                                "description": "角色名称"
                              },
                              "permissions": {
                                "type": "array",
                                "items": {
                                  "type": "string"
                                },
                                "example": [
                                  "group:read",
                                  "member:view"
                                ],
                                "description": "用户权限列表"
                              },
                              "status": {
                                "type": "string",
                                "enum": [
                                  "active",
                                  "inactive",
                                  "suspended"
                                ],
                                "example": "active",
                                "description": "用户状态"
                              },
                              "joinDate": {
                                "type": "string",
                                "format": "date-time",
                                "example": "2023-01-15T10:30:00Z",
                                "description": "加入集团时间"
                              },
                              "lastLoginAt": {
                                "type": "string",
                                "format": "date-time",
                                "example": "2023-12-01T09:15:00Z",
                                "description": "最后登录时间"
                              },
                              "kindergartenNames": {
                                "type": "array",
                                "items": {
                                  "type": "string"
                                },
                                "example": [
                                  "阳光幼儿园",
                                  "希望幼儿园"
                                ],
                                "description": "可访问的幼儿园列表"
                              }
                            }
                          }
                        },
                        "pagination": {
                          "type": "object",
                          "properties": {
                            "currentPage": {
                              "type": "integer",
                              "example": 1
                            },
                            "pageSize": {
                              "type": "integer",
                              "example": 20
                            },
                            "totalItems": {
                              "type": "integer",
                              "example": 85
                            },
                            "totalPages": {
                              "type": "integer",
                              "example": 5
                            }
                          }
                        },
                        "statistics": {
                          "type": "object",
                          "properties": {
                            "totalUsers": {
                              "type": "integer",
                              "example": 85
                            },
                            "activeUsers": {
                              "type": "integer",
                              "example": 78
                            },
                            "roleDistribution": {
                              "type": "object",
                              "properties": {
                                "admin": {
                                  "type": "integer",
                                  "example": 3
                                },
                                "manager": {
                                  "type": "integer",
                                  "example": 8
                                },
                                "teacher": {
                                  "type": "integer",
                                  "example": 45
                                },
                                "parent": {
                                  "type": "integer",
                                  "example": 29
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "description": "无权限查看该集团用户",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "无权限查看该集团用户"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/principal/dashboard-stats": {
      "get": {
        "tags": [
          "园长工作台"
        ],
        "summary": "获取园长仪表盘统计数据",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取统计数据成功",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "object",
                          "description": "仪表盘统计数据"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/principal/activities": {
      "get": {
        "tags": [
          "园长管理"
        ],
        "summary": "获取园长活动列表",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "description": "活动信息"
                          }
                        }
                      }
                    }
                  ],
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取活动列表成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "items": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "integer"
                              },
                              "title": {
                                "type": "string"
                              },
                              "description": {
                                "type": "string"
                              },
                              "activityType": {
                                "type": "integer"
                              },
                              "status": {
                                "type": "integer"
                              },
                              "startDate": {
                                "type": "string",
                                "format": "date"
                              },
                              "endDate": {
                                "type": "string",
                                "format": "date"
                              },
                              "location": {
                                "type": "string"
                              },
                              "maxParticipants": {
                                "type": "integer"
                              },
                              "currentParticipants": {
                                "type": "integer"
                              },
                              "createdAt": {
                                "type": "string",
                                "format": "date-time"
                              }
                            }
                          }
                        },
                        "total": {
                          "type": "integer",
                          "description": "总数量"
                        },
                        "page": {
                          "type": "integer",
                          "description": "当前页码"
                        },
                        "pageSize": {
                          "type": "integer",
                          "description": "每页数量"
                        },
                        "totalPages": {
                          "type": "integer",
                          "description": "总页数"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "description": "权限不足"
          },
          "500": {
            "description": "服务器内部错误"
          }
        },
        "description": "获取园长可查看的活动列表，包括筛选和分页功能",
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer",
              "default": 10
            },
            "description": "每页数量"
          },
          {
            "in": "query",
            "name": "keyword",
            "schema": {
              "type": "string"
            },
            "description": "搜索关键词"
          },
          {
            "in": "query",
            "name": "activityType",
            "schema": {
              "type": "integer"
            },
            "description": "活动类型"
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "integer"
            },
            "description": "活动状态"
          },
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "开始日期筛选"
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "结束日期筛选"
          },
          {
            "in": "query",
            "name": "sortBy",
            "schema": {
              "type": "string",
              "default": "created_at"
            },
            "description": "排序字段"
          },
          {
            "in": "query",
            "name": "sortOrder",
            "schema": {
              "type": "string",
              "enum": [
                "ASC",
                "DESC"
              ],
              "default": "DESC"
            },
            "description": "排序方向"
          }
        ]
      }
    },
    "/campus/overview": {
      "get": {
        "tags": [
          "校园管理"
        ],
        "summary": "获取校园概览信息",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取校园概览成功",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/CampusOverview"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/parents": {
      "post": {
        "tags": [
          "家长管理"
        ],
        "summary": "创建家长信息",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "name",
                  "phone",
                  "relationship"
                ],
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "家长姓名"
                  },
                  "phone": {
                    "type": "string",
                    "description": "联系电话"
                  },
                  "relationship": {
                    "type": "string",
                    "description": "与学生关系"
                  },
                  "studentId": {
                    "type": "integer",
                    "description": "关联学生ID"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "创建成功",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/Parent"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "403": {
            "description": "权限不足"
          },
          "500": {
            "description": "创建失败"
          }
        }
      }
    },
    "/parents/{id}": {
      "put": {
        "tags": [
          "家长管理"
        ],
        "summary": "更新家长信息",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "家长ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "家长姓名"
                  },
                  "phone": {
                    "type": "string",
                    "description": "联系电话"
                  },
                  "relationship": {
                    "type": "string",
                    "description": "与学生关系"
                  },
                  "studentId": {
                    "type": "integer",
                    "description": "关联学生ID"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新成功",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/Parent"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "403": {
            "description": "权限不足"
          },
          "500": {
            "description": "更新失败"
          }
        }
      },
      "delete": {
        "tags": [
          "家长管理"
        ],
        "summary": "删除家长信息",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "家长ID"
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "integer"
                            },
                            "deletedAt": {
                              "type": "string",
                              "format": "date-time"
                            }
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "403": {
            "description": "权限不足"
          },
          "500": {
            "description": "删除失败"
          }
        }
      }
    },
    "/applications": {
      "get": {
        "tags": [
          "申请管理"
        ],
        "summary": "获取申请列表",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer",
              "default": 10
            },
            "description": "每页数量"
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string",
              "enum": [
                "pending",
                "approved",
                "rejected"
              ]
            },
            "description": "申请状态"
          }
        ],
        "responses": {
          "200": {
            "description": "获取申请列表成功",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "object",
                          "properties": {
                            "total": {
                              "type": "integer",
                              "description": "总数量"
                            },
                            "items": {
                              "type": "array",
                              "items": {
                                "$ref": "#/components/schemas/Application"
                              }
                            },
                            "page": {
                              "type": "integer"
                            },
                            "pageSize": {
                              "type": "integer"
                            }
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/applications/{id}": {
      "get": {
        "tags": [
          "申请管理"
        ],
        "summary": "获取申请详情",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "申请ID"
          }
        ],
        "responses": {
          "200": {
            "description": "获取申请详情成功",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "allOf": [
                            {
                              "$ref": "#/components/schemas/Application"
                            },
                            {
                              "type": "object",
                              "properties": {
                                "documents": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "properties": {
                                      "type": {
                                        "type": "string"
                                      },
                                      "status": {
                                        "type": "string"
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          ]
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "404": {
            "description": "申请不存在"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/quotas": {
      "get": {
        "tags": [
          "申请管理"
        ],
        "summary": "获取招生名额列表",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer",
              "default": 10
            },
            "description": "每页数量"
          },
          {
            "in": "query",
            "name": "planId",
            "schema": {
              "type": "integer"
            },
            "description": "招生计划ID"
          }
        ],
        "responses": {
          "200": {
            "description": "获取招生名额列表成功",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "object",
                          "properties": {
                            "total": {
                              "type": "integer"
                            },
                            "items": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "properties": {
                                  "id": {
                                    "type": "integer"
                                  },
                                  "planId": {
                                    "type": "integer"
                                  },
                                  "classId": {
                                    "type": "integer"
                                  },
                                  "totalQuota": {
                                    "type": "integer"
                                  },
                                  "usedQuota": {
                                    "type": "integer"
                                  },
                                  "reservedQuota": {
                                    "type": "integer"
                                  },
                                  "availableQuota": {
                                    "type": "integer"
                                  },
                                  "class": {
                                    "type": "object",
                                    "properties": {
                                      "id": {
                                        "type": "integer"
                                      },
                                      "name": {
                                        "type": "string"
                                      },
                                      "grade": {
                                        "type": "string"
                                      }
                                    }
                                  }
                                }
                              }
                            },
                            "page": {
                              "type": "integer"
                            },
                            "pageSize": {
                              "type": "integer"
                            }
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/marketing/analysis": {
      "get": {
        "tags": [
          "营销分析"
        ],
        "summary": "获取营销分析数据",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "period",
            "schema": {
              "type": "string",
              "enum": [
                "week",
                "month",
                "quarter",
                "year"
              ],
              "default": "month"
            },
            "description": "分析周期"
          },
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "开始日期"
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "结束日期"
          }
        ],
        "responses": {
          "200": {
            "description": "获取营销分析数据成功",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/MarketingAnalysis"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/system/backups": {
      "get": {
        "tags": [
          "系统管理"
        ],
        "summary": "获取系统备份列表",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取备份列表",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取系统备份列表成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "total": {
                          "type": "integer",
                          "description": "备份文件总数"
                        },
                        "items": {
                          "type": "array",
                          "description": "备份文件列表"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          }
        }
      }
    },
    "/system/settings": {
      "get": {
        "tags": [
          "系统管理"
        ],
        "summary": "获取系统设置",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取系统设置",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取系统设置成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "siteName": {
                          "type": "string",
                          "description": "站点名称"
                        },
                        "version": {
                          "type": "string",
                          "description": "系统版本"
                        },
                        "timezone": {
                          "type": "string",
                          "description": "时区"
                        },
                        "language": {
                          "type": "string",
                          "description": "语言"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          }
        }
      },
      "put": {
        "summary": "更新系统设置",
        "description": "更新系统配置设置，包括会话超时、密码策略等",
        "tags": [
          "系统管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "group": {
                    "type": "string",
                    "description": "设置组名",
                    "example": "security"
                  },
                  "settings": {
                    "type": "object",
                    "description": "设置数据",
                    "properties": {
                      "sessionTimeout": {
                        "type": "number",
                        "description": "会话超时时间（分钟）"
                      },
                      "passwordComplexity": {
                        "type": "object",
                        "properties": {
                          "requireUppercase": {
                            "type": "boolean"
                          },
                          "requireLowercase": {
                            "type": "boolean"
                          },
                          "requireNumbers": {
                            "type": "boolean"
                          },
                          "requireSpecialChars": {
                            "type": "boolean"
                          }
                        }
                      },
                      "minPasswordLength": {
                        "type": "number",
                        "description": "最短密码长度"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          }
        }
      }
    },
    "/enrollment-statistics": {
      "get": {
        "tags": [
          "招生管理"
        ],
        "summary": "获取招生统计数据（别名）",
        "description": "路径别名，转发到 enrollment/stats",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取招生统计数据",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          }
        }
      }
    },
    "/principal/dashboard/overview": {
      "get": {
        "tags": [
          "园长工作台"
        ],
        "summary": "获取园长工作台概览",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取园长工作台概览",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取园长工作台概览成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "totalStudents": {
                          "type": "integer",
                          "description": "学生总数"
                        },
                        "totalTeachers": {
                          "type": "integer",
                          "description": "教师总数"
                        },
                        "totalClasses": {
                          "type": "integer",
                          "description": "班级总数"
                        },
                        "pendingApplications": {
                          "type": "integer",
                          "description": "待处理申请数"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          }
        }
      }
    },
    "/ai/memories/search": {
      "get": {
        "tags": [
          "AI管理"
        ],
        "summary": "搜索AI记忆",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "keyword",
            "schema": {
              "type": "string"
            },
            "description": "搜索关键词"
          },
          {
            "in": "query",
            "name": "userId",
            "schema": {
              "type": "string"
            },
            "description": "用户ID"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 10
            },
            "description": "返回结果数量限制"
          }
        ],
        "responses": {
          "200": {
            "description": "成功搜索AI记忆",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "搜索AI记忆成功"
                    },
                    "data": {
                      "type": "array",
                      "description": "搜索结果列表"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          }
        }
      }
    },
    "/activity-evaluations/summary/{id}": {
      "get": {
        "tags": [
          "活动管理"
        ],
        "summary": "获取活动评估摘要",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "活动ID"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取评估摘要",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取评估摘要成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "activityId": {
                          "type": "integer",
                          "description": "活动ID"
                        },
                        "overallRating": {
                          "type": "number",
                          "description": "总体评分"
                        },
                        "totalEvaluations": {
                          "type": "integer",
                          "description": "评估总数"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          }
        }
      }
    },
    "/activity-resources/availability": {
      "get": {
        "tags": [
          "活动管理"
        ],
        "summary": "获取活动资源可用性",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "date",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "查询日期"
          },
          {
            "in": "query",
            "name": "type",
            "schema": {
              "type": "string"
            },
            "description": "资源类型"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取资源可用性",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取资源可用性成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "availableResources": {
                          "type": "array",
                          "description": "可用资源列表"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          }
        }
      }
    },
    "/activity-analytics/participation": {
      "get": {
        "tags": [
          "活动管理"
        ],
        "summary": "获取活动参与度分析",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "period",
            "schema": {
              "type": "string"
            },
            "description": "统计周期"
          },
          {
            "in": "query",
            "name": "year",
            "schema": {
              "type": "string"
            },
            "description": "年份"
          },
          {
            "in": "query",
            "name": "month",
            "schema": {
              "type": "string"
            },
            "description": "月份"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取参与度分析",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取参与度分析成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "totalActivities": {
                          "type": "integer",
                          "description": "活动总数"
                        },
                        "averageParticipation": {
                          "type": "number",
                          "description": "平均参与率"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          }
        }
      }
    },
    "/activity-analytics/effectiveness": {
      "get": {
        "tags": [
          "活动管理"
        ],
        "summary": "获取活动效果分析",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "activityType",
            "schema": {
              "type": "string"
            },
            "description": "活动类型"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取活动效果分析",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取活动效果分析成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "activityType": {
                          "type": "string",
                          "description": "活动类型"
                        },
                        "effectiveness": {
                          "type": "object",
                          "description": "效果评分"
                        },
                        "improvements": {
                          "type": "array",
                          "description": "改进建议"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          }
        }
      }
    },
    "/api/inspection-ai/document-analysis": {
      "post": {
        "summary": "文档AI分析",
        "description": "使用AI分析督查文档的完整性和质量，提供填写建议",
        "tags": [
          "督查中心AI"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "documentId": {
                    "type": "string",
                    "description": "文档实例ID"
                  },
                  "documentTitle": {
                    "type": "string",
                    "description": "文档标题"
                  },
                  "templateType": {
                    "type": "string",
                    "description": "模板类型"
                  },
                  "currentContent": {
                    "type": "string",
                    "description": "当前文档内容"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "分析成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "analysis": {
                          "type": "object",
                          "properties": {
                            "completeness": {
                              "type": "object",
                              "properties": {
                                "score": {
                                  "type": "number"
                                },
                                "description": {
                                  "type": "string"
                                }
                              }
                            },
                            "quality": {
                              "type": "object",
                              "properties": {
                                "score": {
                                  "type": "number"
                                },
                                "description": {
                                  "type": "string"
                                }
                              }
                            },
                            "missingContent": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "suggestions": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "warnings": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "summary": {
                              "type": "string"
                            }
                          }
                        },
                        "modelUsed": {
                          "type": "string"
                        },
                        "documentInfo": {
                          "type": "object"
                        }
                      }
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "500": {
            "description": "分析失败"
          }
        }
      }
    },
    "/api/inspection-ai/plan-analysis": {
      "post": {
        "summary": "检查计划AI分析",
        "description": "使用AI分析年度检查计划的合理性，提供优化建议",
        "tags": [
          "督查中心AI"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "year": {
                    "type": "number",
                    "description": "年度"
                  },
                  "plans": {
                    "type": "array",
                    "description": "检查计划列表",
                    "items": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "分析成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "analysis": {
                          "type": "object",
                          "properties": {
                            "timeDistribution": {
                              "type": "object",
                              "properties": {
                                "score": {
                                  "type": "number"
                                },
                                "description": {
                                  "type": "string"
                                }
                              }
                            },
                            "frequency": {
                              "type": "object",
                              "properties": {
                                "score": {
                                  "type": "number"
                                },
                                "description": {
                                  "type": "string"
                                }
                              }
                            },
                            "resourceAllocation": {
                              "type": "object",
                              "properties": {
                                "score": {
                                  "type": "number"
                                },
                                "description": {
                                  "type": "string"
                                }
                              }
                            },
                            "risks": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "recommendations": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "summary": {
                              "type": "string"
                            }
                          }
                        },
                        "statistics": {
                          "type": "object"
                        },
                        "modelUsed": {
                          "type": "string"
                        },
                        "planCount": {
                          "type": "number"
                        }
                      }
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "500": {
            "description": "分析失败"
          }
        }
      }
    },
    "/api/inspection-records": {
      "get": {
        "summary": "获取检查记录列表",
        "tags": [
          "检查记录"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "inspectionPlanId",
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "grade",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "成功"
          }
        }
      },
      "post": {
        "summary": "创建检查记录",
        "tags": [
          "检查记录"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "inspectionPlanId",
                  "checkDate"
                ],
                "properties": {
                  "inspectionPlanId": {
                    "type": "integer"
                  },
                  "checkDate": {
                    "type": "string",
                    "format": "date"
                  },
                  "checkerName": {
                    "type": "string"
                  },
                  "totalScore": {
                    "type": "number"
                  },
                  "grade": {
                    "type": "string"
                  },
                  "summary": {
                    "type": "string"
                  },
                  "suggestions": {
                    "type": "string"
                  },
                  "items": {
                    "type": "array",
                    "items": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "创建成功"
          }
        }
      }
    },
    "/api/inspection-records/{id}": {
      "get": {
        "summary": "获取检查记录详情",
        "tags": [
          "检查记录"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "成功"
          }
        }
      },
      "put": {
        "summary": "更新检查记录",
        "tags": [
          "检查记录"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新成功"
          }
        }
      },
      "delete": {
        "summary": "删除检查记录",
        "tags": [
          "检查记录"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功"
          }
        }
      }
    },
    "/api/inspection-records/plan/{planId}": {
      "get": {
        "summary": "获取检查计划的所有记录",
        "tags": [
          "检查记录"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "planId",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "成功"
          }
        }
      }
    },
    "/api/inspection-rectifications": {
      "get": {
        "summary": "获取整改任务列表",
        "tags": [
          "整改管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "inspectionPlanId",
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string",
              "enum": [
                "pending",
                "in_progress",
                "completed",
                "verified",
                "rejected"
              ]
            }
          },
          {
            "in": "query",
            "name": "responsiblePersonId",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "成功"
          }
        }
      },
      "post": {
        "summary": "创建整改任务",
        "tags": [
          "整改管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "inspectionPlanId",
                  "problemDescription"
                ],
                "properties": {
                  "inspectionPlanId": {
                    "type": "integer"
                  },
                  "recordId": {
                    "type": "integer"
                  },
                  "recordItemId": {
                    "type": "integer"
                  },
                  "problemDescription": {
                    "type": "string"
                  },
                  "problemSeverity": {
                    "type": "string",
                    "enum": [
                      "low",
                      "medium",
                      "high",
                      "urgent"
                    ]
                  },
                  "rectificationMeasures": {
                    "type": "string"
                  },
                  "responsiblePersonId": {
                    "type": "integer"
                  },
                  "responsiblePersonName": {
                    "type": "string"
                  },
                  "deadline": {
                    "type": "string",
                    "format": "date"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "创建成功"
          }
        }
      }
    },
    "/api/inspection-rectifications/{id}": {
      "get": {
        "summary": "获取整改任务详情",
        "tags": [
          "整改管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "成功"
          }
        }
      },
      "put": {
        "summary": "更新整改任务",
        "tags": [
          "整改管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新成功"
          }
        }
      },
      "delete": {
        "summary": "删除整改任务",
        "tags": [
          "整改管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功"
          }
        }
      }
    },
    "/api/inspection-rectifications/plan/{planId}": {
      "get": {
        "summary": "获取检查计划的整改任务",
        "tags": [
          "整改管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "planId",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "成功"
          }
        }
      }
    },
    "/api/inspection-rectifications/{id}/complete": {
      "post": {
        "summary": "完成整改",
        "tags": [
          "整改管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "completionDescription": {
                    "type": "string"
                  },
                  "completionPhotos": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "完成成功"
          }
        }
      }
    },
    "/api/inspection-rectifications/{id}/verify": {
      "post": {
        "summary": "验收整改",
        "tags": [
          "整改管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "verificationStatus"
                ],
                "properties": {
                  "verificationStatus": {
                    "type": "string",
                    "enum": [
                      "pass",
                      "fail"
                    ]
                  },
                  "verificationResult": {
                    "type": "string"
                  },
                  "verifierName": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "验收完成"
          }
        }
      }
    },
    "/api/inspection-rectifications/{id}/progress": {
      "post": {
        "summary": "添加进度日志",
        "tags": [
          "整改管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "progress"
                ],
                "properties": {
                  "progress": {
                    "type": "integer",
                    "minimum": 0,
                    "maximum": 100
                  },
                  "description": {
                    "type": "string"
                  },
                  "photos": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "operatorName": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "添加成功"
          }
        }
      },
      "get": {
        "summary": "获取进度日志",
        "tags": [
          "整改管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "成功"
          }
        }
      }
    },
    "/api/inspection/types": {
      "get": {
        "summary": "获取检查类型列表",
        "description": "获取所有检查类型的列表",
        "tags": [
          "巡检管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer",
              "default": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      },
      "post": {
        "summary": "创建检查类型",
        "description": "创建新的检查类型",
        "tags": [
          "巡检管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "name"
                ],
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "检查类型名称"
                  },
                  "description": {
                    "type": "string",
                    "description": "描述"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "active",
                      "inactive"
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "创建成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/inspection/types/active": {
      "get": {
        "summary": "获取启用的检查类型",
        "description": "获取所有启用状态的检查类型，用于下拉选择",
        "tags": [
          "巡检管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/inspection/types/{id}": {
      "get": {
        "summary": "获取检查类型详情",
        "description": "获取指定检查类型的详细信息",
        "tags": [
          "巡检管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      },
      "put": {
        "summary": "更新检查类型",
        "description": "更新指定的检查类型",
        "tags": [
          "巡检管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "active",
                      "inactive"
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      },
      "delete": {
        "summary": "删除检查类型",
        "description": "删除指定的检查类型",
        "tags": [
          "巡检管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/inspection/types/batch-delete": {
      "post": {
        "summary": "批量删除检查类型",
        "description": "批量删除多个检查类型",
        "tags": [
          "巡检管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "ids"
                ],
                "properties": {
                  "ids": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "批量删除成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/inspection/plans": {
      "get": {
        "summary": "获取检查计划列表",
        "description": "获取所有检查计划的列表",
        "tags": [
          "巡检管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer",
              "default": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      },
      "post": {
        "summary": "创建检查计划",
        "description": "创建新的检查计划",
        "tags": [
          "巡检管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "name",
                  "typeId",
                  "startDate"
                ],
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "typeId": {
                    "type": "string"
                  },
                  "startDate": {
                    "type": "string",
                    "format": "date"
                  },
                  "endDate": {
                    "type": "string",
                    "format": "date"
                  },
                  "description": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "创建成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/inspection/plans/timeline": {
      "get": {
        "summary": "获取Timeline数据",
        "description": "获取检查计划的时间线数据",
        "tags": [
          "巡检管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/inspection/plans/{id}": {
      "get": {
        "summary": "获取检查计划详情",
        "description": "获取指定检查计划的详细信息",
        "tags": [
          "巡检管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      },
      "put": {
        "summary": "更新检查计划",
        "description": "更新指定的检查计划",
        "tags": [
          "巡检管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "typeId": {
                    "type": "string"
                  },
                  "startDate": {
                    "type": "string",
                    "format": "date"
                  },
                  "endDate": {
                    "type": "string",
                    "format": "date"
                  },
                  "description": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      },
      "delete": {
        "summary": "删除检查计划",
        "description": "删除指定的检查计划",
        "tags": [
          "巡检管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/inspection/plans/generate-yearly": {
      "post": {
        "summary": "自动生成年度检查计划",
        "description": "根据配置自动生成年度检查计划",
        "tags": [
          "巡检管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "year"
                ],
                "properties": {
                  "year": {
                    "type": "integer",
                    "description": "年份"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "生成成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/inspection/plans/{id}/tasks": {
      "get": {
        "summary": "获取检查计划的任务列表",
        "description": "获取指定检查计划的所有任务",
        "tags": [
          "巡检管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "检查计划ID"
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer",
              "default": 10
            }
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string",
              "enum": [
                "pending",
                "in_progress",
                "completed",
                "cancelled"
              ]
            }
          },
          {
            "in": "query",
            "name": "priority",
            "schema": {
              "type": "string",
              "enum": [
                "low",
                "medium",
                "high",
                "urgent"
              ]
            }
          },
          {
            "in": "query",
            "name": "assignedTo",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      },
      "post": {
        "summary": "创建检查任务",
        "description": "为指定检查计划创建新任务",
        "tags": [
          "巡检管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "检查计划ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "title"
                ],
                "properties": {
                  "title": {
                    "type": "string",
                    "description": "任务标题"
                  },
                  "description": {
                    "type": "string",
                    "description": "任务描述"
                  },
                  "assignedTo": {
                    "type": "integer",
                    "description": "分配给的用户ID"
                  },
                  "priority": {
                    "type": "string",
                    "enum": [
                      "low",
                      "medium",
                      "high",
                      "urgent"
                    ],
                    "default": "medium"
                  },
                  "dueDate": {
                    "type": "string",
                    "format": "date",
                    "description": "截止日期"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "创建成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/inspection/plans/{id}/tasks/{taskId}": {
      "put": {
        "summary": "更新检查任务",
        "description": "更新指定的检查任务",
        "tags": [
          "巡检管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "检查计划ID"
          },
          {
            "in": "path",
            "name": "taskId",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "任务ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "title": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  },
                  "assignedTo": {
                    "type": "integer"
                  },
                  "priority": {
                    "type": "string",
                    "enum": [
                      "low",
                      "medium",
                      "high",
                      "urgent"
                    ]
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "pending",
                      "in_progress",
                      "completed",
                      "cancelled"
                    ]
                  },
                  "progress": {
                    "type": "integer",
                    "minimum": 0,
                    "maximum": 100
                  },
                  "dueDate": {
                    "type": "string",
                    "format": "date"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      },
      "delete": {
        "summary": "删除检查任务",
        "description": "删除指定的检查任务",
        "tags": [
          "巡检管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "检查计划ID"
          },
          {
            "in": "path",
            "name": "taskId",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "任务ID"
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/kindergarten/basic-info": {
      "get": {
        "summary": "获取幼儿园基本资料",
        "tags": [
          "幼儿园基本资料"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取基本资料",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer"
                        },
                        "name": {
                          "type": "string",
                          "description": "幼儿园名称"
                        },
                        "description": {
                          "type": "string",
                          "description": "园区介绍"
                        },
                        "studentCount": {
                          "type": "integer",
                          "description": "学生人数"
                        },
                        "teacherCount": {
                          "type": "integer",
                          "description": "教师人数"
                        },
                        "classCount": {
                          "type": "integer",
                          "description": "班级数量"
                        },
                        "logoUrl": {
                          "type": "string",
                          "description": "logo图片URL"
                        },
                        "coverImages": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          },
                          "description": "园区配图URLs"
                        },
                        "contactPerson": {
                          "type": "string",
                          "description": "联系人"
                        },
                        "consultationPhone": {
                          "type": "string",
                          "description": "咨询电话"
                        },
                        "address": {
                          "type": "string",
                          "description": "园区地址"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "put": {
        "summary": "更新幼儿园基本资料",
        "tags": [
          "幼儿园基本资料"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "幼儿园名称"
                  },
                  "description": {
                    "type": "string",
                    "description": "园区介绍"
                  },
                  "studentCount": {
                    "type": "integer",
                    "description": "学生人数"
                  },
                  "teacherCount": {
                    "type": "integer",
                    "description": "教师人数"
                  },
                  "classCount": {
                    "type": "integer",
                    "description": "班级数量"
                  },
                  "logoUrl": {
                    "type": "string",
                    "description": "logo图片URL"
                  },
                  "coverImages": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "园区配图URLs"
                  },
                  "contactPerson": {
                    "type": "string",
                    "description": "联系人"
                  },
                  "consultationPhone": {
                    "type": "string",
                    "description": "咨询电话"
                  },
                  "address": {
                    "type": "string",
                    "description": "园区地址"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新成功"
          }
        }
      }
    },
    "/api/kindergarten/upload-image": {
      "post": {
        "summary": "上传单张图片（logo）",
        "tags": [
          "幼儿园基本资料"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "image": {
                    "type": "string",
                    "format": "binary",
                    "description": "图片文件"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "上传成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "url": {
                          "type": "string",
                          "description": "图片URL"
                        },
                        "filename": {
                          "type": "string",
                          "description": "文件名"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/kindergarten/upload-images": {
      "post": {
        "summary": "上传多张图片（园区配图）",
        "tags": [
          "幼儿园基本资料"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "images": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "format": "binary"
                    },
                    "description": "图片文件数组（最多10张）"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "上传成功"
          }
        }
      }
    },
    "/kindergarten/completeness": {
      "get": {
        "summary": "获取幼儿园信息完整度",
        "description": "获取当前幼儿园的信息完整度统计数据",
        "tags": [
          "幼儿园管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取完整度数据成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "completeness": {
                          "type": "number",
                          "description": "完整度百分比"
                        },
                        "totalFields": {
                          "type": "integer",
                          "description": "总字段数"
                        },
                        "filledFields": {
                          "type": "integer",
                          "description": "已填字段数"
                        },
                        "missingFields": {
                          "type": "integer",
                          "description": "缺失字段数"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未认证"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/kindergarten/missing-fields": {
      "get": {
        "summary": "获取缺失字段列表",
        "description": "获取当前幼儿园缺失或未填写的字段清单",
        "tags": [
          "幼儿园管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取缺失字段成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "requiredFields": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "fieldName": {
                                "type": "string"
                              },
                              "fieldLabel": {
                                "type": "string"
                              },
                              "priority": {
                                "type": "string"
                              }
                            }
                          },
                          "description": "必填缺失字段"
                        },
                        "recommendedFields": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "fieldName": {
                                "type": "string"
                              },
                              "fieldLabel": {
                                "type": "string"
                              },
                              "priority": {
                                "type": "string"
                              }
                            }
                          },
                          "description": "推荐填写字段"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未认证"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/kindergarten/base-info/batch": {
      "put": {
        "summary": "批量更新基础信息",
        "description": "批量更新幼儿园的基础信息数据",
        "tags": [
          "幼儿园管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "fields": {
                    "type": "object",
                    "description": "要更新的字段键值对"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "更新成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "updatedCount": {
                          "type": "integer",
                          "description": "更新的字段数量"
                        },
                        "completeness": {
                          "type": "number",
                          "description": "更新后的完整度"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未认证"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/kindergarten/calculate-completeness": {
      "post": {
        "summary": "计算信息完整度",
        "description": "手动触发重新计算并更新幼儿园信息完整度",
        "tags": [
          "幼儿园管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "计算完成",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "完整度计算完成"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "previousCompleteness": {
                          "type": "number",
                          "description": "计算前完整度"
                        },
                        "currentCompleteness": {
                          "type": "number",
                          "description": "计算后完整度"
                        },
                        "improvement": {
                          "type": "number",
                          "description": "提升百分点"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未认证"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/kindergarten/field-config": {
      "get": {
        "summary": "获取字段配置",
        "description": "获取幼儿园信息字段的配置规则（必填/推荐/可选）",
        "tags": [
          "幼儿园管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取配置成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "fieldGroups": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "groupName": {
                                "type": "string"
                              },
                              "fields": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "properties": {
                                    "name": {
                                      "type": "string"
                                    },
                                    "label": {
                                      "type": "string"
                                    },
                                    "type": {
                                      "type": "string"
                                    },
                                    "required": {
                                      "type": "boolean"
                                    },
                                    "priority": {
                                      "type": "string"
                                    },
                                    "description": {
                                      "type": "string"
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未认证"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/kindergarten": {
      "post": {
        "summary": "创建幼儿园",
        "description": "创建新的幼儿园记录，需要幼儿园管理权限",
        "tags": [
          "Kindergarten Management"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/KindergartenCreateRequest"
              },
              "examples": {
                "basic": {
                  "summary": "基本幼儿园信息",
                  "value": {
                    "name": "阳光幼儿园",
                    "address": "北京市朝阳区阳光街道123号",
                    "phone": "010-12345678",
                    "email": "sunshine@kindergarten.com",
                    "principal_id": 5,
                    "capacity": 200,
                    "description": "专注于儿童全面发展的优质幼儿园",
                    "established_date": "2020-01-01",
                    "status": "active"
                  }
                },
                "minimal": {
                  "summary": "最小必填信息",
                  "value": {
                    "name": "希望幼儿园",
                    "address": "上海市浦东新区希望路456号",
                    "principal_id": 8
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "幼儿园创建成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "幼儿园创建成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/Kindergarten"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "examples": {
                  "missing_required": {
                    "summary": "缺少必填字段",
                    "value": {
                      "success": false,
                      "message": "缺少必填字段",
                      "errors": [
                        "幼儿园名称不能为空",
                        "地址不能为空",
                        "园长ID不能为空"
                      ]
                    }
                  },
                  "invalid_email": {
                    "summary": "邮箱格式错误",
                    "value": {
                      "success": false,
                      "message": "邮箱格式不正确"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "409": {
            "description": "数据冲突",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "message": "幼儿园名称已存在"
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      },
      "get": {
        "summary": "获取幼儿园列表",
        "description": "获取所有幼儿园的列表，支持分页和筛选，需要幼儿园管理权限",
        "tags": [
          "Kindergarten Management"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            },
            "description": "页码",
            "example": 1
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 10
            },
            "description": "每页数量",
            "example": 10
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string",
              "enum": [
                "active",
                "inactive",
                "pending"
              ]
            },
            "description": "按状态筛选",
            "example": "active"
          },
          {
            "in": "query",
            "name": "search",
            "schema": {
              "type": "string"
            },
            "description": "搜索关键词（匹配幼儿园名称）",
            "example": "阳光"
          },
          {
            "in": "query",
            "name": "principal_id",
            "schema": {
              "type": "integer"
            },
            "description": "按园长ID筛选",
            "example": 5
          }
        ],
        "responses": {
          "200": {
            "description": "幼儿园列表获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "幼儿园列表获取成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "kindergartens": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/Kindergarten"
                          }
                        },
                        "pagination": {
                          "type": "object",
                          "properties": {
                            "current_page": {
                              "type": "integer",
                              "example": 1
                            },
                            "total_pages": {
                              "type": "integer",
                              "example": 5
                            },
                            "total_count": {
                              "type": "integer",
                              "example": 42
                            },
                            "limit": {
                              "type": "integer",
                              "example": 10
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/kindergarten/{id}": {
      "get": {
        "summary": "获取单个幼儿园详情",
        "description": "根据ID获取特定幼儿园的详细信息，需要幼儿园管理权限",
        "tags": [
          "Kindergarten Management"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "description": "幼儿园ID",
            "example": 1
          }
        ],
        "responses": {
          "200": {
            "description": "幼儿园详情获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "幼儿园详情获取成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/Kindergarten"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "message": "无效的幼儿园ID"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "description": "幼儿园未找到",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "message": "幼儿园不存在"
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      },
      "put": {
        "summary": "更新幼儿园信息",
        "description": "更新指定幼儿园的信息，需要幼儿园管理权限",
        "tags": [
          "幼儿园管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "description": "幼儿园ID",
            "example": 1
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/KindergartenInput"
              },
              "examples": {
                "partial_update": {
                  "summary": "部分字段更新",
                  "value": {
                    "name": "新阳光幼儿园",
                    "phone": "010-87654321",
                    "capacity": 250
                  }
                },
                "status_update": {
                  "summary": "状态更新",
                  "value": {
                    "status": "inactive"
                  }
                },
                "full_update": {
                  "summary": "完整信息更新",
                  "value": {
                    "name": "更新后的幼儿园",
                    "address": "北京市海淀区新地址789号",
                    "phone": "010-99999999",
                    "email": "new@kindergarten.com",
                    "capacity": 300,
                    "description": "更新后的幼儿园描述",
                    "status": "active"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "幼儿园更新成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "幼儿园信息更新成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/Kindergarten"
                    }
                  },
                  "$ref": "#/components/schemas/KindergartenResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "examples": {
                  "invalid_id": {
                    "summary": "无效ID",
                    "value": {
                      "success": false,
                      "message": "无效的幼儿园ID"
                    }
                  },
                  "invalid_data": {
                    "summary": "数据验证失败",
                    "value": {
                      "success": false,
                      "message": "数据验证失败",
                      "errors": [
                        "邮箱格式不正确",
                        "容量必须大于0"
                      ]
                    }
                  }
                }
              }
            },
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "description": "幼儿园未找到",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "message": "幼儿园不存在"
                }
              }
            },
            "$ref": "#/components/responses/NotFound"
          },
          "409": {
            "description": "数据冲突",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "message": "幼儿园名称已存在"
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      },
      "delete": {
        "summary": "删除幼儿园",
        "description": "删除指定的幼儿园记录，需要幼儿园管理权限",
        "tags": [
          "幼儿园管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "description": "幼儿园ID",
            "example": 1
          }
        ],
        "responses": {
          "200": {
            "description": "幼儿园删除成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "幼儿园删除成功"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "删除失败，存在关联数据",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse",
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "无法删除，该幼儿园仍有教师"
                    }
                  }
                },
                "example": {
                  "success": false,
                  "message": "无效的幼儿园ID"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "description": "幼儿园未找到",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "message": "幼儿园不存在"
                }
              }
            },
            "$ref": "#/components/responses/NotFound"
          },
          "409": {
            "description": "删除冲突",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "examples": {
                  "has_students": {
                    "summary": "存在关联学生",
                    "value": {
                      "success": false,
                      "message": "无法删除，该幼儿园仍有学生"
                    }
                  },
                  "has_teachers": {
                    "summary": "存在关联教师",
                    "value": {
                      "success": false,
                      "message": "无法删除，该幼儿园仍有教师"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/kindergartens": {
      "get": {
        "summary": "获取kindergartens列表",
        "tags": [
          "Kindergarten"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      },
      "post": {
        "summary": "创建kindergartens",
        "tags": [
          "Kindergarten"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "201": {
            "description": "创建成功"
          }
        }
      }
    },
    "/api/kindergartens/{id}": {
      "get": {
        "summary": "获取kindergartens详情",
        "tags": [
          "Kindergarten"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      },
      "put": {
        "summary": "更新kindergartens",
        "tags": [
          "Kindergarten"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "更新成功"
          }
        }
      },
      "delete": {
        "summary": "删除kindergartens",
        "tags": [
          "Kindergarten"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功"
          }
        }
      }
    },
    "/api/like-collect-config": {
      "get": {
        "summary": "获取like_collect_config列表",
        "tags": [
          "LikeCollectConfig"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      },
      "post": {
        "summary": "创建like_collect_config",
        "tags": [
          "LikeCollectConfig"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "201": {
            "description": "创建成功"
          }
        }
      }
    },
    "/api/like-collect-config/{id}": {
      "get": {
        "summary": "获取like_collect_config详情",
        "tags": [
          "LikeCollectConfig"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      },
      "put": {
        "summary": "更新like_collect_config",
        "tags": [
          "LikeCollectConfig"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "更新成功"
          }
        }
      },
      "delete": {
        "summary": "删除like_collect_config",
        "tags": [
          "LikeCollectConfig"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功"
          }
        }
      }
    },
    "/api/like-collect-records": {
      "get": {
        "summary": "获取like_collect_records列表",
        "tags": [
          "LikeCollectRecord"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      },
      "post": {
        "summary": "创建like_collect_records",
        "tags": [
          "LikeCollectRecord"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "201": {
            "description": "创建成功"
          }
        }
      }
    },
    "/api/like-collect-records/{id}": {
      "get": {
        "summary": "获取like_collect_records详情",
        "tags": [
          "LikeCollectRecord"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      },
      "put": {
        "summary": "更新like_collect_records",
        "tags": [
          "LikeCollectRecord"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "更新成功"
          }
        }
      },
      "delete": {
        "summary": "删除like_collect_records",
        "tags": [
          "LikeCollectRecord"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功"
          }
        }
      }
    },
    "/api/marketing-campaigns/by-type/{type}": {
      "get": {
        "summary": "按类型获取营销活动",
        "tags": [
          "MarketingCampaigns"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "type",
            "required": true,
            "schema": {
              "type": "string",
              "enum": [
                "online",
                "offline",
                "hybrid"
              ]
            },
            "description": "活动类型"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "type": {
                          "type": "string"
                        },
                        "items": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/MarketingCampaign"
                          }
                        },
                        "total": {
                          "type": "integer"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/marketing-campaigns/by-status/{status}": {
      "get": {
        "summary": "按状态获取营销活动",
        "tags": [
          "MarketingCampaigns"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "status",
            "required": true,
            "schema": {
              "type": "string",
              "enum": [
                "draft",
                "active",
                "paused",
                "ended"
              ]
            },
            "description": "活动状态"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "status": {
                          "type": "string"
                        },
                        "items": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/MarketingCampaign"
                          }
                        },
                        "total": {
                          "type": "integer"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/marketing-campaigns/{id}/roi": {
      "get": {
        "summary": "获取营销活动ROI",
        "tags": [
          "MarketingCampaigns"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "营销活动ID"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "$ref": "#/components/schemas/MarketingCampaignROI"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "营销活动不存在"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/marketing-campaigns/{id}/performance": {
      "get": {
        "summary": "获取营销活动效果分析",
        "tags": [
          "MarketingCampaigns"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "营销活动ID"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "404": {
            "description": "营销活动不存在"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/marketing-campaigns/{id}/launch": {
      "post": {
        "summary": "启动营销活动（POST方式）",
        "tags": [
          "MarketingCampaigns"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "营销活动ID"
          }
        ],
        "responses": {
          "200": {
            "description": "启动成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer"
                        },
                        "status": {
                          "type": "string",
                          "enum": [
                            "active"
                          ]
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "营销活动不存在"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      },
      "put": {
        "summary": "启动营销活动（PUT方式，保持兼容性）",
        "tags": [
          "MarketingCampaigns"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "营销活动ID"
          }
        ],
        "responses": {
          "200": {
            "description": "启动成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "404": {
            "description": "营销活动不存在"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/marketing-campaigns/{id}/pause": {
      "post": {
        "summary": "暂停营销活动（POST方式）",
        "tags": [
          "MarketingCampaigns"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "营销活动ID"
          }
        ],
        "responses": {
          "200": {
            "description": "暂停成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer"
                        },
                        "status": {
                          "type": "string",
                          "enum": [
                            "paused"
                          ]
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "营销活动不存在"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      },
      "put": {
        "summary": "暂停营销活动（PUT方式，保持兼容性）",
        "tags": [
          "MarketingCampaigns"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "营销活动ID"
          }
        ],
        "responses": {
          "200": {
            "description": "暂停成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "404": {
            "description": "营销活动不存在"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/marketing-campaigns": {
      "get": {
        "summary": "获取营销活动列表",
        "tags": [
          "Marketing Campaigns"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 20
            },
            "description": "每页数量"
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string",
              "enum": [
                "draft",
                "active",
                "paused",
                "completed",
                "cancelled"
              ]
            },
            "description": "按状态筛选"
          },
          {
            "in": "query",
            "name": "type",
            "schema": {
              "type": "string",
              "enum": [
                "enrollment",
                "promotion",
                "event",
                "referral",
                "brand"
              ]
            },
            "description": "按类型筛选"
          },
          {
            "in": "query",
            "name": "manager_id",
            "schema": {
              "type": "integer"
            },
            "description": "按负责人筛选"
          },
          {
            "in": "query",
            "name": "keyword",
            "schema": {
              "type": "string"
            },
            "description": "关键词搜索（名称、描述）"
          },
          {
            "in": "query",
            "name": "sort_by",
            "schema": {
              "type": "string",
              "enum": [
                "created_at",
                "start_date",
                "budget",
                "roi"
              ],
              "default": "created_at"
            },
            "description": "排序字段"
          },
          {
            "in": "query",
            "name": "sort_order",
            "schema": {
              "type": "string",
              "enum": [
                "asc",
                "desc"
              ],
              "default": "desc"
            },
            "description": "排序顺序"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取营销活动列表",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取营销活动列表成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "items": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/MarketingCampaign"
                          }
                        },
                        "total": {
                          "type": "integer",
                          "example": 25
                        },
                        "page": {
                          "type": "integer",
                          "example": 1
                        },
                        "limit": {
                          "type": "integer"
                        },
                        "list": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/MarketingCampaign"
                          }
                        },
                        "pageSize": {
                          "type": "integer",
                          "example": 20
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "500": {
            "description": "服务器错误",
            "$ref": "#/components/responses/InternalServerError"
          }
        },
        "description": "分页获取营销活动列表，支持多种筛选和排序条件"
      },
      "post": {
        "summary": "创建营销活动",
        "tags": [
          "Marketing Campaigns"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateCampaignRequest"
              },
              "example": {
                "name": "秋季招生优惠活动",
                "description": "针对新生的秋季招生优惠政策",
                "type": "enrollment",
                "start_date": "2024-09-01T00:00:00Z",
                "end_date": "2024-09-30T23:59:59Z",
                "budget": 60000,
                "target_audience": "3-5岁幼儿家长",
                "channels": [
                  "微信公众号",
                  "社区推广"
                ],
                "expected_leads": 200,
                "manager_id": 456,
                "tags": [
                  "招生",
                  "秋季",
                  "优惠"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "成功创建营销活动",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "创建营销活动成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/MarketingCampaign"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "500": {
            "description": "服务器错误",
            "$ref": "#/components/responses/InternalServerError"
          }
        },
        "description": "创建一个新的营销活动，自动分配创建者和时间戳"
      }
    },
    "/api/marketing-campaigns/{id}": {
      "get": {
        "summary": "获取营销活动详情",
        "tags": [
          "Marketing Campaigns"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "活动ID",
            "example": 1
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取营销活动详情",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取营销活动详情成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/MarketingCampaign"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "404": {
            "description": "营销活动不存在",
            "$ref": "#/components/responses/NotFound"
          },
          "500": {
            "description": "服务器错误",
            "$ref": "#/components/responses/InternalServerError"
          }
        },
        "description": "根据活动ID获取特定营销活动的详细信息"
      },
      "put": {
        "summary": "更新营销活动",
        "tags": [
          "Marketing Campaigns"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "活动ID",
            "example": 1
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateCampaignRequest"
              },
              "example": {
                "status": "completed",
                "actual_cost": 55000,
                "actual_leads": 186,
                "conversion_rate": 28.5,
                "roi": 4.2
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "成功更新营销活动",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "更新营销活动成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/MarketingCampaign"
                    }
                  },
                  "$ref": "#/components/schemas/MarketingCampaignResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "description": "营销活动不存在",
            "$ref": "#/components/responses/NotFound"
          },
          "500": {
            "description": "服务器错误",
            "$ref": "#/components/responses/InternalServerError"
          }
        },
        "description": "根据活动ID更新营销活动的详细信息，支持部分更新"
      },
      "delete": {
        "summary": "删除营销活动",
        "tags": [
          "Marketing Campaigns"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "活动ID",
            "example": 1
          }
        ],
        "responses": {
          "200": {
            "description": "成功删除营销活动",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse",
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "nullable": true
                    },
                    "message": {
                      "type": "string",
                      "example": "删除营销活动成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "description": "活动正在进行中，无法删除",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string",
                          "example": "FORBIDDEN"
                        },
                        "message": {
                          "type": "string",
                          "example": "正在进行中的活动无法删除"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "营销活动不存在",
            "$ref": "#/components/responses/NotFound"
          },
          "500": {
            "description": "服务器错误",
            "$ref": "#/components/responses/InternalServerError"
          }
        },
        "description": "根据活动ID删除指定的营销活动（软删除）"
      }
    },
    "/api/marketing-campaigns/{id}/rules": {
      "put": {
        "summary": "设置营销活动规则",
        "tags": [
          "MarketingCampaigns"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "营销活动ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "rules": {
                    "type": "object",
                    "description": "活动规则配置"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "设置成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误"
          },
          "404": {
            "description": "营销活动不存在"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/marketing-campaigns/stats/{kindergartenId}": {
      "get": {
        "summary": "获取营销活动统计数据",
        "tags": [
          "MarketingCampaigns"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "kindergartenId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "幼儿园ID"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "totalCampaigns": {
                          "type": "integer",
                          "description": "总活动数"
                        },
                        "activeCampaigns": {
                          "type": "integer",
                          "description": "活跃活动数"
                        },
                        "totalBudget": {
                          "type": "number",
                          "description": "总预算"
                        },
                        "totalRevenue": {
                          "type": "number",
                          "description": "总收入"
                        },
                        "averageROI": {
                          "type": "number",
                          "description": "平均ROI"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "幼儿园不存在"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/marketing-campaigns/{id}/end": {
      "put": {
        "summary": "结束营销活动",
        "tags": [
          "MarketingCampaigns"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "营销活动ID"
          }
        ],
        "responses": {
          "200": {
            "description": "结束成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "404": {
            "description": "营销活动不存在"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/marketing-campaigns/stats": {
      "get": {
        "summary": "获取营销活动统计数据",
        "description": "获取营销活动的各项统计数据，包括总数、状态分布、ROI等",
        "tags": [
          "Marketing Campaigns"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取营销活动统计数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/CampaignStats"
                    },
                    "message": {
                      "type": "string",
                      "example": "获取营销活动统计数据成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/marketing-center/statistics": {
      "get": {
        "summary": "获取营销中心统计数据",
        "tags": [
          "MarketingCenter"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取营销统计数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "$ref": "#/components/schemas/MarketingStatistics"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/marketing-center/campaigns/recent": {
      "get": {
        "summary": "获取最近的营销活动",
        "tags": [
          "MarketingCenter"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 3
            },
            "description": "返回的活动数量限制"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取最近营销活动",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/MarketingCampaignSummary"
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/marketing-center/channels": {
      "get": {
        "summary": "获取营销渠道概览",
        "tags": [
          "MarketingCenter"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取营销渠道数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/MarketingChannel"
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/marketing/channels": {
      "get": {
        "tags": [
          "营销中心-渠道"
        ],
        "summary": "获取渠道列表",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer",
              "default": 20
            },
            "description": "每页数量"
          },
          {
            "in": "query",
            "name": "keyword",
            "schema": {
              "type": "string"
            },
            "description": "搜索关键词"
          },
          {
            "in": "query",
            "name": "tag",
            "schema": {
              "type": "string"
            },
            "description": "标签筛选"
          }
        ],
        "responses": {
          "200": {
            "description": "获取渠道列表成功",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "object",
                          "properties": {
                            "items": {
                              "type": "array",
                              "items": {
                                "$ref": "#/components/schemas/Channel"
                              }
                            },
                            "total": {
                              "type": "integer"
                            },
                            "page": {
                              "type": "integer"
                            },
                            "pageSize": {
                              "type": "integer"
                            }
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "营销中心-渠道"
        ],
        "summary": "创建渠道",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "channelName": {
                    "type": "string"
                  },
                  "channelType": {
                    "type": "string"
                  },
                  "utmSource": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "创建渠道成功"
          }
        }
      }
    },
    "/marketing/referrals": {
      "get": {
        "tags": [
          "营销中心-老带新"
        ],
        "summary": "获取老带新列表",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer",
              "default": 20
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取老带新列表成功"
          }
        }
      }
    },
    "/marketing/referrals/stats": {
      "get": {
        "tags": [
          "营销中心-老带新"
        ],
        "summary": "获取老带新统计",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取老带新统计成功",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/ReferralStats"
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/marketing/stats/conversions": {
      "get": {
        "tags": [
          "营销中心-转换统计"
        ],
        "summary": "获取转换统计",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "dimension",
            "schema": {
              "type": "string",
              "enum": [
                "channel",
                "campaign",
                "month"
              ],
              "default": "channel"
            }
          },
          {
            "in": "query",
            "name": "period",
            "schema": {
              "type": "string",
              "enum": [
                "month",
                "quarter",
                "year"
              ],
              "default": "month"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取转换统计成功",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/ConversionStats"
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/marketing/stats/funnel": {
      "get": {
        "tags": [
          "营销中心-销售漏斗"
        ],
        "summary": "获取销售漏斗统计",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取销售漏斗统计成功",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/FunnelStats"
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/api/media-center/recent-creations": {
      "get": {
        "summary": "获取最近创作列表",
        "tags": [
          "MediaCenter"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 10
            },
            "description": "返回数量限制"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取最近创作列表"
          }
        }
      }
    },
    "/api/media-center/history": {
      "get": {
        "summary": "获取创作历史",
        "tags": [
          "MediaCenter"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "type",
            "schema": {
              "type": "string",
              "enum": [
                "copywriting",
                "article",
                "video",
                "tts"
              ]
            },
            "description": "内容类型"
          },
          {
            "in": "query",
            "name": "platform",
            "schema": {
              "type": "string"
            },
            "description": "平台名称"
          },
          {
            "in": "query",
            "name": "keyword",
            "schema": {
              "type": "string"
            },
            "description": "搜索关键词"
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer",
              "default": 20
            },
            "description": "每页数量"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取创作历史"
          }
        }
      }
    },
    "/api/media-center/statistics": {
      "get": {
        "summary": "获取统计数据",
        "tags": [
          "MediaCenter"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取统计数据"
          }
        }
      }
    },
    "/api/media-center/content": {
      "post": {
        "summary": "创建媒体内容",
        "tags": [
          "MediaCenter"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "title",
                  "type",
                  "platform",
                  "content"
                ],
                "properties": {
                  "title": {
                    "type": "string",
                    "description": "内容标题"
                  },
                  "type": {
                    "type": "string",
                    "enum": [
                      "copywriting",
                      "article",
                      "video",
                      "tts"
                    ],
                    "description": "内容类型"
                  },
                  "platform": {
                    "type": "string",
                    "description": "发布平台"
                  },
                  "content": {
                    "type": "string",
                    "description": "内容正文"
                  },
                  "preview": {
                    "type": "string",
                    "description": "内容预览"
                  },
                  "keywords": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "关键词列表"
                  },
                  "style": {
                    "type": "string",
                    "enum": [
                      "warm",
                      "professional",
                      "lively",
                      "elegant",
                      "humorous"
                    ],
                    "description": "内容风格"
                  },
                  "settings": {
                    "type": "object",
                    "description": "其他设置"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "创建成功"
          }
        }
      }
    },
    "/api/media-center/content/{id}": {
      "get": {
        "summary": "获取内容详情",
        "tags": [
          "MediaCenter"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "内容ID"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取内容详情"
          }
        }
      },
      "put": {
        "summary": "更新媒体内容",
        "tags": [
          "MediaCenter"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "内容ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "title": {
                    "type": "string"
                  },
                  "content": {
                    "type": "string"
                  },
                  "platform": {
                    "type": "string"
                  },
                  "keywords": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "settings": {
                    "type": "object"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新成功"
          }
        }
      },
      "delete": {
        "summary": "删除媒体内容",
        "tags": [
          "MediaCenter"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "内容ID"
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功"
          }
        }
      }
    },
    "/api/message-templates": {
      "get": {
        "summary": "获取消息模板列表",
        "description": "获取消息模板列表，支持分页和过滤",
        "tags": [
          "消息模板管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 10
            },
            "description": "每页数量"
          },
          {
            "in": "query",
            "name": "type",
            "schema": {
              "type": "string",
              "enum": [
                "SMS",
                "EMAIL",
                "PUSH",
                "WECHAT"
              ]
            },
            "description": "消息类型过滤"
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string",
              "enum": [
                "ACTIVE",
                "INACTIVE"
              ]
            },
            "description": "状态过滤"
          },
          {
            "in": "query",
            "name": "category",
            "schema": {
              "type": "string"
            },
            "description": "分类过滤"
          },
          {
            "in": "query",
            "name": "keyword",
            "schema": {
              "type": "string"
            },
            "description": "关键词搜索（模板名称、内容）"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/MessageTemplateList"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      },
      "post": {
        "summary": "创建消息模板",
        "description": "创建新的消息模板",
        "tags": [
          "消息模板管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MessageTemplateInput"
              },
              "example": {
                "name": "注册成功通知",
                "type": "SMS",
                "subject": "欢迎注册",
                "content": "尊敬的{name}，欢迎注册我们的服务！您的账号：{account}",
                "variables": [
                  "name",
                  "account"
                ],
                "category": "用户通知",
                "description": "用户注册成功后发送的短信通知模板"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "创建成功",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/MessageTemplate"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "409": {
            "description": "模板名称已存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                },
                "example": {
                  "success": false,
                  "message": "模板名称已存在",
                  "code": "TEMPLATE_EXISTS"
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          },
          "501": {
            "description": "功能未实现",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                },
                "example": {
                  "success": false,
                  "message": "创建消息模板功能暂未实现",
                  "code": "NOT_IMPLEMENTED"
                }
              }
            }
          }
        }
      }
    },
    "/api/message-templates/{id}": {
      "get": {
        "summary": "获取消息模板详情",
        "description": "根据ID获取特定消息模板的详细信息",
        "tags": [
          "消息模板管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "description": "消息模板ID",
            "example": 1
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/MessageTemplate"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "404": {
            "description": "消息模板不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                },
                "example": {
                  "success": false,
                  "message": "消息模板不存在",
                  "code": "TEMPLATE_NOT_FOUND"
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          },
          "501": {
            "description": "功能未实现",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                },
                "example": {
                  "success": false,
                  "message": "消息模板详情功能暂未实现",
                  "code": "NOT_IMPLEMENTED"
                }
              }
            }
          }
        }
      },
      "put": {
        "summary": "更新消息模板",
        "description": "根据ID更新特定消息模板的信息",
        "tags": [
          "消息模板管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "description": "消息模板ID",
            "example": 1
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MessageTemplateInput"
              },
              "example": {
                "name": "注册成功通知（更新版）",
                "type": "EMAIL",
                "subject": "欢迎注册我们的服务",
                "content": "尊敬的{name}，感谢您注册我们的服务！您的账号：{account}，登录密码已发送至您的邮箱。",
                "variables": [
                  "name",
                  "account"
                ],
                "status": "ACTIVE",
                "category": "用户通知",
                "description": "用户注册成功后发送的邮件通知模板（更新版）"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新成功",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/MessageTemplate"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "404": {
            "description": "消息模板不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                },
                "example": {
                  "success": false,
                  "message": "消息模板不存在",
                  "code": "TEMPLATE_NOT_FOUND"
                }
              }
            }
          },
          "409": {
            "description": "模板名称已存在（当修改名称时）",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                },
                "example": {
                  "success": false,
                  "message": "模板名称已存在",
                  "code": "TEMPLATE_EXISTS"
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          },
          "501": {
            "description": "功能未实现",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                },
                "example": {
                  "success": false,
                  "message": "更新消息模板功能暂未实现",
                  "code": "NOT_IMPLEMENTED"
                }
              }
            }
          }
        }
      },
      "delete": {
        "summary": "删除消息模板",
        "description": "根据ID删除特定的消息模板",
        "tags": [
          "消息模板管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "description": "消息模板ID",
            "example": 1
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                },
                "example": {
                  "success": true,
                  "message": "消息模板删除成功",
                  "data": null
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "404": {
            "description": "消息模板不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                },
                "example": {
                  "success": false,
                  "message": "消息模板不存在",
                  "code": "TEMPLATE_NOT_FOUND"
                }
              }
            }
          },
          "409": {
            "description": "模板正在使用中，无法删除",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                },
                "example": {
                  "success": false,
                  "message": "模板正在使用中，无法删除",
                  "code": "TEMPLATE_IN_USE"
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          },
          "501": {
            "description": "功能未实现",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                },
                "example": {
                  "success": false,
                  "message": "删除消息模板功能暂未实现",
                  "code": "NOT_IMPLEMENTED"
                }
              }
            }
          }
        }
      }
    },
    "/api/principal/notifications/statistics": {
      "get": {
        "summary": "获取通知统计列表",
        "description": "获取通知的详细统计列表，包含阅读率、发送状态等多维度数据分析。\n\n**统计维度：**\n- **基本信息**: 标题、类型、优先级、发送时间\n- **阅读统计**: 总接收人数、已读人数、未读人数、阅读率\n- **状态跟踪**: 发送状态、阅读渠道、响应情况\n- **发送渠道**: APP、短信、邮件、微信等多渠道统计\n\n**业务场景：**\n- 评估通知发送效果\n- 分析不同类型通知的阅读情况\n- 监控通知投递状态\n- 优化通知策略和内容\n\n**权限控制：**\n- 仅限园长和管理员访问\n- 支持按权限范围过滤数据\n- 敏感数据访问受控\n",
        "tags": [
          "通知中心"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            },
            "description": "页码",
            "example": 1
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 20
            },
            "description": "每页数量",
            "example": 20
          },
          {
            "in": "query",
            "name": "type",
            "schema": {
              "type": "string",
              "enum": [
                "general",
                "urgent",
                "academic",
                "activity",
                "health",
                "safety"
              ]
            },
            "description": "通知类型过滤",
            "example": "activity"
          },
          {
            "in": "query",
            "name": "priority",
            "schema": {
              "type": "string",
              "enum": [
                "low",
                "medium",
                "high",
                "urgent"
              ]
            },
            "description": "优先级过滤",
            "example": "high"
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string",
              "enum": [
                "draft",
                "sent",
                "scheduled",
                "cancelled"
              ]
            },
            "description": "状态过滤",
            "example": "sent"
          },
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "description": "开始日期",
            "example": "2023-12-01T00:00:00Z"
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "description": "结束日期",
            "example": "2023-12-31T23:59:59Z"
          },
          {
            "in": "query",
            "name": "keyword",
            "schema": {
              "type": "string"
            },
            "description": "关键词搜索（标题或内容）",
            "example": "活动安排"
          },
          {
            "in": "query",
            "name": "minReadRate",
            "schema": {
              "type": "number",
              "format": "float",
              "minimum": 0,
              "maximum": 100
            },
            "description": "最低阅读率过滤",
            "example": 80
          },
          {
            "in": "query",
            "name": "sortBy",
            "schema": {
              "type": "string",
              "enum": [
                "sentAt",
                "readRate",
                "totalRecipients",
                "title"
              ],
              "default": "sentAt"
            },
            "description": "排序字段",
            "example": "readRate"
          },
          {
            "in": "query",
            "name": "sortOrder",
            "schema": {
              "type": "string",
              "enum": [
                "asc",
                "desc"
              ],
              "default": "desc"
            },
            "description": "排序顺序",
            "example": "desc"
          }
        ],
        "responses": {
          "200": {
            "description": "通知统计列表获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "notifications": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/NotificationStatistics"
                          }
                        },
                        "pagination": {
                          "type": "object",
                          "properties": {
                            "page": {
                              "type": "integer",
                              "example": 1
                            },
                            "pageSize": {
                              "type": "integer",
                              "example": 20
                            },
                            "total": {
                              "type": "integer",
                              "example": 156
                            },
                            "totalPages": {
                              "type": "integer",
                              "example": 8
                            }
                          }
                        },
                        "summary": {
                          "type": "object",
                          "properties": {
                            "totalCount": {
                              "type": "integer",
                              "example": 156
                            },
                            "averageReadRate": {
                              "type": "number",
                              "format": "float",
                              "example": 78.5
                            },
                            "totalRecipients": {
                              "type": "integer",
                              "example": 3580
                            },
                            "highReadRateCount": {
                              "type": "integer",
                              "example": 89
                            }
                          }
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "通知统计列表获取成功"
                    }
                  }
                },
                "example": {
                  "success": true,
                  "data": {
                    "notifications": [
                      {
                        "id": 123,
                        "title": "关于12月份活动安排的通知",
                        "type": "activity",
                        "priority": "medium",
                        "sentAt": "2023-12-01T09:00:00Z",
                        "totalRecipients": 250,
                        "readCount": 180,
                        "unreadCount": 70,
                        "readRate": 72,
                        "senderName": "张园长",
                        "status": "sent",
                        "channels": [
                          "app",
                          "sms"
                        ]
                      }
                    ],
                    "pagination": {
                      "page": 1,
                      "pageSize": 20,
                      "total": 156,
                      "totalPages": 8
                    },
                    "summary": {
                      "totalCount": 156,
                      "averageReadRate": 78.5,
                      "totalRecipients": 3580,
                      "highReadRateCount": 89
                    }
                  },
                  "message": "通知统计列表获取成功"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "500": {
            "$ref": "#/components/responses/ServerError"
          }
        }
      }
    },
    "/api/principal/notifications/overview": {
      "get": {
        "summary": "获取通知统计概览",
        "description": "获取通知中心的综合统计概览，提供关键指标的汇总数据。\n\n**概览内容：**\n- **总量统计**: 总通知数、已发送、草稿、定时等状态统计\n- **阅读分析**: 平均阅读率、接收人数、阅读趋势\n- **分类统计**: 按类型、优先级、状态等多维度分析\n- **时效分析**: 今日发送、紧急通知等时效性指标\n\n**业务场景：**\n- 园长管理首页仪表板展示\n- 快速了解通知运营状况\n- 发现通知系统使用趋势\n- 支持管理决策分析\n\n**数据特点：**\n- 实时计算汇总数据\n- 包含趋势对比信息\n- 支持不同维度交叉分析\n- 提供关键性能指标\n",
        "tags": [
          "通知中心"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "period",
            "schema": {
              "type": "string",
              "enum": [
                "today",
                "week",
                "month",
                "quarter"
              ],
              "default": "month"
            },
            "description": "统计时间范围",
            "example": "month"
          },
          {
            "in": "query",
            "name": "includeTrends",
            "schema": {
              "type": "boolean",
              "default": false
            },
            "description": "是否包含趋势数据",
            "example": true
          },
          {
            "in": "query",
            "name": "compareWithPrevious",
            "schema": {
              "type": "boolean",
              "default": false
            },
            "description": "是否与上期对比",
            "example": true
          }
        ],
        "responses": {
          "200": {
            "description": "通知统计概览获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/NotificationOverview"
                    },
                    "message": {
                      "type": "string",
                      "example": "通知统计概览获取成功"
                    }
                  }
                },
                "example": {
                  "success": true,
                  "data": {
                    "totalNotifications": 156,
                    "sentNotifications": 142,
                    "scheduledNotifications": 8,
                    "draftNotifications": 6,
                    "totalRecipients": 3580,
                    "averageReadRate": 78.5,
                    "urgentNotifications": 12,
                    "todaysNotifications": 5,
                    "notificationsByType": [
                      {
                        "type": "activity",
                        "count": 45,
                        "readRate": 82.5
                      },
                      {
                        "type": "general",
                        "count": 67,
                        "readRate": 75.2
                      },
                      {
                        "type": "urgent",
                        "count": 12,
                        "readRate": 95.8
                      }
                    ],
                    "notificationsByPriority": [
                      {
                        "priority": "high",
                        "count": 28,
                        "readRate": 91.2
                      },
                      {
                        "priority": "medium",
                        "count": 85,
                        "readRate": 79.6
                      },
                      {
                        "priority": "low",
                        "count": 43,
                        "readRate": 65.4
                      }
                    ]
                  },
                  "message": "通知统计概览获取成功"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "500": {
            "$ref": "#/components/responses/ServerError"
          }
        }
      }
    },
    "/api/principal/notifications/{notificationId}/readers": {
      "get": {
        "summary": "获取通知阅读详情",
        "description": "获取指定通知的阅读者详细信息，包括阅读时间、设备、渠道等数据。\n\n**阅读者信息：**\n- **基本信息**: 用户ID、姓名、角色\n- **阅读记录**: 阅读时间、设备类型、阅读渠道\n- **响应状态**: 已读、已确认、已接受、已拒绝等\n- **反馈信息**: 用户备注、响应内容\n\n**业务场景：**\n- 跟踪通知阅读情况\n- 分析不同用户群体的阅读习惯\n- 评估通知投递效果\n- 收集用户反馈和建议\n\n**数据分析：**\n- 阅读时间分布分析\n- 设备和渠道使用统计\n- 响应率统计\n- 用户行为模式分析\n",
        "tags": [
          "通知中心"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "notificationId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "通知ID",
            "example": 123
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string",
              "enum": [
                "read",
                "unread",
                "acknowledged",
                "confirmed",
                "declined",
                "all"
              ],
              "default": "all"
            },
            "description": "阅读状态过滤",
            "example": "read"
          },
          {
            "in": "query",
            "name": "userRole",
            "schema": {
              "type": "string",
              "enum": [
                "teacher",
                "parent",
                "admin",
                "principal"
              ]
            },
            "description": "用户角色过滤",
            "example": "parent"
          },
          {
            "in": "query",
            "name": "readChannel",
            "schema": {
              "type": "string",
              "enum": [
                "app",
                "sms",
                "email",
                "wechat"
              ]
            },
            "description": "阅读渠道过滤",
            "example": "app"
          },
          {
            "in": "query",
            "name": "readDevice",
            "schema": {
              "type": "string",
              "enum": [
                "mobile",
                "desktop",
                "tablet"
              ]
            },
            "description": "阅读设备过滤",
            "example": "mobile"
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            },
            "description": "页码",
            "example": 1
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 20
            },
            "description": "每页数量",
            "example": 20
          },
          {
            "in": "query",
            "name": "sortBy",
            "schema": {
              "type": "string",
              "enum": [
                "readAt",
                "userName",
                "userRole",
                "readDevice"
              ],
              "default": "readAt"
            },
            "description": "排序字段",
            "example": "readAt"
          },
          {
            "in": "query",
            "name": "sortOrder",
            "schema": {
              "type": "string",
              "enum": [
                "asc",
                "desc"
              ],
              "default": "desc"
            },
            "description": "排序顺序",
            "example": "desc"
          }
        ],
        "responses": {
          "200": {
            "description": "通知阅读详情获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "notification": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "integer",
                              "example": 123
                            },
                            "title": {
                              "type": "string",
                              "example": "关于12月份活动安排的通知"
                            },
                            "totalRecipients": {
                              "type": "integer",
                              "example": 250
                            }
                          }
                        },
                        "readers": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/NotificationReader"
                          }
                        },
                        "pagination": {
                          "type": "object",
                          "properties": {
                            "page": {
                              "type": "integer",
                              "example": 1
                            },
                            "pageSize": {
                              "type": "integer",
                              "example": 20
                            },
                            "total": {
                              "type": "integer",
                              "example": 180
                            },
                            "totalPages": {
                              "type": "integer",
                              "example": 9
                            }
                          }
                        },
                        "statistics": {
                          "type": "object",
                          "properties": {
                            "readCount": {
                              "type": "integer",
                              "example": 180
                            },
                            "unreadCount": {
                              "type": "integer",
                              "example": 70
                            },
                            "acknowledgedCount": {
                              "type": "integer",
                              "example": 45
                            },
                            "confirmedCount": {
                              "type": "integer",
                              "example": 120
                            },
                            "declinedCount": {
                              "type": "integer",
                              "example": 5
                            },
                            "readRate": {
                              "type": "number",
                              "format": "float",
                              "example": 72
                            },
                            "deviceDistribution": {
                              "type": "object",
                              "properties": {
                                "mobile": {
                                  "type": "integer",
                                  "example": 125
                                },
                                "desktop": {
                                  "type": "integer",
                                  "example": 40
                                },
                                "tablet": {
                                  "type": "integer",
                                  "example": 15
                                }
                              }
                            },
                            "channelDistribution": {
                              "type": "object",
                              "properties": {
                                "app": {
                                  "type": "integer",
                                  "example": 150
                                },
                                "sms": {
                                  "type": "integer",
                                  "example": 20
                                },
                                "email": {
                                  "type": "integer",
                                  "example": 8
                                },
                                "wechat": {
                                  "type": "integer",
                                  "example": 2
                                }
                              }
                            }
                          }
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "通知阅读详情获取成功"
                    }
                  }
                },
                "example": {
                  "success": true,
                  "data": {
                    "notification": {
                      "id": 123,
                      "title": "关于12月份活动安排的通知",
                      "totalRecipients": 250
                    },
                    "readers": [
                      {
                        "userId": 456,
                        "userName": "李老师",
                        "userRole": "teacher",
                        "readAt": "2023-12-01T09:15:30Z",
                        "readDevice": "mobile",
                        "readChannel": "app",
                        "responseStatus": "acknowledged",
                        "responseComment": "已收到通知，会按时参加"
                      }
                    ],
                    "pagination": {
                      "page": 1,
                      "pageSize": 20,
                      "total": 180,
                      "totalPages": 9
                    },
                    "statistics": {
                      "readCount": 180,
                      "unreadCount": 70,
                      "acknowledgedCount": 45,
                      "confirmedCount": 120,
                      "declinedCount": 5,
                      "readRate": 72,
                      "deviceDistribution": {
                        "mobile": 125,
                        "desktop": 40,
                        "tablet": 15
                      },
                      "channelDistribution": {
                        "app": 150,
                        "sms": 20,
                        "email": 8,
                        "wechat": 2
                      }
                    }
                  },
                  "message": "通知阅读详情获取成功"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "description": "通知不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "error": "指定的通知不存在",
                  "code": 404
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/ServerError"
          }
        }
      }
    },
    "/api/principal/notifications/{notificationId}/export": {
      "post": {
        "summary": "导出通知阅读报告",
        "description": "导出指定通知的详细阅读报告，支持多种格式导出。\n\n**报告内容：**\n- 通知基本信息\n- 阅读者详细列表\n- 阅读统计分析\n- 设备和渠道分布\n- 响应情况汇总\n\n**导出格式：**\n- Excel: 详细数据表格\n- PDF: 图文并茂报告\n- CSV: 纯数据格式\n",
        "tags": [
          "通知中心"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "notificationId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "通知ID",
            "example": 123
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "format": {
                    "type": "string",
                    "enum": [
                      "excel",
                      "pdf",
                      "csv"
                    ],
                    "default": "excel",
                    "description": "导出格式",
                    "example": "excel"
                  },
                  "includeStatistics": {
                    "type": "boolean",
                    "default": true,
                    "description": "是否包含统计图表",
                    "example": true
                  },
                  "includeDetails": {
                    "type": "boolean",
                    "default": true,
                    "description": "是否包含详细读者列表",
                    "example": true
                  },
                  "dateRange": {
                    "type": "object",
                    "properties": {
                      "start": {
                        "type": "string",
                        "format": "date-time"
                      },
                      "end": {
                        "type": "string",
                        "format": "date-time"
                      }
                    },
                    "description": "导出时间范围"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "报告导出成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "downloadUrl": {
                          "type": "string",
                          "example": "https://example.com/downloads/notification_report_123.xlsx"
                        },
                        "fileName": {
                          "type": "string",
                          "example": "notification_report_123.xlsx"
                        },
                        "fileSize": {
                          "type": "integer",
                          "example": 2048576
                        },
                        "expiresAt": {
                          "type": "string",
                          "format": "date-time",
                          "example": "2023-12-02T09:00:00Z"
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "报告导出成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "description": "通知不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "error": "指定的通知不存在",
                  "code": 404
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/ServerError"
          }
        }
      }
    },
    "/api/principal/notifications": {
      "post": {
        "summary": "创建并发送通知",
        "description": "创建新的通知并发送给指定的接收人群体。\n\n**功能特点：**\n- 支持多种接收人选择方式\n- 多渠道同步发送\n- 定时发送功能\n- 附件支持\n- 阅读确认要求\n\n**接收人类型：**\n- all: 所有用户\n- role: 按角色选择\n- class: 按班级选择\n- individual: 指定个人\n- custom: 自定义条件\n\n**业务场景：**\n- 园所重要通知发布\n- 活动安排通知\n- 紧急情况通报\n- 节假日安排通知\n\n**发送渠道：**\n- APP内消息\n- 短信通知\n- 邮件发送\n- 微信推送\n",
        "tags": [
          "通知中心"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateNotificationRequest"
              },
              "examples": {
                "activityNotification": {
                  "summary": "活动通知",
                  "value": {
                    "title": "关于12月份亲子活动安排的通知",
                    "content": "各位家长好，12月份我们将举办丰富多彩的亲子活动...",
                    "type": "activity",
                    "priority": "medium",
                    "recipients": {
                      "targetType": "all"
                    },
                    "channels": [
                      "app",
                      "sms"
                    ],
                    "requireConfirmation": true
                  }
                },
                "urgentNotification": {
                  "summary": "紧急通知",
                  "value": {
                    "title": "紧急停课通知",
                    "content": "因天气原因，今日下午课程暂停...",
                    "type": "urgent",
                    "priority": "urgent",
                    "recipients": {
                      "targetType": "all"
                    },
                    "channels": [
                      "app",
                      "sms",
                      "wechat"
                    ],
                    "requireConfirmation": true
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "通知创建成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "notificationId": {
                          "type": "integer",
                          "example": 124
                        },
                        "status": {
                          "type": "string",
                          "enum": [
                            "draft",
                            "sent",
                            "scheduled",
                            "cancelled"
                          ],
                          "example": "sent"
                        },
                        "totalRecipients": {
                          "type": "integer",
                          "example": 250
                        },
                        "scheduledRecipients": {
                          "type": "integer",
                          "example": 0
                        },
                        "sentChannels": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          },
                          "example": [
                            "app",
                            "sms"
                          ]
                        },
                        "estimatedDeliveryTime": {
                          "type": "string",
                          "format": "date-time",
                          "example": "2023-12-01T09:05:00Z"
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "通知创建成功，开始发送"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/ValidationError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "500": {
            "$ref": "#/components/responses/ServerError"
          }
        }
      }
    },
    "/api/notifications": {
      "get": {
        "summary": "获取通知列表",
        "description": "获取当前用户的所有通知列表，按创建时间倒序排列",
        "tags": [
          "Notifications"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取通知列表",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/NotificationListResponse"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      },
      "post": {
        "summary": "创建新通知",
        "description": "创建一条新的系统通知",
        "tags": [
          "Notifications"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateNotificationRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "成功创建通知",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/Notification"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          },
          "501": {
            "description": "功能暂未实现",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/notifications/unread/count": {
      "get": {
        "summary": "获取未读通知数量",
        "description": "获取当前用户的未读通知数量统计",
        "tags": [
          "Notifications"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取未读通知数量",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/UnreadCountResponse"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/notifications/unread-count": {
      "get": {
        "summary": "获取未读通知数量 (兼容路径)",
        "description": "获取当前用户的未读通知数量统计 (兼容性接口)",
        "tags": [
          "Notifications"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取未读通知数量",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/UnreadCountResponse"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/notifications/mark-all-read": {
      "patch": {
        "summary": "批量标记所有通知为已读",
        "description": "将当前用户的所有未读通知标记为已读状态",
        "tags": [
          "Notifications"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功标记所有通知为已读",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          },
          "501": {
            "description": "功能暂未实现",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/notifications/batch-read": {
      "post": {
        "summary": "批量标记通知为已读 (兼容路径)",
        "description": "批量将指定的通知标记为已读状态 (兼容性接口)",
        "tags": [
          "Notifications"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "notification_ids": {
                    "type": "array",
                    "items": {
                      "type": "integer"
                    },
                    "description": "要标记为已读的通知ID列表",
                    "example": [
                      1,
                      2,
                      3
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "成功批量标记通知为已读",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          },
          "501": {
            "description": "功能暂未实现",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/notifications/{id}": {
      "get": {
        "summary": "获取通知详情",
        "description": "根据通知ID获取特定通知的详细信息",
        "tags": [
          "Notifications"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "通知ID",
            "example": 1
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取通知详情",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/Notification"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "404": {
            "description": "通知不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      },
      "put": {
        "summary": "更新通知信息",
        "description": "根据通知ID更新通知的详细信息",
        "tags": [
          "Notifications"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "通知ID",
            "example": 1
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateNotificationRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "成功更新通知信息",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/Notification"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "404": {
            "description": "通知不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          },
          "501": {
            "description": "功能暂未实现",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          }
        }
      },
      "delete": {
        "summary": "删除通知",
        "description": "根据通知ID删除指定的通知",
        "tags": [
          "Notifications"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "通知ID",
            "example": 1
          }
        ],
        "responses": {
          "200": {
            "description": "成功删除通知",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "404": {
            "description": "通知不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          },
          "501": {
            "description": "功能暂未实现",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/notifications/{id}/read": {
      "patch": {
        "summary": "标记通知为已读",
        "description": "将指定的通知标记为已读状态",
        "tags": [
          "Notifications"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "通知ID",
            "example": 1
          }
        ],
        "responses": {
          "200": {
            "description": "成功标记通知为已读",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/Notification"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "404": {
            "description": "通知不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          },
          "501": {
            "description": "功能暂未实现",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          }
        }
      }
    },
    "/operation-logs": {
      "get": {
        "summary": "获取操作日志列表",
        "description": "分页获取系统操作日志列表",
        "tags": [
          "操作日志"
        ],
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1,
              "minimum": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer",
              "default": 10,
              "minimum": 1,
              "maximum": 100
            },
            "description": "每页记录数"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取操作日志列表",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/OperationLogsResponse"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "summary": "创建操作日志",
        "description": "创建新的系统操作日志记录",
        "tags": [
          "操作日志"
        ],
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateOperationLogRequest"
              },
              "examples": {
                "创建用户": {
                  "value": {
                    "action": "create",
                    "module": "user",
                    "targetType": "User",
                    "targetId": 123,
                    "details": "{\"name\": \"张三\", \"role\": \"teacher\"}",
                    "result": "success"
                  }
                },
                "登录操作": {
                  "value": {
                    "action": "login",
                    "module": "auth",
                    "result": "success"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "成功创建操作日志",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/OperationLog"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误 (操作类型和模块不能为空)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                },
                "example": {
                  "success": false,
                  "message": "操作类型和模块不能为空",
                  "code": "INVALID_PARAMS"
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          }
        }
      }
    },
    "/operation-logs/{id}": {
      "get": {
        "summary": "获取操作日志详情",
        "description": "根据ID获取特定操作日志的详细信息",
        "tags": [
          "操作日志"
        ],
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "操作日志ID",
            "example": 1
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取操作日志详情",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/OperationLog"
                        }
                      }
                    }
                  ]
                },
                "example": {
                  "success": true,
                  "message": "获取操作日志详情成功",
                  "data": {
                    "id": 1,
                    "action": "create",
                    "module": "user",
                    "targetType": "User",
                    "targetId": 123,
                    "details": "{\"name\": \"张三\", \"role\": \"teacher\"}",
                    "result": "success",
                    "userId": 1,
                    "ip": "192.168.1.100",
                    "userAgent": "Mozilla/5.0...",
                    "createdAt": "2024-01-01T10:00:00.000Z",
                    "updatedAt": "2024-01-01T10:00:00.000Z"
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "404": {
            "description": "操作日志不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                },
                "example": {
                  "success": false,
                  "message": "操作日志不存在",
                  "code": "NOT_FOUND"
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          }
        }
      },
      "delete": {
        "summary": "删除操作日志",
        "description": "根据ID删除特定的操作日志记录",
        "tags": [
          "操作日志"
        ],
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "操作日志ID",
            "example": 1
          }
        ],
        "responses": {
          "200": {
            "description": "成功删除操作日志",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "integer",
                              "description": "被删除的操作日志ID"
                            }
                          }
                        }
                      }
                    }
                  ]
                },
                "example": {
                  "success": true,
                  "message": "删除操作日志成功",
                  "data": {
                    "id": 1
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "404": {
            "description": "操作日志不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                },
                "example": {
                  "success": false,
                  "message": "操作日志不存在",
                  "code": "NOT_FOUND"
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          }
        }
      }
    },
    "/operation-logs/cleanup": {
      "delete": {
        "summary": "清理操作日志",
        "description": "批量清理过期或满足条件的操作日志记录 (当前暂未实现)",
        "tags": [
          "操作日志"
        ],
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "responses": {
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "501": {
            "description": "功能暂未实现",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                },
                "example": {
                  "success": false,
                  "message": "清理功能暂未实现",
                  "code": "NOT_IMPLEMENTED"
                }
              }
            }
          }
        }
      }
    },
    "/api/organization-status/default": {
      "get": {
        "summary": "获取默认幼儿园的机构现状",
        "tags": [
          "OrganizationStatus"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取机构现状"
          },
          "404": {
            "description": "系统中没有幼儿园数据"
          }
        }
      }
    },
    "/api/organization-status/{kindergartenId}": {
      "get": {
        "summary": "获取指定幼儿园的机构现状",
        "tags": [
          "OrganizationStatus"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "kindergartenId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "幼儿园ID"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取机构现状"
          },
          "404": {
            "description": "幼儿园不存在"
          }
        }
      }
    },
    "/api/organization-status/{kindergartenId}/refresh": {
      "post": {
        "summary": "刷新机构现状数据",
        "tags": [
          "OrganizationStatus"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "kindergartenId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "幼儿园ID"
          }
        ],
        "responses": {
          "200": {
            "description": "数据刷新成功"
          },
          "404": {
            "description": "幼儿园不存在"
          }
        }
      }
    },
    "/api/organization-status/{kindergartenId}/ai-format": {
      "get": {
        "summary": "获取AI格式化的机构现状文本",
        "tags": [
          "OrganizationStatus"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "kindergartenId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "幼儿园ID"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取AI格式化文本"
          },
          "404": {
            "description": "幼儿园不存在"
          }
        }
      }
    },
    "/api/page-guide-sections": {
      "get": {
        "summary": "获取页面功能板块列表",
        "description": "获取所有页面功能板块",
        "tags": [
          "页面功能板块"
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      },
      "post": {
        "summary": "创建页面功能板块",
        "description": "创建新的页面功能板块",
        "tags": [
          "页面功能板块"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "创建成功"
          }
        }
      }
    },
    "/api/page-guide-sections/{id}": {
      "put": {
        "summary": "更新页面功能板块",
        "description": "更新指定的页面功能板块",
        "tags": [
          "页面功能板块"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新成功"
          }
        }
      },
      "delete": {
        "summary": "删除页面功能板块",
        "description": "删除指定的页面功能板块",
        "tags": [
          "页面功能板块"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功"
          }
        }
      }
    },
    "/permissions/page-actions": {
      "get": {
        "summary": "Level 3 - 获取页面操作权限",
        "description": "获取指定页面的操作权限（button类型），支持按pageId或pagePath查询",
        "tags": [
          "Permissions"
        ],
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "pageId",
            "schema": {
              "type": "string"
            },
            "description": "页面权限ID"
          },
          {
            "in": "query",
            "name": "pagePath",
            "schema": {
              "type": "string"
            },
            "description": "页面路径（支持模糊匹配）"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取页面权限",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "permissions": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "number"
                              },
                              "name": {
                                "type": "string"
                              },
                              "code": {
                                "type": "string"
                              },
                              "type": {
                                "type": "string",
                                "example": "button"
                              },
                              "permission": {
                                "type": "string"
                              }
                            }
                          }
                        },
                        "grouped": {
                          "type": "object",
                          "description": "按功能分组的权限"
                        },
                        "summary": {
                          "type": "object",
                          "description": "权限统计信息"
                        }
                      }
                    },
                    "meta": {
                      "type": "object",
                      "properties": {
                        "fromCache": {
                          "type": "boolean"
                        },
                        "responseTime": {
                          "type": "number"
                        },
                        "level": {
                          "type": "number",
                          "example": 3
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/permissions/batch-check": {
      "post": {
        "summary": "批量权限验证接口",
        "description": "一次性验证多个权限，提高前端性能",
        "tags": [
          "Permissions"
        ],
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "permissions": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "example": [
                      "EDIT_STUDENT",
                      "DELETE_STUDENT",
                      "VIEW_STUDENT"
                    ],
                    "description": "要验证的权限代码列表"
                  }
                },
                "required": [
                  "permissions"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "批量权限验证结果",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "results": {
                          "type": "object",
                          "additionalProperties": {
                            "type": "boolean"
                          },
                          "example": {
                            "EDIT_STUDENT": true,
                            "DELETE_STUDENT": false,
                            "VIEW_STUDENT": true
                          }
                        },
                        "summary": {
                          "type": "object",
                          "properties": {
                            "total": {
                              "type": "number",
                              "example": 3
                            },
                            "granted": {
                              "type": "number",
                              "example": 2
                            },
                            "denied": {
                              "type": "number",
                              "example": 1
                            }
                          }
                        }
                      }
                    },
                    "meta": {
                      "type": "object",
                      "properties": {
                        "responseTime": {
                          "type": "number"
                        },
                        "level": {
                          "type": "number",
                          "example": 3
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权访问"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/parent-assistant/answer": {
      "post": {
        "tags": [
          "家长助手服务"
        ],
        "summary": "回答家长问题",
        "description": "为家长提供智能问答服务，解答关于幼儿教育、园所管理等问题",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "question"
                ],
                "properties": {
                  "question": {
                    "type": "string",
                    "description": "家长提出的问题",
                    "minLength": 1,
                    "maxLength": 500,
                    "example": "孩子不爱吃饭怎么办？"
                  },
                  "context": {
                    "type": "object",
                    "properties": {
                      "childId": {
                        "type": "string",
                        "description": "孩子ID（可选）",
                        "example": "child_001"
                      },
                      "situation": {
                        "type": "string",
                        "description": "具体情况描述（可选）",
                        "example": "孩子最近总是挑食，只吃零食"
                      }
                    }
                  }
                },
                "example": {
                  "question": "孩子不爱吃饭怎么办？",
                  "context": {
                    "childId": "child_001",
                    "situation": "孩子最近总是挑食，只吃零食"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "回答成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "answer": {
                          "type": "string",
                          "description": "AI生成的专业回答",
                          "example": "孩子不爱吃饭是常见问题，建议从以下几方面入手：1. 营造愉快的就餐氛围..."
                        },
                        "suggestions": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          },
                          "description": "具体建议列表",
                          "example": [
                            "定时定量",
                            "增加食物趣味性",
                            "家长以身作则"
                          ]
                        },
                        "relatedTopics": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          },
                          "description": "相关话题",
                          "example": [
                            "营养搭配",
                            "饮食习惯培养"
                          ]
                        },
                        "timestamp": {
                          "type": "string",
                          "format": "date-time",
                          "example": "2024-01-15T10:30:00.000Z"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "问题内容不能为空"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "未授权访问"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "服务器内部错误"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/parent-assistant/quick-questions": {
      "get": {
        "tags": [
          "家长助手服务"
        ],
        "summary": "获取快捷问题",
        "description": "获取家长常问的快捷问题列表，帮助家长快速找到想要咨询的内容",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "category",
            "schema": {
              "type": "string",
              "enum": [
                "health",
                "education",
                "nutrition",
                "behavior",
                "development",
                "daily"
              ],
              "description": "问题分类",
              "example": "nutrition"
            }
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 50,
              "default": 10,
              "description": "返回数量限制",
              "example": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "questions": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "description": "问题ID",
                                "example": "quick_001"
                              },
                              "question": {
                                "type": "string",
                                "description": "问题内容",
                                "example": "如何培养孩子的独立性？"
                              },
                              "category": {
                                "type": "string",
                                "description": "问题分类",
                                "example": "education"
                              },
                              "frequency": {
                                "type": "integer",
                                "description": "提问频率",
                                "example": 15
                              },
                              "tags": {
                                "type": "array",
                                "items": {
                                  "type": "string"
                                },
                                "description": "问题标签",
                                "example": [
                                  "独立性",
                                  "自理能力",
                                  "成长"
                                ]
                              }
                            }
                          }
                        },
                        "categories": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "code": {
                                "type": "string",
                                "description": "分类代码",
                                "example": "health"
                              },
                              "name": {
                                "type": "string",
                                "description": "分类名称",
                                "example": "健康保健"
                              },
                              "count": {
                                "type": "integer",
                                "description": "该分类下问题数量",
                                "example": 25
                              }
                            }
                          }
                        },
                        "total": {
                          "type": "integer",
                          "description": "总问题数",
                          "example": 120
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "未授权访问"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "服务器内部错误"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/parent-student-relations": {
      "get": {
        "tags": [
          "ParentStudentRelation"
        ],
        "summary": "获取家长学生关系列表",
        "description": "获取家长学生关系列表，支持多种查询条件和分页",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "userId",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            },
            "description": "家长用户ID筛选",
            "example": 15
          },
          {
            "in": "query",
            "name": "studentId",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 10
            },
            "description": "学生ID筛选",
            "example": 123
          },
          {
            "in": "query",
            "name": "relationship",
            "schema": {
              "type": "string",
              "enum": [
                "父亲",
                "母亲",
                "爷爷",
                "奶奶",
                "外公",
                "外婆",
                "其他监护人"
              ]
            },
            "description": "关系类型筛选",
            "example": "父亲"
          },
          {
            "in": "query",
            "name": "isPrimaryContact",
            "schema": {
              "type": "integer",
              "enum": [
                0,
                1
              ]
            },
            "description": "是否主要联系人筛选",
            "example": 1
          },
          {
            "in": "query",
            "name": "isLegalGuardian",
            "schema": {
              "type": "integer",
              "enum": [
                0,
                1,
                "guardian",
                "other"
              ]
            },
            "description": "是否法定监护人筛选",
            "example": 1
          },
          {
            "in": "query",
            "name": "includeDetails",
            "schema": {
              "type": "boolean",
              "default": false
            },
            "description": "是否包含家长和学生详细信息",
            "example": true
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            },
            "description": "页码",
            "example": 1
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 20
            },
            "description": "每页数量",
            "example": 20
          },
          {
            "in": "query",
            "name": "search",
            "schema": {
              "type": "string"
            },
            "description": "搜索关键词（家长姓名、学生姓名等）",
            "example": "张"
          }
        ],
        "responses": {
          "200": {
            "description": "获取关系列表成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "获取家长学生关系列表成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "relations": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/ParentStudentRelation"
                          }
                        },
                        "total": {
                          "type": "integer",
                          "description": "总记录数"
                        },
                        "currentPage": {
                          "type": "integer",
                          "description": "当前页码"
                        },
                        "totalPages": {
                          "type": "integer",
                          "description": "总页数"
                        },
                        "list": {
                          "type": "array",
                          "items": {
                            "oneOf": [
                              {
                                "$ref": "#/components/schemas/ParentStudentRelation"
                              },
                              {
                                "$ref": "#/components/schemas/ParentStudentRelationWithDetails"
                              }
                            ]
                          },
                          "description": "关系列表"
                        },
                        "pagination": {
                          "type": "object",
                          "properties": {
                            "currentPage": {
                              "type": "integer",
                              "description": "当前页码",
                              "example": 1
                            },
                            "pageSize": {
                              "type": "integer",
                              "description": "每页数量",
                              "example": 20
                            },
                            "totalItems": {
                              "type": "integer",
                              "description": "总记录数",
                              "example": 150
                            },
                            "totalPages": {
                              "type": "integer",
                              "description": "总页数",
                              "example": 8
                            }
                          }
                        },
                        "statistics": {
                          "type": "object",
                          "properties": {
                            "totalRelations": {
                              "type": "integer",
                              "description": "总关系数",
                              "example": 150
                            },
                            "primaryContactCount": {
                              "type": "integer",
                              "description": "主要联系人数",
                              "example": 120
                            },
                            "legalGuardianCount": {
                              "type": "integer",
                              "description": "法定监护人数",
                              "example": 130
                            }
                          }
                        }
                      }
                    },
                    "success": {
                      "type": "boolean",
                      "example": true
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未认证",
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "description": "权限不足",
            "$ref": "#/components/responses/ForbiddenError"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      },
      "post": {
        "tags": [
          "ParentStudentRelation"
        ],
        "summary": "创建家长学生关系",
        "description": "创建新的家长学生关系记录，建立家长与学生之间的关联",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateParentStudentRelationRequest"
              },
              "example": {
                "userId": 15,
                "studentId": 123,
                "relationship": "父亲",
                "isPrimaryContact": 1,
                "isLegalGuardian": 1,
                "idCardNo": "110101199001011234",
                "workUnit": "北京某某公司",
                "occupation": "工程师",
                "education": "本科",
                "address": "北京市朝阳区某某街道",
                "remark": "紧急联系人，可随时联系"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "创建关系成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "创建家长学生关系成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/ParentStudentRelation"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/ValidationError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "409": {
            "description": "关系已存在",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "code": {
                      "type": "string",
                      "example": "RELATION_EXISTS"
                    },
                    "message": {
                      "type": "string",
                      "example": "该家长与学生关系已存在"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/parent-student-relations/{id}": {
      "put": {
        "tags": [
          "ParentStudentRelation"
        ],
        "summary": "更新家长学生关系",
        "description": "更新指定的家长学生关系信息",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "关系ID",
            "example": 1001
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateParentStudentRelationRequest"
              },
              "example": {
                "relationship": "父亲",
                "isPrimaryContact": 1,
                "isLegalGuardian": 1,
                "workUnit": "北京某某科技有限公司",
                "occupation": "高级工程师",
                "address": "北京市朝阳区某某小区",
                "remark": "紧急联系人，可随时联系"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新关系成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "更新家长学生关系成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/ParentStudentRelation"
                    },
                    "success": {
                      "type": "boolean",
                      "example": true
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "$ref": "#/components/responses/ValidationError"
          },
          "401": {
            "description": "未认证",
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "description": "权限不足",
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "description": "关系不存在",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "code": {
                      "type": "string",
                      "example": "NOT_FOUND"
                    },
                    "message": {
                      "type": "string",
                      "example": "家长学生关系不存在"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      },
      "get": {
        "tags": [
          "ParentStudentRelation"
        ],
        "summary": "获取家长学生关系详情",
        "description": "根据ID获取指定家长学生关系的详细信息",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "关系ID",
            "example": 1001
          },
          {
            "in": "query",
            "name": "includeDetails",
            "schema": {
              "type": "boolean",
              "default": false
            },
            "description": "是否包含家长和学生详细信息",
            "example": true
          }
        ],
        "responses": {
          "200": {
            "description": "获取关系详情成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取家长学生关系详情成功"
                    },
                    "data": {
                      "oneOf": [
                        {
                          "$ref": "#/components/schemas/ParentStudentRelation"
                        },
                        {
                          "$ref": "#/components/schemas/ParentStudentRelationWithDetails"
                        }
                      ]
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "description": "关系不存在",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "code": {
                      "type": "string",
                      "example": "NOT_FOUND"
                    },
                    "message": {
                      "type": "string",
                      "example": "家长学生关系不存在"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      },
      "delete": {
        "tags": [
          "ParentStudentRelation"
        ],
        "summary": "删除家长学生关系",
        "description": "删除指定的家长学生关系记录（软删除）",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "关系ID",
            "example": 1001
          }
        ],
        "responses": {
          "200": {
            "description": "删除关系成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "删除家长学生关系成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "description": "被删除的关系ID",
                          "example": 1001
                        },
                        "deletedAt": {
                          "type": "string",
                          "format": "date-time",
                          "description": "删除时间",
                          "example": "2024-01-15T16:30:00.000Z"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "description": "关系不存在",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "code": {
                      "type": "string",
                      "example": "NOT_FOUND"
                    },
                    "message": {
                      "type": "string",
                      "example": "家长学生关系不存在"
                    }
                  }
                }
              }
            }
          },
          "409": {
            "description": "关系正在使用中，无法删除",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "code": {
                      "type": "string",
                      "example": "RELATION_IN_USE"
                    },
                    "message": {
                      "type": "string",
                      "example": "该关系正在使用中，无法删除"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/parent-student-relations/parents/{id}/students": {
      "get": {
        "tags": [
          "Parent-Student Relations"
        ],
        "summary": "获取指定家长的所有学生",
        "description": "获取指定家长关联的所有学生信息",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "家长ID"
          },
          {
            "in": "query",
            "name": "includeInactive",
            "schema": {
              "type": "boolean",
              "default": false
            },
            "description": "是否包含非活跃状态的学生"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取家长的学生列表",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "获取成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "parentId": {
                          "type": "integer",
                          "description": "家长ID"
                        },
                        "students": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "student": {
                                "type": "object",
                                "description": "学生基本信息"
                              },
                              "relationshipType": {
                                "type": "string",
                                "description": "关系类型"
                              },
                              "isEmergencyContact": {
                                "type": "boolean",
                                "description": "是否为紧急联系人"
                              },
                              "isPickupAuthorized": {
                                "type": "boolean",
                                "description": "是否有接送权限"
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未认证"
          },
          "403": {
            "description": "权限不足"
          },
          "404": {
            "description": "家长不存在"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      },
      "post": {
        "tags": [
          "Parent-Student Relations"
        ],
        "summary": "为指定家长添加学生关系",
        "description": "为指定家长建立与学生的关系",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "家长ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AddParentStudentRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "成功添加家长-学生关系",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 201
                    },
                    "message": {
                      "type": "string",
                      "example": "添加成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/ParentStudentRelation"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误或关系已存在"
          },
          "401": {
            "description": "未认证"
          },
          "403": {
            "description": "权限不足"
          },
          "404": {
            "description": "家长或学生不存在"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/parent-student-relations/parents/{parentId}/students/{studentId}": {
      "delete": {
        "tags": [
          "Parent-Student Relations"
        ],
        "summary": "删除指定家长的学生关系",
        "description": "删除指定家长与学生之间的关系",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "parentId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "家长ID"
          },
          {
            "in": "path",
            "name": "studentId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "学生ID"
          }
        ],
        "responses": {
          "200": {
            "description": "成功删除家长-学生关系",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "删除成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "deletedRelationId": {
                          "type": "integer",
                          "description": "被删除的关系ID"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未认证"
          },
          "403": {
            "description": "权限不足"
          },
          "404": {
            "description": "关系不存在"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/parent-student-relations/students/{id}/parents": {
      "get": {
        "tags": [
          "Parent-Student Relations"
        ],
        "summary": "获取指定学生的所有家长",
        "description": "获取指定学生关联的所有家长信息",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "学生ID"
          },
          {
            "in": "query",
            "name": "includeInactive",
            "schema": {
              "type": "boolean",
              "default": false
            },
            "description": "是否包含非活跃状态的家长"
          },
          {
            "in": "query",
            "name": "emergencyOnly",
            "schema": {
              "type": "boolean",
              "default": false
            },
            "description": "仅获取紧急联系人"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取学生的家长列表",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "获取成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "studentId": {
                          "type": "integer",
                          "description": "学生ID"
                        },
                        "parents": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "parent": {
                                "type": "object",
                                "description": "家长基本信息"
                              },
                              "relationshipType": {
                                "type": "string",
                                "description": "关系类型"
                              },
                              "isEmergencyContact": {
                                "type": "boolean",
                                "description": "是否为紧急联系人"
                              },
                              "isPickupAuthorized": {
                                "type": "boolean",
                                "description": "是否有接送权限"
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未认证"
          },
          "403": {
            "description": "权限不足"
          },
          "404": {
            "description": "学生不存在"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/parents": {
      "post": {
        "summary": "创建parents",
        "tags": [
          "Parent"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "name",
                  "phone",
                  "relationship"
                ],
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "家长姓名"
                  },
                  "phone": {
                    "type": "string",
                    "description": "联系电话"
                  },
                  "email": {
                    "type": "string",
                    "description": "邮箱地址"
                  },
                  "wechat": {
                    "type": "string",
                    "description": "微信号"
                  },
                  "idCard": {
                    "type": "string",
                    "description": "身份证号"
                  },
                  "address": {
                    "type": "string",
                    "description": "家庭地址"
                  },
                  "occupation": {
                    "type": "string",
                    "description": "职业"
                  },
                  "relationship": {
                    "type": "string",
                    "enum": [
                      "father",
                      "mother",
                      "guardian"
                    ],
                    "description": "与学生关系"
                  },
                  "emergencyContact": {
                    "type": "string",
                    "description": "紧急联系方式"
                  },
                  "remark": {
                    "type": "string",
                    "description": "备注"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "创建成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "家长创建成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/Parent"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权访问"
          },
          "403": {
            "description": "权限不足"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      },
      "get": {
        "summary": "获取parents列表",
        "tags": [
          "Parent"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 10
            },
            "description": "每页数量"
          },
          {
            "in": "query",
            "name": "search",
            "schema": {
              "type": "string"
            },
            "description": "搜索关键词（姓名、电话）"
          },
          {
            "in": "query",
            "name": "relationship",
            "schema": {
              "type": "string",
              "enum": [
                "father",
                "mother",
                "guardian"
              ]
            },
            "description": "与学生关系"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "家长列表获取成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "parents": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/Parent"
                          }
                        },
                        "pagination": {
                          "type": "object",
                          "properties": {
                            "total": {
                              "type": "integer"
                            },
                            "page": {
                              "type": "integer"
                            },
                            "limit": {
                              "type": "integer"
                            },
                            "totalPages": {
                              "type": "integer"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "403": {
            "description": "权限不足"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/parents/{id}": {
      "get": {
        "summary": "获取parents详情",
        "tags": [
          "Parent"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "家长ID"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "家长详情获取成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/Parent"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "403": {
            "description": "权限不足"
          },
          "404": {
            "description": "家长不存在"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      },
      "put": {
        "summary": "更新parents",
        "tags": [
          "Parent"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "家长ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "家长姓名"
                  },
                  "phone": {
                    "type": "string",
                    "description": "联系电话"
                  },
                  "email": {
                    "type": "string",
                    "description": "邮箱地址"
                  },
                  "wechat": {
                    "type": "string",
                    "description": "微信号"
                  },
                  "idCard": {
                    "type": "string",
                    "description": "身份证号"
                  },
                  "address": {
                    "type": "string",
                    "description": "家庭地址"
                  },
                  "occupation": {
                    "type": "string",
                    "description": "职业"
                  },
                  "relationship": {
                    "type": "string",
                    "enum": [
                      "father",
                      "mother",
                      "guardian"
                    ],
                    "description": "与学生关系"
                  },
                  "emergencyContact": {
                    "type": "string",
                    "description": "紧急联系方式"
                  },
                  "remark": {
                    "type": "string",
                    "description": "备注"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "家长信息更新成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/Parent"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权访问"
          },
          "403": {
            "description": "权限不足"
          },
          "404": {
            "description": "家长不存在"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      },
      "delete": {
        "summary": "删除parents",
        "tags": [
          "Parent"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "家长ID"
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "家长删除成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "403": {
            "description": "权限不足"
          },
          "404": {
            "description": "家长不存在"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/parents/{id}/students": {
      "get": {
        "summary": "获取指定家长的所有学生",
        "tags": [
          "Parents"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "家长ID"
          }
        ],
        "responses": {
          "200": {
            "description": "家长学生列表获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "家长学生列表获取成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "students": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/ParentStudent"
                          }
                        },
                        "total": {
                          "type": "integer"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "403": {
            "description": "权限不足"
          },
          "404": {
            "description": "家长不存在"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      },
      "post": {
        "summary": "为指定家长添加学生关系",
        "tags": [
          "Parents"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "家长ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "studentId",
                  "relationship"
                ],
                "properties": {
                  "studentId": {
                    "type": "integer",
                    "description": "学生ID"
                  },
                  "relationship": {
                    "type": "string",
                    "enum": [
                      "father",
                      "mother",
                      "guardian"
                    ],
                    "description": "与学生关系"
                  },
                  "isEmergencyContact": {
                    "type": "boolean",
                    "description": "是否为紧急联系人",
                    "default": false
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "家长学生关系添加成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "家长学生关系添加成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/ParentStudent"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权访问"
          },
          "403": {
            "description": "权限不足"
          },
          "404": {
            "description": "家长或学生不存在"
          },
          "409": {
            "description": "关系已存在"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/parents/{parentId}/students/{studentId}": {
      "delete": {
        "summary": "删除指定家长的学生关系",
        "tags": [
          "Parents"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "parentId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "家长ID"
          },
          {
            "in": "path",
            "name": "studentId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "学生ID"
          }
        ],
        "responses": {
          "200": {
            "description": "家长学生关系删除成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "家长学生关系删除成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "403": {
            "description": "权限不足"
          },
          "404": {
            "description": "家长或学生关系不存在"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/parents/{id}/children": {
      "get": {
        "summary": "获取家长的子女列表（API兼容性别名）",
        "tags": [
          "Parents"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "家长ID"
          }
        ],
        "responses": {
          "200": {
            "description": "家长子女列表获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取家长子女列表成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "children": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/Child"
                          }
                        },
                        "total": {
                          "type": "integer"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "403": {
            "description": "权限不足"
          },
          "404": {
            "description": "家长不存在"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/parents/{id}/communications": {
      "get": {
        "summary": "获取家长沟通记录",
        "tags": [
          "Parents"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "家长ID"
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 10
            },
            "description": "每页数量"
          },
          {
            "in": "query",
            "name": "type",
            "schema": {
              "type": "string",
              "enum": [
                "phone",
                "wechat",
                "email",
                "visit"
              ]
            },
            "description": "沟通方式"
          },
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "开始日期"
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "结束日期"
          }
        ],
        "responses": {
          "200": {
            "description": "家长沟通记录获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取家长沟通记录成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "communications": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/Communication"
                          }
                        },
                        "total": {
                          "type": "integer"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "403": {
            "description": "权限不足"
          },
          "404": {
            "description": "家长不存在"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/performance-evaluations": {
      "get": {
        "summary": "获取绩效评估列表",
        "tags": [
          "Performance Evaluation"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 10
            },
            "description": "每页数量"
          },
          {
            "in": "query",
            "name": "employeeId",
            "schema": {
              "type": "integer"
            },
            "description": "员工ID"
          },
          {
            "in": "query",
            "name": "period",
            "schema": {
              "type": "string"
            },
            "description": "评估期间"
          }
        ],
        "responses": {
          "200": {
            "description": "成功返回绩效评估列表"
          }
        }
      },
      "post": {
        "summary": "创建绩效评估",
        "tags": [
          "Performance Evaluation"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "employeeId": {
                    "type": "integer"
                  },
                  "period": {
                    "type": "string"
                  },
                  "score": {
                    "type": "number"
                  },
                  "comments": {
                    "type": "string"
                  },
                  "goals": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "绩效评估创建成功"
          },
          "400": {
            "description": "请求参数错误"
          }
        }
      }
    },
    "/performance-evaluations/{id}": {
      "get": {
        "summary": "获取特定绩效评估详情",
        "tags": [
          "Performance Evaluation"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "评估ID"
          }
        ],
        "responses": {
          "200": {
            "description": "成功返回绩效评估详情"
          },
          "404": {
            "description": "评估不存在"
          }
        }
      },
      "put": {
        "summary": "更新绩效评估",
        "tags": [
          "Performance Evaluation"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "评估ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "score": {
                    "type": "number"
                  },
                  "comments": {
                    "type": "string"
                  },
                  "goals": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "绩效评估更新成功"
          },
          "404": {
            "description": "评估不存在"
          }
        }
      },
      "delete": {
        "summary": "删除绩效评估",
        "tags": [
          "Performance Evaluation"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "评估ID"
          }
        ],
        "responses": {
          "200": {
            "description": "绩效评估删除成功"
          },
          "404": {
            "description": "评估不存在"
          }
        }
      }
    },
    "/api/performance-evaluations": {
      "get": {
        "summary": "获取性能评估列表",
        "description": "获取系统中的性能评估列表，支持分页和筛选",
        "tags": [
          "Performance Evaluations"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 10
            },
            "description": "每页数量"
          },
          {
            "in": "query",
            "name": "type",
            "schema": {
              "type": "string",
              "enum": [
                "teacher",
                "student",
                "staff",
                "system"
              ]
            },
            "description": "按评估类型筛选"
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string",
              "enum": [
                "draft",
                "active",
                "completed",
                "archived"
              ]
            },
            "description": "按状态筛选"
          },
          {
            "in": "query",
            "name": "search",
            "schema": {
              "type": "string"
            },
            "description": "搜索关键词（名称和描述）"
          }
        ],
        "responses": {
          "200": {
            "description": "获取性能评估列表成功",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/PerformanceEvaluationList"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      },
      "post": {
        "summary": "创建性能评估",
        "description": "创建新的性能评估，需要性能管理权限",
        "tags": [
          "Performance Evaluations"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreatePerformanceEvaluationRequest"
              },
              "examples": {
                "teacher_evaluation": {
                  "summary": "教师绩效评估",
                  "value": {
                    "name": "2024年第一季度教师绩效评估",
                    "description": "评估教师在教学质量、学生管理、专业发展等方面的表现",
                    "evaluationType": "teacher",
                    "startDate": "2024-01-01",
                    "endDate": "2024-03-31",
                    "criteria": [
                      {
                        "name": "教学质量",
                        "weight": 0.4,
                        "maxScore": 100
                      },
                      {
                        "name": "学生管理",
                        "weight": 0.3,
                        "maxScore": 100
                      },
                      {
                        "name": "专业发展",
                        "weight": 0.3,
                        "maxScore": 100
                      }
                    ]
                  }
                },
                "student_evaluation": {
                  "summary": "学生学习评估",
                  "value": {
                    "name": "2024年春季学期学生学习评估",
                    "description": "评估学生在各科目学习和综合能力发展方面的表现",
                    "evaluationType": "student",
                    "startDate": "2024-02-15",
                    "endDate": "2024-06-30",
                    "criteria": [
                      {
                        "name": "学科成绩",
                        "weight": 0.5,
                        "maxScore": 100
                      },
                      {
                        "name": "行为表现",
                        "weight": 0.3,
                        "maxScore": 100
                      },
                      {
                        "name": "创新能力",
                        "weight": 0.2,
                        "maxScore": 100
                      }
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "创建性能评估成功",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/PerformanceEvaluation"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "description": "权限不足，需要性能管理权限",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                },
                "example": {
                  "success": false,
                  "message": "权限不足",
                  "code": "FORBIDDEN"
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          },
          "501": {
            "description": "功能暂未实现",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                },
                "example": {
                  "success": false,
                  "message": "创建功能暂未实现",
                  "code": "NOT_IMPLEMENTED"
                }
              }
            }
          }
        }
      }
    },
    "/api/performance-evaluations/{id}": {
      "get": {
        "summary": "获取性能评估详情",
        "description": "根据ID获取指定性能评估的详细信息",
        "tags": [
          "Performance Evaluations"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "description": "性能评估ID",
            "example": 1
          }
        ],
        "responses": {
          "200": {
            "description": "获取性能评估详情成功",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/PerformanceEvaluation"
                        }
                      }
                    }
                  ]
                },
                "example": {
                  "success": true,
                  "message": "获取性能评估详情成功",
                  "data": {
                    "id": 1,
                    "name": "2024年第一季度教师绩效评估",
                    "description": "评估教师在教学质量、学生管理、专业发展等方面的表现",
                    "evaluationType": "teacher",
                    "status": "active",
                    "startDate": "2024-01-01",
                    "endDate": "2024-03-31",
                    "criteria": [
                      {
                        "name": "教学质量",
                        "weight": 0.4,
                        "maxScore": 100
                      },
                      {
                        "name": "学生管理",
                        "weight": 0.3,
                        "maxScore": 100
                      }
                    ],
                    "createdBy": 1,
                    "createdAt": "2024-01-01T00:00:00Z",
                    "updatedAt": "2024-01-01T00:00:00Z"
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "404": {
            "description": "性能评估不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                },
                "example": {
                  "success": false,
                  "message": "性能评估不存在",
                  "code": "NOT_FOUND"
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      },
      "put": {
        "summary": "更新性能评估",
        "description": "更新指定ID的性能评估信息，需要性能管理权限",
        "tags": [
          "Performance Evaluations"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "description": "性能评估ID",
            "example": 1
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdatePerformanceEvaluationRequest"
              },
              "examples": {
                "update_status": {
                  "summary": "更新评估状态",
                  "value": {
                    "status": "completed"
                  }
                },
                "update_criteria": {
                  "summary": "更新评估标准",
                  "value": {
                    "name": "2024年第一季度教师绩效评估（更新版）",
                    "description": "更新后的评估描述",
                    "criteria": [
                      {
                        "name": "教学质量",
                        "weight": 0.5,
                        "maxScore": 100
                      },
                      {
                        "name": "学生管理",
                        "weight": 0.3,
                        "maxScore": 100
                      },
                      {
                        "name": "专业发展",
                        "weight": 0.2,
                        "maxScore": 100
                      }
                    ]
                  }
                },
                "extend_period": {
                  "summary": "延长评估期限",
                  "value": {
                    "endDate": "2024-04-30",
                    "status": "active"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新性能评估成功",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/PerformanceEvaluation"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "description": "权限不足，需要性能管理权限",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                },
                "example": {
                  "success": false,
                  "message": "权限不足",
                  "code": "FORBIDDEN"
                }
              }
            }
          },
          "404": {
            "description": "性能评估不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                },
                "example": {
                  "success": false,
                  "message": "性能评估不存在",
                  "code": "NOT_FOUND"
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          },
          "501": {
            "description": "功能暂未实现",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                },
                "example": {
                  "success": false,
                  "message": "更新功能暂未实现",
                  "code": "NOT_IMPLEMENTED"
                }
              }
            }
          }
        }
      },
      "delete": {
        "summary": "删除性能评估",
        "description": "删除指定ID的性能评估，需要性能管理权限。注意：删除评估可能会影响相关的评估结果和报告",
        "tags": [
          "Performance Evaluations"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "description": "性能评估ID",
            "example": 1
          }
        ],
        "responses": {
          "200": {
            "description": "删除性能评估成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                },
                "example": {
                  "success": true,
                  "message": "删除性能评估成功"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "description": "权限不足，需要性能管理权限",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                },
                "example": {
                  "success": false,
                  "message": "权限不足",
                  "code": "FORBIDDEN"
                }
              }
            }
          },
          "404": {
            "description": "性能评估不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                },
                "example": {
                  "success": false,
                  "message": "性能评估不存在",
                  "code": "NOT_FOUND"
                }
              }
            }
          },
          "409": {
            "description": "评估正在使用中，无法删除",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                },
                "example": {
                  "success": false,
                  "message": "评估正在使用中，无法删除",
                  "code": "CONFLICT"
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          },
          "501": {
            "description": "功能暂未实现",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                },
                "example": {
                  "success": false,
                  "message": "删除功能暂未实现",
                  "code": "NOT_IMPLEMENTED"
                }
              }
            }
          }
        }
      }
    },
    "/performance-reports": {
      "get": {
        "summary": "获取绩效报告列表",
        "tags": [
          "Performance Report"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 10
            },
            "description": "每页数量"
          },
          {
            "in": "query",
            "name": "period",
            "schema": {
              "type": "string"
            },
            "description": "报告期间"
          },
          {
            "in": "query",
            "name": "type",
            "schema": {
              "type": "string"
            },
            "description": "报告类型"
          }
        ],
        "responses": {
          "200": {
            "description": "成功返回绩效报告列表"
          }
        }
      },
      "post": {
        "summary": "生成绩效报告",
        "tags": [
          "Performance Report"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "title": {
                    "type": "string"
                  },
                  "type": {
                    "type": "string"
                  },
                  "period": {
                    "type": "string"
                  },
                  "departmentIds": {
                    "type": "array",
                    "items": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "绩效报告生成成功"
          },
          "400": {
            "description": "请求参数错误"
          }
        }
      }
    },
    "/performance-reports/{id}": {
      "get": {
        "summary": "获取特定绩效报告详情",
        "tags": [
          "Performance Report"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "报告ID"
          }
        ],
        "responses": {
          "200": {
            "description": "成功返回绩效报告详情"
          },
          "404": {
            "description": "报告不存在"
          }
        }
      },
      "delete": {
        "summary": "删除绩效报告",
        "tags": [
          "Performance Report"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "报告ID"
          }
        ],
        "responses": {
          "200": {
            "description": "绩效报告删除成功"
          },
          "404": {
            "description": "报告不存在"
          }
        }
      }
    },
    "/performance-reports/{id}/export": {
      "get": {
        "summary": "导出绩效报告",
        "tags": [
          "Performance Report"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "报告ID"
          },
          {
            "in": "query",
            "name": "format",
            "schema": {
              "type": "string",
              "enum": [
                "pdf",
                "excel",
                "word"
              ],
              "default": "pdf"
            },
            "description": "导出格式"
          }
        ],
        "responses": {
          "200": {
            "description": "导出成功"
          },
          "404": {
            "description": "报告不存在"
          }
        }
      }
    },
    "/api/performance-reports": {
      "get": {
        "summary": "获取性能报告列表",
        "description": "获取分页的性能报告列表，支持筛选和排序",
        "tags": [
          "PerformanceReports"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer",
              "default": 10
            },
            "description": "每页数量"
          },
          {
            "in": "query",
            "name": "type",
            "schema": {
              "type": "string",
              "enum": [
                "daily",
                "weekly",
                "monthly",
                "quarterly",
                "yearly"
              ]
            },
            "description": "报告类型筛选"
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string",
              "enum": [
                "generating",
                "completed",
                "failed"
              ]
            },
            "description": "状态筛选"
          },
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "创建日期起始范围"
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "创建日期结束范围"
          },
          {
            "in": "query",
            "name": "search",
            "schema": {
              "type": "string"
            },
            "description": "搜索关键词（标题）"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取性能报告列表成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "items": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/PerformanceReport"
                          }
                        },
                        "total": {
                          "type": "integer",
                          "description": "总记录数"
                        },
                        "page": {
                          "type": "integer",
                          "description": "当前页码"
                        },
                        "pageSize": {
                          "type": "integer",
                          "description": "每页数量"
                        },
                        "totalPages": {
                          "type": "integer",
                          "description": "总页数"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      },
      "post": {
        "summary": "生成性能报告",
        "description": "创建并生成新的性能报告，需要PERFORMANCE_RULE_MANAGE权限",
        "tags": [
          "PerformanceReports"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreatePerformanceReportRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "报告生成成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "性能报告生成成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/PerformanceReport"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequestError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          },
          "501": {
            "description": "功能未实现",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "生成功能暂未实现"
                    },
                    "code": {
                      "type": "string",
                      "example": "NOT_IMPLEMENTED"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/performance-reports/{id}": {
      "get": {
        "summary": "获取性能报告详情",
        "description": "根据ID获取指定性能报告的详细信息",
        "tags": [
          "PerformanceReports"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "性能报告ID"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取性能报告详情成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/PerformanceReport"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "404": {
            "description": "性能报告不存在",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "性能报告不存在"
                    },
                    "code": {
                      "type": "string",
                      "example": "NOT_FOUND"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/performance-reports/{id}/download": {
      "get": {
        "summary": "下载性能报告",
        "description": "下载指定性能报告的文件（PDF、Excel等格式）",
        "tags": [
          "PerformanceReports"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "性能报告ID"
          },
          {
            "in": "query",
            "name": "format",
            "schema": {
              "type": "string",
              "enum": [
                "pdf",
                "excel",
                "csv"
              ],
              "default": "pdf"
            },
            "description": "下载文件格式"
          }
        ],
        "responses": {
          "200": {
            "description": "文件下载成功",
            "content": {
              "application/pdf": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              },
              "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              },
              "text/csv": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            },
            "headers": {
              "Content-Disposition": {
                "description": "文件下载头",
                "schema": {
                  "type": "string",
                  "example": "attachment; filename=performance-report-001.pdf"
                }
              },
              "Content-Type": {
                "description": "文件类型",
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "404": {
            "description": "性能报告不存在",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "性能报告不存在"
                    },
                    "code": {
                      "type": "string",
                      "example": "NOT_FOUND"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          },
          "501": {
            "description": "下载功能未实现",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "下载功能暂未实现"
                    },
                    "code": {
                      "type": "string",
                      "example": "NOT_IMPLEMENTED"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/performance-rule": {
      "get": {
        "summary": "获取绩效规则列表",
        "tags": [
          "Performance Rule"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功返回绩效规则列表"
          }
        }
      },
      "post": {
        "summary": "创建绩效规则",
        "tags": [
          "Performance Rule"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "category": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  },
                  "weight": {
                    "type": "number"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "绩效规则创建成功"
          },
          "400": {
            "description": "请求参数错误"
          }
        }
      }
    },
    "/performance-rule/{id}": {
      "get": {
        "summary": "获取特定绩效规则详情",
        "tags": [
          "Performance Rule"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "规则ID"
          }
        ],
        "responses": {
          "200": {
            "description": "成功返回绩效规则详情"
          },
          "404": {
            "description": "规则不存在"
          }
        }
      }
    },
    "/api/performance-rules": {
      "get": {
        "summary": "获取performance_rules列表",
        "tags": [
          "PerformanceRule"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      },
      "post": {
        "summary": "创建performance_rules",
        "tags": [
          "PerformanceRule"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "201": {
            "description": "创建成功"
          }
        }
      }
    },
    "/api/performance-rules/{id}": {
      "get": {
        "summary": "获取performance_rules详情",
        "tags": [
          "PerformanceRule"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      },
      "put": {
        "summary": "更新performance_rules",
        "tags": [
          "PerformanceRule"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "更新成功"
          }
        }
      },
      "delete": {
        "summary": "删除performance_rules",
        "tags": [
          "PerformanceRule"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功"
          }
        }
      }
    },
    "/api/performance": {
      "get": {
        "summary": "获取绩效概览",
        "description": "获取教师绩效评估的统计概览，包括总数、平均分和分数分布",
        "tags": [
          "Performance"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "绩效概览获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "object",
                          "properties": {
                            "overview": {
                              "$ref": "#/components/schemas/PerformanceOverview"
                            }
                          }
                        }
                      }
                    }
                  ]
                },
                "example": {
                  "success": true,
                  "message": "获取成功",
                  "data": {
                    "overview": {
                      "totalTeachers": 25,
                      "totalEvaluations": 150,
                      "averageScore": 85,
                      "distribution": {
                        "excellent": 45,
                        "good": 60,
                        "pass": 35,
                        "fail": 10
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "500": {
            "$ref": "#/components/responses/ServerError"
          }
        }
      }
    },
    "/api/performance/metrics": {
      "get": {
        "summary": "获取系统性能指标",
        "description": "获取服务器的CPU、内存、运行时间等系统性能指标",
        "tags": [
          "Performance"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "系统性能指标获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/SystemMetrics"
                        }
                      }
                    }
                  ]
                },
                "example": {
                  "success": true,
                  "message": "获取成功",
                  "data": {
                    "cpu": {
                      "usage": {
                        "user": 123456,
                        "system": 654321
                      },
                      "loadAverage": [
                        0.5,
                        0.7,
                        0.8
                      ],
                      "cores": 4
                    },
                    "memory": {
                      "total": 8589934592,
                      "free": 2147483648,
                      "used": 6442450944,
                      "usage": "75.00%"
                    },
                    "uptime": {
                      "system": 3600,
                      "process": 1800
                    },
                    "platform": "linux",
                    "arch": "x64",
                    "hostname": "server-01"
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "500": {
            "$ref": "#/components/responses/ServerError"
          }
        }
      }
    },
    "/api/performance/database": {
      "get": {
        "summary": "获取数据库性能",
        "description": "获取数据库连接状态和性能指标",
        "tags": [
          "Performance"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "数据库性能指标获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/DatabasePerformance"
                        }
                      }
                    }
                  ]
                },
                "example": {
                  "success": true,
                  "message": "获取成功",
                  "data": {
                    "connections": [
                      {
                        "Variable_name": "Threads_connected",
                        "Value": "5"
                      }
                    ],
                    "status": "connected"
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "500": {
            "$ref": "#/components/responses/ServerError"
          }
        }
      }
    },
    "/api/performance/api-stats": {
      "get": {
        "summary": "获取API响应时间统计",
        "description": "获取API接口的响应时间和调用统计信息（功能暂未实现）",
        "tags": [
          "Performance"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "500": {
            "$ref": "#/components/responses/ServerError"
          },
          "501": {
            "description": "功能未实现",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                },
                "example": {
                  "success": false,
                  "message": "API统计功能暂未实现",
                  "error": {
                    "code": "NOT_IMPLEMENTED",
                    "details": null
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/performance/errors": {
      "get": {
        "summary": "获取错误日志统计",
        "description": "获取系统错误日志的统计信息（功能暂未实现）",
        "tags": [
          "Performance"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "500": {
            "$ref": "#/components/responses/ServerError"
          },
          "501": {
            "description": "功能未实现",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiErrorResponse"
                },
                "example": {
                  "success": false,
                  "message": "错误统计功能暂未实现",
                  "error": {
                    "code": "NOT_IMPLEMENTED",
                    "details": null
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/permissions": {
      "get": {
        "summary": "获取所有页面权限列表",
        "description": "管理员获取系统中所有权限的列表",
        "tags": [
          "Permissions"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取权限列表",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Permission"
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "获取权限列表成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "summary": "创建新权限",
        "description": "管理员创建新的系统权限",
        "tags": [
          "Permissions"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreatePermissionRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "权限创建成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "权限创建成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/Permission"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误或权限代码已存在",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "权限代码和名称不能为空"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/permissions/my-pages": {
      "get": {
        "summary": "获取当前用户可访问的页面列表",
        "description": "根据用户的角色权限，获取该用户可以访问的页面列表",
        "tags": [
          "Permissions"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取用户页面权限",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "userId": {
                          "type": "integer",
                          "description": "用户ID"
                        },
                        "pages": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/UserPage"
                          }
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "获取用户页面权限成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "用户未登录",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "用户未登录"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/permissions/{id}": {
      "get": {
        "summary": "获取权限详情",
        "description": "根据权限ID获取权限的详细信息",
        "tags": [
          "Permissions"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "权限ID"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取权限详情",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/Permission"
                    },
                    "message": {
                      "type": "string",
                      "example": "获取权限详情成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "权限不存在",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "权限不存在"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "put": {
        "summary": "更新权限信息",
        "description": "根据权限ID更新权限的信息",
        "tags": [
          "Permissions"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "权限ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdatePermissionRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "权限更新成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/Permission"
                    },
                    "message": {
                      "type": "string",
                      "example": "权限更新成功"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "没有需要更新的字段",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "没有需要更新的字段"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "权限不存在",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "权限不存在"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "delete": {
        "summary": "删除权限",
        "description": "根据权限ID删除权限（只有在没有角色关联时才能删除）",
        "tags": [
          "Permissions"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "权限ID"
          }
        ],
        "responses": {
          "200": {
            "description": "权限删除成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "权限删除成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "description": "删除的权限ID"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "该权限已分配给角色，无法删除",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "该权限已分配给角色，无法删除"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "权限不存在",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "权限不存在"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/permissions/check/{pagePath}": {
      "get": {
        "summary": "检查用户是否可以访问指定页面",
        "description": "根据页面路径检查当前用户是否有访问权限",
        "tags": [
          "Permissions"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "pagePath",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "页面路径（如：dashboard）",
            "example": "dashboard"
          }
        ],
        "responses": {
          "200": {
            "description": "权限检查完成",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "hasPermission": {
                          "type": "boolean",
                          "description": "是否有权限访问"
                        },
                        "pagePath": {
                          "type": "string",
                          "description": "页面路径"
                        },
                        "userId": {
                          "type": "integer",
                          "description": "用户ID"
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "页面权限检查成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/permissions/check-page": {
      "post": {
        "summary": "检查页面权限（POST方式）",
        "description": "通过POST请求方式检查用户对指定页面的访问权限",
        "tags": [
          "Permissions"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CheckPageRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "页面权限检查成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "页面权限检查成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "hasPermission": {
                          "type": "boolean",
                          "example": true,
                          "description": "是否有权限访问"
                        },
                        "pagePath": {
                          "type": "string",
                          "description": "页面路径"
                        },
                        "userId": {
                          "type": "integer",
                          "description": "用户ID"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/permissions/role/{roleId}": {
      "get": {
        "summary": "获取角色的页面权限",
        "description": "获取指定角色拥有的页面权限列表",
        "tags": [
          "Permissions"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "roleId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "角色ID"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取角色页面权限",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "roleId": {
                          "type": "integer",
                          "description": "角色ID"
                        },
                        "permissions": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/Permission"
                          }
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "获取角色页面权限成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "角色不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "put": {
        "summary": "更新角色的页面权限",
        "description": "更新指定角色的页面权限配置",
        "tags": [
          "Permissions"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "roleId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "角色ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "permissionIds": {
                    "type": "array",
                    "items": {
                      "type": "integer"
                    },
                    "description": "权限ID列表",
                    "example": [
                      1,
                      2,
                      3
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "角色页面权限更新成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "roleId": {
                          "type": "integer",
                          "description": "角色ID"
                        },
                        "updatedPermissions": {
                          "type": "array",
                          "items": {
                            "type": "integer"
                          },
                          "description": "更新后的权限ID列表"
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "角色页面权限更新成功"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "角色不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/permissions-backup": {
      "get": {
        "summary": "获取permissions_backup列表",
        "tags": [
          "PermissionBackup"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      },
      "post": {
        "summary": "创建permissions_backup",
        "tags": [
          "PermissionBackup"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "201": {
            "description": "创建成功"
          }
        }
      }
    },
    "/api/permissions-backup/{id}": {
      "get": {
        "summary": "获取permissions_backup详情",
        "tags": [
          "PermissionBackup"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      },
      "put": {
        "summary": "更新permissions_backup",
        "tags": [
          "PermissionBackup"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "更新成功"
          }
        }
      },
      "delete": {
        "summary": "删除permissions_backup",
        "tags": [
          "PermissionBackup"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功"
          }
        }
      }
    },
    "/api/permissions/dynamic-routes": {
      "get": {
        "summary": "获取用户的动态路由",
        "description": "获取当前用户可访问的动态路由列表",
        "tags": [
          "权限管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/permissions/user-permissions": {
      "get": {
        "summary": "获取用户权限列表",
        "description": "获取当前用户的所有权限",
        "tags": [
          "权限管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/permissions/check-permission": {
      "post": {
        "summary": "检查用户权限",
        "description": "检查用户是否拥有指定权限",
        "tags": [
          "权限管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "permission"
                ],
                "properties": {
                  "permission": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "检查成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/permissions/all-routes": {
      "get": {
        "summary": "获取所有可用路由",
        "description": "获取系统中所有可用的路由（用于路由表生成）",
        "tags": [
          "权限管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/personal-posters": {
      "get": {
        "summary": "获取personal_posters列表",
        "tags": [
          "PersonalPoster"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      },
      "post": {
        "summary": "创建personal_posters",
        "tags": [
          "PersonalPoster"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "201": {
            "description": "创建成功"
          }
        }
      }
    },
    "/api/personal-posters/{id}": {
      "get": {
        "summary": "获取personal_posters详情",
        "tags": [
          "PersonalPoster"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      },
      "put": {
        "summary": "更新personal_posters",
        "tags": [
          "PersonalPoster"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "更新成功"
          }
        }
      },
      "delete": {
        "summary": "删除personal_posters",
        "tags": [
          "PersonalPoster"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功"
          }
        }
      }
    },
    "/api/personnel-center/overview": {
      "get": {
        "tags": [
          "Personnel Center"
        ],
        "summary": "获取人事中心概览数据",
        "description": "获取学生、家长、教师、班级的总体统计概览",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取概览数据",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "object",
                          "properties": {
                            "totalStudents": {
                              "type": "integer",
                              "description": "学生总数",
                              "example": 150
                            },
                            "totalParents": {
                              "type": "integer",
                              "description": "家长总数",
                              "example": 280
                            },
                            "totalTeachers": {
                              "type": "integer",
                              "description": "教师总数",
                              "example": 25
                            },
                            "totalClasses": {
                              "type": "integer",
                              "description": "班级总数",
                              "example": 8
                            },
                            "activeStudents": {
                              "type": "integer",
                              "description": "在读学生数",
                              "example": 145
                            },
                            "activeTeachers": {
                              "type": "integer",
                              "description": "在职教师数",
                              "example": 23
                            }
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/personnel-center/distribution": {
      "get": {
        "tags": [
          "Personnel Center"
        ],
        "summary": "获取人员分布数据",
        "description": "获取按年级、性别、班级等维度的人员分布统计",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取分布数据",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "object",
                          "properties": {
                            "gradeDistribution": {
                              "type": "array",
                              "description": "年级分布",
                              "items": {
                                "type": "object",
                                "properties": {
                                  "grade": {
                                    "type": "string",
                                    "example": "大班"
                                  },
                                  "count": {
                                    "type": "integer",
                                    "example": 50
                                  }
                                }
                              }
                            },
                            "genderDistribution": {
                              "type": "array",
                              "description": "性别分布",
                              "items": {
                                "type": "object",
                                "properties": {
                                  "gender": {
                                    "type": "string",
                                    "example": "male"
                                  },
                                  "count": {
                                    "type": "integer",
                                    "example": 75
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/personnel-center/trend": {
      "get": {
        "tags": [
          "Personnel Center"
        ],
        "summary": "获取人员趋势数据",
        "description": "获取人员数量的时间趋势变化数据",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "period",
            "in": "query",
            "description": "统计周期",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "week",
                "month",
                "quarter",
                "year"
              ],
              "default": "month"
            }
          },
          {
            "name": "startDate",
            "in": "query",
            "description": "开始日期",
            "required": false,
            "schema": {
              "type": "string",
              "format": "date"
            }
          },
          {
            "name": "endDate",
            "in": "query",
            "description": "结束日期",
            "required": false,
            "schema": {
              "type": "string",
              "format": "date"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取趋势数据",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "object",
                          "properties": {
                            "studentTrend": {
                              "type": "array",
                              "description": "学生数量趋势",
                              "items": {
                                "type": "object",
                                "properties": {
                                  "date": {
                                    "type": "string",
                                    "format": "date",
                                    "example": "2024-01-01"
                                  },
                                  "count": {
                                    "type": "integer",
                                    "example": 145
                                  }
                                }
                              }
                            },
                            "teacherTrend": {
                              "type": "array",
                              "description": "教师数量趋势",
                              "items": {
                                "type": "object",
                                "properties": {
                                  "date": {
                                    "type": "string",
                                    "format": "date"
                                  },
                                  "count": {
                                    "type": "integer"
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/personnel-center/statistics": {
      "get": {
        "tags": [
          "Personnel Center"
        ],
        "summary": "获取人事统计数据",
        "description": "获取详细的人事统计分析数据",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取统计数据",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "object",
                          "properties": {
                            "enrollmentRate": {
                              "type": "number",
                              "description": "入园率",
                              "example": 0.95
                            },
                            "teacherStudentRatio": {
                              "type": "number",
                              "description": "师生比例",
                              "example": 6.2
                            },
                            "averageClassSize": {
                              "type": "number",
                              "description": "平均班级规模",
                              "example": 18.75
                            }
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/personnel-center/students": {
      "get": {
        "tags": [
          "Personnel Center",
          "Students"
        ],
        "summary": "获取学生列表",
        "description": "分页获取学生列表，支持搜索和筛选",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "description": "页码",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "description": "每页数量",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 10
            }
          },
          {
            "name": "search",
            "in": "query",
            "description": "搜索关键词（姓名、学号等）",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "classId",
            "in": "query",
            "description": "班级ID筛选",
            "required": false,
            "schema": {
              "type": "integer"
            }
          },
          {
            "name": "status",
            "in": "query",
            "description": "状态筛选",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "active",
                "inactive",
                "graduated"
              ]
            }
          },
          {
            "name": "gender",
            "in": "query",
            "description": "性别筛选",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "male",
                "female"
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取学生列表",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/Student"
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      },
      "post": {
        "tags": [
          "Personnel Center",
          "Students"
        ],
        "summary": "创建学生",
        "description": "创建新的学生记录",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "name",
                  "gender",
                  "birthDate"
                ],
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "学生姓名",
                    "example": "张三"
                  },
                  "gender": {
                    "type": "string",
                    "enum": [
                      "male",
                      "female"
                    ],
                    "description": "性别",
                    "example": "male"
                  },
                  "birthDate": {
                    "type": "string",
                    "format": "date",
                    "description": "出生日期",
                    "example": "2018-05-15"
                  },
                  "classId": {
                    "type": "integer",
                    "description": "班级ID",
                    "example": 1
                  },
                  "parentId": {
                    "type": "integer",
                    "description": "家长ID",
                    "example": 1
                  },
                  "phone": {
                    "type": "string",
                    "description": "紧急联系电话",
                    "example": "13800138000"
                  },
                  "address": {
                    "type": "string",
                    "description": "家庭住址",
                    "example": "北京市朝阳区"
                  },
                  "remarks": {
                    "type": "string",
                    "description": "备注信息",
                    "example": "过敏体质"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "学生创建成功",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/Student"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权访问"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/personnel-center/students/{id}": {
      "get": {
        "tags": [
          "Personnel Center",
          "Students"
        ],
        "summary": "获取学生详情",
        "description": "根据ID获取学生的详细信息",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "学生ID",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取学生详情",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "allOf": [
                            {
                              "$ref": "#/components/schemas/Student"
                            },
                            {
                              "type": "object",
                              "properties": {
                                "parents": {
                                  "type": "array",
                                  "description": "家长信息",
                                  "items": {
                                    "$ref": "#/components/schemas/Parent"
                                  }
                                },
                                "class": {
                                  "$ref": "#/components/schemas/Class"
                                }
                              }
                            }
                          ]
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "404": {
            "description": "学生不存在"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      },
      "put": {
        "tags": [
          "Personnel Center",
          "Students"
        ],
        "summary": "更新学生信息",
        "description": "根据ID更新学生信息",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "学生ID",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "学生姓名",
                    "example": "张三"
                  },
                  "gender": {
                    "type": "string",
                    "enum": [
                      "male",
                      "female"
                    ],
                    "description": "性别",
                    "example": "male"
                  },
                  "birthDate": {
                    "type": "string",
                    "format": "date",
                    "description": "出生日期",
                    "example": "2018-05-15"
                  },
                  "classId": {
                    "type": "integer",
                    "description": "班级ID",
                    "example": 1
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "active",
                      "inactive",
                      "graduated"
                    ],
                    "description": "学生状态",
                    "example": "active"
                  },
                  "phone": {
                    "type": "string",
                    "description": "紧急联系电话",
                    "example": "13800138000"
                  },
                  "address": {
                    "type": "string",
                    "description": "家庭住址",
                    "example": "北京市朝阳区"
                  },
                  "remarks": {
                    "type": "string",
                    "description": "备注信息",
                    "example": "过敏体质"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "学生信息更新成功",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/Student"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权访问"
          },
          "404": {
            "description": "学生不存在"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      },
      "delete": {
        "tags": [
          "Personnel Center",
          "Students"
        ],
        "summary": "删除学生",
        "description": "根据ID删除学生记录（软删除）",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "学生ID",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "学生删除成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "404": {
            "description": "学生不存在"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/personnel-center/students/batch": {
      "put": {
        "tags": [
          "Personnel Center",
          "Students"
        ],
        "summary": "批量更新学生",
        "description": "批量更新多个学生的信息",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/BatchOperation"
                  },
                  {
                    "type": "object",
                    "properties": {
                      "ids": {
                        "type": "array",
                        "items": {
                          "type": "integer"
                        },
                        "description": "学生ID列表",
                        "example": [
                          1,
                          2,
                          3
                        ]
                      },
                      "data": {
                        "type": "object",
                        "description": "更新数据",
                        "example": {
                          "classId": 2,
                          "status": "active"
                        }
                      }
                    }
                  }
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "批量更新成功",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "object",
                          "properties": {
                            "updated": {
                              "type": "integer",
                              "description": "更新成功的数量",
                              "example": 3
                            },
                            "failed": {
                              "type": "integer",
                              "description": "更新失败的数量",
                              "example": 0
                            }
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      },
      "delete": {
        "tags": [
          "Personnel Center",
          "Students"
        ],
        "summary": "批量删除学生",
        "description": "批量删除多个学生记录（软删除）",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "ids"
                ],
                "properties": {
                  "ids": {
                    "type": "array",
                    "items": {
                      "type": "integer"
                    },
                    "description": "学生ID列表",
                    "example": [
                      1,
                      2,
                      3
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "批量删除成功",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "object",
                          "properties": {
                            "deleted": {
                              "type": "integer",
                              "description": "删除成功的数量",
                              "example": 3
                            },
                            "failed": {
                              "type": "integer",
                              "description": "删除失败的数量",
                              "example": 0
                            }
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/personnel-center/students/export": {
      "get": {
        "tags": [
          "Personnel Center",
          "Students"
        ],
        "summary": "导出学生数据",
        "description": "导出学生数据为Excel文件",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "format",
            "in": "query",
            "description": "导出格式",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "xlsx",
                "csv"
              ],
              "default": "xlsx"
            }
          },
          {
            "name": "classId",
            "in": "query",
            "description": "班级ID筛选",
            "required": false,
            "schema": {
              "type": "integer"
            }
          },
          {
            "name": "status",
            "in": "query",
            "description": "状态筛选",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "active",
                "inactive",
                "graduated"
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "导出成功",
            "content": {
              "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              },
              "text/csv": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/personnel-center/parents": {
      "get": {
        "tags": [
          "Personnel Center",
          "Parents"
        ],
        "summary": "获取家长列表",
        "description": "分页获取家长列表，支持搜索和筛选",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "description": "页码",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "description": "每页数量",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 10
            }
          },
          {
            "name": "search",
            "in": "query",
            "description": "搜索关键词（姓名、手机号等）",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "relationship",
            "in": "query",
            "description": "关系筛选",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "father",
                "mother",
                "guardian"
              ]
            }
          },
          {
            "name": "status",
            "in": "query",
            "description": "状态筛选",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "active",
                "inactive"
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取家长列表",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/Parent"
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      },
      "post": {
        "tags": [
          "Personnel Center",
          "Parents"
        ],
        "summary": "创建家长",
        "description": "创建新的家长记录",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "name",
                  "phone",
                  "relationship"
                ],
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "家长姓名",
                    "example": "李四"
                  },
                  "phone": {
                    "type": "string",
                    "description": "手机号码",
                    "example": "13800138000"
                  },
                  "email": {
                    "type": "string",
                    "format": "email",
                    "description": "邮箱地址",
                    "example": "parent@example.com"
                  },
                  "relationship": {
                    "type": "string",
                    "enum": [
                      "father",
                      "mother",
                      "guardian"
                    ],
                    "description": "与学生关系",
                    "example": "father"
                  },
                  "studentIds": {
                    "type": "array",
                    "items": {
                      "type": "integer"
                    },
                    "description": "关联的学生ID列表",
                    "example": [
                      1,
                      2
                    ]
                  },
                  "address": {
                    "type": "string",
                    "description": "家庭住址",
                    "example": "北京市朝阳区"
                  },
                  "occupation": {
                    "type": "string",
                    "description": "职业",
                    "example": "工程师"
                  },
                  "workPlace": {
                    "type": "string",
                    "description": "工作单位",
                    "example": "科技公司"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "家长创建成功",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/Parent"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权访问"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/personnel-center/parents/{id}": {
      "get": {
        "tags": [
          "Personnel Center",
          "Parents"
        ],
        "summary": "获取家长详情",
        "description": "根据ID获取家长的详细信息",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "家长ID",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取家长详情",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "allOf": [
                            {
                              "$ref": "#/components/schemas/Parent"
                            },
                            {
                              "type": "object",
                              "properties": {
                                "students": {
                                  "type": "array",
                                  "description": "关联的学生信息",
                                  "items": {
                                    "$ref": "#/components/schemas/Student"
                                  }
                                }
                              }
                            }
                          ]
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "404": {
            "description": "家长不存在"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      },
      "put": {
        "tags": [
          "Personnel Center",
          "Parents"
        ],
        "summary": "更新家长信息",
        "description": "根据ID更新家长信息",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "家长ID",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "家长姓名",
                    "example": "李四"
                  },
                  "phone": {
                    "type": "string",
                    "description": "手机号码",
                    "example": "13800138000"
                  },
                  "email": {
                    "type": "string",
                    "format": "email",
                    "description": "邮箱地址",
                    "example": "parent@example.com"
                  },
                  "relationship": {
                    "type": "string",
                    "enum": [
                      "father",
                      "mother",
                      "guardian"
                    ],
                    "description": "与学生关系",
                    "example": "father"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "active",
                      "inactive"
                    ],
                    "description": "家长状态",
                    "example": "active"
                  },
                  "address": {
                    "type": "string",
                    "description": "家庭住址",
                    "example": "北京市朝阳区"
                  },
                  "occupation": {
                    "type": "string",
                    "description": "职业",
                    "example": "工程师"
                  },
                  "workPlace": {
                    "type": "string",
                    "description": "工作单位",
                    "example": "科技公司"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "家长信息更新成功",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/Parent"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权访问"
          },
          "404": {
            "description": "家长不存在"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      },
      "delete": {
        "tags": [
          "Personnel Center",
          "Parents"
        ],
        "summary": "删除家长",
        "description": "根据ID删除家长记录（软删除）",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "家长ID",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "家长删除成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "404": {
            "description": "家长不存在"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/personnel-center/parents/batch": {
      "put": {
        "tags": [
          "Personnel Center",
          "Parents"
        ],
        "summary": "批量更新家长",
        "description": "批量更新多个家长的信息",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/BatchOperation"
                  },
                  {
                    "type": "object",
                    "properties": {
                      "ids": {
                        "type": "array",
                        "items": {
                          "type": "integer"
                        },
                        "description": "家长ID列表",
                        "example": [
                          1,
                          2,
                          3
                        ]
                      },
                      "data": {
                        "type": "object",
                        "description": "更新数据",
                        "example": {
                          "status": "active",
                          "relationship": "father"
                        }
                      }
                    }
                  }
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "批量更新成功",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "object",
                          "properties": {
                            "updated": {
                              "type": "integer",
                              "description": "更新成功的数量",
                              "example": 3
                            },
                            "failed": {
                              "type": "integer",
                              "description": "更新失败的数量",
                              "example": 0
                            }
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      },
      "delete": {
        "tags": [
          "Personnel Center",
          "Parents"
        ],
        "summary": "批量删除家长",
        "description": "批量删除多个家长记录（软删除）",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "ids"
                ],
                "properties": {
                  "ids": {
                    "type": "array",
                    "items": {
                      "type": "integer"
                    },
                    "description": "家长ID列表",
                    "example": [
                      1,
                      2,
                      3
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "批量删除成功",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "object",
                          "properties": {
                            "deleted": {
                              "type": "integer",
                              "description": "删除成功的数量",
                              "example": 3
                            },
                            "failed": {
                              "type": "integer",
                              "description": "删除失败的数量",
                              "example": 0
                            }
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/personnel-center/parents/export": {
      "get": {
        "tags": [
          "Personnel Center",
          "Parents"
        ],
        "summary": "导出家长数据",
        "description": "导出家长数据为Excel文件",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "format",
            "in": "query",
            "description": "导出格式",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "xlsx",
                "csv"
              ],
              "default": "xlsx"
            }
          },
          {
            "name": "relationship",
            "in": "query",
            "description": "关系筛选",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "father",
                "mother",
                "guardian"
              ]
            }
          },
          {
            "name": "status",
            "in": "query",
            "description": "状态筛选",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "active",
                "inactive"
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "导出成功",
            "content": {
              "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              },
              "text/csv": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/personnel-center/teachers": {
      "get": {
        "tags": [
          "Personnel Center",
          "Teachers"
        ],
        "summary": "获取教师列表",
        "description": "分页获取教师列表，支持搜索和筛选",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "description": "页码",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "description": "每页数量",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 10
            }
          },
          {
            "name": "search",
            "in": "query",
            "description": "搜索关键词（姓名、手机号等）",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "subject",
            "in": "query",
            "description": "科目筛选",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "status",
            "in": "query",
            "description": "状态筛选",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "active",
                "inactive",
                "on_leave"
              ]
            }
          },
          {
            "name": "gender",
            "in": "query",
            "description": "性别筛选",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "male",
                "female"
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取教师列表",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/Teacher"
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      },
      "post": {
        "tags": [
          "Personnel Center",
          "Teachers"
        ],
        "summary": "创建教师",
        "description": "创建新的教师记录",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "name",
                  "gender",
                  "phone",
                  "subject"
                ],
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "教师姓名",
                    "example": "王老师"
                  },
                  "gender": {
                    "type": "string",
                    "enum": [
                      "male",
                      "female"
                    ],
                    "description": "性别",
                    "example": "female"
                  },
                  "phone": {
                    "type": "string",
                    "description": "手机号码",
                    "example": "13900139000"
                  },
                  "email": {
                    "type": "string",
                    "format": "email",
                    "description": "邮箱地址",
                    "example": "teacher@example.com"
                  },
                  "subject": {
                    "type": "string",
                    "description": "主教科目",
                    "example": "语文"
                  },
                  "experience": {
                    "type": "integer",
                    "description": "工作年限",
                    "example": 5
                  },
                  "education": {
                    "type": "string",
                    "description": "学历",
                    "example": "本科"
                  },
                  "certificate": {
                    "type": "string",
                    "description": "教师资格证书",
                    "example": "幼儿园教师资格证"
                  },
                  "address": {
                    "type": "string",
                    "description": "家庭住址",
                    "example": "北京市朝阳区"
                  },
                  "hireDate": {
                    "type": "string",
                    "format": "date",
                    "description": "入职日期",
                    "example": "2020-09-01"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "教师创建成功",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/Teacher"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权访问"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/personnel-center/teachers/{id}": {
      "get": {
        "tags": [
          "Personnel Center",
          "Teachers"
        ],
        "summary": "获取教师详情",
        "description": "根据ID获取教师的详细信息",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "教师ID",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取教师详情",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "allOf": [
                            {
                              "$ref": "#/components/schemas/Teacher"
                            },
                            {
                              "type": "object",
                              "properties": {
                                "classes": {
                                  "type": "array",
                                  "description": "负责的班级信息",
                                  "items": {
                                    "$ref": "#/components/schemas/Class"
                                  }
                                }
                              }
                            }
                          ]
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "404": {
            "description": "教师不存在"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      },
      "put": {
        "tags": [
          "Personnel Center",
          "Teachers"
        ],
        "summary": "更新教师信息",
        "description": "根据ID更新教师信息",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "教师ID",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "教师姓名",
                    "example": "王老师"
                  },
                  "gender": {
                    "type": "string",
                    "enum": [
                      "male",
                      "female"
                    ],
                    "description": "性别",
                    "example": "female"
                  },
                  "phone": {
                    "type": "string",
                    "description": "手机号码",
                    "example": "13900139000"
                  },
                  "email": {
                    "type": "string",
                    "format": "email",
                    "description": "邮箱地址",
                    "example": "teacher@example.com"
                  },
                  "subject": {
                    "type": "string",
                    "description": "主教科目",
                    "example": "语文"
                  },
                  "experience": {
                    "type": "integer",
                    "description": "工作年限",
                    "example": 5
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "active",
                      "inactive",
                      "on_leave"
                    ],
                    "description": "教师状态",
                    "example": "active"
                  },
                  "education": {
                    "type": "string",
                    "description": "学历",
                    "example": "本科"
                  },
                  "certificate": {
                    "type": "string",
                    "description": "教师资格证书",
                    "example": "幼儿园教师资格证"
                  },
                  "address": {
                    "type": "string",
                    "description": "家庭住址",
                    "example": "北京市朝阳区"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "教师信息更新成功",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/Teacher"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权访问"
          },
          "404": {
            "description": "教师不存在"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      },
      "delete": {
        "tags": [
          "Personnel Center",
          "Teachers"
        ],
        "summary": "删除教师",
        "description": "根据ID删除教师记录（软删除）",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "教师ID",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "教师删除成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "404": {
            "description": "教师不存在"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/personnel-center/teachers/batch": {
      "put": {
        "tags": [
          "Personnel Center",
          "Teachers"
        ],
        "summary": "批量更新教师",
        "description": "批量更新多个教师的信息",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/BatchOperation"
                  },
                  {
                    "type": "object",
                    "properties": {
                      "ids": {
                        "type": "array",
                        "items": {
                          "type": "integer"
                        },
                        "description": "教师ID列表",
                        "example": [
                          1,
                          2,
                          3
                        ]
                      },
                      "data": {
                        "type": "object",
                        "description": "更新数据",
                        "example": {
                          "status": "active",
                          "subject": "语文"
                        }
                      }
                    }
                  }
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "批量更新成功",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "object",
                          "properties": {
                            "updated": {
                              "type": "integer",
                              "description": "更新成功的数量",
                              "example": 3
                            },
                            "failed": {
                              "type": "integer",
                              "description": "更新失败的数量",
                              "example": 0
                            }
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      },
      "delete": {
        "tags": [
          "Personnel Center",
          "Teachers"
        ],
        "summary": "批量删除教师",
        "description": "批量删除多个教师记录（软删除）",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "ids"
                ],
                "properties": {
                  "ids": {
                    "type": "array",
                    "items": {
                      "type": "integer"
                    },
                    "description": "教师ID列表",
                    "example": [
                      1,
                      2,
                      3
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "批量删除成功",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "object",
                          "properties": {
                            "deleted": {
                              "type": "integer",
                              "description": "删除成功的数量",
                              "example": 3
                            },
                            "failed": {
                              "type": "integer",
                              "description": "删除失败的数量",
                              "example": 0
                            }
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/personnel-center/teachers/export": {
      "get": {
        "tags": [
          "Personnel Center",
          "Teachers"
        ],
        "summary": "导出教师数据",
        "description": "导出教师数据为Excel文件",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "format",
            "in": "query",
            "description": "导出格式",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "xlsx",
                "csv"
              ],
              "default": "xlsx"
            }
          },
          {
            "name": "subject",
            "in": "query",
            "description": "科目筛选",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "status",
            "in": "query",
            "description": "状态筛选",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "active",
                "inactive",
                "on_leave"
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "导出成功",
            "content": {
              "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              },
              "text/csv": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/personnel-center/classes": {
      "get": {
        "tags": [
          "Personnel Center",
          "Classes"
        ],
        "summary": "获取班级列表",
        "description": "分页获取班级列表，支持搜索和筛选",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "description": "页码",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "description": "每页数量",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 10
            }
          },
          {
            "name": "search",
            "in": "query",
            "description": "搜索关键词（班级名称等）",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "grade",
            "in": "query",
            "description": "年级筛选",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "teacherId",
            "in": "query",
            "description": "班主任ID筛选",
            "required": false,
            "schema": {
              "type": "integer"
            }
          },
          {
            "name": "status",
            "in": "query",
            "description": "状态筛选",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "active",
                "inactive"
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取班级列表",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/Class"
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      },
      "post": {
        "tags": [
          "Personnel Center",
          "Classes"
        ],
        "summary": "创建班级",
        "description": "创建新的班级记录",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "name",
                  "grade",
                  "capacity"
                ],
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "班级名称",
                    "example": "大班A班"
                  },
                  "grade": {
                    "type": "string",
                    "description": "年级",
                    "example": "大班"
                  },
                  "teacherId": {
                    "type": "integer",
                    "description": "班主任ID",
                    "example": 1
                  },
                  "capacity": {
                    "type": "integer",
                    "description": "班级容量",
                    "example": 30
                  },
                  "classroom": {
                    "type": "string",
                    "description": "教室位置",
                    "example": "教学楼301"
                  },
                  "schedule": {
                    "type": "string",
                    "description": "上课时间安排",
                    "example": "周一至周五 8:00-17:00"
                  },
                  "description": {
                    "type": "string",
                    "description": "班级描述",
                    "example": "重点班级，注重艺术培养"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "班级创建成功",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/Class"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权访问"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/personnel-center/classes/{id}": {
      "get": {
        "tags": [
          "Personnel Center",
          "Classes"
        ],
        "summary": "获取班级详情",
        "description": "根据ID获取班级的详细信息",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "班级ID",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取班级详情",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "allOf": [
                            {
                              "$ref": "#/components/schemas/Class"
                            },
                            {
                              "type": "object",
                              "properties": {
                                "teacher": {
                                  "$ref": "#/components/schemas/Teacher"
                                },
                                "students": {
                                  "type": "array",
                                  "description": "班级学生列表",
                                  "items": {
                                    "$ref": "#/components/schemas/Student"
                                  }
                                }
                              }
                            }
                          ]
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "404": {
            "description": "班级不存在"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      },
      "put": {
        "tags": [
          "Personnel Center",
          "Classes"
        ],
        "summary": "更新班级信息",
        "description": "根据ID更新班级信息",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "班级ID",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "班级名称",
                    "example": "大班A班"
                  },
                  "grade": {
                    "type": "string",
                    "description": "年级",
                    "example": "大班"
                  },
                  "teacherId": {
                    "type": "integer",
                    "description": "班主任ID",
                    "example": 1
                  },
                  "capacity": {
                    "type": "integer",
                    "description": "班级容量",
                    "example": 30
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "active",
                      "inactive"
                    ],
                    "description": "班级状态",
                    "example": "active"
                  },
                  "classroom": {
                    "type": "string",
                    "description": "教室位置",
                    "example": "教学楼301"
                  },
                  "schedule": {
                    "type": "string",
                    "description": "上课时间安排",
                    "example": "周一至周五 8:00-17:00"
                  },
                  "description": {
                    "type": "string",
                    "description": "班级描述",
                    "example": "重点班级，注重艺术培养"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "班级信息更新成功",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/Class"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权访问"
          },
          "404": {
            "description": "班级不存在"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      },
      "delete": {
        "tags": [
          "Personnel Center",
          "Classes"
        ],
        "summary": "删除班级",
        "description": "根据ID删除班级记录（软删除）",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "班级ID",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "班级删除成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "404": {
            "description": "班级不存在"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/personnel-center/classes/batch": {
      "put": {
        "tags": [
          "Personnel Center",
          "Classes"
        ],
        "summary": "批量更新班级",
        "description": "批量更新多个班级的信息",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/BatchOperation"
                  },
                  {
                    "type": "object",
                    "properties": {
                      "ids": {
                        "type": "array",
                        "items": {
                          "type": "integer"
                        },
                        "description": "班级ID列表",
                        "example": [
                          1,
                          2,
                          3
                        ]
                      },
                      "data": {
                        "type": "object",
                        "description": "更新数据",
                        "example": {
                          "teacherId": 2,
                          "status": "active"
                        }
                      }
                    }
                  }
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "批量更新成功",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "object",
                          "properties": {
                            "updated": {
                              "type": "integer",
                              "description": "更新成功的数量",
                              "example": 3
                            },
                            "failed": {
                              "type": "integer",
                              "description": "更新失败的数量",
                              "example": 0
                            }
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      },
      "delete": {
        "tags": [
          "Personnel Center",
          "Classes"
        ],
        "summary": "批量删除班级",
        "description": "批量删除多个班级记录（软删除）",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "ids"
                ],
                "properties": {
                  "ids": {
                    "type": "array",
                    "items": {
                      "type": "integer"
                    },
                    "description": "班级ID列表",
                    "example": [
                      1,
                      2,
                      3
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "批量删除成功",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "object",
                          "properties": {
                            "deleted": {
                              "type": "integer",
                              "description": "删除成功的数量",
                              "example": 3
                            },
                            "failed": {
                              "type": "integer",
                              "description": "删除失败的数量",
                              "example": 0
                            }
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/personnel-center/classes/export": {
      "get": {
        "tags": [
          "Personnel Center",
          "Classes"
        ],
        "summary": "导出班级数据",
        "description": "导出班级数据为Excel文件",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "format",
            "in": "query",
            "description": "导出格式",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "xlsx",
                "csv"
              ],
              "default": "xlsx"
            }
          },
          {
            "name": "grade",
            "in": "query",
            "description": "年级筛选",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "teacherId",
            "in": "query",
            "description": "班主任ID筛选",
            "required": false,
            "schema": {
              "type": "integer"
            }
          },
          {
            "name": "status",
            "in": "query",
            "description": "状态筛选",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "active",
                "inactive"
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "导出成功",
            "content": {
              "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              },
              "text/csv": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/personnel-center/students/{studentId}/assign-class": {
      "post": {
        "tags": [
          "Personnel Center",
          "Students"
        ],
        "summary": "分配学生到班级",
        "description": "将学生分配到指定班级",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "studentId",
            "in": "path",
            "required": true,
            "description": "学生ID",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "classId"
                ],
                "properties": {
                  "classId": {
                    "type": "integer",
                    "description": "班级ID",
                    "example": 1
                  },
                  "remarks": {
                    "type": "string",
                    "description": "备注信息",
                    "example": "正常转入"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "分配成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权访问"
          },
          "404": {
            "description": "学生或班级不存在"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/personnel-center/teachers/{teacherId}/assign-class": {
      "post": {
        "tags": [
          "Personnel Center",
          "Teachers"
        ],
        "summary": "分配教师到班级",
        "description": "将教师分配为指定班级的班主任",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "teacherId",
            "in": "path",
            "required": true,
            "description": "教师ID",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "classId"
                ],
                "properties": {
                  "classId": {
                    "type": "integer",
                    "description": "班级ID",
                    "example": 1
                  },
                  "role": {
                    "type": "string",
                    "description": "教师角色",
                    "enum": [
                      "homeroom",
                      "subject",
                      "assistant"
                    ],
                    "example": "homeroom"
                  },
                  "subject": {
                    "type": "string",
                    "description": "教授科目（如果是科目教师）",
                    "example": "语文"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "分配成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权访问"
          },
          "404": {
            "description": "教师或班级不存在"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/personnel-center/parents/{parentId}/add-child": {
      "post": {
        "tags": [
          "Personnel Center",
          "Parents"
        ],
        "summary": "添加学生到家长",
        "description": "建立家长与学生的关联关系",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "parentId",
            "in": "path",
            "required": true,
            "description": "家长ID",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "studentId",
                  "relationship"
                ],
                "properties": {
                  "studentId": {
                    "type": "integer",
                    "description": "学生ID",
                    "example": 1
                  },
                  "relationship": {
                    "type": "string",
                    "enum": [
                      "father",
                      "mother",
                      "guardian"
                    ],
                    "description": "与学生关系",
                    "example": "father"
                  },
                  "isPrimary": {
                    "type": "boolean",
                    "description": "是否为主要联系人",
                    "example": true
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "关联建立成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误或关联已存在"
          },
          "401": {
            "description": "未授权访问"
          },
          "404": {
            "description": "家长或学生不存在"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/personnel-center/search": {
      "get": {
        "tags": [
          "Personnel Center"
        ],
        "summary": "全局搜索",
        "description": "在学生、家长、教师、班级中进行全局搜索",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "q",
            "in": "query",
            "required": true,
            "description": "搜索关键词",
            "schema": {
              "type": "string",
              "example": "张三"
            }
          },
          {
            "name": "type",
            "in": "query",
            "description": "搜索类型限制",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "students",
                "parents",
                "teachers",
                "classes"
              ]
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "页码",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "description": "每页数量",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "搜索成功",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "object",
                          "properties": {
                            "students": {
                              "type": "array",
                              "description": "匹配的学生",
                              "items": {
                                "$ref": "#/components/schemas/Student"
                              }
                            },
                            "parents": {
                              "type": "array",
                              "description": "匹配的家长",
                              "items": {
                                "$ref": "#/components/schemas/Parent"
                              }
                            },
                            "teachers": {
                              "type": "array",
                              "description": "匹配的教师",
                              "items": {
                                "$ref": "#/components/schemas/Teacher"
                              }
                            },
                            "classes": {
                              "type": "array",
                              "description": "匹配的班级",
                              "items": {
                                "$ref": "#/components/schemas/Class"
                              }
                            }
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/personnel-center/students/search": {
      "get": {
        "tags": [
          "Personnel Center",
          "Students"
        ],
        "summary": "搜索学生",
        "description": "根据条件搜索学生",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "q",
            "in": "query",
            "required": true,
            "description": "搜索关键词",
            "schema": {
              "type": "string",
              "example": "张三"
            }
          },
          {
            "name": "classId",
            "in": "query",
            "description": "班级ID筛选",
            "required": false,
            "schema": {
              "type": "integer"
            }
          },
          {
            "name": "grade",
            "in": "query",
            "description": "年级筛选",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "gender",
            "in": "query",
            "description": "性别筛选",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "male",
                "female"
              ]
            }
          },
          {
            "name": "status",
            "in": "query",
            "description": "状态筛选",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "active",
                "inactive",
                "graduated"
              ]
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "页码",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "description": "每页数量",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "搜索成功",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/Student"
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/personnel-center/parents/search": {
      "get": {
        "tags": [
          "Personnel Center",
          "Parents"
        ],
        "summary": "搜索家长",
        "description": "根据条件搜索家长",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "q",
            "in": "query",
            "required": true,
            "description": "搜索关键词",
            "schema": {
              "type": "string",
              "example": "李四"
            }
          },
          {
            "name": "relationship",
            "in": "query",
            "description": "关系筛选",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "father",
                "mother",
                "guardian"
              ]
            }
          },
          {
            "name": "status",
            "in": "query",
            "description": "状态筛选",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "active",
                "inactive"
              ]
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "页码",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "description": "每页数量",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "搜索成功",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/Parent"
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/personnel-center/teachers/search": {
      "get": {
        "tags": [
          "Personnel Center",
          "Teachers"
        ],
        "summary": "搜索教师",
        "description": "根据条件搜索教师",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "q",
            "in": "query",
            "required": true,
            "description": "搜索关键词",
            "schema": {
              "type": "string",
              "example": "王老师"
            }
          },
          {
            "name": "subject",
            "in": "query",
            "description": "科目筛选",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "gender",
            "in": "query",
            "description": "性别筛选",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "male",
                "female"
              ]
            }
          },
          {
            "name": "status",
            "in": "query",
            "description": "状态筛选",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "active",
                "inactive",
                "on_leave"
              ]
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "页码",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "description": "每页数量",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "搜索成功",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/Teacher"
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/personnel-center/classes/search": {
      "get": {
        "tags": [
          "Personnel Center",
          "Classes"
        ],
        "summary": "搜索班级",
        "description": "根据条件搜索班级",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "q",
            "in": "query",
            "required": true,
            "description": "搜索关键词",
            "schema": {
              "type": "string",
              "example": "大班"
            }
          },
          {
            "name": "grade",
            "in": "query",
            "description": "年级筛选",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "teacherId",
            "in": "query",
            "description": "班主任ID筛选",
            "required": false,
            "schema": {
              "type": "integer"
            }
          },
          {
            "name": "status",
            "in": "query",
            "description": "状态筛选",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "active",
                "inactive"
              ]
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "页码",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "description": "每页数量",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "搜索成功",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ApiResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/Class"
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/poster-generation": {
      "post": {
        "summary": "生成海报",
        "tags": [
          "海报生成"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GeneratePosterDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "海报生成成功"
          }
        }
      },
      "get": {
        "summary": "获取海报列表",
        "tags": [
          "海报生成"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/Page"
          },
          {
            "$ref": "#/components/parameters/Limit"
          },
          {
            "$ref": "#/components/parameters/SortBy"
          },
          {
            "$ref": "#/components/parameters/SortOrder"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      }
    },
    "/poster-generation/generate": {
      "post": {
        "summary": "生成海报（别名路由）",
        "tags": [
          "海报生成"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GeneratePosterDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "海报生成成功"
          }
        }
      }
    },
    "/poster-generation/{id}": {
      "get": {
        "summary": "获取单个海报",
        "tags": [
          "海报生成"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      },
      "put": {
        "summary": "更新海报",
        "tags": [
          "海报生成"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdatePosterDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新成功"
          }
        }
      },
      "delete": {
        "summary": "删除海报",
        "tags": [
          "海报生成"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功"
          }
        }
      }
    },
    "/poster-generation/{id}/preview": {
      "get": {
        "summary": "预览海报",
        "tags": [
          "海报生成"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "预览图URL"
          }
        }
      }
    },
    "/poster-generation/{id}/download": {
      "get": {
        "summary": "下载海报",
        "tags": [
          "海报生成"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "海报文件",
            "content": {
              "image/png": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          }
        }
      }
    },
    "/poster-generation/{id}/share": {
      "post": {
        "summary": "分享海报",
        "tags": [
          "海报生成"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "channel": {
                    "type": "string",
                    "example": "wechat"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "分享链接"
          }
        }
      }
    },
    "/poster-generation/{id}/stats": {
      "get": {
        "summary": "获取海报统计",
        "tags": [
          "海报生成"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "统计数据"
          }
        }
      }
    },
    "/api/poster-generations": {
      "get": {
        "summary": "获取poster_generations列表",
        "tags": [
          "PosterGeneration"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      },
      "post": {
        "summary": "创建poster_generations",
        "tags": [
          "PosterGeneration"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "201": {
            "description": "创建成功"
          }
        }
      }
    },
    "/api/poster-generations/{id}": {
      "get": {
        "summary": "获取poster_generations详情",
        "tags": [
          "PosterGeneration"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      },
      "put": {
        "summary": "更新poster_generations",
        "tags": [
          "PosterGeneration"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "更新成功"
          }
        }
      },
      "delete": {
        "summary": "删除poster_generations",
        "tags": [
          "PosterGeneration"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功"
          }
        }
      }
    },
    "/poster-template": {
      "post": {
        "summary": "创建海报模板",
        "tags": [
          "PosterTemplate"
        ],
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateTemplateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "海报模板创建成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "海报模板创建成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/PosterTemplate"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "get": {
        "summary": "获取海报模板列表",
        "tags": [
          "PosterTemplate"
        ],
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "page_size",
            "schema": {
              "type": "integer",
              "default": 10
            },
            "description": "每页数量"
          },
          {
            "in": "query",
            "name": "category_id",
            "schema": {
              "type": "integer"
            },
            "description": "分类ID筛选"
          },
          {
            "in": "query",
            "name": "keyword",
            "schema": {
              "type": "string"
            },
            "description": "关键词搜索"
          },
          {
            "in": "query",
            "name": "is_active",
            "schema": {
              "type": "boolean"
            },
            "description": "是否激活筛选"
          }
        ],
        "responses": {
          "200": {
            "description": "获取海报模板列表成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "list": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/PosterTemplate"
                          }
                        },
                        "total": {
                          "type": "integer",
                          "description": "总数量"
                        },
                        "page": {
                          "type": "integer",
                          "description": "当前页码"
                        },
                        "page_size": {
                          "type": "integer",
                          "description": "每页数量"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/poster-template/{id}": {
      "get": {
        "summary": "根据ID获取海报模板",
        "tags": [
          "PosterTemplate"
        ],
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "模板ID"
          }
        ],
        "responses": {
          "200": {
            "description": "获取海报模板成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/PosterTemplate"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "模板不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "put": {
        "summary": "更新海报模板",
        "tags": [
          "PosterTemplate"
        ],
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "模板ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateTemplateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "海报模板更新成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "海报模板更新成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/PosterTemplate"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "模板不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "delete": {
        "summary": "删除海报模板",
        "tags": [
          "PosterTemplate"
        ],
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "模板ID"
          }
        ],
        "responses": {
          "200": {
            "description": "海报模板删除成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "海报模板删除成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "模板不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/poster-template/{id}/preview": {
      "get": {
        "summary": "预览海报模板",
        "tags": [
          "PosterTemplate"
        ],
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "模板ID"
          },
          {
            "in": "query",
            "name": "width",
            "schema": {
              "type": "integer"
            },
            "description": "预览宽度"
          },
          {
            "in": "query",
            "name": "height",
            "schema": {
              "type": "integer"
            },
            "description": "预览高度"
          },
          {
            "in": "query",
            "name": "format",
            "schema": {
              "type": "string",
              "enum": [
                "png",
                "jpg",
                "svg"
              ],
              "default": "png"
            },
            "description": "预览格式"
          }
        ],
        "responses": {
          "200": {
            "description": "海报模板预览成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "preview_url": {
                          "type": "string",
                          "description": "预览图片URL"
                        },
                        "preview_data": {
                          "type": "string",
                          "description": "预览数据（Base64编码）"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "模板不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/poster-template/{id}/elements": {
      "post": {
        "summary": "向海报模板添加元素",
        "tags": [
          "PosterTemplate"
        ],
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "模板ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AddElementRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "元素添加成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "元素添加成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/PosterTemplateElement"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "模板不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/poster-template/{id}/elements/{elementId}": {
      "put": {
        "summary": "更新海报模板元素",
        "tags": [
          "PosterTemplate"
        ],
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "模板ID"
          },
          {
            "in": "path",
            "name": "elementId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "元素ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateElementRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "元素更新成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "元素更新成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/PosterTemplateElement"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "模板或元素不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "delete": {
        "summary": "删除海报模板元素",
        "tags": [
          "PosterTemplate"
        ],
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "模板ID"
          },
          {
            "in": "path",
            "name": "elementId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "元素ID"
          }
        ],
        "responses": {
          "200": {
            "description": "元素删除成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "元素删除成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "模板或元素不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/poster-template/categories": {
      "get": {
        "summary": "获取海报模板分类列表",
        "tags": [
          "PosterTemplate"
        ],
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "is_active",
            "schema": {
              "type": "boolean"
            },
            "description": "是否激活筛选"
          }
        ],
        "responses": {
          "200": {
            "description": "获取分类列表成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/PosterTemplateCategory"
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/poster-templates": {
      "get": {
        "summary": "获取poster_templates列表",
        "tags": [
          "PosterTemplate"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      },
      "post": {
        "summary": "创建poster_templates",
        "tags": [
          "PosterTemplate"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "201": {
            "description": "创建成功"
          }
        }
      }
    },
    "/api/poster-templates/categories": {
      "get": {
        "summary": "获取海报模板分类",
        "tags": [
          "PosterTemplate"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      }
    },
    "/api/poster-templates/categories/{parentId}/children": {
      "get": {
        "summary": "获取子分类",
        "tags": [
          "PosterTemplate"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "parentId",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      }
    },
    "/api/poster-templates/categories/code/{code}": {
      "get": {
        "summary": "根据代码获取分类",
        "tags": [
          "PosterTemplate"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "code",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      }
    },
    "/api/poster-templates/{id}": {
      "get": {
        "summary": "获取poster_templates详情",
        "tags": [
          "PosterTemplate"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      },
      "put": {
        "summary": "更新poster_templates",
        "tags": [
          "PosterTemplate"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "更新成功"
          }
        }
      },
      "delete": {
        "summary": "删除poster_templates",
        "tags": [
          "PosterTemplate"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功"
          }
        }
      }
    },
    "/poster/upload": {
      "post": {
        "tags": [
          "海报管理"
        ],
        "summary": "上传海报图片",
        "description": "上传海报图片文件，支持JPG、PNG、GIF格式",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "file": {
                    "type": "string",
                    "format": "binary",
                    "description": "海报图片文件"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "海报上传成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "海报图片上传成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "url": {
                          "type": "string",
                          "description": "图片访问URL"
                        },
                        "originalName": {
                          "type": "string",
                          "description": "原始文件名"
                        },
                        "filename": {
                          "type": "string",
                          "description": "服务器文件名"
                        },
                        "size": {
                          "type": "integer",
                          "description": "文件大小"
                        },
                        "mimetype": {
                          "type": "string",
                          "description": "文件MIME类型"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权访问"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/principal-performance": {
      "get": {
        "summary": "获取园长绩效概览",
        "description": "获取当前园长的绩效概览数据，包括总分、排名、趋势和各项快速统计",
        "tags": [
          "Principal Performance"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取园长绩效概览",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "currentScore": {
                          "type": "number",
                          "description": "当前绩效得分",
                          "example": 92.5
                        },
                        "ranking": {
                          "type": "integer",
                          "description": "当前排名",
                          "example": 3
                        },
                        "totalPrincipals": {
                          "type": "integer",
                          "description": "总园长数量",
                          "example": 15
                        },
                        "trend": {
                          "type": "string",
                          "description": "绩效趋势",
                          "enum": [
                            "up",
                            "down",
                            "stable"
                          ],
                          "example": "up"
                        },
                        "lastUpdated": {
                          "type": "string",
                          "format": "date-time",
                          "description": "最后更新时间"
                        },
                        "quickStats": {
                          "type": "object",
                          "description": "各项快速统计",
                          "properties": {
                            "enrollment": {
                              "type": "number",
                              "example": 95
                            },
                            "teaching": {
                              "type": "number",
                              "example": 90
                            },
                            "management": {
                              "type": "number",
                              "example": 88
                            },
                            "finance": {
                              "type": "number",
                              "example": 94
                            },
                            "safety": {
                              "type": "number",
                              "example": 96
                            }
                          }
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "获取园长绩效概览成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "403": {
            "description": "权限不足"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/principal-performance/stats": {
      "get": {
        "summary": "获取园长绩效统计",
        "description": "获取详细的园长绩效统计数据，包括分类得分、月度趋势和成就数据",
        "tags": [
          "Principal Performance"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取园长绩效统计",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "totalScore": {
                          "type": "number",
                          "description": "总分",
                          "example": 92.5
                        },
                        "ranking": {
                          "type": "integer",
                          "description": "排名",
                          "example": 3
                        },
                        "totalPrincipals": {
                          "type": "integer",
                          "description": "总园长数量",
                          "example": 15
                        },
                        "monthlyTrend": {
                          "type": "array",
                          "description": "月度趋势",
                          "items": {
                            "type": "object",
                            "properties": {
                              "month": {
                                "type": "string",
                                "example": "2024-01"
                              },
                              "score": {
                                "type": "number",
                                "example": 88.5
                              }
                            }
                          }
                        },
                        "categories": {
                          "type": "object",
                          "description": "分类得分",
                          "additionalProperties": {
                            "type": "object",
                            "properties": {
                              "score": {
                                "type": "number",
                                "example": 95
                              },
                              "weight": {
                                "type": "number",
                                "example": 30
                              },
                              "weightedScore": {
                                "type": "number",
                                "example": 28.5
                              }
                            }
                          }
                        },
                        "achievements": {
                          "type": "array",
                          "description": "成就数据",
                          "items": {
                            "type": "object",
                            "properties": {
                              "title": {
                                "type": "string",
                                "example": "招生目标达成率"
                              },
                              "value": {
                                "type": "string",
                                "example": "105%"
                              },
                              "trend": {
                                "type": "string",
                                "enum": [
                                  "up",
                                  "down",
                                  "stable"
                                ],
                                "example": "up"
                              }
                            }
                          }
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "获取园长绩效统计成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "403": {
            "description": "权限不足"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/principal-performance/rankings": {
      "get": {
        "summary": "获取园长绩效排名",
        "description": "获取园长绩效排名列表，显示所有园长的排名情况和得分对比",
        "tags": [
          "Principal Performance"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取园长绩效排名",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "rankings": {
                          "type": "array",
                          "description": "排名列表",
                          "items": {
                            "type": "object",
                            "properties": {
                              "rank": {
                                "type": "integer",
                                "description": "排名",
                                "example": 1
                              },
                              "principalId": {
                                "type": "integer",
                                "description": "园长ID",
                                "example": 5
                              },
                              "principalName": {
                                "type": "string",
                                "description": "园长姓名",
                                "example": "张园长"
                              },
                              "kindergartenName": {
                                "type": "string",
                                "description": "幼儿园名称",
                                "example": "阳光幼儿园"
                              },
                              "totalScore": {
                                "type": "number",
                                "description": "总分",
                                "example": 96.8
                              },
                              "enrollmentScore": {
                                "type": "number",
                                "description": "招生得分",
                                "example": 98.5
                              },
                              "teachingScore": {
                                "type": "number",
                                "description": "教学得分",
                                "example": 95.2
                              },
                              "managementScore": {
                                "type": "number",
                                "description": "管理得分",
                                "example": 96
                              },
                              "change": {
                                "type": "string",
                                "description": "排名变化",
                                "enum": [
                                  "up",
                                  "down",
                                  "stable"
                                ],
                                "example": "up"
                              }
                            }
                          }
                        },
                        "total": {
                          "type": "integer",
                          "description": "总数量",
                          "example": 4
                        },
                        "updateTime": {
                          "type": "string",
                          "format": "date-time",
                          "description": "更新时间"
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "获取园长绩效排名成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "403": {
            "description": "权限不足"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/principal-performance/details": {
      "get": {
        "summary": "获取园长绩效详情",
        "description": "获取特定园长的详细绩效信息，包括各项指标详情、改进建议和趋势分析",
        "tags": [
          "Principal Performance"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "principalId",
            "schema": {
              "type": "integer"
            },
            "description": "园长ID",
            "example": 1
          },
          {
            "in": "query",
            "name": "period",
            "schema": {
              "type": "string"
            },
            "description": "查询期间",
            "example": "2024-04"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取园长绩效详情",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "principalId": {
                          "type": "integer",
                          "description": "园长ID",
                          "example": 1
                        },
                        "principalName": {
                          "type": "string",
                          "description": "园长姓名",
                          "example": "王园长"
                        },
                        "kindergartenName": {
                          "type": "string",
                          "description": "幼儿园名称",
                          "example": "智慧幼儿园"
                        },
                        "period": {
                          "type": "string",
                          "description": "统计期间",
                          "example": "2024-04"
                        },
                        "totalScore": {
                          "type": "number",
                          "description": "总分",
                          "example": 92.5
                        },
                        "detailedScores": {
                          "type": "object",
                          "description": "详细得分",
                          "additionalProperties": {
                            "type": "object",
                            "properties": {
                              "category": {
                                "type": "string",
                                "example": "招生管理"
                              },
                              "score": {
                                "type": "number",
                                "example": 95
                              },
                              "maxScore": {
                                "type": "number",
                                "example": 100
                              },
                              "weight": {
                                "type": "number",
                                "example": 30
                              },
                              "items": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "properties": {
                                    "name": {
                                      "type": "string",
                                      "example": "招生目标达成率"
                                    },
                                    "score": {
                                      "type": "number",
                                      "example": 98
                                    },
                                    "target": {
                                      "type": "number",
                                      "example": 100
                                    },
                                    "actual": {
                                      "type": "number",
                                      "example": 105
                                    }
                                  }
                                }
                              }
                            }
                          }
                        },
                        "improvements": {
                          "type": "array",
                          "description": "改进建议",
                          "items": {
                            "type": "object",
                            "properties": {
                              "area": {
                                "type": "string",
                                "example": "员工满意度"
                              },
                              "current": {
                                "type": "number",
                                "example": 85
                              },
                              "target": {
                                "type": "number",
                                "example": 90
                              },
                              "suggestion": {
                                "type": "string",
                                "example": "加强员工关怀，提升福利待遇"
                              }
                            }
                          }
                        },
                        "trends": {
                          "type": "object",
                          "description": "趋势分析",
                          "properties": {
                            "monthly": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "properties": {
                                  "month": {
                                    "type": "string",
                                    "example": "2024-01"
                                  },
                                  "score": {
                                    "type": "number",
                                    "example": 88.5
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "获取园长绩效详情成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "403": {
            "description": "权限不足"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/principal-performance/export": {
      "get": {
        "summary": "导出园长绩效报告",
        "description": "导出园长绩效报告为Excel或PDF格式，支持按期间导出",
        "tags": [
          "Principal Performance"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "format",
            "schema": {
              "type": "string",
              "enum": [
                "excel",
                "pdf"
              ],
              "default": "excel"
            },
            "description": "导出格式",
            "example": "excel"
          },
          {
            "in": "query",
            "name": "period",
            "schema": {
              "type": "string"
            },
            "description": "导出期间",
            "example": "2024-04"
          }
        ],
        "responses": {
          "200": {
            "description": "成功生成导出文件",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "filename": {
                          "type": "string",
                          "description": "文件名",
                          "example": "principal_performance_2024-04.excel"
                        },
                        "downloadUrl": {
                          "type": "string",
                          "description": "下载链接",
                          "example": "/downloads/principal_performance_1672876800000.excel"
                        },
                        "size": {
                          "type": "string",
                          "description": "文件大小",
                          "example": "2.5MB"
                        },
                        "generatedAt": {
                          "type": "string",
                          "format": "date-time",
                          "description": "生成时间"
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "绩效报告导出成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "403": {
            "description": "权限不足"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/principal-performance/goals": {
      "get": {
        "summary": "获取园长绩效目标",
        "description": "获取园长绩效目标设置和完成情况，包括各项指标的目标值、当前值和完成进度",
        "tags": [
          "Principal Performance"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取园长绩效目标",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "currentPeriod": {
                          "type": "string",
                          "description": "当前期间",
                          "example": "2024-04"
                        },
                        "targets": {
                          "type": "object",
                          "description": "目标设置",
                          "additionalProperties": {
                            "type": "object",
                            "properties": {
                              "category": {
                                "type": "string",
                                "example": "招生目标"
                              },
                              "targets": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "properties": {
                                    "name": {
                                      "type": "string",
                                      "example": "新生招生数量"
                                    },
                                    "target": {
                                      "type": "number",
                                      "example": 120
                                    },
                                    "current": {
                                      "type": "number",
                                      "example": 126
                                    },
                                    "unit": {
                                      "type": "string",
                                      "example": "人"
                                    },
                                    "progress": {
                                      "type": "number",
                                      "description": "完成进度百分比",
                                      "example": 105
                                    }
                                  }
                                }
                              }
                            }
                          }
                        },
                        "overallProgress": {
                          "type": "number",
                          "description": "总体完成进度",
                          "example": 98.5
                        },
                        "achievedTargets": {
                          "type": "integer",
                          "description": "已完成目标数",
                          "example": 8
                        },
                        "totalTargets": {
                          "type": "integer",
                          "description": "总目标数",
                          "example": 9
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "获取园长绩效目标成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "403": {
            "description": "权限不足"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/principal/dashboard": {
      "get": {
        "tags": [
          "园长管理"
        ],
        "summary": "获取园长仪表盘数据",
        "description": "获取园长仪表盘统计数据，包括学生数量、教师数量、收入统计等",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "success"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "studentCount": {
                          "type": "integer",
                          "description": "学生总数"
                        },
                        "teacherCount": {
                          "type": "integer",
                          "description": "教师总数"
                        },
                        "classCount": {
                          "type": "integer",
                          "description": "班级总数"
                        },
                        "monthlyRevenue": {
                          "type": "number",
                          "description": "月收入"
                        },
                        "pendingApprovals": {
                          "type": "integer",
                          "description": "待审批数量"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "description": "权限不足"
          }
        }
      }
    },
    "/principal/campus/overview": {
      "get": {
        "tags": [
          "园长管理"
        ],
        "summary": "获取园区概览",
        "description": "获取园区整体概览信息，包括设施状态、班级分布等",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "success"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "totalArea": {
                          "type": "number",
                          "description": "园区总面积"
                        },
                        "buildingCount": {
                          "type": "integer",
                          "description": "建筑数量"
                        },
                        "classroomCount": {
                          "type": "integer",
                          "description": "教室数量"
                        },
                        "facilityStatus": {
                          "type": "object",
                          "description": "设施状态统计"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "description": "权限不足"
          }
        }
      }
    },
    "/principal/approvals": {
      "get": {
        "tags": [
          "园长管理"
        ],
        "summary": "获取待审批列表",
        "description": "获取需要园长审批的事项列表",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 10
            },
            "description": "每页数量"
          },
          {
            "in": "query",
            "name": "type",
            "schema": {
              "type": "string",
              "enum": [
                "leave",
                "expense",
                "purchase",
                "recruitment"
              ]
            },
            "description": "审批类型"
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string",
              "enum": [
                "pending",
                "approved",
                "rejected"
              ]
            },
            "description": "审批状态"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "success"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "list": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "integer"
                              },
                              "type": {
                                "type": "string"
                              },
                              "title": {
                                "type": "string"
                              },
                              "applicant": {
                                "type": "string"
                              },
                              "status": {
                                "type": "string"
                              },
                              "createdAt": {
                                "type": "string",
                                "format": "date-time"
                              }
                            }
                          }
                        },
                        "pagination": {
                          "type": "object",
                          "properties": {
                            "page": {
                              "type": "integer"
                            },
                            "limit": {
                              "type": "integer"
                            },
                            "total": {
                              "type": "integer"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "description": "权限不足"
          }
        }
      }
    },
    "/principal/approvals/{id}/{action}": {
      "post": {
        "tags": [
          "园长管理"
        ],
        "summary": "处理审批",
        "description": "对指定的审批事项进行批准或拒绝操作",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "审批项ID"
          },
          {
            "in": "path",
            "name": "action",
            "required": true,
            "schema": {
              "type": "string",
              "enum": [
                "approve",
                "reject"
              ]
            },
            "description": "审批操作"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "comment": {
                    "type": "string",
                    "description": "审批意见"
                  }
                },
                "required": [
                  "comment"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "处理成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "审批处理成功"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "description": "权限不足"
          },
          "404": {
            "description": "审批项不存在"
          }
        }
      }
    },
    "/principal/notices/important": {
      "get": {
        "tags": [
          "园长管理"
        ],
        "summary": "获取重要通知",
        "description": "获取重要通知列表",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 10
            },
            "description": "每页数量"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "success"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "list": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "integer"
                              },
                              "title": {
                                "type": "string"
                              },
                              "content": {
                                "type": "string"
                              },
                              "level": {
                                "type": "string",
                                "enum": [
                                  "urgent",
                                  "important",
                                  "normal"
                                ]
                              },
                              "createdAt": {
                                "type": "string",
                                "format": "date-time"
                              }
                            }
                          }
                        },
                        "pagination": {
                          "type": "object"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "description": "权限不足"
          }
        }
      }
    },
    "/principal/notices": {
      "post": {
        "tags": [
          "园长管理"
        ],
        "summary": "发布通知",
        "description": "发布新的通知公告",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "title": {
                    "type": "string",
                    "description": "通知标题"
                  },
                  "content": {
                    "type": "string",
                    "description": "通知内容"
                  },
                  "level": {
                    "type": "string",
                    "enum": [
                      "urgent",
                      "important",
                      "normal"
                    ],
                    "description": "通知级别"
                  },
                  "targetAudience": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "enum": [
                        "teachers",
                        "parents",
                        "students",
                        "all"
                      ]
                    },
                    "description": "目标受众"
                  },
                  "scheduleTime": {
                    "type": "string",
                    "format": "date-time",
                    "description": "定时发送时间（可选）"
                  }
                },
                "required": [
                  "title",
                  "content",
                  "level",
                  "targetAudience"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "发布成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 201
                    },
                    "message": {
                      "type": "string",
                      "example": "通知发布成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "description": "通知ID"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "description": "权限不足"
          }
        }
      }
    },
    "/principal/schedule": {
      "get": {
        "tags": [
          "园长管理"
        ],
        "summary": "获取园长工作安排",
        "description": "获取园长的日程安排和工作计划",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "date",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "查询日期"
          },
          {
            "in": "query",
            "name": "type",
            "schema": {
              "type": "string",
              "enum": [
                "meeting",
                "inspection",
                "event",
                "other"
              ]
            },
            "description": "日程类型"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "success"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer"
                          },
                          "title": {
                            "type": "string"
                          },
                          "description": {
                            "type": "string"
                          },
                          "startTime": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "endTime": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "type": {
                            "type": "string"
                          },
                          "location": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "description": "权限不足"
          }
        }
      },
      "post": {
        "tags": [
          "园长管理"
        ],
        "summary": "创建园长日程安排",
        "description": "为园长创建新的日程安排",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "title": {
                    "type": "string",
                    "description": "日程标题"
                  },
                  "description": {
                    "type": "string",
                    "description": "日程描述"
                  },
                  "startTime": {
                    "type": "string",
                    "format": "date-time",
                    "description": "开始时间"
                  },
                  "endTime": {
                    "type": "string",
                    "format": "date-time",
                    "description": "结束时间"
                  },
                  "type": {
                    "type": "string",
                    "enum": [
                      "meeting",
                      "inspection",
                      "event",
                      "other"
                    ],
                    "description": "日程类型"
                  },
                  "location": {
                    "type": "string",
                    "description": "地点"
                  },
                  "participants": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "参与人员"
                  },
                  "reminder": {
                    "type": "integer",
                    "description": "提醒时间(分钟)"
                  }
                },
                "required": [
                  "title",
                  "startTime",
                  "endTime",
                  "type"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "创建成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 201
                    },
                    "message": {
                      "type": "string",
                      "example": "日程创建成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "description": "日程ID"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "description": "权限不足"
          }
        }
      }
    },
    "/principal/enrollment/trend": {
      "get": {
        "tags": [
          "园长管理"
        ],
        "summary": "获取招生趋势数据",
        "description": "获取招生趋势统计数据和图表",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "period",
            "schema": {
              "type": "string",
              "enum": [
                "week",
                "month",
                "quarter",
                "year"
              ],
              "default": "month"
            },
            "description": "统计周期"
          },
          {
            "in": "query",
            "name": "year",
            "schema": {
              "type": "integer"
            },
            "description": "指定年份"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "success"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "chartData": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "period": {
                                "type": "string"
                              },
                              "enrollment": {
                                "type": "integer"
                              },
                              "target": {
                                "type": "integer"
                              }
                            }
                          }
                        },
                        "summary": {
                          "type": "object",
                          "properties": {
                            "totalEnrollment": {
                              "type": "integer"
                            },
                            "growthRate": {
                              "type": "number"
                            },
                            "targetCompletion": {
                              "type": "number"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "description": "权限不足"
          }
        }
      }
    },
    "/principal/customer-pool/stats": {
      "get": {
        "tags": [
          "园长管理"
        ],
        "summary": "获取客户池统计数据",
        "description": "获取客户池的整体统计数据",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "success"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "totalCustomers": {
                          "type": "integer",
                          "description": "客户总数"
                        },
                        "newCustomers": {
                          "type": "integer",
                          "description": "新客户数"
                        },
                        "activeCustomers": {
                          "type": "integer",
                          "description": "活跃客户数"
                        },
                        "conversionRate": {
                          "type": "number",
                          "description": "转化率"
                        },
                        "statusDistribution": {
                          "type": "object",
                          "properties": {
                            "potential": {
                              "type": "integer"
                            },
                            "contacted": {
                              "type": "integer"
                            },
                            "interested": {
                              "type": "integer"
                            },
                            "enrolled": {
                              "type": "integer"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "description": "权限不足"
          }
        }
      }
    },
    "/principal/customer-pool/list": {
      "get": {
        "tags": [
          "园长管理"
        ],
        "summary": "获取客户池列表",
        "description": "获取客户池中所有客户的列表",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 10
            },
            "description": "每页数量"
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string",
              "enum": [
                "potential",
                "contacted",
                "interested",
                "enrolled",
                "lost"
              ]
            },
            "description": "客户状态"
          },
          {
            "in": "query",
            "name": "assignedTeacher",
            "schema": {
              "type": "integer"
            },
            "description": "分配给的教师ID"
          },
          {
            "in": "query",
            "name": "keyword",
            "schema": {
              "type": "string"
            },
            "description": "搜索关键词"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "success"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "list": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "integer"
                              },
                              "name": {
                                "type": "string"
                              },
                              "phone": {
                                "type": "string"
                              },
                              "childName": {
                                "type": "string"
                              },
                              "childAge": {
                                "type": "integer"
                              },
                              "status": {
                                "type": "string"
                              },
                              "assignedTeacher": {
                                "type": "string"
                              },
                              "lastContact": {
                                "type": "string",
                                "format": "date-time"
                              },
                              "createdAt": {
                                "type": "string",
                                "format": "date-time"
                              }
                            }
                          }
                        },
                        "pagination": {
                          "type": "object"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "description": "权限不足"
          }
        }
      }
    },
    "/principal/performance/stats": {
      "get": {
        "tags": [
          "园长管理"
        ],
        "summary": "获取绩效统计数据",
        "description": "获取教师和部门的绩效统计数据",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "period",
            "schema": {
              "type": "string",
              "enum": [
                "month",
                "quarter",
                "year"
              ],
              "default": "month"
            },
            "description": "统计周期"
          },
          {
            "in": "query",
            "name": "department",
            "schema": {
              "type": "string"
            },
            "description": "部门筛选"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "success"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "overview": {
                          "type": "object",
                          "properties": {
                            "averageScore": {
                              "type": "number"
                            },
                            "totalTeachers": {
                              "type": "integer"
                            },
                            "topPerformers": {
                              "type": "integer"
                            }
                          }
                        },
                        "departmentStats": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "department": {
                                "type": "string"
                              },
                              "averageScore": {
                                "type": "number"
                              },
                              "teacherCount": {
                                "type": "integer"
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "description": "权限不足"
          }
        }
      }
    },
    "/principal/performance/rankings": {
      "get": {
        "tags": [
          "园长管理"
        ],
        "summary": "获取绩效排名数据",
        "description": "获取教师绩效排名列表",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "period",
            "schema": {
              "type": "string",
              "enum": [
                "month",
                "quarter",
                "year"
              ],
              "default": "month"
            },
            "description": "统计周期"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 20
            },
            "description": "排名数量"
          },
          {
            "in": "query",
            "name": "department",
            "schema": {
              "type": "string"
            },
            "description": "部门筛选"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "success"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "rank": {
                            "type": "integer"
                          },
                          "teacherId": {
                            "type": "integer"
                          },
                          "teacherName": {
                            "type": "string"
                          },
                          "department": {
                            "type": "string"
                          },
                          "score": {
                            "type": "number"
                          },
                          "metrics": {
                            "type": "object",
                            "properties": {
                              "studentSatisfaction": {
                                "type": "number"
                              },
                              "classPerformance": {
                                "type": "number"
                              },
                              "attendanceRate": {
                                "type": "number"
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "description": "权限不足"
          }
        }
      }
    },
    "/principal/performance/details": {
      "get": {
        "tags": [
          "园长管理"
        ],
        "summary": "获取绩效详情数据",
        "description": "获取指定教师的详细绩效数据",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "teacherId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "教师ID"
          },
          {
            "in": "query",
            "name": "period",
            "schema": {
              "type": "string",
              "enum": [
                "month",
                "quarter",
                "year"
              ],
              "default": "month"
            },
            "description": "统计周期"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "success"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "teacherInfo": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "integer"
                            },
                            "name": {
                              "type": "string"
                            },
                            "department": {
                              "type": "string"
                            },
                            "position": {
                              "type": "string"
                            }
                          }
                        },
                        "performanceMetrics": {
                          "type": "object",
                          "properties": {
                            "overallScore": {
                              "type": "number"
                            },
                            "studentSatisfaction": {
                              "type": "number"
                            },
                            "classPerformance": {
                              "type": "number"
                            },
                            "attendanceRate": {
                              "type": "number"
                            },
                            "improvementSuggestions": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            }
                          }
                        },
                        "trendData": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "period": {
                                "type": "string"
                              },
                              "score": {
                                "type": "number"
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "description": "权限不足"
          },
          "404": {
            "description": "教师不存在"
          }
        }
      }
    },
    "/principal/customer-pool/{id}": {
      "get": {
        "tags": [
          "园长管理"
        ],
        "summary": "获取客户详情",
        "description": "获取指定客户的详细信息",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "客户ID"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "success"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer"
                        },
                        "name": {
                          "type": "string"
                        },
                        "phone": {
                          "type": "string"
                        },
                        "email": {
                          "type": "string"
                        },
                        "address": {
                          "type": "string"
                        },
                        "childInfo": {
                          "type": "object",
                          "properties": {
                            "name": {
                              "type": "string"
                            },
                            "age": {
                              "type": "integer"
                            },
                            "gender": {
                              "type": "string"
                            },
                            "birthDate": {
                              "type": "string",
                              "format": "date"
                            }
                          }
                        },
                        "status": {
                          "type": "string"
                        },
                        "assignedTeacher": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "integer"
                            },
                            "name": {
                              "type": "string"
                            }
                          }
                        },
                        "followUpHistory": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "date": {
                                "type": "string",
                                "format": "date-time"
                              },
                              "content": {
                                "type": "string"
                              },
                              "type": {
                                "type": "string"
                              },
                              "followUpBy": {
                                "type": "string"
                              }
                            }
                          }
                        },
                        "createdAt": {
                          "type": "string",
                          "format": "date-time"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "description": "权限不足"
          },
          "404": {
            "description": "客户不存在"
          }
        }
      },
      "delete": {
        "tags": [
          "园长管理"
        ],
        "summary": "删除客户",
        "description": "从客户池中删除指定的客户",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "客户ID"
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "客户删除成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "description": "权限不足"
          },
          "404": {
            "description": "客户不存在"
          }
        }
      }
    },
    "/principal/customer-pool/assign": {
      "post": {
        "tags": [
          "园长管理"
        ],
        "summary": "分配客户给教师",
        "description": "将客户分配给指定的教师负责跟进",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "customerId": {
                    "type": "integer",
                    "description": "客户ID"
                  },
                  "teacherId": {
                    "type": "integer",
                    "description": "教师ID"
                  },
                  "note": {
                    "type": "string",
                    "description": "分配备注"
                  }
                },
                "required": [
                  "customerId",
                  "teacherId"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "分配成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "客户分配成功"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "description": "权限不足"
          },
          "404": {
            "description": "客户或教师不存在"
          }
        }
      }
    },
    "/principal/customer-pool/batch-assign": {
      "post": {
        "tags": [
          "园长管理"
        ],
        "summary": "批量分配客户给教师",
        "description": "批量将多个客户分配给指定的教师负责跟进",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "assignments": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "customerId": {
                          "type": "integer",
                          "description": "客户ID"
                        },
                        "teacherId": {
                          "type": "integer",
                          "description": "教师ID"
                        }
                      }
                    },
                    "description": "分配关系列表"
                  },
                  "note": {
                    "type": "string",
                    "description": "批量分配备注"
                  }
                },
                "required": [
                  "assignments"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "批量分配成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "批量分配成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "successCount": {
                          "type": "integer",
                          "description": "成功分配数量"
                        },
                        "failedCount": {
                          "type": "integer",
                          "description": "失败分配数量"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "description": "权限不足"
          }
        }
      }
    },
    "/principal/customer-pool/{id}/follow-up": {
      "post": {
        "tags": [
          "园长管理"
        ],
        "summary": "添加客户跟进记录",
        "description": "为指定客户添加新的跟进记录",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "客户ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "content": {
                    "type": "string",
                    "description": "跟进内容"
                  },
                  "type": {
                    "type": "string",
                    "enum": [
                      "call",
                      "visit",
                      "email",
                      "message"
                    ],
                    "description": "跟进方式"
                  },
                  "nextFollowUpDate": {
                    "type": "string",
                    "format": "date",
                    "description": "下次跟进日期"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "potential",
                      "contacted",
                      "interested",
                      "enrolled",
                      "lost"
                    ],
                    "description": "更新客户状态"
                  }
                },
                "required": [
                  "content",
                  "type"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "跟进记录添加成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 201
                    },
                    "message": {
                      "type": "string",
                      "example": "跟进记录添加成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "description": "跟进记录ID"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "description": "权限不足"
          },
          "404": {
            "description": "客户不存在"
          }
        }
      }
    },
    "/principal/poster-templates": {
      "get": {
        "tags": [
          "园长管理"
        ],
        "summary": "获取海报模板列表",
        "description": "获取海报模板列表，支持分页和筛选",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer",
              "default": 12
            },
            "description": "每页数量"
          },
          {
            "in": "query",
            "name": "category",
            "schema": {
              "type": "string"
            },
            "description": "模板分类"
          },
          {
            "in": "query",
            "name": "keyword",
            "schema": {
              "type": "string"
            },
            "description": "搜索关键词"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取海报模板列表成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "items": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "integer"
                              },
                              "name": {
                                "type": "string"
                              },
                              "category": {
                                "type": "string"
                              },
                              "thumbnail": {
                                "type": "string"
                              },
                              "description": {
                                "type": "string"
                              },
                              "createdAt": {
                                "type": "string",
                                "format": "date-time"
                              }
                            }
                          }
                        },
                        "total": {
                          "type": "integer"
                        },
                        "page": {
                          "type": "integer"
                        },
                        "pageSize": {
                          "type": "integer"
                        },
                        "totalPages": {
                          "type": "integer"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "description": "权限不足"
          }
        }
      }
    },
    "/api/quick-query-groups": {
      "get": {
        "summary": "获取所有快捷查询分组",
        "description": "获取所有快捷查询分组，用于 /查询 命令的分组选择",
        "tags": [
          "快捷查询"
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string",
                            "description": "分组ID"
                          },
                          "name": {
                            "type": "string",
                            "description": "分组名称"
                          },
                          "icon": {
                            "type": "string",
                            "description": "分组图标"
                          },
                          "description": {
                            "type": "string",
                            "description": "分组描述"
                          },
                          "queries": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "keyword": {
                                  "type": "string",
                                  "description": "查询关键词"
                                },
                                "description": {
                                  "type": "string",
                                  "description": "查询描述"
                                },
                                "tokens": {
                                  "type": "number",
                                  "description": "预估token消耗"
                                },
                                "category": {
                                  "type": "string",
                                  "description": "查询类别"
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/quick-query-groups/overview": {
      "get": {
        "summary": "获取快捷查询分组概览",
        "description": "获取快捷查询分组概览信息，不包含具体查询列表",
        "tags": [
          "快捷查询"
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      }
    },
    "/api/quick-query-groups/{groupId}": {
      "get": {
        "summary": "获取指定分组的查询列表",
        "description": "根据分组ID获取该分组下的所有查询关键词",
        "tags": [
          "快捷查询"
        ],
        "parameters": [
          {
            "name": "groupId",
            "in": "path",
            "required": true,
            "description": "分组ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "404": {
            "description": "分组不存在"
          }
        }
      }
    },
    "/api/quick-query-groups/search": {
      "get": {
        "summary": "搜索查询关键词",
        "description": "根据关键词搜索相关的查询",
        "tags": [
          "快捷查询"
        ],
        "parameters": [
          {
            "name": "q",
            "in": "query",
            "required": true,
            "description": "搜索关键词",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "搜索成功"
          }
        }
      }
    },
    "/api/quick-query-groups/category/{category}": {
      "get": {
        "summary": "根据类别获取查询",
        "description": "根据查询类别获取相关查询",
        "tags": [
          "快捷查询"
        ],
        "parameters": [
          {
            "name": "category",
            "in": "path",
            "required": true,
            "description": "查询类别",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      }
    },
    "/api/referral-codes": {
      "get": {
        "summary": "获取referral_codes列表",
        "tags": [
          "ReferralCode"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      },
      "post": {
        "summary": "创建referral_codes",
        "tags": [
          "ReferralCode"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "201": {
            "description": "创建成功"
          }
        }
      }
    },
    "/api/referral-codes/{id}": {
      "get": {
        "summary": "获取referral_codes详情",
        "tags": [
          "ReferralCode"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      },
      "put": {
        "summary": "更新referral_codes",
        "tags": [
          "ReferralCode"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "更新成功"
          }
        }
      },
      "delete": {
        "summary": "删除referral_codes",
        "tags": [
          "ReferralCode"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功"
          }
        }
      }
    },
    "/api/referral-relationships": {
      "get": {
        "summary": "获取referral_relationships列表",
        "tags": [
          "ReferralRelationship"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      },
      "post": {
        "summary": "创建referral_relationships",
        "tags": [
          "ReferralRelationship"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "201": {
            "description": "创建成功"
          }
        }
      }
    },
    "/api/referral-relationships/{id}": {
      "get": {
        "summary": "获取referral_relationships详情",
        "tags": [
          "ReferralRelationship"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      },
      "put": {
        "summary": "更新referral_relationships",
        "tags": [
          "ReferralRelationship"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "更新成功"
          }
        }
      },
      "delete": {
        "summary": "删除referral_relationships",
        "tags": [
          "ReferralRelationship"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功"
          }
        }
      }
    },
    "/api/referral-rewards": {
      "get": {
        "summary": "获取referral_rewards列表",
        "tags": [
          "ReferralReward"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      },
      "post": {
        "summary": "创建referral_rewards",
        "tags": [
          "ReferralReward"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "201": {
            "description": "创建成功"
          }
        }
      }
    },
    "/api/referral-rewards/{id}": {
      "get": {
        "summary": "获取referral_rewards详情",
        "tags": [
          "ReferralReward"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      },
      "put": {
        "summary": "更新referral_rewards",
        "tags": [
          "ReferralReward"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "更新成功"
          }
        }
      },
      "delete": {
        "summary": "删除referral_rewards",
        "tags": [
          "ReferralReward"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功"
          }
        }
      }
    },
    "/api/referral-statistics": {
      "get": {
        "summary": "获取referral_statistics列表",
        "tags": [
          "ReferralStatistic"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      },
      "post": {
        "summary": "创建referral_statistics",
        "tags": [
          "ReferralStatistic"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "201": {
            "description": "创建成功"
          }
        }
      }
    },
    "/api/referral-statistics/{id}": {
      "get": {
        "summary": "获取referral_statistics详情",
        "tags": [
          "ReferralStatistic"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      },
      "put": {
        "summary": "更新referral_statistics",
        "tags": [
          "ReferralStatistic"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "更新成功"
          }
        }
      },
      "delete": {
        "summary": "删除referral_statistics",
        "tags": [
          "ReferralStatistic"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功"
          }
        }
      }
    },
    "/api/marketing/referrals/my-code": {
      "get": {
        "summary": "获取我的推广码",
        "tags": [
          "Referral"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取推广码"
          }
        }
      }
    },
    "/api/marketing/referrals/my-stats": {
      "get": {
        "summary": "获取我的推广统计",
        "tags": [
          "Referral"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取推广统计"
          }
        }
      }
    },
    "/api/marketing/referrals/my-records": {
      "get": {
        "summary": "获取我的转介绍记录",
        "tags": [
          "Referral"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer"
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer"
            },
            "description": "每页数量"
          },
          {
            "in": "query",
            "name": "visitorName",
            "schema": {
              "type": "string"
            },
            "description": "访客姓名"
          },
          {
            "in": "query",
            "name": "visitorPhone",
            "schema": {
              "type": "string"
            },
            "description": "访客手机"
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string",
              "enum": [
                "visited",
                "registered",
                "enrolled",
                "paid"
              ]
            },
            "description": "状态"
          },
          {
            "in": "query",
            "name": "source",
            "schema": {
              "type": "string",
              "enum": [
                "qrcode",
                "link",
                "other"
              ]
            },
            "description": "访问来源"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取转介绍记录"
          }
        }
      }
    },
    "/api/marketing/referrals/generate-poster": {
      "post": {
        "summary": "生成推广海报（模板方式）",
        "tags": [
          "Referral"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "referral_code": {
                    "type": "string"
                  },
                  "qr_code_url": {
                    "type": "string"
                  },
                  "kindergartenName": {
                    "type": "string"
                  },
                  "referrerName": {
                    "type": "string"
                  },
                  "mainTitle": {
                    "type": "string"
                  },
                  "subTitle": {
                    "type": "string"
                  },
                  "contactPhone": {
                    "type": "string"
                  },
                  "features": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "style": {
                    "type": "string",
                    "enum": [
                      "professional",
                      "warm",
                      "modern"
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "成功生成海报"
          }
        }
      }
    },
    "/api/marketing/referrals/track-visit": {
      "post": {
        "summary": "记录访问（公开接口）",
        "tags": [
          "Referral"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "referral_code"
                ],
                "properties": {
                  "referral_code": {
                    "type": "string"
                  },
                  "source": {
                    "type": "string",
                    "enum": [
                      "qrcode",
                      "link",
                      "other"
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "成功记录访问"
          }
        }
      }
    },
    "/api/marketing/referrals/track-conversion": {
      "post": {
        "summary": "记录转化",
        "tags": [
          "Referral"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "referral_code",
                  "status"
                ],
                "properties": {
                  "referral_code": {
                    "type": "string"
                  },
                  "visitor_name": {
                    "type": "string"
                  },
                  "visitor_phone": {
                    "type": "string"
                  },
                  "visitor_id": {
                    "type": "string"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "visited",
                      "registered",
                      "enrolled",
                      "paid"
                    ]
                  },
                  "enrolled_activity_id": {
                    "type": "string"
                  },
                  "enrolled_activity_name": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "成功记录转化"
          }
        }
      }
    },
    "/api/reminder-logs": {
      "get": {
        "summary": "获取提醒日志列表",
        "tags": [
          "ReminderLogs"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer",
              "default": 20
            },
            "description": "每页数量"
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string",
              "enum": [
                "pending",
                "sent",
                "failed"
              ]
            },
            "description": "发送状态"
          },
          {
            "in": "query",
            "name": "inspectionPlanId",
            "schema": {
              "type": "integer"
            },
            "description": "检查计划ID"
          },
          {
            "in": "query",
            "name": "sentTo",
            "schema": {
              "type": "integer"
            },
            "description": "接收人ID"
          },
          {
            "in": "query",
            "name": "channel",
            "schema": {
              "type": "string"
            },
            "description": "通知渠道"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取提醒日志列表"
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      },
      "post": {
        "summary": "创建提醒日志",
        "tags": [
          "ReminderLogs"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "inspectionPlanId",
                  "reminderId",
                  "sentTo",
                  "channel"
                ],
                "properties": {
                  "inspectionPlanId": {
                    "type": "integer"
                  },
                  "reminderId": {
                    "type": "integer"
                  },
                  "sentTo": {
                    "type": "integer"
                  },
                  "channel": {
                    "type": "string"
                  },
                  "message": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "提醒日志创建成功"
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/reminder-logs/stats": {
      "get": {
        "summary": "获取提醒统计",
        "tags": [
          "ReminderLogs"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "开始日期"
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "结束日期"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取提醒统计"
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/reminder-logs/{id}": {
      "get": {
        "summary": "获取提醒日志详情",
        "tags": [
          "ReminderLogs"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "日志ID"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取提醒日志详情"
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "日志不存在"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/reminder-logs/{id}/status": {
      "put": {
        "summary": "更新提醒日志状态",
        "tags": [
          "ReminderLogs"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "日志ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "status"
                ],
                "properties": {
                  "status": {
                    "type": "string",
                    "enum": [
                      "pending",
                      "sent",
                      "failed"
                    ]
                  },
                  "errorMessage": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "状态更新成功"
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "日志不存在"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/role-permissions": {
      "get": {
        "summary": "获取role_permissions列表",
        "description": "获取系统中所有角色权限关联的列表信息",
        "tags": [
          "RolePermission"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "获取角色权限关联列表成功"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/RolePermission"
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          }
        }
      },
      "post": {
        "summary": "创建role_permissions",
        "description": "为指定角色分配权限",
        "tags": [
          "RolePermission"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateRolePermissionRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "创建成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 201
                    },
                    "message": {
                      "type": "string",
                      "example": "创建角色权限关联成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/RolePermission"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      }
    },
    "/api/role-permissions/{id}": {
      "get": {
        "summary": "获取role_permissions详情",
        "description": "根据ID获取角色权限关联的详细信息",
        "tags": [
          "RolePermission"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "角色权限关联ID"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "获取角色权限关联详情成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/RolePermission"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      },
      "put": {
        "summary": "更新role_permissions",
        "description": "更新指定的角色权限关联信息",
        "tags": [
          "RolePermission"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "角色权限关联ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateRolePermissionRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "更新角色权限关联成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/RolePermission"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          }
        }
      },
      "delete": {
        "summary": "删除role_permissions",
        "description": "删除指定的角色权限关联",
        "tags": [
          "RolePermission"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "角色权限关联ID"
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "删除角色权限关联成功"
                    },
                    "data": {
                      "type": null
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          }
        }
      }
    },
    "/api/role-permissions/by-role/{roleId}": {
      "get": {
        "summary": "按角色获取权限关联",
        "description": "获取指定角色的所有权限关联信息",
        "tags": [
          "RolePermissions"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "roleId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "角色ID"
          }
        ],
        "responses": {
          "200": {
            "description": "获取角色权限关联成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "获取角色权限关联成功"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/RolePermission"
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          }
        }
      }
    },
    "/api/role-permissions/roles/{roleId}/permissions": {
      "post": {
        "summary": "为角色分配权限",
        "description": "为指定角色批量分配权限",
        "tags": [
          "RolePermissions"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "roleId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "角色ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PermissionIdsRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "权限分配成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          }
        }
      },
      "delete": {
        "summary": "移除角色的权限",
        "description": "批量移除角色的指定权限",
        "tags": [
          "RolePermissions"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "roleId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "角色ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PermissionIdsRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "权限移除成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          }
        }
      },
      "get": {
        "summary": "获取角色的所有权限",
        "description": "获取指定角色的所有权限列表",
        "tags": [
          "RolePermissions"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "roleId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "角色ID"
          }
        ],
        "responses": {
          "200": {
            "description": "获取角色权限成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          }
        }
      }
    },
    "/api/role-permissions/permissions/{permissionId}/inheritance": {
      "get": {
        "summary": "获取权限继承结构",
        "description": "获取指定权限的继承关系结构",
        "tags": [
          "RolePermissions"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "permissionId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "权限ID"
          }
        ],
        "responses": {
          "200": {
            "description": "获取权限继承结构成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          }
        }
      }
    },
    "/api/role-permissions/roles/{roleId}/permission-history": {
      "get": {
        "summary": "获取权限分配历史",
        "description": "获取指定角色的权限分配历史记录",
        "tags": [
          "RolePermissions"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "roleId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "角色ID"
          }
        ],
        "responses": {
          "200": {
            "description": "获取权限分配历史成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          }
        }
      }
    },
    "/api/role-permissions/check-conflicts": {
      "post": {
        "summary": "检查权限冲突",
        "description": "检查权限分配是否存在冲突",
        "tags": [
          "RolePermissions"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "roleId": {
                    "type": "integer",
                    "description": "角色ID"
                  },
                  "permissionIds": {
                    "type": "array",
                    "items": {
                      "type": "integer"
                    },
                    "description": "权限ID列表"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "权限冲突检查完成",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiResponse"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          }
        }
      }
    },
    "/api/roles/my-roles": {
      "get": {
        "summary": "获取当前用户的角色",
        "description": "获取当前登录用户拥有的所有角色信息",
        "tags": [
          "角色管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取用户角色成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer",
                            "description": "角色ID"
                          },
                          "name": {
                            "type": "string",
                            "description": "角色名称"
                          },
                          "code": {
                            "type": "string",
                            "description": "角色代码"
                          },
                          "description": {
                            "type": "string",
                            "description": "角色描述"
                          }
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "获取用户角色成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "未授权访问"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/roles/check/{roleCode}": {
      "get": {
        "summary": "检查用户是否有指定角色",
        "description": "检查当前登录用户是否拥有指定角色代码的角色",
        "tags": [
          "角色管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "roleCode",
            "required": true,
            "description": "角色代码",
            "schema": {
              "type": "string",
              "example": "ADMIN"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "角色检查成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "hasRole": {
                          "type": "boolean",
                          "description": "是否拥有该角色",
                          "example": true
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "角色检查成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "未授权访问"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/roles": {
      "get": {
        "summary": "获取roles列表",
        "description": "获取系统中所有角色的列表信息（管理员功能）",
        "tags": [
          "Role"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer",
                            "description": "角色ID",
                            "example": 1
                          },
                          "name": {
                            "type": "string",
                            "description": "角色名称",
                            "example": "管理员"
                          },
                          "code": {
                            "type": "string",
                            "description": "角色代码",
                            "example": "ADMIN"
                          },
                          "description": {
                            "type": "string",
                            "description": "角色描述",
                            "example": "系统管理员"
                          },
                          "status": {
                            "type": "integer",
                            "description": "角色状态",
                            "example": 1
                          },
                          "createdAt": {
                            "type": "string",
                            "format": "date-time",
                            "description": "创建时间"
                          },
                          "updatedAt": {
                            "type": "string",
                            "format": "date-time",
                            "description": "更新时间"
                          }
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "获取角色列表成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "description": "权限不足"
          }
        }
      },
      "post": {
        "summary": "创建roles",
        "description": "创建新的角色（管理员功能，需要ROLE_MANAGE权限）",
        "tags": [
          "Role"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "name",
                  "code"
                ],
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "角色名称",
                    "example": "教师"
                  },
                  "code": {
                    "type": "string",
                    "description": "角色代码",
                    "example": "TEACHER"
                  },
                  "description": {
                    "type": "string",
                    "description": "角色描述",
                    "example": "幼儿园教师角色"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "创建成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "description": "角色ID",
                          "example": 3
                        },
                        "name": {
                          "type": "string",
                          "description": "角色名称",
                          "example": "教师"
                        },
                        "code": {
                          "type": "string",
                          "description": "角色代码",
                          "example": "TEACHER"
                        },
                        "description": {
                          "type": "string",
                          "description": "角色描述",
                          "example": "幼儿园教师角色"
                        },
                        "status": {
                          "type": "integer",
                          "description": "角色状态",
                          "example": 1
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "角色创建成功"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "description": "权限不足"
          },
          "409": {
            "description": "角色代码已存在"
          }
        }
      }
    },
    "/api/roles/{id}": {
      "get": {
        "summary": "获取roles详情",
        "description": "根据角色ID获取角色的详细信息（管理员功能，需要ROLE_MANAGE权限）",
        "tags": [
          "Role"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "description": "角色ID",
            "schema": {
              "type": "integer",
              "example": 1
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "description": "角色ID",
                          "example": 1
                        },
                        "name": {
                          "type": "string",
                          "description": "角色名称",
                          "example": "管理员"
                        },
                        "code": {
                          "type": "string",
                          "description": "角色代码",
                          "example": "ADMIN"
                        },
                        "description": {
                          "type": "string",
                          "description": "角色描述",
                          "example": "系统管理员"
                        },
                        "status": {
                          "type": "integer",
                          "description": "角色状态",
                          "example": 1
                        },
                        "createdAt": {
                          "type": "string",
                          "format": "date-time",
                          "description": "创建时间"
                        },
                        "updatedAt": {
                          "type": "string",
                          "format": "date-time",
                          "description": "更新时间"
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "获取角色详情成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "description": "权限不足"
          },
          "404": {
            "description": "角色不存在"
          }
        }
      },
      "put": {
        "summary": "更新roles",
        "description": "更新指定角色的信息（管理员功能，需要ROLE_MANAGE权限）",
        "tags": [
          "Role"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "description": "角色ID",
            "schema": {
              "type": "integer",
              "example": 1
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "角色名称",
                    "example": "高级管理员"
                  },
                  "code": {
                    "type": "string",
                    "description": "角色代码",
                    "example": "ADMIN"
                  },
                  "description": {
                    "type": "string",
                    "description": "角色描述",
                    "example": "系统高级管理员"
                  },
                  "status": {
                    "type": "integer",
                    "description": "角色状态",
                    "example": 1
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "description": "角色ID",
                          "example": 1
                        },
                        "name": {
                          "type": "string",
                          "description": "角色名称",
                          "example": "高级管理员"
                        },
                        "code": {
                          "type": "string",
                          "description": "角色代码",
                          "example": "ADMIN"
                        },
                        "description": {
                          "type": "string",
                          "description": "角色描述",
                          "example": "系统高级管理员"
                        },
                        "status": {
                          "type": "integer",
                          "description": "角色状态",
                          "example": 1
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "角色更新成功"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "description": "权限不足"
          },
          "404": {
            "description": "角色不存在"
          },
          "409": {
            "description": "角色代码已存在"
          }
        }
      },
      "delete": {
        "summary": "删除roles",
        "description": "删除指定的角色（管理员功能，需要ROLE_MANAGE权限）",
        "tags": [
          "Role"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "description": "角色ID",
            "schema": {
              "type": "integer",
              "example": 3
            }
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "角色删除成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "description": "权限不足"
          },
          "404": {
            "description": "角色不存在"
          },
          "409": {
            "description": "角色正在使用中，无法删除"
          }
        }
      }
    },
    "/api/roles-backup": {
      "get": {
        "summary": "获取roles_backup列表",
        "tags": [
          "RoleBackup"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      },
      "post": {
        "summary": "创建roles_backup",
        "tags": [
          "RoleBackup"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "201": {
            "description": "创建成功"
          }
        }
      }
    },
    "/api/roles-backup/{id}": {
      "get": {
        "summary": "获取roles_backup详情",
        "tags": [
          "RoleBackup"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      },
      "put": {
        "summary": "更新roles_backup",
        "tags": [
          "RoleBackup"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "更新成功"
          }
        }
      },
      "delete": {
        "summary": "删除roles_backup",
        "tags": [
          "RoleBackup"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功"
          }
        }
      }
    },
    "/api/schedules": {
      "get": {
        "summary": "获取日程列表",
        "tags": [
          "Schedules"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 10
            },
            "description": "每页数量"
          },
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "开始日期"
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "结束日期"
          },
          {
            "in": "query",
            "name": "location",
            "schema": {
              "type": "string"
            },
            "description": "地点"
          },
          {
            "in": "query",
            "name": "userId",
            "schema": {
              "type": "integer"
            },
            "description": "用户ID"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      },
      "post": {
        "summary": "创建日程",
        "tags": [
          "Schedules"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "title",
                  "startTime",
                  "endTime"
                ],
                "properties": {
                  "title": {
                    "type": "string",
                    "description": "日程标题",
                    "example": "团队会议"
                  },
                  "description": {
                    "type": "string",
                    "description": "日程描述",
                    "example": "讨论项目进度"
                  },
                  "startTime": {
                    "type": "string",
                    "format": "date-time",
                    "description": "开始时间"
                  },
                  "endTime": {
                    "type": "string",
                    "format": "date-time",
                    "description": "结束时间"
                  },
                  "location": {
                    "type": "string",
                    "description": "地点"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "创建成功"
          }
        }
      }
    },
    "/api/schedules/statistics": {
      "get": {
        "summary": "获取日程统计",
        "tags": [
          "Schedules"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "统计数据获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "description": "日程统计数据"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/schedules/stats": {
      "get": {
        "summary": "获取日程统计（别名）",
        "tags": [
          "Schedules"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "统计数据获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "description": "日程统计数据"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/schedules/{id}": {
      "get": {
        "summary": "获取日程详情",
        "tags": [
          "Schedules"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "日程ID"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "404": {
            "description": "日程不存在"
          }
        }
      },
      "put": {
        "summary": "更新日程",
        "tags": [
          "Schedules"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "日程ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "title": {
                    "type": "string",
                    "description": "日程标题"
                  },
                  "description": {
                    "type": "string",
                    "description": "日程描述"
                  },
                  "startTime": {
                    "type": "string",
                    "format": "date-time",
                    "description": "开始时间"
                  },
                  "endTime": {
                    "type": "string",
                    "format": "date-time",
                    "description": "结束时间"
                  },
                  "location": {
                    "type": "string",
                    "description": "地点"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新成功"
          },
          "404": {
            "description": "日程不存在"
          }
        }
      },
      "delete": {
        "summary": "删除日程",
        "tags": [
          "Schedules"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "日程ID"
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功"
          },
          "404": {
            "description": "日程不存在"
          }
        }
      }
    },
    "/script-category": {
      "get": {
        "summary": "获取脚本分类列表",
        "description": "获取所有脚本分类的列表，支持树形结构展示，包括分类层级关系、脚本数量统计、使用状态等信息。",
        "tags": [
          "脚本分类管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "includeStats",
            "schema": {
              "type": "boolean",
              "default": true
            },
            "description": "是否包含统计信息"
          },
          {
            "in": "query",
            "name": "includeChildren",
            "schema": {
              "type": "boolean",
              "default": true
            },
            "description": "是否包含子分类"
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string",
              "enum": [
                "all",
                "active",
                "inactive"
              ],
              "default": "all"
            },
            "description": "状态筛选"
          },
          {
            "in": "query",
            "name": "level",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 5
            },
            "description": "分类层级筛选"
          },
          {
            "in": "query",
            "name": "search",
            "schema": {
              "type": "string",
              "maxLength": 100
            },
            "description": "搜索关键词（分类名称或描述）"
          }
        ],
        "responses": {
          "200": {
            "description": "获取脚本分类列表成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取脚本分类列表成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "categories": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/ScriptCategory"
                          }
                        },
                        "totalCategories": {
                          "type": "integer",
                          "example": 25
                        },
                        "activeCategories": {
                          "type": "integer",
                          "example": 20
                        },
                        "treeStructure": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "integer",
                                "example": 1
                              },
                              "name": {
                                "type": "string",
                                "example": "教学脚本"
                              },
                              "level": {
                                "type": "integer",
                                "example": 1
                              },
                              "children": {
                                "type": "array",
                                "items": {
                                  "type": "object"
                                },
                                "description": "子分类树形结构"
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "500": {
            "$ref": "#/components/responses/InternalError"
          }
        }
      },
      "post": {
        "summary": "创建脚本分类",
        "description": "创建新的脚本分类，支持层级结构设置。可以指定父分类创建子分类，设置颜色标识、描述信息等。",
        "tags": [
          "脚本分类管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "name"
                ],
                "properties": {
                  "name": {
                    "type": "string",
                    "maxLength": 50,
                    "example": "AI辅助脚本",
                    "description": "分类名称（在同一层级下唯一）"
                  },
                  "description": {
                    "type": "string",
                    "maxLength": 500,
                    "example": "包含AI辅助功能的教学脚本分类",
                    "description": "分类描述"
                  },
                  "parentId": {
                    "type": "integer",
                    "minimum": 1,
                    "example": 1,
                    "description": "父分类ID（null表示顶级分类）"
                  },
                  "color": {
                    "type": "string",
                    "pattern": "^#[0-9A-Fa-f]{6}$",
                    "example": "#2196F3",
                    "description": "分类颜色标识"
                  },
                  "icon": {
                    "type": "string",
                    "maxLength": 50,
                    "example": "robot",
                    "description": "分类图标"
                  },
                  "sortOrder": {
                    "type": "integer",
                    "minimum": 0,
                    "default": 0,
                    "description": "排序顺序"
                  },
                  "isActive": {
                    "type": "boolean",
                    "default": true,
                    "description": "是否激活"
                  },
                  "metadata": {
                    "type": "object",
                    "properties": {
                      "tags": {
                        "type": "array",
                        "items": {
                          "type": "string",
                          "maxLength": 30
                        },
                        "maxItems": 5,
                        "example": [
                          "AI",
                          "智能",
                          "教学"
                        ]
                      },
                      "visibility": {
                        "type": "string",
                        "enum": [
                          "public",
                          "private",
                          "restricted"
                        ],
                        "default": "public"
                      },
                      "allowedRoles": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        },
                        "example": [
                          "teacher",
                          "admin"
                        ]
                      }
                    },
                    "description": "分类元数据"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "创建脚本分类成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "创建脚本分类成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/ScriptCategory"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidationError"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "409": {
            "description": "分类名称已存在",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "同级分类下已存在相同名称"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "parentId": {
                          "type": "integer",
                          "example": 1
                        },
                        "existingName": {
                          "type": "string",
                          "example": "AI辅助脚本"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/InternalError"
          }
        }
      }
    },
    "/script-category/stats": {
      "get": {
        "summary": "获取脚本分类统计信息",
        "description": "获取脚本分类系统的统计信息，包括分类数量、脚本分布、使用情况、层级结构等统计数据。",
        "tags": [
          "脚本分类管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取分类统计信息成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取脚本分类统计信息成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "overview": {
                          "type": "object",
                          "properties": {
                            "totalCategories": {
                              "type": "integer",
                              "example": 25
                            },
                            "activeCategories": {
                              "type": "integer",
                              "example": 20
                            },
                            "rootCategories": {
                              "type": "integer",
                              "example": 8
                            },
                            "maxDepth": {
                              "type": "integer",
                              "example": 4
                            },
                            "totalScripts": {
                              "type": "integer",
                              "example": 156
                            }
                          }
                        },
                        "levelDistribution": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "level": {
                                "type": "integer",
                                "example": 1
                              },
                              "count": {
                                "type": "integer",
                                "example": 8
                              },
                              "percentage": {
                                "type": "number",
                                "format": "float",
                                "example": 32
                              }
                            }
                          }
                        },
                        "topCategories": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "categoryId": {
                                "type": "integer",
                                "example": 1
                              },
                              "categoryName": {
                                "type": "string",
                                "example": "教学脚本"
                              },
                              "scriptCount": {
                                "type": "integer",
                                "example": 45
                              },
                              "usageCount": {
                                "type": "integer",
                                "example": 128
                              },
                              "lastUsedAt": {
                                "type": "string",
                                "format": "date-time"
                              }
                            }
                          }
                        },
                        "recentActivity": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "action": {
                                "type": "string",
                                "enum": [
                                  "created",
                                  "updated",
                                  "deleted",
                                  "used"
                                ],
                                "example": "created"
                              },
                              "categoryName": {
                                "type": "string",
                                "example": "AI辅助脚本"
                              },
                              "timestamp": {
                                "type": "string",
                                "format": "date-time"
                              },
                              "userId": {
                                "type": "string"
                              },
                              "userName": {
                                "type": "string"
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "500": {
            "$ref": "#/components/responses/InternalError"
          }
        }
      }
    },
    "/script-category/init-default": {
      "post": {
        "summary": "初始化默认脚本分类",
        "description": "创建系统默认的脚本分类结构，包括基础的教学脚本、管理脚本、活动脚本等预定义分类。通常在系统初始化时调用。",
        "tags": [
          "脚本分类管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "forceRecreate": {
                    "type": "boolean",
                    "default": false,
                    "description": "是否强制重新创建（会删除现有分类）"
                  },
                  "includeSamples": {
                    "type": "boolean",
                    "default": true,
                    "description": "是否包含示例分类"
                  },
                  "customCategories": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "name": {
                          "type": "string",
                          "maxLength": 50,
                          "example": "自定义分类"
                        },
                        "description": {
                          "type": "string",
                          "maxLength": 200,
                          "example": "用户自定义的分类"
                        },
                        "parentId": {
                          "type": "integer",
                          "example": null
                        },
                        "color": {
                          "type": "string",
                          "pattern": "^#[0-9A-Fa-f]{6}$",
                          "example": "#FF5722"
                        }
                      }
                    },
                    "description": "额外的自定义分类配置"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "初始化默认分类成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "初始化默认脚本分类成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "createdCategories": {
                          "type": "integer",
                          "example": 12
                        },
                        "updatedCategories": {
                          "type": "integer",
                          "example": 3
                        },
                        "skippedCategories": {
                          "type": "integer",
                          "example": 0
                        },
                        "categories": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/ScriptCategory"
                          }
                        },
                        "treeStructure": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "integer",
                                "name": {
                                  "type": "string"
                                },
                                "level": {
                                  "type": "integer"
                                },
                                "children": {
                                  "type": "array"
                                },
                                "description": "创建的分类树形结构"
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "系统已存在分类，无法初始化",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "系统已存在脚本分类，请设置forceRecreate为true"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "existingCount": {
                          "type": "integer",
                          "example": 8
                        },
                        "suggestion": {
                          "type": "string",
                          "example": "使用forceRecreate参数强制重新初始化"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "500": {
            "$ref": "#/components/responses/InternalError"
          }
        }
      }
    },
    "/script-category/sort": {
      "put": {
        "summary": "更新分类排序",
        "description": "批量更新脚本分类的排序顺序，支持拖拽排序、层级调整等操作。用于管理分类的显示顺序和组织结构。",
        "tags": [
          "脚本分类管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "sortData"
                ],
                "properties": {
                  "sortData": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "required": [
                        "categoryId",
                        "sortOrder"
                      ],
                      "properties": {
                        "categoryId": {
                          "type": "integer",
                          "minimum": 1,
                          "example": 1,
                          "description": "分类ID"
                        },
                        "sortOrder": {
                          "type": "integer",
                          "minimum": 0,
                          "example": 0,
                          "description": "排序顺序"
                        },
                        "parentId": {
                          "type": "integer",
                          "example": null,
                          "description": "父分类ID（用于层级调整）"
                        }
                      }
                    },
                    "description": "排序数据数组"
                  },
                  "operation": {
                    "type": "string",
                    "enum": [
                      "reorder",
                      "move",
                      "batch"
                    ],
                    "default": "reorder",
                    "description": "操作类型：重新排序、移动位置、批量操作"
                  },
                  "targetParentId": {
                    "type": "integer",
                    "example": null,
                    "description": "目标父分类ID（移动操作时使用）"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新排序成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "更新分类排序成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "updatedCategories": {
                          "type": "integer",
                          "example": 8
                        },
                        "affectedCategories": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "categoryId": {
                                "type": "integer",
                                "example": 1
                              },
                              "categoryName": {
                                "type": "string",
                                "example": "教学脚本"
                              },
                              "oldSortOrder": {
                                "type": "integer",
                                "example": 2
                              },
                              "newSortOrder": {
                                "type": "integer",
                                "example": 0
                              }
                            }
                          }
                        },
                        "treeStructure": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "description": "更新后的分类树形结构"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误或操作冲突",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "排序数据格式错误"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "invalidCategories": {
                          "type": "array",
                          "items": {
                            "type": "integer"
                          },
                          "example": [
                            999
                          ]
                        },
                        "conflicts": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          },
                          "example": [
                            "重复的排序顺序"
                          ]
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "500": {
            "$ref": "#/components/responses/InternalError"
          }
        }
      }
    },
    "/script-category/{id}": {
      "get": {
        "summary": "获取脚本分类详情",
        "description": "根据分类ID获取指定脚本分类的详细信息，包括基本信息、统计数据、子分类列表、关联的脚本等。",
        "tags": [
          "脚本分类管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "description": "分类ID"
          },
          {
            "in": "query",
            "name": "includeChildren",
            "schema": {
              "type": "boolean",
              "default": true
            },
            "description": "是否包含子分类信息"
          },
          {
            "in": "query",
            "name": "includeScripts",
            "schema": {
              "type": "boolean",
              "default": false
            },
            "description": "是否包含关联的脚本列表"
          },
          {
            "in": "query",
            "name": "includeStats",
            "schema": {
              "type": "boolean",
              "default": true
            },
            "description": "是否包含统计信息"
          },
          {
            "in": "query",
            "name": "scriptsPage",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            },
            "description": "脚本列表页码（当includeScripts为true时）"
          },
          {
            "in": "query",
            "name": "scriptsPageSize",
            "schema": {
              "type": "integer",
              "minimum": 5,
              "maximum": 50,
              "default": 20
            },
            "description": "脚本列表每页数量"
          }
        ],
        "responses": {
          "200": {
            "description": "获取分类详情成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取脚本分类详情成功"
                    },
                    "data": {
                      "allOf": [
                        {
                          "$ref": "#/components/schemas/ScriptCategory"
                        },
                        {
                          "type": "object",
                          "properties": {
                            "children": {
                              "type": "array",
                              "items": {
                                "$ref": "#/components/schemas/ScriptCategorySummary"
                              },
                              "description": "子分类列表"
                            },
                            "scripts": {
                              "type": "object",
                              "properties": {
                                "scripts": {
                                  "type": "array",
                                  "items": {
                                    "$ref": "#/components/schemas/ScriptSummary"
                                  }
                                },
                                "pagination": {
                                  "$ref": "#/components/schemas/Pagination"
                                }
                              },
                              "description": "关联的脚本列表"
                            },
                            "statistics": {
                              "type": "object",
                              "properties": {
                                "totalScripts": {
                                  "type": "integer",
                                  "example": 45
                                },
                                "activeScripts": {
                                  "type": "integer",
                                  "example": 38
                                },
                                "usageCount": {
                                  "type": "integer"
                                },
                                "example": 156,
                                "lastUsedAt": {
                                  "type": "string",
                                  "format": "date-time"
                                },
                                "popularTags": {
                                  "type": "array",
                                  "items": {
                                    "type": "string"
                                  },
                                  "example": [
                                    "教学",
                                    "互动",
                                    "AI辅助"
                                  ]
                                }
                              }
                            },
                            "parentPath": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "properties": {
                                  "id": {
                                    "type": "integer"
                                  },
                                  "name": {
                                    "type": "string"
                                  },
                                  "level": {
                                    "type": "integer"
                                  }
                                }
                              },
                              "description": "父分类路径"
                            }
                          }
                        }
                      ]
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "500": {
            "$ref": "#/components/responses/InternalError"
          }
        }
      },
      "put": {
        "summary": "更新脚本分类",
        "description": "更新指定脚本分类的信息，包括名称、描述、颜色、排序等。更新操作会影响关联的脚本和子分类的层级关系。",
        "tags": [
          "脚本分类管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "description": "分类ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "maxLength": 50,
                    "example": "更新后的分类名称",
                    "description": "分类名称"
                  },
                  "description": {
                    "type": "string",
                    "maxLength": 500,
                    "example": "更新后的分类描述",
                    "description": "分类描述"
                  },
                  "parentId": {
                    "type": "integer",
                    "minimum": 1,
                    "example": 2,
                    "description": "父分类ID（用于调整层级）"
                  },
                  "color": {
                    "type": "string",
                    "pattern": "^#[0-9A-Fa-f]{6}$",
                    "example": "#FF9800",
                    "description": "分类颜色标识"
                  },
                  "icon": {
                    "type": "string",
                    "maxLength": 50,
                    "example": "smart_toy",
                    "description": "分类图标"
                  },
                  "sortOrder": {
                    "type": "integer",
                    "minimum": 0,
                    "example": 5,
                    "description": "排序顺序"
                  },
                  "isActive": {
                    "type": "boolean",
                    "example": true,
                    "description": "是否激活"
                  },
                  "metadata": {
                    "type": "object",
                    "properties": {
                      "tags": {
                        "type": "array",
                        "items": {
                          "type": "string",
                          "maxLength": 30
                        },
                        "maxItems": 5,
                        "example": [
                          "更新",
                          "标签"
                        ]
                      },
                      "visibility": {
                        "type": "string",
                        "enum": [
                          "public",
                          "private",
                          "restricted"
                        ],
                        "example": "public"
                      }
                    },
                    "description": "分类元数据"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新脚本分类成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "更新脚本分类成功"
                    },
                    "data": {
                      "allOf": [
                        {
                          "$ref": "#/components/schemas/ScriptCategory"
                        },
                        {
                          "type": "object",
                          "properties": {
                            "updateInfo": {
                              "type": "object",
                              "properties": {
                                "changedFields": {
                                  "type": "array",
                                  "items": {
                                    "type": "string"
                                  },
                                  "example": [
                                    "name",
                                    "description"
                                  ]
                                },
                                "hierarchyChanged": {
                                  "type": "boolean",
                                  "example": false
                                },
                                "affectedChildren": {
                                  "type": "integer",
                                  "example": 3
                                }
                              }
                            }
                          }
                        }
                      ]
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误或层级冲突",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "不能将分类移动到自己的子分类下"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "categoryId": {
                          "type": "integer",
                          "example": 1
                        },
                        "targetParentId": {
                          "type": "integer",
                          "example": 5
                        },
                        "conflictType": {
                          "type": "string",
                          "example": "circular_reference"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "409": {
            "description": "分类名称已存在",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "同级分类下已存在相同名称"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/InternalError"
          }
        }
      },
      "delete": {
        "summary": "删除脚本分类",
        "description": "删除指定的脚本分类。如果分类下有子分类或关联的脚本，需要先处理这些关联关系。支持强制删除和级联删除选项。",
        "tags": [
          "脚本分类管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "description": "分类ID"
          },
          {
            "in": "query",
            "name": "force",
            "schema": {
              "type": "boolean",
              "default": false
            },
            "description": "是否强制删除（即使分类下有脚本）"
          },
          {
            "in": "query",
            "name": "cascade",
            "schema": {
              "type": "boolean",
              "default": false
            },
            "description": "是否级联删除子分类"
          },
          {
            "in": "query",
            "name": "moveScriptsTo",
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "description": "将脚本移动到指定分类ID（不为空时）"
          }
        ],
        "responses": {
          "200": {
            "description": "删除脚本分类成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "删除脚本分类成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "deletedCategoryId": {
                          "type": "integer",
                          "example": 1
                        },
                        "deletedCategoryName": {
                          "type": "string",
                          "example": "测试分类"
                        },
                        "affectedChildren": {
                          "type": "integer",
                          "example": 0
                        },
                        "affectedScripts": {
                          "type": "integer",
                          "example": 0
                        },
                        "movedScripts": {
                          "type": "integer",
                          "example": 5
                        },
                        "targetCategoryId": {
                          "type": "integer",
                          "example": 2
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "分类下存在关联数据，无法删除",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "分类下存在子分类和脚本，无法删除"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "categoryId": {
                          "type": "integer",
                          "example": 1
                        },
                        "childrenCount": {
                          "type": "integer",
                          "example": 3
                        },
                        "scriptsCount": {
                          "type": "integer",
                          "example": 12
                        },
                        "suggestions": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          },
                          "example": [
                            "设置cascade为true级联删除子分类",
                            "设置moveScriptsTo将脚本移动到其他分类"
                          ]
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "500": {
            "$ref": "#/components/responses/InternalError"
          }
        }
      }
    },
    "/script-template/match": {
      "post": {
        "summary": "匹配话术模板",
        "description": "根据输入的关键词、场景和参数智能匹配最适合的话术模板。这是AI智能话术推荐的核心接口，支持多维度匹配算法。",
        "tags": [
          "话术模板管理"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "keywords"
                ],
                "properties": {
                  "keywords": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "maxLength": 100
                    },
                    "minItems": 1,
                    "maxItems": 10,
                    "example": [
                      "家长沟通",
                      "入学咨询",
                      "课程介绍"
                    ],
                    "description": "搜索关键词列表"
                  },
                  "scenario": {
                    "type": "string",
                    "enum": [
                      "phone_call",
                      "face_to_face",
                      "wechat",
                      "email",
                      "meeting"
                    ],
                    "example": "phone_call",
                    "description": "通话场景类型"
                  },
                  "targetRole": {
                    "type": "string",
                    "enum": [
                      "parent",
                      "student",
                      "teacher",
                      "admin"
                    ],
                    "example": "parent",
                    "description": "沟通对象角色"
                  },
                  "categoryId": {
                    "type": "integer",
                    "minimum": 1,
                    "example": 1,
                    "description": "话术分类ID（可选，用于限定匹配范围）"
                  },
                  "emotion": {
                    "type": "string",
                    "enum": [
                      "friendly",
                      "professional",
                      "urgent",
                      "caring",
                      "enthusiastic"
                    ],
                    "example": "friendly",
                    "description": "期望的情感基调"
                  },
                  "language": {
                    "type": "string",
                    "enum": [
                      "chinese",
                      "english",
                      "bilingual"
                    ],
                    "default": "chinese",
                    "description": "语言偏好"
                  },
                  "limit": {
                    "type": "integer",
                    "minimum": 1,
                    "maximum": 20,
                    "default": 5,
                    "description": "返回结果数量限制"
                  },
                  "context": {
                    "type": "object",
                    "properties": {
                      "studentAge": {
                        "type": "integer",
                        "minimum": 1,
                        "maximum": 12,
                        "example": 5
                      },
                      "studentGrade": {
                        "type": "string",
                        "example": "大班"
                      },
                      "previousInteractions": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        },
                        "example": [
                          "已电话联系过一次",
                          "家长表示有兴趣"
                        ]
                      }
                    },
                    "description": "上下文信息（用于更精准匹配）"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "匹配话术模板成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "匹配话术模板成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "matchCount": {
                          "type": "integer",
                          "example": 5
                        },
                        "searchTime": {
                          "type": "number",
                          "format": "float",
                          "example": 0.045
                        },
                        "templates": {
                          "type": "array",
                          "items": {
                            "allOf": [
                              {
                                "$ref": "#/components/schemas/ScriptTemplateSummary"
                              },
                              {
                                "type": "object",
                                "properties": {
                                  "matchScore": {
                                    "type": "number",
                                    "format": "float",
                                    "minimum": 0,
                                    "maximum": 1,
                                    "example": 0.92
                                  },
                                  "matchReasons": {
                                    "type": "array",
                                    "items": {
                                      "type": "string"
                                    },
                                    "example": [
                                      "关键词匹配: 家长沟通",
                                      "场景匹配: 电话沟通"
                                    ]
                                  },
                                  "relevance": {
                                    "type": "string",
                                    "enum": [
                                      "high",
                                      "medium",
                                      "low"
                                    ],
                                    "example": "high"
                                  }
                                }
                              }
                            ]
                          }
                        },
                        "searchSummary": {
                          "type": "object",
                          "properties": {
                            "totalSearched": {
                              "type": "integer",
                              "example": 156
                            },
                            "filteredByCategory": {
                              "type": "integer",
                              "example": 45
                            },
                            "aiScored": {
                              "type": "integer",
                              "example": 8
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidationError"
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/InternalError"
          }
        }
      }
    },
    "/script-template": {
      "get": {
        "summary": "获取话术模板列表",
        "description": "获取话术模板的完整列表，支持多维度筛选、搜索和排序功能。包括模板基本信息、使用统计、分类标签等。",
        "tags": [
          "话术模板管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer",
              "minimum": 10,
              "maximum": 100,
              "default": 20
            },
            "description": "每页数量"
          },
          {
            "in": "query",
            "name": "categoryId",
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "description": "分类ID筛选"
          },
          {
            "in": "query",
            "name": "scenario",
            "schema": {
              "type": "string",
              "enum": [
                "phone_call",
                "face_to_face",
                "wechat",
                "email",
                "meeting",
                "all"
              ],
              "default": "all"
            },
            "description": "通话场景筛选"
          },
          {
            "in": "query",
            "name": "targetRole",
            "schema": {
              "type": "string",
              "enum": [
                "parent",
                "student",
                "teacher",
                "admin",
                "all"
              ],
              "default": "all"
            },
            "description": "目标角色筛选"
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string",
              "enum": [
                "active",
                "inactive",
                "draft",
                "archived",
                "all"
              ],
              "default": "all"
            },
            "description": "状态筛选"
          },
          {
            "in": "query",
            "name": "search",
            "schema": {
              "type": "string",
              "maxLength": 200
            },
            "description": "搜索关键词（标题、内容、标签）"
          },
          {
            "in": "query",
            "name": "tags",
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "description": "标签筛选"
          },
          {
            "in": "query",
            "name": "sortBy",
            "schema": {
              "type": "string",
              "enum": [
                "name",
                "usageCount",
                "rating",
                "createdAt",
                "updatedAt"
              ],
              "default": "usageCount"
            },
            "description": "排序字段"
          },
          {
            "in": "query",
            "name": "sortOrder",
            "schema": {
              "type": "string",
              "enum": [
                "asc",
                "desc"
              ],
              "default": "desc"
            },
            "description": "排序方向"
          },
          {
            "in": "query",
            "name": "includeStats",
            "schema": {
              "type": "boolean",
              "default": false
            },
            "description": "是否包含详细统计信息"
          },
          {
            "in": "query",
            "name": "createdBy",
            "schema": {
              "type": "string"
            },
            "description": "创建者筛选"
          }
        ],
        "responses": {
          "200": {
            "description": "获取话术模板列表成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取话术模板列表成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "templates": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/ScriptTemplateSummary"
                          }
                        },
                        "pagination": {
                          "$ref": "#/components/schemas/Pagination"
                        },
                        "filters": {
                          "type": "object",
                          "properties": {
                            "categories": {
                              "type": "array",
                              "items": {
                                "$ref": "#/components/schemas/ScriptCategorySummary"
                              }
                            },
                            "scenarios": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              },
                              "example": [
                                "phone_call",
                                "face_to_face"
                              ]
                            },
                            "targetRoles": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              },
                              "example": [
                                "parent",
                                "teacher"
                              ]
                            }
                          }
                        },
                        "statistics": {
                          "type": "object",
                          "properties": {
                            "totalTemplates": {
                              "type": "integer",
                              "example": 156
                            },
                            "activeTemplates": {
                              "type": "integer",
                              "example": 128
                            },
                            "totalUsage": {
                              "type": "integer",
                              "example": 3456
                            },
                            "averageRating": {
                              "type": "number",
                              "format": "float",
                              "example": 4.2
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "500": {
            "$ref": "#/components/responses/InternalError"
          }
        }
      },
      "post": {
        "summary": "创建话术模板",
        "description": "创建新的话术模板，支持富文本内容、多媒体附件、多个变体版本。创建后可以立即投入使用或保存为草稿。",
        "tags": [
          "话术模板管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "title",
                  "content",
                  "categoryId",
                  "scenario",
                  "targetRole"
                ],
                "properties": {
                  "title": {
                    "type": "string",
                    "maxLength": 200,
                    "example": "新生入园电话沟通话术",
                    "description": "模板标题（必填）"
                  },
                  "description": {
                    "type": "string",
                    "maxLength": 1000,
                    "example": "用于首次电话联系新生家长，介绍幼儿园基本情况并邀请入园参观",
                    "description": "模板描述"
                  },
                  "content": {
                    "type": "string",
                    "maxLength": 10000,
                    "example": "尊敬的家长，您好！我是XX幼儿园的老师[老师姓名]...",
                    "description": "模板主要内容（支持HTML格式）"
                  },
                  "categoryId": {
                    "type": "integer",
                    "minimum": 1,
                    "example": 1,
                    "description": "所属分类ID"
                  },
                  "scenario": {
                    "type": "string",
                    "enum": [
                      "phone_call",
                      "face_to_face",
                      "wechat",
                      "email",
                      "meeting"
                    ],
                    "example": "phone_call",
                    "description": "适用场景"
                  },
                  "targetRole": {
                    "type": "string",
                    "enum": [
                      "parent",
                      "student",
                      "teacher",
                      "admin"
                    ],
                    "example": "parent",
                    "description": "目标沟通对象"
                  },
                  "emotion": {
                    "type": "string",
                    "enum": [
                      "friendly",
                      "professional",
                      "urgent",
                      "caring",
                      "enthusiastic"
                    ],
                    "example": "friendly",
                    "description": "情感基调"
                  },
                  "language": {
                    "type": "string",
                    "enum": [
                      "chinese",
                      "english",
                      "bilingual"
                    ],
                    "default": "chinese",
                    "description": "语言类型"
                  },
                  "estimatedDuration": {
                    "type": "integer",
                    "minimum": 30,
                    "maximum": 3600,
                    "example": 180,
                    "description": "预估沟通时长（秒）"
                  },
                  "tags": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "maxLength": 50
                    },
                    "maxItems": 10,
                    "example": [
                      "新生",
                      "电话",
                      "首次沟通",
                      "家长"
                    ],
                    "description": "标签列表"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "active",
                      "inactive",
                      "draft"
                    ],
                    "default": "draft",
                    "description": "模板状态"
                  },
                  "variants": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "title": {
                          "type": "string",
                          "maxLength": 200,
                          "example": "新生入园电话沟通话术（简洁版）"
                        },
                        "content": {
                          "type": "string",
                          "maxLength": 10000
                        },
                        "purpose": {
                          "type": "string",
                          "enum": [
                            "simplified",
                            "detailed",
                            "formal",
                            "casual"
                          ],
                          "example": "simplified"
                        }
                      },
                      "description": "模板变体版本"
                    }
                  },
                  "attachments": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "type": {
                          "type": "string",
                          "enum": [
                            "image",
                            "document",
                            "audio",
                            "video"
                          ],
                          "example": "image"
                        },
                        "name": {
                          "type": "string",
                          "maxLength": 100,
                          "example": "幼儿园环境照片"
                        },
                        "url": {
                          "type": "string",
                          "format": "uri",
                          "example": "https://example.com/images/kindergarten.jpg"
                        },
                        "description": {
                          "type": "string",
                          "maxLength": 200
                        }
                      }
                    },
                    "description": "附件列表"
                  },
                  "isPublic": {
                    "type": "boolean",
                    "default": false,
                    "description": "是否为公共模板"
                  },
                  "metadata": {
                    "type": "object",
                    "properties": {
                      "difficulty": {
                        "type": "string",
                        "enum": [
                          "beginner",
                          "intermediate",
                          "advanced"
                        ],
                        "example": "beginner"
                      },
                      "experienceRequired": {
                        "type": "string",
                        "enum": [
                          "none",
                          "basic",
                          "experienced"
                        ],
                        "example": "basic"
                      },
                      "bestPracticeTips": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        },
                        "example": [
                          "保持语气温和",
                          "重点突出幼儿园特色"
                        ]
                      }
                    },
                    "description": "元数据信息"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "创建话术模板成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "创建话术模板成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/ScriptTemplate"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidationError"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "500": {
            "$ref": "#/components/responses/InternalError"
          }
        }
      }
    },
    "/script-template/{id}": {
      "get": {
        "summary": "获取话术模板详情",
        "description": "根据模板ID获取话术模板的完整详细信息，包括模板内容、使用说明、变体版本、统计信息等。",
        "tags": [
          "话术模板管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "description": "模板ID"
          },
          {
            "in": "query",
            "name": "includeVariants",
            "schema": {
              "type": "boolean",
              "default": true
            },
            "description": "是否包含变体版本"
          },
          {
            "in": "query",
            "name": "includeUsage",
            "schema": {
              "type": "boolean",
              "default": false
            },
            "description": "是否包含使用统计"
          },
          {
            "in": "query",
            "name": "includeRating",
            "schema": {
              "type": "boolean",
              "default": true
            },
            "description": "是否包含评分信息"
          },
          {
            "in": "query",
            "name": "includeRelated",
            "schema": {
              "type": "boolean",
              "default": false
            },
            "description": "是否包含相关模板推荐"
          }
        ],
        "responses": {
          "200": {
            "description": "获取话术模板详情成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取话术模板详情成功"
                    },
                    "data": {
                      "allOf": [
                        {
                          "$ref": "#/components/schemas/ScriptTemplate"
                        },
                        {
                          "type": "object",
                          "properties": {
                            "variants": {
                              "type": "array",
                              "items": {
                                "$ref": "#/components/schemas/ScriptTemplateVariant"
                              },
                              "description": "模板变体版本列表"
                            },
                            "usageStatistics": {
                              "type": "object",
                              "properties": {
                                "totalUsage": {
                                  "type": "integer",
                                  "example": 234
                                },
                                "successRate": {
                                  "type": "number",
                                  "format": "float",
                                  "example": 87.5
                                },
                                "averageDuration": {
                                  "type": "integer",
                                  "example": 185
                                },
                                "lastUsedAt": {
                                  "type": "string",
                                  "format": "date-time"
                                },
                                "userSatisfaction": {
                                  "type": "number",
                                  "format": "float",
                                  "example": 4.3
                                }
                              }
                            },
                            "ratings": {
                              "type": "object",
                              "properties": {
                                "averageRating": {
                                  "type": "number",
                                  "format": "float",
                                  "example": 4.2
                                },
                                "totalRatings": {
                                  "type": "integer",
                                  "example": 45
                                },
                                "ratingDistribution": {
                                  "type": "object",
                                  "properties": {
                                    "1": {
                                      "type": "integer",
                                      "example": 0
                                    },
                                    "2": {
                                      "type": "integer",
                                      "example": 2
                                    },
                                    "3": {
                                      "type": "integer",
                                      "example": 6
                                    },
                                    "4": {
                                      "type": "integer",
                                      "example": 12
                                    },
                                    "5": {
                                      "type": "integer",
                                      "example": 25
                                    }
                                  }
                                }
                              }
                            },
                            "relatedTemplates": {
                              "type": "array",
                              "items": {
                                "$ref": "#/components/schemas/ScriptTemplateSummary"
                              },
                              "description": "相关模板推荐"
                            },
                            "improvementSuggestions": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              },
                              "example": [
                                "建议增加更多教育理念相关内容",
                                "可以添加更多场景化的示例"
                              ],
                              "description": "AI改进建议"
                            }
                          }
                        }
                      ]
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "500": {
            "$ref": "#/components/responses/InternalError"
          }
        }
      },
      "put": {
        "summary": "更新话术模板",
        "description": "更新指定的话术模板信息，支持内容修改、状态变更、变体版本管理等。更新会创建版本历史记录。",
        "tags": [
          "话术模板管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "description": "模板ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "title": {
                    "type": "string",
                    "maxLength": 200,
                    "example": "更新后的新生入园电话沟通话术",
                    "description": "模板标题"
                  },
                  "description": {
                    "type": "string",
                    "maxLength": 1000,
                    "example": "更新后的模板描述",
                    "description": "模板描述"
                  },
                  "content": {
                    "type": "string",
                    "maxLength": 10000,
                    "example": "更新后的模板内容...",
                    "description": "模板主要内容"
                  },
                  "categoryId": {
                    "type": "integer",
                    "minimum": 1,
                    "example": 2,
                    "description": "所属分类ID"
                  },
                  "scenario": {
                    "type": "string",
                    "enum": [
                      "phone_call",
                      "face_to_face",
                      "wechat",
                      "email",
                      "meeting"
                    ],
                    "description": "适用场景"
                  },
                  "targetRole": {
                    "type": "string",
                    "enum": [
                      "parent",
                      "student",
                      "teacher",
                      "admin"
                    ],
                    "description": "目标沟通对象"
                  },
                  "emotion": {
                    "type": "string",
                    "enum": [
                      "friendly",
                      "professional",
                      "urgent",
                      "caring",
                      "enthusiastic"
                    ],
                    "description": "情感基调"
                  },
                  "language": {
                    "type": "string",
                    "enum": [
                      "chinese",
                      "english",
                      "bilingual"
                    ],
                    "description": "语言类型"
                  },
                  "estimatedDuration": {
                    "type": "integer",
                    "minimum": 30,
                    "maximum": 3600,
                    "example": 200,
                    "description": "预估沟通时长（秒）"
                  },
                  "tags": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "maxLength": 50
                    },
                    "maxItems": 10,
                    "description": "标签列表"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "active",
                      "inactive",
                      "draft",
                      "archived"
                    ],
                    "description": "模板状态"
                  },
                  "variants": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "example": 1
                        },
                        "title": {
                          "type": "string",
                          "maxLength": 200
                        },
                        "content": {
                          "type": "string",
                          "maxLength": 10000
                        },
                        "purpose": {
                          "type": "string",
                          "enum": [
                            "simplified",
                            "detailed",
                            "formal",
                            "casual"
                          ]
                        },
                        "isDeleted": {
                          "type": "boolean",
                          "default": false
                        }
                      }
                    },
                    "description": "模板变体版本管理"
                  },
                  "attachments": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "type": {
                          "type": "string",
                          "enum": [
                            "image",
                            "document",
                            "audio",
                            "video"
                          ]
                        },
                        "name": {
                          "type": "string",
                          "maxLength": 100
                        },
                        "url": {
                          "type": "string",
                          "format": "uri"
                        },
                        "isDeleted": {
                          "type": "boolean",
                          "default": false
                        }
                      }
                    },
                    "description": "附件管理"
                  },
                  "isPublic": {
                    "type": "boolean",
                    "description": "是否为公共模板"
                  },
                  "metadata": {
                    "type": "object",
                    "properties": {
                      "difficulty": {
                        "type": "string",
                        "enum": [
                          "beginner",
                          "intermediate",
                          "advanced"
                        ]
                      },
                      "experienceRequired": {
                        "type": "string",
                        "enum": [
                          "none",
                          "basic",
                          "experienced"
                        ]
                      },
                      "bestPracticeTips": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      }
                    },
                    "description": "元数据信息"
                  },
                  "changeReason": {
                    "type": "string",
                    "maxLength": 500,
                    "example": "根据最新家长反馈更新了沟通要点",
                    "description": "更新原因说明"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新话术模板成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "更新话术模板成功"
                    },
                    "data": {
                      "allOf": [
                        {
                          "$ref": "#/components/schemas/ScriptTemplate"
                        },
                        {
                          "type": "object",
                          "properties": {
                            "updateInfo": {
                              "type": "object",
                              "properties": {
                                "version": {
                                  "type": "integer",
                                  "example": 2
                                },
                                "changedFields": {
                                  "type": "array",
                                  "items": {
                                    "type": "string"
                                  },
                                  "example": [
                                    "content",
                                    "tags"
                                  ]
                                },
                                "affectedVariants": {
                                  "type": "integer",
                                  "example": 2
                                },
                                "changeReason": {
                                  "type": "string",
                                  "example": "根据最新家长反馈更新了沟通要点"
                                }
                              }
                            }
                          }
                        }
                      ]
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidationError"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "500": {
            "$ref": "#/components/responses/InternalError"
          }
        }
      },
      "delete": {
        "summary": "删除话术模板",
        "description": "删除指定的话术模板。如果模板正在使用中或有关联的使用记录，需要谨慎处理。支持软删除和强制删除选项。",
        "tags": [
          "话术模板管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "description": "模板ID"
          },
          {
            "in": "query",
            "name": "force",
            "schema": {
              "type": "boolean",
              "default": false
            },
            "description": "是否强制删除（即使有使用记录）"
          },
          {
            "in": "query",
            "name": "moveToCategory",
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "description": "将使用记录移动到指定分类（ID）"
          }
        ],
        "responses": {
          "200": {
            "description": "删除话术模板成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "删除话术模板成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "deletedTemplateId": {
                          "type": "integer",
                          "example": 1
                        },
                        "deletedTemplateName": {
                          "type": "string",
                          "example": "测试模板"
                        },
                        "affectedUsageRecords": {
                          "type": "integer",
                          "example": 0
                        },
                        "deletionType": {
                          "type": "string",
                          "enum": [
                            "soft_delete",
                            "permanent_delete"
                          ],
                          "example": "soft_delete"
                        },
                        "deletedAt": {
                          "type": "string",
                          "format": "date-time"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "模板正在使用中，无法删除",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "模板正在使用中，无法删除"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "templateId": {
                          "type": "integer",
                          "example": 1
                        },
                        "usageCount": {
                          "type": "integer",
                          "example": 25
                        },
                        "lastUsedAt": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "suggestions": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          },
                          "example": [
                            "设置force参数为true强制删除",
                            "先将模板状态设置为inactive"
                          ]
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "500": {
            "$ref": "#/components/responses/InternalError"
          }
        }
      }
    },
    "/script-template/batch/delete": {
      "post": {
        "summary": "批量删除话术模板",
        "description": "批量删除多个话术模板，支持条件筛选和批量操作。可以按分类、状态、标签等条件批量选择模板进行删除。",
        "tags": [
          "话术模板管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "operation"
                ],
                "properties": {
                  "operation": {
                    "type": "string",
                    "enum": [
                      "delete_by_ids",
                      "delete_by_filter",
                      "delete_all"
                    ],
                    "example": "delete_by_ids",
                    "description": "批量删除操作类型"
                  },
                  "templateIds": {
                    "type": "array",
                    "items": {
                      "type": "integer",
                      "minimum": 1
                    },
                    "maxItems": 100,
                    "example": [
                      1,
                      3,
                      5,
                      7
                    ],
                    "description": "模板ID列表（当operation为delete_by_ids时必填）"
                  },
                  "filter": {
                    "type": "object",
                    "properties": {
                      "categoryId": {
                        "type": "integer",
                        "minimum": 1,
                        "example": 1
                      },
                      "status": {
                        "type": "string",
                        "enum": [
                          "active",
                          "inactive",
                          "draft",
                          "archived"
                        ],
                        "example": "draft"
                      },
                      "createdBy": {
                        "type": "string",
                        "example": "user_123"
                      },
                      "tags": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        },
                        "example": [
                          "test",
                          "draft"
                        ]
                      },
                      "dateRange": {
                        "type": "object",
                        "properties": {
                          "startDate": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "endDate": {
                            "type": "string",
                            "format": "date-time"
                          }
                        }
                      }
                    },
                    "description": "筛选条件（当operation为delete_by_filter时必填）"
                  },
                  "force": {
                    "type": "boolean",
                    "default": false,
                    "description": "是否强制删除（即使有使用记录）"
                  },
                  "moveToCategory": {
                    "type": "integer",
                    "minimum": 1,
                    "description": "将使用记录移动到指定分类ID"
                  },
                  "confirmCount": {
                    "type": "integer",
                    "minimum": 1,
                    "example": 4,
                    "description": "确认删除数量（安全确认）"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "批量删除话术模板成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "批量删除话术模板成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "operationType": {
                          "type": "string",
                          "example": "delete_by_ids"
                        },
                        "requestedCount": {
                          "type": "integer",
                          "example": 4
                        },
                        "deletedCount": {
                          "type": "integer",
                          "example": 4
                        },
                        "skippedCount": {
                          "type": "integer",
                          "example": 0
                        },
                        "errorCount": {
                          "type": "integer",
                          "example": 0
                        },
                        "deletedTemplates": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "templateId": {
                                "type": "integer",
                                "example": 1
                              },
                              "templateName": {
                                "type": "string",
                                "example": "测试模板1"
                              },
                              "status": {
                                "type": "string",
                                "example": "deleted"
                              }
                            }
                          }
                        },
                        "affectedUsageRecords": {
                          "type": "integer",
                          "example": 12
                        },
                        "operationTime": {
                          "type": "number",
                          "format": "float",
                          "example": 0.125
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误或操作不安全",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "删除数量确认不匹配"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "requestedCount": {
                          "type": "integer",
                          "example": 4
                        },
                        "actualCount": {
                          "type": "integer",
                          "example": 5
                        },
                        "suggestion": {
                          "type": "string",
                          "example": "请确认正确的删除数量"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "500": {
            "$ref": "#/components/responses/InternalError"
          }
        }
      }
    },
    "/script-template/stats/category": {
      "get": {
        "summary": "获取话术分类统计信息",
        "description": "获取话术模板按分类维度的统计信息，包括模板数量、使用频率、评分分布、热门模板等详细数据。",
        "tags": [
          "话术模板管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "period",
            "schema": {
              "type": "string",
              "enum": [
                "all",
                "today",
                "week",
                "month",
                "quarter",
                "year"
              ],
              "default": "all"
            },
            "description": "统计时间范围"
          },
          {
            "in": "query",
            "name": "includeInactive",
            "schema": {
              "type": "boolean",
              "default": false
            },
            "description": "是否包含非活跃分类"
          },
          {
            "in": "query",
            "name": "sortBy",
            "schema": {
              "type": "string",
              "enum": [
                "templateCount",
                "usageCount",
                "averageRating",
                "name"
              ],
              "default": "templateCount"
            },
            "description": "排序字段"
          },
          {
            "in": "query",
            "name": "sortOrder",
            "schema": {
              "type": "string",
              "enum": [
                "asc",
                "desc"
              ],
              "default": "desc"
            },
            "description": "排序方向"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "minimum": 5,
              "maximum": 50,
              "default": 20
            },
            "description": "返回数量限制"
          }
        ],
        "responses": {
          "200": {
            "description": "获取分类统计信息成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取话术分类统计信息成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "overview": {
                          "type": "object",
                          "properties": {
                            "totalCategories": {
                              "type": "integer",
                              "example": 12
                            },
                            "totalTemplates": {
                              "type": "integer",
                              "example": 156
                            },
                            "totalUsage": {
                              "type": "integer",
                              "example": 3456
                            },
                            "averageRating": {
                              "type": "number",
                              "format": "float",
                              "example": 4.2
                            },
                            "mostUsedCategory": {
                              "type": "object",
                              "properties": {
                                "categoryId": {
                                  "type": "integer",
                                  "example": 1
                                },
                                "categoryName": {
                                  "type": "string",
                                  "example": "招生话术"
                                },
                                "usageCount": {
                                  "type": "integer",
                                  "example": 1256
                                }
                              }
                            }
                          }
                        },
                        "categoryStats": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "categoryId": {
                                "type": "integer",
                                "example": 1
                              },
                              "categoryName": {
                                "type": "string",
                                "example": "招生话术"
                              },
                              "templateCount": {
                                "type": "integer",
                                "example": 45
                              },
                              "activeTemplates": {
                                "type": "integer",
                                "example": 38
                              },
                              "usageCount": {
                                "type": "integer",
                                "example": 1256
                              },
                              "averageRating": {
                                "type": "number",
                                "format": "float",
                                "example": 4.3
                              },
                              "successRate": {
                                "type": "number",
                                "format": "float",
                                "example": 87.5
                              },
                              "topTemplates": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "properties": {
                                    "templateId": {
                                      "type": "integer",
                                      "example": 15
                                    },
                                    "templateTitle": {
                                      "type": "string",
                                      "example": "新生入园电话沟通话术"
                                    },
                                    "usageCount": {
                                      "type": "integer",
                                      "example": 156
                                    },
                                    "rating": {
                                      "type": "number",
                                      "format": "float",
                                      "example": 4.5
                                    }
                                  }
                                }
                              },
                              "usageTrend": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "properties": {
                                    "date": {
                                      "type": "string",
                                      "format": "date"
                                    },
                                    "usageCount": {
                                      "type": "integer"
                                    },
                                    "successCount": {
                                      "type": "integer"
                                    }
                                  }
                                },
                                "description": "最近7天的使用趋势"
                              }
                            }
                          }
                        },
                        "insights": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "type": {
                                "type": "string",
                                "enum": [
                                  "popular_category",
                                  "underutilized",
                                  "high_rating",
                                  "improvement_needed"
                                ],
                                "example": "popular_category"
                              },
                              "categoryId": {
                                "type": "integer",
                                "example": 1
                              },
                              "categoryName": {
                                "type": "string",
                                "example": "招生话术"
                              },
                              "message": {
                                "type": "string",
                                "example": "该分类最受欢迎，使用频率最高"
                              },
                              "recommendation": {
                                "type": "string",
                                "example": "可以考虑增加更多高质量的模板"
                              }
                            }
                          }
                        },
                        "timeRange": {
                          "type": "object",
                          "properties": {
                            "period": {
                              "type": "string",
                              "example": "month"
                            },
                            "startDate": {
                              "type": "string",
                              "format": "date-time"
                            },
                            "endDate": {
                              "type": "string",
                              "format": "date-time"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "500": {
            "$ref": "#/components/responses/InternalError"
          }
        }
      }
    },
    "/api/scripts": {
      "get": {
        "summary": "获取脚本列表",
        "description": "获取所有脚本的列表",
        "tags": [
          "脚本管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer",
              "default": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      },
      "post": {
        "summary": "创建脚本",
        "description": "创建新的脚本",
        "tags": [
          "脚本管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "name",
                  "content"
                ],
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "content": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "创建成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/scripts/stats": {
      "get": {
        "summary": "获取脚本统计",
        "description": "获取脚本的统计信息",
        "tags": [
          "脚本管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/scripts/{id}": {
      "get": {
        "summary": "获取脚本详情",
        "description": "获取指定脚本的详细信息",
        "tags": [
          "脚本管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      },
      "put": {
        "summary": "更新脚本",
        "description": "更新指定的脚本",
        "tags": [
          "脚本管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "content": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      },
      "delete": {
        "summary": "删除脚本",
        "description": "删除指定的脚本",
        "tags": [
          "脚本管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/scripts/{id}/use": {
      "post": {
        "summary": "使用脚本",
        "description": "执行指定的脚本",
        "tags": [
          "脚本管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": false,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "parameters": {
                    "type": "object"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "执行成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/security/overview": {
      "get": {
        "tags": [
          "安全监控"
        ],
        "summary": "获取安全概览",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取安全概览",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "securityScore": {
                      "type": "number",
                      "description": "安全评分 (0-100)"
                    },
                    "threatLevel": {
                      "type": "string",
                      "enum": [
                        "low",
                        "medium",
                        "high",
                        "critical"
                      ]
                    },
                    "activeThreats": {
                      "type": "number",
                      "description": "活跃威胁数量"
                    },
                    "vulnerabilities": {
                      "type": "number",
                      "description": "漏洞数量"
                    },
                    "riskLevel": {
                      "type": "number",
                      "description": "风险等级百分比"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/security/threats": {
      "get": {
        "tags": [
          "安全监控"
        ],
        "summary": "获取威胁列表",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer",
              "default": 20
            }
          },
          {
            "in": "query",
            "name": "severity",
            "schema": {
              "type": "string",
              "enum": [
                "low",
                "medium",
                "high",
                "critical"
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取威胁列表"
          }
        }
      }
    },
    "/api/security/threats/{id}/handle": {
      "post": {
        "tags": [
          "安全监控"
        ],
        "summary": "处理威胁",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "action": {
                    "type": "string",
                    "enum": [
                      "resolve",
                      "ignore",
                      "block"
                    ]
                  },
                  "notes": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "威胁处理成功"
          }
        }
      }
    },
    "/api/security/scan": {
      "post": {
        "tags": [
          "安全监控"
        ],
        "summary": "执行安全扫描",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": false,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "scanType": {
                    "type": "string",
                    "enum": [
                      "quick",
                      "full",
                      "custom"
                    ],
                    "default": "quick"
                  },
                  "targets": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "安全扫描启动成功"
          }
        }
      }
    },
    "/api/security/vulnerabilities": {
      "get": {
        "tags": [
          "安全监控"
        ],
        "summary": "获取漏洞列表",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer",
              "default": 20
            }
          },
          {
            "in": "query",
            "name": "severity",
            "schema": {
              "type": "string",
              "enum": [
                "low",
                "medium",
                "high",
                "critical"
              ]
            }
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string",
              "enum": [
                "open",
                "fixed",
                "ignored"
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取漏洞列表"
          }
        }
      }
    },
    "/api/security/recommendations": {
      "get": {
        "tags": [
          "安全监控"
        ],
        "summary": "获取安全建议",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取安全建议"
          }
        }
      }
    },
    "/api/security/recommendations/generate": {
      "post": {
        "tags": [
          "安全监控"
        ],
        "summary": "生成AI安全建议",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "AI安全建议生成成功"
          }
        }
      }
    },
    "/api/security/config": {
      "get": {
        "tags": [
          "安全监控"
        ],
        "summary": "获取安全配置",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取安全配置"
          }
        }
      },
      "put": {
        "tags": [
          "安全监控"
        ],
        "summary": "更新安全配置",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "passwordPolicy": {
                    "type": "object"
                  },
                  "sessionTimeout": {
                    "type": "number"
                  },
                  "loginAttempts": {
                    "type": "number"
                  },
                  "enableMFA": {
                    "type": "boolean"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "安全配置更新成功"
          }
        }
      }
    },
    "/api/sequelize-meta": {
      "get": {
        "summary": "获取sequelize_meta列表",
        "tags": [
          "SequelizeMeta"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      },
      "post": {
        "summary": "创建sequelize_meta",
        "tags": [
          "SequelizeMeta"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "201": {
            "description": "创建成功"
          }
        }
      }
    },
    "/api/sequelize-meta/{id}": {
      "get": {
        "summary": "获取sequelize_meta详情",
        "tags": [
          "SequelizeMeta"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      },
      "put": {
        "summary": "更新sequelize_meta",
        "tags": [
          "SequelizeMeta"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "更新成功"
          }
        }
      },
      "delete": {
        "summary": "删除sequelize_meta",
        "tags": [
          "SequelizeMeta"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功"
          }
        }
      }
    },
    "/api/SequelizeMeta": {
      "get": {
        "summary": "获取数据库迁移记录列表",
        "tags": [
          "SequelizeMeta"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      }
    },
    "/api/sessions/my": {
      "get": {
        "summary": "获取当前用户的所有会话",
        "description": "获取当前登录用户在所有设备上的活跃会话信息",
        "tags": [
          "会话管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取用户会话列表成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "sessions": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/UserSession"
                          }
                        },
                        "total": {
                          "type": "integer",
                          "example": 3
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "获取用户会话成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "未授权访问"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/sessions/online": {
      "get": {
        "summary": "获取在线用户列表（管理员）",
        "tags": [
          "Session"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      }
    },
    "/api/sessions/stats": {
      "get": {
        "summary": "获取会话统计信息（管理员）",
        "tags": [
          "Session"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      }
    },
    "/api/sessions/kickout/{userId}": {
      "post": {
        "summary": "踢出指定用户的所有会话（管理员）",
        "tags": [
          "Session"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "userId",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "踢出成功"
          }
        }
      }
    },
    "/api/sessions/kickout-others": {
      "post": {
        "summary": "踢出当前用户的其他会话",
        "tags": [
          "Session"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "踢出成功"
          }
        }
      }
    },
    "/api/sessions/{token}": {
      "delete": {
        "summary": "删除指定会话",
        "tags": [
          "Session"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "token",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功"
          }
        }
      }
    },
    "/api/sessions/activity": {
      "put": {
        "summary": "更新当前会话活跃时间",
        "tags": [
          "Session"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "更新成功"
          }
        }
      }
    },
    "/setup/business-center-permissions": {
      "post": {
        "tags": [
          "权限设置"
        ],
        "summary": "设置业务中心权限",
        "description": "为所有角色配置业务中心访问权限，解决权限不足问题",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "权限设置成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "权限配置成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "message": {
                          "type": "string",
                          "example": "业务中心权限设置完成"
                        },
                        "verification": {
                          "type": "object",
                          "description": "权限配置验证结果"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/setup/fix-business-center-paths": {
      "post": {
        "tags": [
          "权限设置"
        ],
        "summary": "修复业务中心权限路径",
        "description": "修复业务中心权限表中的路径，从锚点路径改为实际路由路径",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "权限路径修复成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "权限路径修复成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "message": {
                          "type": "string",
                          "example": "业务中心权限路径修复完成"
                        },
                        "pathMappings": {
                          "type": "number",
                          "example": 11
                        },
                        "pagePermissions": {
                          "type": "number",
                          "example": 6
                        },
                        "verification": {
                          "type": "object",
                          "description": "权限配置验证结果"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/setup/assign-role-permissions": {
      "post": {
        "tags": [
          "权限设置"
        ],
        "summary": "为其他角色分配业务中心权限",
        "description": "为园长、教师、家长角色分配相应的业务中心访问权限",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "角色权限分配成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "角色权限分配完成"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "totalAssigned": {
                          "type": "number",
                          "example": 18
                        },
                        "rolePermissionMapping": {
                          "type": "object",
                          "description": "角色权限映射关系"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/permissions/check": {
      "post": {
        "summary": "统一权限验证接口",
        "description": "前端只需要调用这一个接口进行权限验证，后端会自动处理4层权限逻辑",
        "tags": [
          "Permissions"
        ],
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "permission": {
                    "type": "string",
                    "example": "EDIT_STUDENT",
                    "description": "权限代码"
                  }
                },
                "required": [
                  "permission"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "权限验证结果",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "hasPermission": {
                          "type": "boolean",
                          "example": true
                        },
                        "isAdmin": {
                          "type": "boolean",
                          "example": false
                        }
                      }
                    },
                    "meta": {
                      "type": "object",
                      "properties": {
                        "responseTime": {
                          "type": "number"
                        },
                        "fromCache": {
                          "type": "boolean"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权访问"
          }
        }
      }
    },
    "/api/six-dimension-memory/retrieve": {
      "post": {
        "summary": "主动检索记忆",
        "description": "根据查询条件主动检索相关记忆内容",
        "tags": [
          "六维记忆系统"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "query"
                ],
                "properties": {
                  "query": {
                    "type": "string",
                    "description": "检索查询内容"
                  },
                  "dimensions": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "enum": [
                        "core",
                        "episodic",
                        "semantic",
                        "procedural",
                        "resource",
                        "knowledge"
                      ]
                    },
                    "description": "要检索的记忆维度"
                  },
                  "limit": {
                    "type": "integer",
                    "default": 10,
                    "description": "返回结果数量限制"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "检索成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "results": {
                          "type": "array",
                          "items": {
                            "type": "object"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/six-dimension-memory/conversation": {
      "post": {
        "summary": "记录对话",
        "description": "记录用户与AI的对话内容到记忆系统",
        "tags": [
          "六维记忆系统"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "userMessage",
                  "aiResponse"
                ],
                "properties": {
                  "userMessage": {
                    "type": "string",
                    "description": "用户消息内容"
                  },
                  "aiResponse": {
                    "type": "string",
                    "description": "AI响应内容"
                  },
                  "context": {
                    "type": "object",
                    "description": "对话上下文信息"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "记录成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/six-dimension-memory/core/{userId}": {
      "get": {
        "summary": "获取核心记忆",
        "description": "获取用户的核心记忆信息",
        "tags": [
          "六维记忆系统"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "userId",
            "schema": {
              "type": "string"
            },
            "required": false,
            "description": "用户ID（可选，默认为当前用户）"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      },
      "put": {
        "summary": "更新核心记忆",
        "description": "更新用户的核心记忆信息",
        "tags": [
          "六维记忆系统"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "userId",
            "schema": {
              "type": "string"
            },
            "required": false,
            "description": "用户ID（可选，默认为当前用户）"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "coreMemory": {
                    "type": "object",
                    "description": "核心记忆内容"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/six-dimension-memory/episodic": {
      "get": {
        "summary": "获取情节记忆",
        "description": "获取用户的情节记忆列表",
        "tags": [
          "六维记忆系统"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer",
              "default": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      },
      "post": {
        "summary": "创建情节记忆",
        "description": "创建新的情节记忆记录",
        "tags": [
          "六维记忆系统"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "event"
                ],
                "properties": {
                  "event": {
                    "type": "string",
                    "description": "事件描述"
                  },
                  "timestamp": {
                    "type": "string",
                    "format": "date-time"
                  },
                  "context": {
                    "type": "object"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "创建成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/six-dimension-memory/semantic/search": {
      "get": {
        "summary": "搜索语义记忆",
        "description": "根据关键词搜索语义概念",
        "tags": [
          "六维记忆系统"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "query",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "搜索关键词"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "搜索成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/six-dimension-memory/semantic": {
      "post": {
        "summary": "创建语义概念",
        "description": "创建新的语义概念记录",
        "tags": [
          "六维记忆系统"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "concept"
                ],
                "properties": {
                  "concept": {
                    "type": "string"
                  },
                  "definition": {
                    "type": "string"
                  },
                  "relatedConcepts": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "创建成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/six-dimension-memory/semantic/{conceptId}/related": {
      "get": {
        "summary": "获取相关概念",
        "description": "获取与指定概念相关的其他概念",
        "tags": [
          "六维记忆系统"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "conceptId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/six-dimension-memory/procedural/{procedureName}": {
      "get": {
        "summary": "获取过程步骤",
        "description": "获取指定过程的执行步骤",
        "tags": [
          "六维记忆系统"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "procedureName",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/six-dimension-memory/procedural": {
      "post": {
        "summary": "记录过程",
        "description": "记录新的过程执行步骤",
        "tags": [
          "六维记忆系统"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "procedureName",
                  "steps"
                ],
                "properties": {
                  "procedureName": {
                    "type": "string"
                  },
                  "steps": {
                    "type": "array",
                    "items": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "记录成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/six-dimension-memory/resource/search": {
      "get": {
        "summary": "搜索资源",
        "description": "搜索资源记忆",
        "tags": [
          "六维记忆系统"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "query",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "type",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "搜索成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/six-dimension-memory/resource": {
      "post": {
        "summary": "保存资源",
        "description": "保存新的资源记忆",
        "tags": [
          "六维记忆系统"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "resourceType",
                  "resourceData"
                ],
                "properties": {
                  "resourceType": {
                    "type": "string"
                  },
                  "resourceData": {
                    "type": "object"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "保存成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/six-dimension-memory/resource/{resourceId}/access": {
      "put": {
        "summary": "标记资源已访问",
        "description": "标记资源已被访问，更新访问记录",
        "tags": [
          "六维记忆系统"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "resourceId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "标记成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/six-dimension-memory/knowledge/search": {
      "get": {
        "summary": "搜索知识",
        "description": "在知识库中搜索相关知识",
        "tags": [
          "六维记忆系统"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "query",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "搜索成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/six-dimension-memory/knowledge": {
      "post": {
        "summary": "学习知识",
        "description": "向知识库添加新的知识条目",
        "tags": [
          "六维记忆系统"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "knowledge"
                ],
                "properties": {
                  "knowledge": {
                    "type": "string"
                  },
                  "category": {
                    "type": "string"
                  },
                  "tags": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "学习成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/six-dimension-memory/knowledge/{entryId}/validate": {
      "put": {
        "summary": "验证知识",
        "description": "验证知识条目的准确性",
        "tags": [
          "六维记忆系统"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "entryId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "isValid": {
                    "type": "boolean"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "验证成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/six-dimension-memory/context": {
      "get": {
        "summary": "获取记忆上下文",
        "description": "获取当前用户的完整记忆上下文",
        "tags": [
          "六维记忆系统"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/six-dimension-memory/compress": {
      "post": {
        "summary": "压缩记忆",
        "description": "压缩和整理记忆数据",
        "tags": [
          "六维记忆系统"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "压缩成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/six-dimension-memory/stats": {
      "get": {
        "summary": "获取记忆统计",
        "description": "获取记忆系统的统计信息",
        "tags": [
          "六维记忆系统"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "totalMemories": {
                          "type": "integer"
                        },
                        "byDimension": {
                          "type": "object"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/smart-promotion/generate-poster": {
      "post": {
        "summary": "AI生成推广海报",
        "tags": [
          "Smart Promotion"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "prompt": {
                    "type": "string",
                    "description": "AI生成提示词"
                  },
                  "activityData": {
                    "type": "object",
                    "description": "活动数据"
                  },
                  "referralCode": {
                    "type": "string",
                    "description": "推广码"
                  },
                  "style": {
                    "type": "string",
                    "description": "海报风格"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "海报生成成功"
          },
          "400": {
            "description": "请求参数错误"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/smart-promotion/generate-content": {
      "post": {
        "summary": "生成推广内容",
        "tags": [
          "Smart Promotion"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "type": {
                    "type": "string",
                    "description": "内容类型"
                  },
                  "context": {
                    "type": "object",
                    "description": "上下文信息"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "内容生成成功"
          }
        }
      }
    },
    "/api/smart-promotion/social-media-content": {
      "post": {
        "summary": "生成社交媒体内容",
        "tags": [
          "Smart Promotion"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "platform": {
                    "type": "string",
                    "description": "社交媒体平台"
                  },
                  "content": {
                    "type": "string",
                    "description": "基础内容"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "社交媒体内容生成成功"
          }
        }
      }
    },
    "/api/smart-promotion/complete-poster": {
      "post": {
        "summary": "一键生成完整海报",
        "tags": [
          "Smart Promotion"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "activityId": {
                    "type": "string",
                    "description": "活动ID"
                  },
                  "preferences": {
                    "type": "object",
                    "description": "用户偏好设置"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "完整海报生成成功"
          }
        }
      }
    },
    "/api/smart-promotion/calculate-reward": {
      "post": {
        "summary": "计算推广奖励",
        "tags": [
          "Smart Promotion"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "userId": {
                    "type": "string",
                    "description": "用户ID"
                  },
                  "referralCount": {
                    "type": "number",
                    "description": "推荐数量"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "奖励计算成功"
          }
        }
      }
    },
    "/api/smart-promotion/personalized-incentive": {
      "post": {
        "summary": "生成个性化激励策略",
        "tags": [
          "Smart Promotion"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "userId": {
                    "type": "string",
                    "description": "用户ID"
                  },
                  "performanceData": {
                    "type": "object",
                    "description": "表现数据"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "激励策略生成成功"
          }
        }
      }
    },
    "/api/smart-promotion/viral-spread": {
      "post": {
        "summary": "追踪病毒式传播",
        "tags": [
          "Smart Promotion"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "referralCode": {
                    "type": "string",
                    "description": "推广码"
                  },
                  "eventType": {
                    "type": "string",
                    "description": "事件类型"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "传播追踪成功"
          }
        }
      }
    },
    "/api/smart-promotion/optimize-strategy": {
      "post": {
        "summary": "优化病毒式传播策略",
        "tags": [
          "Smart Promotion"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "userId": {
                    "type": "string",
                    "description": "用户ID"
                  },
                  "currentStrategy": {
                    "type": "object",
                    "description": "当前策略"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "策略优化成功"
          }
        }
      }
    },
    "/api/smart-promotion/stats": {
      "get": {
        "summary": "获取推广统计数据",
        "tags": [
          "Smart Promotion"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "userId",
            "schema": {
              "type": "string"
            },
            "description": "用户ID"
          },
          {
            "in": "query",
            "name": "timeRange",
            "schema": {
              "type": "string"
            },
            "description": "时间范围"
          }
        ],
        "responses": {
          "200": {
            "description": "统计数据获取成功"
          }
        }
      }
    },
    "/api/statistics/dashboard": {
      "get": {
        "summary": "获取仪表板统计数据",
        "description": "获取适用于仪表板显示的关键统计指标",
        "tags": [
          "UnifiedStatistics"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "仪表板统计数据获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "overview": {
                          "type": "object"
                        },
                        "trends": {
                          "type": "object"
                        },
                        "growth": {
                          "type": "object"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        },
        "parameters": [
          {
            "in": "query",
            "name": "role",
            "required": false,
            "description": "用户角色（自动从token获取）",
            "schema": {
              "type": "string",
              "enum": [
                "admin",
                "principal",
                "teacher",
                "parent"
              ]
            }
          }
        ]
      }
    },
    "/api/statistics/enrollment": {
      "get": {
        "summary": "获取招生统计数据",
        "description": "获取招生相关的统计数据",
        "tags": [
          "统计分析"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/statistics/students": {
      "get": {
        "summary": "获取学生统计数据",
        "description": "获取学生相关的统计数据",
        "tags": [
          "统计分析"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/statistics/revenue": {
      "get": {
        "summary": "获取收入统计数据",
        "description": "获取收入相关的统计数据",
        "tags": [
          "统计分析"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/statistics/activities": {
      "get": {
        "summary": "获取活动统计数据",
        "description": "获取活动相关的统计数据",
        "tags": [
          "统计分析"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/statistics/regions": {
      "get": {
        "summary": "获取地区统计数据",
        "description": "获取地区相关的统计数据",
        "tags": [
          "统计分析"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/statistics": {
      "get": {
        "summary": "获取综合统计数据",
        "tags": [
          "Statistics"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取综合统计数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "$ref": "#/components/schemas/CombinedStatistics"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/statistics/users": {
      "get": {
        "summary": "获取用户统计数据",
        "tags": [
          "Statistics"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取用户统计数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "$ref": "#/components/schemas/UserStatistics"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/statistics/enrollment": {
      "get": {
        "summary": "获取招生统计数据",
        "tags": [
          "Statistics"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取招生统计数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "$ref": "#/components/schemas/EnrollmentStatistics"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/statistics/activities": {
      "get": {
        "summary": "获取活动统计数据",
        "tags": [
          "Statistics"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取活动统计数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "$ref": "#/components/schemas/ActivityStatistics"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/statistics/finance": {
      "get": {
        "summary": "获取财务统计数据",
        "tags": [
          "Statistics"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取财务统计数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "$ref": "#/components/schemas/FinanceStatistics"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/statistics/financial": {
      "get": {
        "summary": "获取详细财务统计数据",
        "tags": [
          "Statistics"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取详细财务统计数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "$ref": "#/components/schemas/FinancialDetailStatistics"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/statistics/regions": {
      "get": {
        "summary": "获取地区统计数据",
        "tags": [
          "Statistics"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取地区统计数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "$ref": "#/components/schemas/RegionStatistics"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/statistics/trends": {
      "get": {
        "summary": "获取趋势分析数据",
        "tags": [
          "Statistics"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取趋势分析数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "$ref": "#/components/schemas/TrendAnalysis"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/statistics/export": {
      "get": {
        "summary": "导出统计报告",
        "tags": [
          "Statistics"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          },
          "501": {
            "description": "导出功能暂未实现",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    },
                    "error": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "summary": "创建统计报告导出任务",
        "tags": [
          "Statistics"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": false,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "type": {
                    "type": "string",
                    "description": "导出类型",
                    "default": "enrollment"
                  },
                  "format": {
                    "type": "string",
                    "description": "导出格式",
                    "default": "excel"
                  },
                  "dateRange": {
                    "type": "object",
                    "properties": {
                      "start": {
                        "type": "string",
                        "format": "date",
                        "description": "开始日期"
                      },
                      "end": {
                        "type": "string",
                        "format": "date",
                        "description": "结束日期"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "成功创建导出任务",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "$ref": "#/components/schemas/ExportData"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/statistics/overview": {
      "get": {
        "summary": "获取总体统计数据（用于仪表盘）",
        "tags": [
          "Statistics"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取总体统计数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "$ref": "#/components/schemas/OverviewStatistics"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/statistics/enrollment-trend": {
      "get": {
        "summary": "获取招生趋势数据",
        "tags": [
          "Statistics"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "period",
            "schema": {
              "type": "string",
              "enum": [
                "month",
                "week"
              ],
              "default": "month"
            },
            "description": "时间周期"
          },
          {
            "in": "query",
            "name": "range",
            "schema": {
              "type": "string",
              "default": "6"
            },
            "description": "时间范围"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取招生趋势数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "$ref": "#/components/schemas/EnrollmentTrendData"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/statistics/class-distribution": {
      "get": {
        "summary": "获取班级分布数据",
        "tags": [
          "Statistics"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取班级分布数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "$ref": "#/components/schemas/ClassDistribution"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/statistics/revenue": {
      "get": {
        "summary": "获取营收统计数据",
        "tags": [
          "Statistics"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取营收统计数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "$ref": "#/components/schemas/RevenueStatistics"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/statistics/students": {
      "get": {
        "summary": "获取学生统计数据",
        "tags": [
          "Statistics"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取学生统计数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "$ref": "#/components/schemas/StudentStatistics"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/statistics/dashboard": {
      "get": {
        "summary": "获取仪表盘统计数据",
        "tags": [
          "Statistics"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取仪表盘统计数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "$ref": "#/components/schemas/DashboardStatistics"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/students": {
      "post": {
        "summary": "创建students",
        "tags": [
          "Student"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/StudentRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "创建成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "创建学生成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/Student"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误"
          },
          "403": {
            "description": "权限不足"
          },
          "409": {
            "description": "学号已存在"
          }
        }
      },
      "get": {
        "summary": "获取students列表",
        "tags": [
          "Student"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 10
            },
            "description": "每页数量"
          },
          {
            "in": "query",
            "name": "classId",
            "schema": {
              "type": "integer"
            },
            "description": "班级ID"
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string",
              "enum": [
                "active",
                "inactive",
                "graduated"
              ]
            },
            "description": "学生状态"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取学生列表成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "students": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/Student"
                          }
                        },
                        "pagination": {
                          "$ref": "#/components/schemas/Pagination"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "权限不足"
          }
        }
      }
    },
    "/api/students/by-class": {
      "get": {
        "summary": "按班级获取学生列表",
        "tags": [
          "Students"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "classId",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "班级ID"
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer",
              "default": 10
            },
            "description": "每页数量"
          },
          {
            "in": "query",
            "name": "keyword",
            "schema": {
              "type": "string"
            },
            "description": "搜索关键词(姓名、学号)"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取班级学生列表成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "list": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/Student"
                          }
                        },
                        "total": {
                          "type": "integer"
                        },
                        "page": {
                          "type": "integer"
                        },
                        "pageSize": {
                          "type": "integer"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "权限不足"
          }
        }
      }
    },
    "/api/students/search": {
      "get": {
        "summary": "搜索学生",
        "tags": [
          "Students"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "keyword",
            "schema": {
              "type": "string"
            },
            "description": "搜索关键词(姓名、学号)"
          },
          {
            "in": "query",
            "name": "classId",
            "schema": {
              "type": "integer"
            },
            "description": "班级ID"
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string",
              "enum": [
                "active",
                "inactive",
                "graduated"
              ]
            },
            "description": "学生状态"
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 10
            },
            "description": "每页数量"
          }
        ],
        "responses": {
          "200": {
            "description": "搜索成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "搜索学生成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "students": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/Student"
                          }
                        },
                        "pagination": {
                          "$ref": "#/components/schemas/Pagination"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "权限不足"
          }
        }
      }
    },
    "/api/students/available": {
      "get": {
        "summary": "获取可用学生列表",
        "description": "获取未分配班级的学生列表",
        "tags": [
          "Students"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取可用学生列表成功"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Student"
                      }
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "权限不足"
          }
        }
      }
    },
    "/api/students/stats": {
      "get": {
        "summary": "获取学生统计",
        "tags": [
          "Students"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取学生统计成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/StudentStats"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "权限不足"
          }
        }
      }
    },
    "/api/students/statistics": {
      "get": {
        "summary": "获取学生统计信息",
        "description": "兼容性接口，功能同/stats",
        "tags": [
          "Students"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取学生统计成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/StudentStats"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "权限不足"
          }
        }
      }
    },
    "/api/students/status": {
      "put": {
        "summary": "更新学生状态",
        "tags": [
          "Students"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "studentId",
                  "status"
                ],
                "properties": {
                  "studentId": {
                    "type": "integer",
                    "description": "学生ID",
                    "example": 1
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "active",
                      "inactive",
                      "graduated"
                    ],
                    "description": "新状态",
                    "example": "active"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "更新学生状态成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/Student"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误"
          },
          "403": {
            "description": "权限不足"
          },
          "404": {
            "description": "学生不存在"
          }
        }
      }
    },
    "/api/students/assign-class": {
      "post": {
        "summary": "为学生分配班级",
        "tags": [
          "Students"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "studentId",
                  "classId"
                ],
                "properties": {
                  "studentId": {
                    "type": "integer",
                    "description": "学生ID",
                    "example": 1
                  },
                  "classId": {
                    "type": "integer",
                    "description": "班级ID",
                    "example": 1
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "分配成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "分配班级成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/Student"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误"
          },
          "403": {
            "description": "权限不足"
          },
          "404": {
            "description": "学生或班级不存在"
          }
        }
      }
    },
    "/api/students/add-to-class": {
      "post": {
        "summary": "添加学生到班级",
        "tags": [
          "Students"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/StudentRequest"
                  },
                  {
                    "type": "object",
                    "required": [
                      "classId"
                    ],
                    "properties": {
                      "classId": {
                        "type": "string",
                        "description": "班级ID",
                        "example": "1"
                      }
                    }
                  }
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "添加成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "学生已添加到班级"
                    },
                    "data": {
                      "$ref": "#/components/schemas/Student"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误"
          },
          "403": {
            "description": "权限不足"
          },
          "404": {
            "description": "班级不存在"
          }
        }
      }
    },
    "/api/students/{id}/remove-from-class": {
      "delete": {
        "summary": "从班级移除学生",
        "tags": [
          "Students"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "学生ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "classId"
                ],
                "properties": {
                  "classId": {
                    "type": "string",
                    "description": "班级ID",
                    "example": "1"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "移除成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "学生已从班级移除"
                    },
                    "data": {
                      "type": "boolean",
                      "example": true
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误"
          },
          "403": {
            "description": "权限不足"
          },
          "404": {
            "description": "学生或班级不存在"
          }
        }
      }
    },
    "/api/students/batch-assign-class": {
      "post": {
        "summary": "批量为学生分配班级",
        "tags": [
          "Students"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "studentIds",
                  "classId"
                ],
                "properties": {
                  "studentIds": {
                    "type": "array",
                    "items": {
                      "type": "integer"
                    },
                    "description": "学生ID列表",
                    "example": [
                      1,
                      2,
                      3
                    ]
                  },
                  "classId": {
                    "type": "integer",
                    "description": "班级ID",
                    "example": 1
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "批量分配成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "批量分配班级成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "successCount": {
                          "type": "integer",
                          "description": "成功分配数量",
                          "example": 3
                        },
                        "failedCount": {
                          "type": "integer",
                          "description": "失败分配数量",
                          "example": 0
                        },
                        "updatedStudents": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/Student"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误"
          },
          "403": {
            "description": "权限不足"
          },
          "404": {
            "description": "班级不存在"
          }
        }
      }
    },
    "/api/students/{id}": {
      "get": {
        "summary": "获取students详情",
        "tags": [
          "Student"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "学生ID"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取学生详情成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/Student"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "权限不足"
          },
          "404": {
            "description": "学生不存在"
          }
        }
      },
      "put": {
        "summary": "更新students",
        "tags": [
          "Student"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "学生ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/StudentRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "更新学生信息成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/Student"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误"
          },
          "403": {
            "description": "权限不足"
          },
          "404": {
            "description": "学生不存在"
          },
          "409": {
            "description": "学号已存在"
          }
        }
      },
      "delete": {
        "summary": "删除students",
        "tags": [
          "Student"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "学生ID"
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "删除学生成功"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "权限不足"
          },
          "404": {
            "description": "学生不存在"
          },
          "409": {
            "description": "学生已分配班级或有相关记录，无法删除"
          }
        }
      }
    },
    "/api/students/{id}/parents": {
      "get": {
        "summary": "获取学生的家长列表",
        "tags": [
          "Students"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "学生ID"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取学生家长列表成功"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Parent"
                      }
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "权限不足"
          },
          "404": {
            "description": "学生不存在"
          }
        }
      }
    },
    "/api/students/{id}/growth-records": {
      "get": {
        "summary": "获取学生成长记录",
        "tags": [
          "Students"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "学生ID"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取学生成长记录成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "records": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/GrowthRecord"
                          }
                        },
                        "total": {
                          "type": "integer",
                          "description": "记录总数",
                          "example": 2
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "权限不足"
          },
          "404": {
            "description": "学生不存在"
          },
          "500": {
            "description": "获取学生成长记录失败"
          }
        }
      }
    },
    "/system/ai-models": {
      "get": {
        "tags": [
          "AI Models"
        ],
        "summary": "获取所有AI模型",
        "description": "获取系统中所有AI模型的分页列表",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "activeOnly",
            "schema": {
              "type": "boolean"
            },
            "description": "只返回激活的模型"
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer",
              "default": 10
            },
            "description": "每页数量"
          }
        ],
        "responses": {
          "200": {
            "description": "获取模型列表成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "items": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/AIModel"
                          }
                        },
                        "total": {
                          "type": "integer"
                        },
                        "page": {
                          "type": "integer"
                        },
                        "pageSize": {
                          "type": "integer"
                        },
                        "totalPages": {
                          "type": "integer"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      },
      "post": {
        "tags": [
          "AI Models"
        ],
        "summary": "创建新的AI模型",
        "description": "在系统中创建新的AI模型配置",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "modelName",
                  "provider",
                  "apiEndpoint"
                ],
                "properties": {
                  "modelName": {
                    "type": "string",
                    "description": "模型名称"
                  },
                  "provider": {
                    "type": "string",
                    "description": "提供商"
                  },
                  "apiEndpoint": {
                    "type": "string",
                    "description": "API端点"
                  },
                  "maxTokens": {
                    "type": "integer",
                    "description": "最大令牌数"
                  },
                  "temperature": {
                    "type": "number",
                    "description": "温度参数"
                  },
                  "isActive": {
                    "type": "boolean",
                    "description": "是否激活"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "模型创建成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "$ref": "#/components/schemas/AIModel"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/system/ai-models/stats": {
      "get": {
        "tags": [
          "AI Models"
        ],
        "summary": "获取AI模型统计信息",
        "description": "获取AI模型的统计数据，包括使用量、性能指标等",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取统计信息成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "totalModels": {
                          "type": "integer",
                          "description": "模型总数"
                        },
                        "activeModels": {
                          "type": "integer",
                          "description": "激活模型数"
                        },
                        "totalUsage": {
                          "type": "integer",
                          "description": "总使用次数"
                        },
                        "averageResponseTime": {
                          "type": "number",
                          "description": "平均响应时间"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/system/ai-models/{id}/status": {
      "put": {
        "tags": [
          "AI Models"
        ],
        "summary": "更新AI模型状态",
        "description": "更新指定AI模型的启用/禁用状态",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "模型ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "status"
                ],
                "properties": {
                  "status": {
                    "type": "string",
                    "enum": [
                      "active",
                      "inactive"
                    ],
                    "description": "模型状态"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "模型状态更新成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "$ref": "#/components/schemas/AIModel"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/system/ai-models/{id}": {
      "get": {
        "tags": [
          "AI Models"
        ],
        "summary": "获取单个AI模型详情",
        "description": "根据ID获取指定AI模型的详细信息",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "模型ID"
          }
        ],
        "responses": {
          "200": {
            "description": "获取模型详情成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "$ref": "#/components/schemas/AIModel"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      },
      "put": {
        "tags": [
          "AI Models"
        ],
        "summary": "更新AI模型信息",
        "description": "更新指定AI模型的配置信息",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "模型ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "modelName": {
                    "type": "string",
                    "description": "模型名称"
                  },
                  "provider": {
                    "type": "string",
                    "description": "提供商"
                  },
                  "apiEndpoint": {
                    "type": "string",
                    "description": "API端点"
                  },
                  "maxTokens": {
                    "type": "integer",
                    "description": "最大令牌数"
                  },
                  "temperature": {
                    "type": "number",
                    "description": "温度参数"
                  },
                  "isActive": {
                    "type": "boolean",
                    "description": "是否激活"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "模型更新成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "$ref": "#/components/schemas/AIModel"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      },
      "delete": {
        "tags": [
          "AI Models"
        ],
        "summary": "删除AI模型",
        "description": "删除指定的AI模型配置",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "模型ID"
          }
        ],
        "responses": {
          "200": {
            "description": "模型删除成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/system/ai-models/{id}": {
      "put": {
        "summary": "更新AI模型",
        "tags": [
          "AI模型管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "模型ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AIModelInput"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "模型更新成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AIModelResponse"
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      },
      "delete": {
        "summary": "删除AI模型",
        "tags": [
          "AI模型管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "模型ID"
          }
        ],
        "responses": {
          "200": {
            "description": "模型删除成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "删除成功"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/system-backup": {
      "get": {
        "summary": "获取系统备份列表",
        "description": "获取所有系统备份文件的列表，包括数据库备份和完整备份信息。\n这是系统备份管理的核心接口，提供备份文件的完整信息用于管理和监控。\n\n**业务场景**：\n- 系统管理员查看备份历史记录\n- 监控备份执行情况和存储空间使用\n- 选择合适的备份文件进行恢复\n- 定期清理过期备份文件\n\n**权限要求**：需要系统管理员权限\n\n**主要功能**：\n- 列出所有备份文件及其详细信息\n- 显示文件大小和创建时间\n- 区分备份类型（手动、自动、定时）\n- 提供备份状态信息\n- 统计备份文件总数和总大小\n\n**数据特性**：\n- 备份文件按创建时间倒序排列\n- 自动计算文件大小的友好显示格式\n- 包含备份的表数量和记录数量\n- 支持多种备份类型的混合显示\n\n**安全特性**：\n- 基于身份验证的访问控制\n- 备份文件路径安全验证\n- 防止路径遍历攻击\n- 敏感操作日志记录\n\n**性能优化**：\n- 使用数据库备份服务提高查询效率\n- 缓存备份统计信息\n- 异步处理大文件操作\n",
        "tags": [
          "系统备份管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取备份列表",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "description": "响应状态",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "items": {
                          "type": "array",
                          "description": "备份文件列表",
                          "items": {
                            "$ref": "#/components/schemas/BackupFile"
                          }
                        },
                        "total": {
                          "type": "integer",
                          "description": "备份文件总数",
                          "example": 15
                        },
                        "totalSize": {
                          "type": "integer",
                          "description": "所有备份文件总大小（字节）",
                          "example": 52428800
                        },
                        "totalSizeFormatted": {
                          "type": "string",
                          "description": "格式化后的总大小",
                          "example": "50.00 MB"
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "description": "响应消息",
                      "example": "获取备份列表成功"
                    }
                  }
                },
                "examples": {
                  "success_response": {
                    "summary": "成功响应示例",
                    "value": {
                      "success": true,
                      "data": {
                        "items": [
                          {
                            "id": "backup-2025-01-15T10-30-00-000Z",
                            "name": "backup-2025-01-15T10-30-00-000Z.sql",
                            "size": 1048576,
                            "sizeFormatted": "1.00 MB",
                            "createdAt": "2025-01-15T10:30:00.000Z",
                            "type": "manual",
                            "status": "completed",
                            "description": "手动备份",
                            "tableCount": 25,
                            "recordCount": 15000
                          },
                          {
                            "id": "backup-2025-01-14T02-00-00-000Z",
                            "name": "backup-2025-01-14T02-00-00-000Z.sql",
                            "size": 2097152,
                            "sizeFormatted": "2.00 MB",
                            "createdAt": "2025-01-14T02:00:00.000Z",
                            "type": "auto",
                            "status": "completed",
                            "description": "自动备份",
                            "tableCount": 25,
                            "recordCount": 14500
                          }
                        ],
                        "total": 15,
                        "totalSize": 52428800,
                        "totalSizeFormatted": "50.00 MB"
                      },
                      "message": "获取备份列表成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权，需要登录",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "未授权访问"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "权限不足，需要系统管理员权限"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "获取备份列表失败"
                    },
                    "error": {
                      "type": "string",
                      "example": "备份目录不存在或无法访问"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/system-backup/database": {
      "post": {
        "summary": "创建数据库备份",
        "description": "创建新的数据库备份文件，使用mysqldump工具导出数据库",
        "tags": [
          "系统备份"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": false,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "description": {
                    "type": "string",
                    "description": "备份描述",
                    "example": "每日自动备份"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "数据库备份创建成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "description": "响应状态"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "filename": {
                          "type": "string",
                          "description": "备份文件名"
                        },
                        "size": {
                          "type": "number",
                          "description": "文件大小（字节）"
                        },
                        "sizeFormatted": {
                          "type": "string",
                          "description": "格式化后的文件大小"
                        },
                        "createdAt": {
                          "type": "string",
                          "format": "date-time",
                          "description": "创建时间"
                        },
                        "description": {
                          "type": "string",
                          "description": "备份描述"
                        },
                        "status": {
                          "type": "string",
                          "description": "备份状态（仅在模拟模式下）",
                          "example": "simulated"
                        },
                        "message": {
                          "type": "string",
                          "description": "备份状态消息（仅在模拟模式下）"
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "description": "响应消息"
                    }
                  }
                },
                "example": {
                  "success": true,
                  "data": {
                    "filename": "backup-2025-01-15T10-30-00-000Z.sql",
                    "size": 1048576,
                    "sizeFormatted": "1.00 MB",
                    "createdAt": "2025-01-15T10:30:00.000Z",
                    "description": "每日自动备份"
                  },
                  "message": "数据库备份成功"
                }
              }
            }
          },
          "401": {
            "description": "未授权，需要登录"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/system-backup/download/{filename}": {
      "get": {
        "summary": "下载备份文件",
        "description": "下载指定的备份文件到本地",
        "tags": [
          "系统备份"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "filename",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "备份文件名",
            "example": "backup-2025-01-15T10-30-00-000Z.sql"
          }
        ],
        "responses": {
          "200": {
            "description": "成功下载备份文件",
            "content": {
              "application/octet-stream": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            },
            "headers": {
              "Content-Disposition": {
                "description": "文件下载头信息",
                "schema": {
                  "type": "string",
                  "example": "attachment; filename=\"backup-2025-01-15T10-30-00-000Z.sql\""
                }
              }
            }
          },
          "401": {
            "description": "未授权，需要登录"
          },
          "404": {
            "description": "备份文件不存在",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "备份文件不存在"
                    },
                    "code": {
                      "type": "string",
                      "example": "NOT_FOUND"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/system/backup/restore": {
      "post": {
        "summary": "恢复备份",
        "tags": [
          "系统备份"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "backupId"
                ],
                "properties": {
                  "backupId": {
                    "type": "string",
                    "description": "备份文件名",
                    "example": "backup-2025-01-15T10-30-00-000Z.sql"
                  },
                  "dropExisting": {
                    "type": "boolean",
                    "description": "是否删除现有表",
                    "default": true
                  },
                  "ignoreErrors": {
                    "type": "boolean",
                    "description": "是否忽略错误继续执行",
                    "default": false
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "恢复成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "tablesRestored": {
                          "type": "integer",
                          "example": 15
                        },
                        "restoredAt": {
                          "type": "string",
                          "format": "date-time",
                          "example": "2025-01-15T10:30:00.000Z"
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "备份恢复成功"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权，需要登录"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/system-backup/{filename}": {
      "delete": {
        "summary": "删除备份文件",
        "description": "删除指定的备份文件",
        "tags": [
          "系统备份"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "filename",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "要删除的备份文件名",
            "example": "backup-2025-01-15T10-30-00-000Z.sql"
          }
        ],
        "responses": {
          "200": {
            "description": "备份文件删除成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "description": "响应状态"
                    },
                    "data": {
                      "type": null,
                      "description": "响应数据（删除操作为null）"
                    },
                    "message": {
                      "type": "string",
                      "description": "响应消息"
                    }
                  }
                },
                "example": {
                  "success": true,
                  "data": null,
                  "message": "备份文件删除成功"
                }
              }
            }
          },
          "401": {
            "description": "未授权，需要登录"
          },
          "404": {
            "description": "备份文件不存在",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "备份文件不存在"
                    },
                    "code": {
                      "type": "string",
                      "example": "NOT_FOUND"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/system/backup/validate/{filename}": {
      "post": {
        "summary": "验证备份文件",
        "tags": [
          "系统备份"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "filename",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "备份文件名"
          }
        ],
        "responses": {
          "200": {
            "description": "验证结果",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "valid": {
                          "type": "boolean"
                        },
                        "errors": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/system/backup/cleanup": {
      "post": {
        "summary": "清理旧备份",
        "tags": [
          "系统备份"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": false,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "retentionDays": {
                    "type": "number",
                    "description": "保留天数",
                    "default": 7
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "清理结果"
          }
        }
      }
    },
    "/api/system-backup/stats": {
      "get": {
        "summary": "获取备份统计信息",
        "description": "获取系统备份的统计数据，包括总数、总大小和最新备份时间",
        "tags": [
          "系统备份"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取备份统计信息",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "description": "响应状态"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "totalBackups": {
                          "type": "number",
                          "description": "备份文件总数"
                        },
                        "totalSize": {
                          "type": "number",
                          "description": "所有备份文件总大小（字节）"
                        },
                        "latestBackup": {
                          "type": "string",
                          "format": "date-time",
                          "description": "最新备份时间，如果没有备份则为null",
                          "nullable": true
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "description": "响应消息"
                    }
                  }
                },
                "example": {
                  "success": true,
                  "data": {
                    "totalBackups": 5,
                    "totalSize": 52428800,
                    "latestBackup": "2025-01-15T10:30:00.000Z"
                  },
                  "message": "获取备份统计成功"
                }
              }
            }
          },
          "401": {
            "description": "未授权，需要登录"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/system-backup/config": {
      "get": {
        "summary": "获取备份配置",
        "description": "获取系统备份的配置信息，包括自动备份设置和备份类型",
        "tags": [
          "系统备份"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取备份配置",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "description": "响应状态"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "autoBackup": {
                          "type": "object",
                          "properties": {
                            "enabled": {
                              "type": "boolean",
                              "description": "是否启用自动备份"
                            },
                            "schedule": {
                              "type": "string",
                              "description": "备份计划（cron表达式）"
                            },
                            "retention": {
                              "type": "number",
                              "description": "备份保留天数"
                            }
                          }
                        },
                        "backupTypes": {
                          "type": "object",
                          "properties": {
                            "database": {
                              "type": "boolean",
                              "description": "是否启用数据库备份"
                            },
                            "files": {
                              "type": "boolean",
                              "description": "是否启用文件备份"
                            },
                            "full": {
                              "type": "boolean",
                              "description": "是否启用完整备份"
                            }
                          }
                        },
                        "maxBackupSize": {
                          "type": "number",
                          "description": "最大备份文件大小（字节）"
                        },
                        "backupPath": {
                          "type": "string",
                          "description": "备份文件存储路径"
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "description": "响应消息"
                    }
                  }
                },
                "example": {
                  "success": true,
                  "data": {
                    "autoBackup": {
                      "enabled": false,
                      "schedule": "0 2 * * *",
                      "retention": 7
                    },
                    "backupTypes": {
                      "database": true,
                      "files": false,
                      "full": false
                    },
                    "maxBackupSize": 1073741824,
                    "backupPath": "/home/project/backups"
                  },
                  "message": "获取备份配置成功"
                }
              }
            }
          },
          "401": {
            "description": "未授权，需要登录"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/system-backup/auto-settings": {
      "get": {
        "summary": "获取自动备份设置",
        "description": "获取自动备份的详细设置信息，包括计划、保留策略等",
        "tags": [
          "系统备份"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取自动备份设置",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "description": "响应状态"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "enabled": {
                          "type": "boolean",
                          "description": "是否启用自动备份"
                        },
                        "schedule": {
                          "type": "string",
                          "description": "备份计划（cron表达式）"
                        },
                        "retention": {
                          "type": "number",
                          "description": "备份保留天数"
                        },
                        "maxBackupSize": {
                          "type": "number",
                          "description": "最大备份文件大小（字节）"
                        },
                        "backupTypes": {
                          "type": "object",
                          "properties": {
                            "database": {
                              "type": "boolean",
                              "description": "是否启用数据库备份"
                            },
                            "files": {
                              "type": "boolean",
                              "description": "是否启用文件备份"
                            },
                            "full": {
                              "type": "boolean",
                              "description": "是否启用完整备份"
                            }
                          }
                        },
                        "lastBackup": {
                          "type": "string",
                          "format": "date-time",
                          "description": "上次备份时间",
                          "nullable": true
                        },
                        "nextBackup": {
                          "type": "string",
                          "format": "date-time",
                          "description": "下次备份时间",
                          "nullable": true
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "description": "响应消息"
                    }
                  }
                },
                "example": {
                  "success": true,
                  "data": {
                    "enabled": false,
                    "schedule": "0 2 * * *",
                    "retention": 7,
                    "maxBackupSize": 1073741824,
                    "backupTypes": {
                      "database": true,
                      "files": false,
                      "full": false
                    },
                    "lastBackup": null,
                    "nextBackup": null
                  },
                  "message": "获取自动备份设置成功"
                }
              }
            }
          },
          "401": {
            "description": "未授权，需要登录"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      },
      "put": {
        "summary": "更新自动备份设置",
        "description": "更新系统自动备份的配置设置",
        "tags": [
          "系统备份"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "enabled": {
                    "type": "boolean",
                    "description": "是否启用自动备份",
                    "example": true
                  },
                  "schedule": {
                    "type": "string",
                    "description": "备份计划（cron表达式）",
                    "example": "0 2 * * *"
                  },
                  "retention": {
                    "type": "number",
                    "description": "备份保留天数",
                    "example": 7
                  },
                  "maxBackupSize": {
                    "type": "number",
                    "description": "最大备份文件大小（字节）",
                    "example": 1073741824
                  },
                  "backupTypes": {
                    "type": "object",
                    "properties": {
                      "database": {
                        "type": "boolean",
                        "description": "是否启用数据库备份",
                        "example": true
                      },
                      "files": {
                        "type": "boolean",
                        "description": "是否启用文件备份",
                        "example": false
                      },
                      "full": {
                        "type": "boolean",
                        "description": "是否启用完整备份",
                        "example": false
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "自动备份设置更新成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "description": "响应状态"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "enabled": {
                          "type": "boolean",
                          "description": "是否启用自动备份"
                        },
                        "schedule": {
                          "type": "string",
                          "description": "备份计划（cron表达式）"
                        },
                        "retention": {
                          "type": "number",
                          "description": "备份保留天数"
                        },
                        "maxBackupSize": {
                          "type": "number",
                          "description": "最大备份文件大小（字节）"
                        },
                        "backupTypes": {
                          "type": "object",
                          "properties": {
                            "database": {
                              "type": "boolean",
                              "description": "是否启用数据库备份"
                            },
                            "files": {
                              "type": "boolean",
                              "description": "是否启用文件备份"
                            },
                            "full": {
                              "type": "boolean",
                              "description": "是否启用完整备份"
                            }
                          }
                        },
                        "lastBackup": {
                          "type": "string",
                          "format": "date-time",
                          "description": "上次备份时间",
                          "nullable": true
                        },
                        "nextBackup": {
                          "type": "string",
                          "format": "date-time",
                          "description": "下次备份时间",
                          "nullable": true
                        },
                        "updatedAt": {
                          "type": "string",
                          "format": "date-time",
                          "description": "设置更新时间"
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "description": "响应消息"
                    }
                  }
                },
                "example": {
                  "success": true,
                  "data": {
                    "enabled": true,
                    "schedule": "0 2 * * *",
                    "retention": 7,
                    "maxBackupSize": 1073741824,
                    "backupTypes": {
                      "database": true,
                      "files": false,
                      "full": false
                    },
                    "lastBackup": null,
                    "nextBackup": null,
                    "updatedAt": "2025-01-15T10:30:00.000Z"
                  },
                  "message": "自动备份设置更新成功"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权，需要登录"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/system-configs": {
      "get": {
        "summary": "获取系统配置列表",
        "description": "获取系统配置列表，支持分页、筛选和排序功能。系统配置管理是幼儿园管理系统的\n核心功能，用于动态控制各种业务参数和系统行为。\n\n**业务场景**：\n- 系统管理员查看和管理系统配置\n- 动态调整系统参数无需重启服务\n- 按业务分类管理配置项\n- 配置项的版本控制和审计\n\n**权限要求**：需要系统配置查看权限 (SYSTEM_CONFIG_VIEW)\n\n**主要功能**：\n- 支持按配置分组筛选（basic、upload、system、email等）\n- 支持按配置类型筛选（string、number、boolean、json）\n- 支持按状态筛选（active、inactive）\n- 支持关键词搜索（配置键名、描述）\n- 支持多字段排序\n- 敏感配置项加密存储\n- 支持公开配置项和非公开配置项\n\n**配置分组说明**：\n- `basic`: 基础配置（网站标题、描述等）\n- `upload`: 文件上传配置（大小限制、格式等）\n- `system`: 系统配置（维护模式、调试模式等）\n- `email`: 邮件配置（SMTP、模板等）\n- `security`: 安全配置（密码策略、会话超时等）\n- `notification`: 通知配置（短信、推送等）\n\n**安全特性**：\n- 敏感配置自动加密存储\n- 基于角色的访问控制\n- 配置变更审计日志\n- 防止配置项冲突\n",
        "tags": [
          "SystemConfigs"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "groupKey",
            "schema": {
              "type": "string",
              "minimum": 1,
              "default": 1
            },
            "description": "配置分组键名",
            "example": 1
          },
          {
            "in": "query",
            "name": "keyword",
            "schema": {
              "type": "string",
              "minimum": 1,
              "maximum": 100,
              "default": 10
            },
            "description": "搜索关键词",
            "example": 20
          },
          {
            "in": "query",
            "name": "isSystem",
            "schema": {
              "type": "boolean",
              "enum": [
                "basic",
                "upload",
                "system",
                "email",
                "security",
                "notification",
                "payment",
                "ai"
              ]
            },
            "description": "是否系统配置",
            "example": "basic"
          },
          {
            "in": "query",
            "name": "isReadonly",
            "schema": {
              "type": "boolean",
              "enum": [
                "string",
                "number",
                "boolean",
                "json"
              ]
            },
            "description": "是否只读配置",
            "example": "string"
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "enum": [
                "active",
                "inactive"
              ],
              "default": 1
            },
            "description": "页码",
            "example": "active"
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer",
              "default": 10
            },
            "description": "每页数量",
            "example": "网站"
          },
          {
            "in": "query",
            "name": "sortBy",
            "schema": {
              "type": "string",
              "enum": [
                "config_key",
                "config_group",
                "sort_order",
                "created_at",
                "updated_at"
              ],
              "default": "updated_at"
            },
            "description": "排序字段",
            "example": "sort_order"
          },
          {
            "in": "query",
            "name": "sortOrder",
            "schema": {
              "type": "string",
              "enum": [
                "ASC",
                "DESC"
              ],
              "default": "DESC"
            },
            "description": "排序方向",
            "example": "asc"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "configs": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/SystemConfig"
                          }
                        },
                        "pagination": {
                          "type": "object",
                          "properties": {
                            "current_page": {
                              "type": "integer",
                              "description": "当前页码",
                              "example": 1
                            },
                            "per_page": {
                              "type": "integer",
                              "description": "每页数量",
                              "example": 20
                            },
                            "total": {
                              "type": "integer",
                              "description": "总记录数",
                              "example": 45
                            },
                            "total_pages": {
                              "type": "integer",
                              "description": "总页数",
                              "example": 3
                            }
                          }
                        },
                        "items": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/SystemConfig"
                          }
                        },
                        "total": {
                          "type": "integer"
                        },
                        "page": {
                          "type": "integer"
                        },
                        "pageSize": {
                          "type": "integer"
                        },
                        "totalPages": {
                          "type": "integer"
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "获取系统配置列表成功"
                    }
                  }
                },
                "examples": {
                  "success_response": {
                    "summary": "成功响应示例",
                    "value": {
                      "success": true,
                      "data": {
                        "configs": [
                          {
                            "id": 1,
                            "config_key": "site_title",
                            "config_value": "智慧幼儿园管理系统",
                            "config_type": "string",
                            "config_group": "basic",
                            "description": "网站标题",
                            "is_encrypted": false,
                            "is_public": true,
                            "sort_order": 1,
                            "status": "active",
                            "created_at": "2025-01-01T00:00:00.000Z",
                            "updated_at": "2025-01-15T10:30:00.000Z"
                          },
                          {
                            "id": 2,
                            "config_key": "max_upload_size",
                            "config_value": "10485760",
                            "config_type": "number",
                            "config_group": "upload",
                            "description": "最大上传文件大小（字节）",
                            "is_encrypted": false,
                            "is_public": false,
                            "sort_order": 1,
                            "status": "active",
                            "created_at": "2025-01-01T00:00:00.000Z",
                            "updated_at": "2025-01-10T14:20:00.000Z"
                          }
                        ],
                        "pagination": {
                          "current_page": 1,
                          "per_page": 20,
                          "total": 45,
                          "total_pages": 3
                        }
                      },
                      "message": "获取系统配置列表成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "未授权访问"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "权限不足，需要系统配置查看权限"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "获取系统配置列表失败"
                    },
                    "error": {
                      "type": "string",
                      "example": "数据库连接错误"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "summary": "创建系统配置",
        "description": "创建新的系统配置项",
        "tags": [
          "SystemConfigs"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SystemConfigCreate",
                "type": "object",
                "required": [
                  "groupKey",
                  "configKey",
                  "configValue",
                  "valueType",
                  "description"
                ],
                "properties": {
                  "groupKey": {
                    "type": "string",
                    "description": "配置分组键名",
                    "example": "system"
                  },
                  "configKey": {
                    "type": "string",
                    "description": "配置项键名",
                    "example": "site_name"
                  },
                  "configValue": {
                    "type": "string",
                    "description": "配置项值",
                    "example": "幼儿园管理系统"
                  },
                  "valueType": {
                    "type": "string",
                    "enum": [
                      "string",
                      "number",
                      "boolean",
                      "json"
                    ],
                    "description": "值类型",
                    "example": "string"
                  },
                  "description": {
                    "type": "string",
                    "description": "配置描述",
                    "example": "网站名称"
                  },
                  "isSystem": {
                    "type": "boolean",
                    "description": "是否系统配置",
                    "default": false
                  },
                  "isReadonly": {
                    "type": "boolean",
                    "description": "是否只读配置",
                    "default": false
                  },
                  "sortOrder": {
                    "type": "integer",
                    "description": "排序顺序"
                  }
                }
              },
              "examples": {
                "string_config": {
                  "summary": "字符串配置示例",
                  "value": {
                    "config_key": "site_title",
                    "config_value": "幼儿园管理系统",
                    "config_type": "string",
                    "config_group": "basic",
                    "description": "网站标题",
                    "is_public": true,
                    "sort_order": 1
                  }
                },
                "number_config": {
                  "summary": "数字配置示例",
                  "value": {
                    "config_key": "max_upload_size",
                    "config_value": "10485760",
                    "config_type": "number",
                    "config_group": "upload",
                    "description": "最大上传文件大小（字节）",
                    "sort_order": 1
                  }
                },
                "boolean_config": {
                  "summary": "布尔配置示例",
                  "value": {
                    "config_key": "maintenance_mode",
                    "config_value": "false",
                    "config_type": "boolean",
                    "config_group": "system",
                    "description": "维护模式开关",
                    "sort_order": 1
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "创建成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/SystemConfig"
                    },
                    "message": {
                      "type": "string",
                      "example": "系统配置创建成功"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权访问"
          },
          "403": {
            "description": "权限不足"
          },
          "409": {
            "description": "配置键已存在"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/system-configs/{id}": {
      "get": {
        "summary": "获取系统配置详情",
        "description": "根据ID获取特定的系统配置详情",
        "tags": [
          "SystemConfigs"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "配置ID"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/SystemConfig"
                    },
                    "message": {
                      "type": "string",
                      "example": "获取系统配置详情成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "403": {
            "description": "权限不足"
          },
          "404": {
            "description": "配置不存在"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      },
      "put": {
        "summary": "更新系统配置",
        "description": "更新指定ID的系统配置信息",
        "tags": [
          "SystemConfigs"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "配置ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SystemConfigUpdate",
                "type": "object",
                "properties": {
                  "groupKey": {
                    "type": "string",
                    "description": "配置分组键名"
                  },
                  "configKey": {
                    "type": "string",
                    "description": "配置项键名"
                  },
                  "configValue": {
                    "type": "string",
                    "description": "配置项值"
                  },
                  "valueType": {
                    "type": "string",
                    "enum": [
                      "string",
                      "number",
                      "boolean",
                      "json"
                    ],
                    "description": "值类型"
                  },
                  "description": {
                    "type": "string",
                    "description": "配置描述"
                  },
                  "isSystem": {
                    "type": "boolean",
                    "description": "是否系统配置"
                  },
                  "isReadonly": {
                    "type": "boolean",
                    "description": "是否只读配置"
                  },
                  "sortOrder": {
                    "type": "integer",
                    "description": "排序顺序"
                  }
                }
              },
              "examples": {
                "update_value": {
                  "summary": "更新配置值",
                  "value": {
                    "config_value": "新的配置值",
                    "description": "更新后的描述"
                  }
                },
                "update_status": {
                  "summary": "更新状态",
                  "value": {
                    "status": "inactive",
                    "description": "暂时禁用此配置"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/SystemConfig"
                    },
                    "message": {
                      "type": "string",
                      "example": "系统配置更新成功"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误或只读配置不能修改"
          },
          "401": {
            "description": "未授权访问"
          },
          "403": {
            "description": "权限不足"
          },
          "404": {
            "description": "配置不存在"
          },
          "409": {
            "description": "配置键已存在"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      },
      "delete": {
        "summary": "删除系统配置",
        "description": "删除指定ID的系统配置（软删除）",
        "tags": [
          "SystemConfigs"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "配置ID"
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "系统配置删除成功"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "系统配置不能删除"
          },
          "401": {
            "description": "未授权访问"
          },
          "403": {
            "description": "权限不足"
          },
          "404": {
            "description": "配置不存在"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/system-logs": {
      "get": {
        "summary": "获取系统日志列表",
        "description": "分页获取系统日志列表，支持查询参数",
        "tags": [
          "SystemLogs"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 10
            },
            "description": "每页数量"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "items": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/SystemLog"
                          }
                        },
                        "total": {
                          "type": "integer",
                          "description": "总记录数"
                        },
                        "page": {
                          "type": "integer",
                          "description": "当前页码"
                        },
                        "pageSize": {
                          "type": "integer",
                          "description": "每页数量"
                        },
                        "totalPages": {
                          "type": "integer",
                          "description": "总页数"
                        }
                      }
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "500": {
            "$ref": "#/components/responses/ServerError"
          }
        }
      },
      "post": {
        "summary": "创建系统日志",
        "description": "创建新的系统日志记录",
        "tags": [
          "SystemLogs"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SystemLogCreate"
              },
              "example": {
                "level": "info",
                "message": "用户登录成功",
                "module": "auth",
                "userId": 1,
                "ip": "192.168.1.1",
                "userAgent": "Mozilla/5.0"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "创建成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/SystemLog"
                    },
                    "message": {
                      "type": "string",
                      "example": "创建系统日志成功"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "日志级别和消息内容不能为空"
                    },
                    "error": {
                      "type": "string",
                      "example": "INVALID_PARAMS"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "500": {
            "$ref": "#/components/responses/ServerError"
          }
        }
      }
    },
    "/system-logs/{id}": {
      "get": {
        "summary": "获取单条系统日志",
        "description": "根据ID获取特定的系统日志详情",
        "tags": [
          "SystemLogs"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "系统日志ID"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/SystemLog"
                    },
                    "message": {
                      "type": "string",
                      "example": "获取系统日志详情成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "404": {
            "description": "系统日志不存在",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "系统日志不存在"
                    },
                    "error": {
                      "type": "string",
                      "example": "NOT_FOUND"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/ServerError"
          }
        }
      },
      "delete": {
        "summary": "删除系统日志",
        "description": "根据ID删除特定的系统日志",
        "tags": [
          "SystemLogs"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "系统日志ID"
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "description": "删除的日志ID"
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "删除系统日志成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "404": {
            "description": "系统日志不存在",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "系统日志不存在"
                    },
                    "error": {
                      "type": "string",
                      "example": "NOT_FOUND"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/ServerError"
          }
        }
      }
    },
    "/system-logs/cleanup": {
      "post": {
        "summary": "清理系统日志",
        "description": "清理历史系统日志记录（暂未实现）",
        "tags": [
          "SystemLogs"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "500": {
            "$ref": "#/components/responses/ServerError"
          },
          "501": {
            "description": "功能暂未实现",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "清理功能暂未实现"
                    },
                    "error": {
                      "type": "string",
                      "example": "NOT_IMPLEMENTED"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/system-logs/system": {
      "get": {
        "summary": "获取系统日志",
        "description": "获取最近100条系统日志记录",
        "tags": [
          "SystemLogs"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "items": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/SystemLog"
                          }
                        },
                        "total": {
                          "type": "integer",
                          "description": "记录总数"
                        },
                        "page": {
                          "type": "integer",
                          "example": 1
                        },
                        "pageSize": {
                          "type": "integer",
                          "description": "每页数量"
                        },
                        "totalPages": {
                          "type": "integer",
                          "example": 1
                        }
                      }
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "500": {
            "$ref": "#/components/responses/ServerError"
          }
        }
      }
    },
    "/system-logs/operations": {
      "get": {
        "summary": "获取操作日志",
        "description": "获取最近100条操作日志记录",
        "tags": [
          "SystemLogs"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "items": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/OperationLog"
                          }
                        },
                        "total": {
                          "type": "integer",
                          "description": "记录总数"
                        },
                        "page": {
                          "type": "integer",
                          "example": 1
                        },
                        "pageSize": {
                          "type": "integer",
                          "description": "每页数量"
                        },
                        "totalPages": {
                          "type": "integer",
                          "example": 1
                        }
                      }
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "500": {
            "$ref": "#/components/responses/ServerError"
          }
        }
      }
    },
    "/system-logs/system/cleanup": {
      "delete": {
        "summary": "清理系统日志",
        "description": "清理历史系统日志记录（暂未实现）",
        "tags": [
          "SystemLogs"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "500": {
            "$ref": "#/components/responses/ServerError"
          },
          "501": {
            "description": "功能暂未实现",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "清理功能暂未实现"
                    },
                    "error": {
                      "type": "string",
                      "example": "NOT_IMPLEMENTED"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/system-logs/statistics": {
      "get": {
        "summary": "获取日志统计",
        "description": "获取系统日志和操作日志的统计信息",
        "tags": [
          "SystemLogs"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/LogStatistics"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "500": {
            "$ref": "#/components/responses/ServerError"
          }
        }
      }
    },
    "/system": {
      "get": {
        "summary": "系统健康检查",
        "tags": [
          "System"
        ],
        "description": "检查系统运行状态",
        "responses": {
          "200": {
            "description": "系统运行正常",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 0
                    },
                    "message": {
                      "type": "string",
                      "example": "请求成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "status": {
                          "type": "string",
                          "example": "healthy"
                        },
                        "timestamp": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "uptime": {
                          "type": "number",
                          "description": "系统运行时间（秒）"
                        },
                        "version": {
                          "type": "string",
                          "example": "1.0.0"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "系统错误"
          }
        }
      }
    },
    "/system/health": {
      "get": {
        "summary": "系统健康检查",
        "tags": [
          "System"
        ],
        "description": "检查系统运行状态",
        "responses": {
          "200": {
            "description": "系统运行正常",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 0
                    },
                    "message": {
                      "type": "string",
                      "example": "请求成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "status": {
                          "type": "string",
                          "example": "healthy"
                        },
                        "timestamp": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "uptime": {
                          "type": "number",
                          "description": "系统运行时间（秒）"
                        },
                        "version": {
                          "type": "string",
                          "example": "1.0.0"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "系统错误"
          }
        }
      }
    },
    "/system/docs": {
      "get": {
        "summary": "获取API文档",
        "tags": [
          "System"
        ],
        "description": "获取API文档信息",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取API文档成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 0
                    },
                    "message": {
                      "type": "string",
                      "example": "请求成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "message": {
                          "type": "string",
                          "example": "API文档功能暂未实现"
                        },
                        "docs_url": {
                          "type": "string",
                          "example": "/api-docs"
                        },
                        "swagger_url": {
                          "type": "string",
                          "example": "/swagger"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "500": {
            "description": "系统错误"
          }
        }
      }
    },
    "/system/info": {
      "get": {
        "summary": "获取系统信息",
        "tags": [
          "System"
        ],
        "description": "获取系统运行信息",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取系统信息成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 0
                    },
                    "message": {
                      "type": "string",
                      "example": "请求成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "name": {
                          "type": "string",
                          "example": "幼儿园管理系统"
                        },
                        "version": {
                          "type": "string",
                          "example": "1.0.0"
                        },
                        "environment": {
                          "type": "string",
                          "example": "development"
                        },
                        "uptime": {
                          "type": "number",
                          "description": "系统运行时间（秒）"
                        },
                        "memory": {
                          "type": "object",
                          "properties": {
                            "rss": {
                              "type": "number"
                            },
                            "heapTotal": {
                              "type": "number"
                            },
                            "heapUsed": {
                              "type": "number"
                            },
                            "external": {
                              "type": "number"
                            },
                            "arrayBuffers": {
                              "type": "number"
                            }
                          }
                        },
                        "platform": {
                          "type": "string",
                          "example": "linux"
                        },
                        "node_version": {
                          "type": "string",
                          "example": "v18.17.0"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "500": {
            "description": "系统错误"
          }
        }
      }
    },
    "/api/system/stats": {
      "get": {
        "summary": "获取系统统计数据",
        "description": "获取系统仪表板所需的统计数据",
        "tags": [
          "System"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取系统统计数据成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "userCount": {
                          "type": "integer",
                          "description": "系统用户总数"
                        },
                        "activeUsers": {
                          "type": "integer",
                          "description": "今日活跃用户数"
                        },
                        "roleCount": {
                          "type": "integer",
                          "description": "系统角色总数"
                        },
                        "permissionCount": {
                          "type": "integer",
                          "description": "权限总数"
                        },
                        "todayLogCount": {
                          "type": "integer",
                          "description": "今日日志数量"
                        },
                        "errorLogCount": {
                          "type": "integer",
                          "description": "错误日志数量"
                        },
                        "uptime": {
                          "type": "string",
                          "description": "系统运行时间"
                        },
                        "cpuUsage": {
                          "type": "number",
                          "description": "CPU使用率"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "500": {
            "description": "系统错误"
          }
        }
      }
    },
    "/api/system/detail-info": {
      "get": {
        "summary": "获取系统详细信息",
        "description": "获取系统的详细配置和运行信息",
        "tags": [
          "System"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取系统详细信息成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "version": {
                          "type": "string",
                          "description": "系统版本"
                        },
                        "lastUpdate": {
                          "type": "string",
                          "description": "最后更新时间"
                        },
                        "os": {
                          "type": "string",
                          "description": "操作系统"
                        },
                        "database": {
                          "type": "string",
                          "description": "数据库信息"
                        },
                        "memoryUsage": {
                          "type": "string",
                          "description": "内存使用情况"
                        },
                        "diskSpace": {
                          "type": "string",
                          "description": "磁盘空间使用情况"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "500": {
            "description": "系统错误"
          }
        }
      }
    },
    "/system/test/database": {
      "get": {
        "summary": "测试数据库连接",
        "tags": [
          "System"
        ],
        "description": "测试数据库连接状态",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "数据库连接测试成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 0
                    },
                    "message": {
                      "type": "string",
                      "example": "请求成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "status": {
                          "type": "string",
                          "example": "connected"
                        },
                        "test_query": {
                          "type": "object",
                          "properties": {
                            "test": {
                              "type": "integer",
                              "example": 1
                            }
                          }
                        },
                        "message": {
                          "type": "string",
                          "example": "数据库连接正常"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "500": {
            "description": "数据库连接失败"
          }
        }
      }
    },
    "/system/test/email": {
      "get": {
        "summary": "测试邮件服务状态",
        "tags": [
          "System"
        ],
        "description": "获取邮件服务状态",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "401": {
            "description": "未授权访问"
          },
          "500": {
            "description": "系统错误"
          },
          "501": {
            "description": "邮件服务测试功能暂未实现",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 501
                    },
                    "message": {
                      "type": "string",
                      "example": "邮件服务测试功能暂未实现"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "summary": "测试邮件发送",
        "tags": [
          "System"
        ],
        "description": "测试邮件发送功能",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": false,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "to": {
                    "type": "string",
                    "example": "test@example.com",
                    "description": "收件人邮箱"
                  },
                  "subject": {
                    "type": "string",
                    "example": "测试邮件",
                    "description": "邮件主题"
                  },
                  "content": {
                    "type": "string",
                    "example": "这是一封测试邮件",
                    "description": "邮件内容"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "邮件发送模拟成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 0
                    },
                    "message": {
                      "type": "string",
                      "example": "请求成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "status": {
                          "type": "string",
                          "example": "simulated"
                        },
                        "to": {
                          "type": "string",
                          "example": "test@example.com"
                        },
                        "subject": {
                          "type": "string",
                          "example": "测试邮件"
                        },
                        "content": {
                          "type": "string",
                          "example": "这是一封测试邮件"
                        },
                        "message": {
                          "type": "string",
                          "example": "邮件发送模拟成功"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "500": {
            "description": "系统错误"
          }
        }
      }
    },
    "/system/test/sms": {
      "post": {
        "summary": "测试短信发送",
        "tags": [
          "System"
        ],
        "description": "测试短信发送功能",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": false,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "phone": {
                    "type": "string",
                    "example": "13800138000",
                    "description": "接收短信的手机号"
                  },
                  "content": {
                    "type": "string",
                    "example": "这是一条测试短信",
                    "description": "短信内容"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "短信发送模拟成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 0
                    },
                    "message": {
                      "type": "string",
                      "example": "请求成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "status": {
                          "type": "string",
                          "example": "simulated"
                        },
                        "phone": {
                          "type": "string",
                          "example": "13800138000"
                        },
                        "content": {
                          "type": "string",
                          "example": "这是一条测试短信"
                        },
                        "message": {
                          "type": "string",
                          "example": "短信发送模拟成功"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "500": {
            "description": "系统错误"
          }
        }
      }
    },
    "/system/upload": {
      "post": {
        "summary": "系统文件上传",
        "tags": [
          "System"
        ],
        "description": "系统文件上传功能",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "file": {
                    "type": "string",
                    "format": "binary",
                    "description": "要上传的文件"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "文件上传模拟成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 0
                    },
                    "message": {
                      "type": "string",
                      "example": "请求成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "url": {
                          "type": "string",
                          "example": "/uploads/system/logo_1625097600000.png"
                        },
                        "filename": {
                          "type": "string",
                          "example": "logo.png"
                        },
                        "size": {
                          "type": "number",
                          "example": 1024
                        },
                        "message": {
                          "type": "string",
                          "example": "文件上传模拟成功"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "500": {
            "description": "系统错误"
          }
        }
      }
    },
    "/system/cache/clear": {
      "delete": {
        "summary": "清理缓存 (DELETE)",
        "tags": [
          "System"
        ],
        "description": "清理系统缓存",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "401": {
            "description": "未授权访问"
          },
          "500": {
            "description": "系统错误"
          },
          "501": {
            "description": "清理缓存功能暂未实现",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 501
                    },
                    "message": {
                      "type": "string",
                      "example": "清理缓存功能暂未实现"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "summary": "清理缓存 (POST)",
        "tags": [
          "System"
        ],
        "description": "清理系统缓存",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "缓存清理模拟成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 0
                    },
                    "message": {
                      "type": "string",
                      "example": "请求成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "status": {
                          "type": "string",
                          "example": "simulated"
                        },
                        "cleared_items": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          },
                          "example": [
                            "user_cache",
                            "api_cache",
                            "session_cache"
                          ]
                        },
                        "message": {
                          "type": "string",
                          "example": "缓存清理模拟成功"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "500": {
            "description": "系统错误"
          }
        }
      }
    },
    "/system/version": {
      "get": {
        "summary": "获取版本信息",
        "tags": [
          "System"
        ],
        "description": "获取系统版本信息",
        "responses": {
          "200": {
            "description": "获取版本信息成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 0
                    },
                    "message": {
                      "type": "string",
                      "example": "请求成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "version": {
                          "type": "string",
                          "example": "1.0.0"
                        },
                        "build": {
                          "type": "string",
                          "example": "20250610"
                        },
                        "environment": {
                          "type": "string",
                          "example": "development"
                        },
                        "api_version": {
                          "type": "string",
                          "example": "v1"
                        },
                        "last_updated": {
                          "type": "string",
                          "example": "2025-06-10"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "系统错误"
          }
        }
      }
    },
    "/system/logs": {
      "get": {
        "summary": "获取系统日志",
        "tags": [
          "System"
        ],
        "description": "获取系统日志列表，支持分页和筛选",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer",
              "default": 20
            },
            "description": "每页数量"
          },
          {
            "in": "query",
            "name": "level",
            "schema": {
              "type": "string",
              "enum": [
                "info",
                "warn",
                "error",
                "debug"
              ]
            },
            "description": "日志级别"
          },
          {
            "in": "query",
            "name": "category",
            "schema": {
              "type": "string"
            },
            "description": "日志分类"
          },
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "description": "开始日期"
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "description": "结束日期"
          },
          {
            "in": "query",
            "name": "keyword",
            "schema": {
              "type": "string"
            },
            "description": "关键词搜索"
          }
        ],
        "responses": {
          "200": {
            "description": "获取系统日志成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 0
                    },
                    "message": {
                      "type": "string",
                      "example": "获取系统日志成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "items": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "integer"
                              },
                              "level": {
                                "type": "string",
                                "example": "info"
                              },
                              "category": {
                                "type": "string",
                                "example": "system"
                              },
                              "message": {
                                "type": "string",
                                "example": "系统启动"
                              },
                              "details": {
                                "type": "string"
                              },
                              "ip_address": {
                                "type": "string",
                                "example": "127.0.0.1"
                              },
                              "user_id": {
                                "type": "integer"
                              },
                              "source": {
                                "type": "string",
                                "example": "system"
                              },
                              "created_at": {
                                "type": "string",
                                "format": "date-time"
                              }
                            }
                          }
                        },
                        "total": {
                          "type": "integer",
                          "example": 100
                        },
                        "page": {
                          "type": "integer",
                          "example": 1
                        },
                        "pageSize": {
                          "type": "integer",
                          "example": 20
                        },
                        "totalPages": {
                          "type": "integer",
                          "example": 5
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "403": {
            "description": "权限不足"
          },
          "500": {
            "description": "系统错误"
          }
        }
      }
    },
    "/system/configs": {
      "get": {
        "summary": "获取系统配置",
        "tags": [
          "System"
        ],
        "description": "获取系统配置信息",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "group",
            "schema": {
              "type": "string"
            },
            "description": "配置分组"
          },
          {
            "in": "query",
            "name": "key",
            "schema": {
              "type": "string"
            },
            "description": "配置键"
          }
        ],
        "responses": {
          "200": {
            "description": "获取系统配置成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 0
                    },
                    "message": {
                      "type": "string",
                      "example": "获取系统配置成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "configs": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "integer"
                              },
                              "group": {
                                "type": "string"
                              },
                              "key": {
                                "type": "string"
                              },
                              "value": {
                                "type": "string"
                              },
                              "description": {
                                "type": "string"
                              },
                              "updatedAt": {
                                "type": "string",
                                "format": "date-time"
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "500": {
            "description": "系统错误"
          }
        }
      },
      "post": {
        "summary": "创建系统配置",
        "tags": [
          "System"
        ],
        "description": "创建新的系统配置项",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "group",
                  "key",
                  "value"
                ],
                "properties": {
                  "group": {
                    "type": "string",
                    "description": "配置分组",
                    "example": "system"
                  },
                  "key": {
                    "type": "string",
                    "description": "配置键",
                    "example": "maintenance_mode"
                  },
                  "value": {
                    "type": "string",
                    "description": "配置值",
                    "example": "false"
                  },
                  "description": {
                    "type": "string",
                    "description": "配置描述",
                    "example": "系统维护模式开关"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "创建系统配置成功"
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权访问"
          },
          "500": {
            "description": "系统错误"
          }
        }
      }
    },
    "/system/configs/{id}": {
      "put": {
        "summary": "更新系统配置",
        "tags": [
          "System"
        ],
        "description": "更新现有的系统配置项",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "配置ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "value": {
                    "type": "string",
                    "description": "配置值"
                  },
                  "description": {
                    "type": "string",
                    "description": "配置描述"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新系统配置成功"
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权访问"
          },
          "404": {
            "description": "配置不存在"
          },
          "500": {
            "description": "系统错误"
          }
        }
      }
    },
    "/system/users": {
      "get": {
        "summary": "获取用户列表",
        "tags": [
          "System"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer",
              "default": 10
            },
            "description": "每页数量"
          },
          {
            "in": "query",
            "name": "keyword",
            "schema": {
              "type": "string"
            },
            "description": "搜索关键词"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "items": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "integer"
                              },
                              "username": {
                                "type": "string"
                              },
                              "email": {
                                "type": "string"
                              },
                              "realName": {
                                "type": "string"
                              },
                              "status": {
                                "type": "string"
                              },
                              "createdAt": {
                                "type": "string",
                                "format": "date-time"
                              }
                            }
                          }
                        },
                        "total": {
                          "type": "integer"
                        },
                        "page": {
                          "type": "integer"
                        },
                        "pageSize": {
                          "type": "integer"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "summary": "创建用户",
        "tags": [
          "System"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "username",
                  "email",
                  "password"
                ],
                "properties": {
                  "username": {
                    "type": "string"
                  },
                  "email": {
                    "type": "string"
                  },
                  "password": {
                    "type": "string"
                  },
                  "realName": {
                    "type": "string"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "active",
                      "inactive"
                    ],
                    "default": "active"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "创建成功"
          }
        }
      }
    },
    "/tasks/{taskId}/attachments": {
      "get": {
        "summary": "获取任务的所有附件",
        "description": "获取指定任务的所有附件列表和基本信息",
        "tags": [
          "任务附件"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "taskId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "任务ID"
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 10
            },
            "description": "每页数量"
          },
          {
            "in": "query",
            "name": "fileType",
            "schema": {
              "type": "string",
              "enum": [
                "image",
                "document",
                "video",
                "audio",
                "all"
              ],
              "default": "all"
            },
            "description": "文件类型筛选"
          }
        ],
        "responses": {
          "200": {
            "description": "获取附件列表成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "total": {
                          "type": "integer",
                          "description": "总附件数"
                        },
                        "totalSize": {
                          "type": "number",
                          "description": "总文件大小(字节)"
                        },
                        "attachments": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "integer"
                              },
                              "filename": {
                                "type": "string"
                              },
                              "originalName": {
                                "type": "string"
                              },
                              "mimeType": {
                                "type": "string"
                              },
                              "size": {
                                "type": "number"
                              },
                              "uploadTime": {
                                "type": "string"
                              },
                              "uploadedBy": {
                                "type": "string"
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未认证"
          },
          "403": {
            "description": "无权限访问任务"
          },
          "404": {
            "description": "任务不存在"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      },
      "post": {
        "summary": "上传任务附件",
        "description": "为指定任务上传单个附件文件",
        "tags": [
          "任务附件"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "taskId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "任务ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "file": {
                    "type": "string",
                    "format": "binary",
                    "description": "要上传的文件 (支持图片、文档、视频，最大100MB)"
                  },
                  "description": {
                    "type": "string",
                    "description": "文件描述 (可选)"
                  },
                  "category": {
                    "type": "string",
                    "description": "文件分类 (可选)"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "上传成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "文件上传成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "attachmentId": {
                          "type": "integer",
                          "description": "附件ID"
                        },
                        "filename": {
                          "type": "string",
                          "description": "文件名"
                        },
                        "size": {
                          "type": "number",
                          "description": "文件大小"
                        },
                        "uploadTime": {
                          "type": "string",
                          "description": "上传时间"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "文件格式不支持或文件过大"
          },
          "401": {
            "description": "未认证"
          },
          "403": {
            "description": "无权限操作任务"
          },
          "404": {
            "description": "任务不存在"
          },
          "500": {
            "description": "服务器错误或上传失败"
          }
        }
      }
    },
    "/tasks/{taskId}/attachments/batch": {
      "post": {
        "summary": "批量上传任务附件",
        "description": "为指定任务批量上传多个附件文件",
        "tags": [
          "任务附件"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "taskId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "任务ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "files": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "format": "binary"
                    },
                    "description": "要上传的文件列表 (最多10个文件)"
                  },
                  "description": {
                    "type": "string",
                    "description": "批量描述 (可选)"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "批量上传完成",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "批量上传完成"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "uploaded": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "attachmentId": {
                                "type": "integer"
                              },
                              "filename": {
                                "type": "string"
                              },
                              "size": {
                                "type": "number"
                              },
                              "status": {
                                "type": "string"
                              }
                            }
                          },
                          "description": "成功上传的文件"
                        },
                        "failed": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "filename": {
                                "type": "string"
                              },
                              "error": {
                                "type": "string"
                              }
                            }
                          },
                          "description": "上传失败的文件"
                        },
                        "totalUploaded": {
                          "type": "integer",
                          "description": "成功上传数量"
                        },
                        "totalFailed": {
                          "type": "integer",
                          "description": "失败数量"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "文件数量超出限制或格式不支持"
          },
          "401": {
            "description": "未认证"
          },
          "403": {
            "description": "无权限操作任务"
          },
          "404": {
            "description": "任务不存在"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/tasks/{taskId}/attachments/{attachmentId}": {
      "delete": {
        "summary": "删除任务附件",
        "description": "删除指定任务的特定附件文件",
        "tags": [
          "任务附件"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "taskId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "任务ID"
          },
          {
            "in": "path",
            "name": "attachmentId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "附件ID"
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "附件删除成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "deletedAttachmentId": {
                          "type": "integer",
                          "description": "被删除的附件ID"
                        },
                        "filename": {
                          "type": "string",
                          "description": "被删除的文件名"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未认证"
          },
          "403": {
            "description": "无权限删除附件"
          },
          "404": {
            "description": "任务或附件不存在"
          },
          "500": {
            "description": "服务器错误或删除失败"
          }
        }
      }
    },
    "/tasks/{taskId}/attachments/{attachmentId}/download": {
      "get": {
        "summary": "下载任务附件",
        "description": "下载指定任务的特定附件文件",
        "tags": [
          "任务附件"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "taskId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "任务ID"
          },
          {
            "in": "path",
            "name": "attachmentId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "附件ID"
          },
          {
            "in": "query",
            "name": "inline",
            "schema": {
              "type": "boolean",
              "default": false
            },
            "description": "是否以内联方式打开 (图片等)"
          }
        ],
        "responses": {
          "200": {
            "description": "文件下载",
            "content": {
              "application/octet-stream": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            },
            "headers": {
              "Content-Disposition": {
                "description": "文件下载头信息"
              },
              "Content-Type": {
                "description": "文件MIME类型"
              },
              "Content-Length": {
                "description": "文件大小"
              }
            }
          },
          "401": {
            "description": "未认证"
          },
          "403": {
            "description": "无权限访问附件"
          },
          "404": {
            "description": "任务或附件不存在或文件已丢失"
          },
          "500": {
            "description": "服务器错误或下载失败"
          }
        }
      }
    },
    "/api/inspection-tasks/{taskId}/comments": {
      "get": {
        "summary": "获取任务的所有评论",
        "tags": [
          "TaskComments"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "taskId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "任务ID"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取评论列表"
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      },
      "post": {
        "summary": "创建任务评论",
        "tags": [
          "TaskComments"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "taskId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "任务ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "content"
                ],
                "properties": {
                  "content": {
                    "type": "string",
                    "description": "评论内容"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "评论创建成功"
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "任务不存在"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/task-comments/{commentId}": {
      "delete": {
        "summary": "删除任务评论",
        "tags": [
          "TaskComments"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "commentId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "评论ID"
          }
        ],
        "responses": {
          "200": {
            "description": "评论删除成功"
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "description": "无权删除"
          },
          "404": {
            "description": "评论不存在"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/tasks/test": {
      "get": {
        "summary": "任务API测试接口",
        "description": "用于测试任务API是否正常工作的测试接口",
        "tags": [
          "Task Management"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "API测试成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "任务API测试成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "timestamp": {
                          "type": "string",
                          "format": "date-time",
                          "example": "2024-01-01T12:00:00Z"
                        },
                        "path": {
                          "type": "string",
                          "example": "/test"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          }
        }
      }
    },
    "/api/tasks/stats": {
      "get": {
        "summary": "获取任务统计数据",
        "description": "获取任务相关的各项统计数据，包括总数、状态分布、优先级分布等",
        "tags": [
          "Task Management"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取任务统计数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/TaskStats"
                    },
                    "message": {
                      "type": "string",
                      "example": "获取任务统计数据成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/tasks": {
      "get": {
        "summary": "获取任务列表",
        "description": "分页获取任务列表，支持多种筛选和排序条件",
        "tags": [
          "Task Management"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 20
            },
            "description": "每页数量"
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string",
              "enum": [
                "pending",
                "in_progress",
                "completed",
                "cancelled",
                "on_hold"
              ]
            },
            "description": "按状态筛选"
          },
          {
            "in": "query",
            "name": "priority",
            "schema": {
              "type": "string",
              "enum": [
                "low",
                "medium",
                "high",
                "urgent"
              ]
            },
            "description": "按优先级筛选"
          },
          {
            "in": "query",
            "name": "assignee_id",
            "schema": {
              "type": "integer"
            },
            "description": "按被分配人筛选"
          },
          {
            "in": "query",
            "name": "category",
            "schema": {
              "type": "string"
            },
            "description": "按分类筛选"
          },
          {
            "in": "query",
            "name": "keyword",
            "schema": {
              "type": "string"
            },
            "description": "关键词搜索（标题、描述、标签）"
          },
          {
            "in": "query",
            "name": "date_range",
            "schema": {
              "type": "string",
              "enum": [
                "today",
                "this_week",
                "this_month",
                "overdue"
              ]
            },
            "description": "时间范围筛选"
          },
          {
            "in": "query",
            "name": "sort_by",
            "schema": {
              "type": "string",
              "enum": [
                "created_at",
                "due_date",
                "priority",
                "progress"
              ],
              "default": "created_at"
            },
            "description": "排序字段"
          },
          {
            "in": "query",
            "name": "sort_order",
            "schema": {
              "type": "string",
              "enum": [
                "asc",
                "desc"
              ],
              "default": "desc"
            },
            "description": "排序顺序"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取任务列表",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "items": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/Task"
                          }
                        },
                        "total": {
                          "type": "integer",
                          "example": 150
                        },
                        "page": {
                          "type": "integer",
                          "example": 1
                        },
                        "pageSize": {
                          "type": "integer",
                          "example": 20
                        },
                        "totalPages": {
                          "type": "integer",
                          "example": 8
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "获取任务列表成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      },
      "post": {
        "summary": "创建新任务",
        "description": "创建一个新的任务，自动分配创建者信息和时间戳",
        "tags": [
          "Task Management"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateTaskRequest"
              },
              "example": {
                "title": "完成教学计划制定",
                "description": "为本月教学活动制定详细的计划和安排",
                "priority": "high",
                "assignee_id": 123,
                "category": "教学管理",
                "tags": [
                  "教学",
                  "计划",
                  "重要"
                ],
                "due_date": "2024-12-31T23:59:59Z",
                "estimated_hours": 8.5
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "成功创建任务",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/Task"
                    },
                    "message": {
                      "type": "string",
                      "example": "创建任务成功"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/tasks/{id}": {
      "get": {
        "summary": "获取任务详情",
        "description": "根据任务ID获取特定任务的详细信息，包括评论和附件",
        "tags": [
          "Task Management"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "任务ID",
            "example": 1
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取任务详情",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/Task"
                    },
                    "message": {
                      "type": "string",
                      "example": "获取任务详情成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      },
      "put": {
        "summary": "更新任务信息",
        "description": "根据任务ID更新任务的详细信息，支持部分更新",
        "tags": [
          "Task Management"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "任务ID",
            "example": 1
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateTaskRequest"
              },
              "example": {
                "title": "更新后的教学计划制定",
                "status": "completed",
                "progress": 100,
                "actual_hours": 7.8
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "成功更新任务",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/Task"
                    },
                    "message": {
                      "type": "string",
                      "example": "更新任务成功"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      },
      "delete": {
        "summary": "删除任务",
        "description": "根据任务ID删除指定的任务（软删除）",
        "tags": [
          "Task Management"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "任务ID",
            "example": 1
          }
        ],
        "responses": {
          "200": {
            "description": "成功删除任务",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "nullable": true
                    },
                    "message": {
                      "type": "string",
                      "example": "删除任务成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/teacher/attendance/classes": {
      "get": {
        "tags": [
          "TeacherAttendance"
        ],
        "summary": "获取教师负责的班级列表",
        "description": "获取当前登录教师负责的所有班级信息，包括班级基本信息和学生数量",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取班级列表成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取班级列表成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "classes": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "integer",
                                "description": "班级ID",
                                "example": 1
                              },
                              "name": {
                                "type": "string",
                                "description": "班级名称",
                                "example": "小班A"
                              },
                              "grade": {
                                "type": "string",
                                "description": "年级",
                                "example": "小班"
                              },
                              "studentCount": {
                                "type": "integer",
                                "description": "学生数量",
                                "example": 25
                              },
                              "kindergartenId": {
                                "type": "integer",
                                "description": "幼儿园ID",
                                "example": 1
                              },
                              "isCurrentTeacher": {
                                "type": "boolean",
                                "description": "是否为当前教师负责",
                                "example": true
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/teacher/attendance/students/{classId}": {
      "get": {
        "tags": [
          "TeacherAttendance"
        ],
        "summary": "获取班级学生列表",
        "description": "获取指定班级的所有学生信息，用于考勤管理",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "classId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "班级ID",
            "example": 1
          }
        ],
        "responses": {
          "200": {
            "description": "获取学生列表成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取学生列表成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "students": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "integer",
                                "description": "学生ID",
                                "example": 123
                              },
                              "name": {
                                "type": "string",
                                "description": "学生姓名",
                                "example": "张小明"
                              },
                              "studentNo": {
                                "type": "string",
                                "description": "学号",
                                "example": "ST001"
                              },
                              "gender": {
                                "type": "integer",
                                "description": "性别 (1:男 2:女)",
                                "example": 1
                              },
                              "birthDate": {
                                "type": "string",
                                "format": "date",
                                "description": "出生日期",
                                "example": "2019-05-15"
                              },
                              "classId": {
                                "type": "integer",
                                "description": "班级ID",
                                "example": 1
                              },
                              "status": {
                                "type": "integer",
                                "description": "学生状态 (1:在读)",
                                "example": 1
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "description": "班级不存在或无权限访问"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/teacher/attendance/records": {
      "get": {
        "tags": [
          "TeacherAttendance"
        ],
        "summary": "获取考勤记录",
        "description": "根据查询条件获取考勤记录，支持多种筛选和分页",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "classId",
            "schema": {
              "type": "integer"
            },
            "description": "班级ID",
            "example": 1
          },
          {
            "in": "query",
            "name": "studentId",
            "schema": {
              "type": "integer"
            },
            "description": "学生ID",
            "example": 123
          },
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "开始日期",
            "example": "2024-01-01"
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "结束日期",
            "example": "2024-01-31"
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string",
              "enum": [
                "present",
                "absent",
                "late",
                "early_leave",
                "sick_leave",
                "personal_leave",
                "excused"
              ]
            },
            "description": "考勤状态筛选",
            "example": "present"
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            },
            "description": "页码",
            "example": 1
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 20
            },
            "description": "每页数量",
            "example": 20
          }
        ],
        "responses": {
          "200": {
            "description": "获取考勤记录成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取考勤记录成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "records": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "integer",
                                "description": "考勤记录ID",
                                "example": 1001
                              },
                              "studentId": {
                                "type": "integer",
                                "description": "学生ID",
                                "example": 123
                              },
                              "studentName": {
                                "type": "string",
                                "description": "学生姓名",
                                "example": "张小明"
                              },
                              "classId": {
                                "type": "integer",
                                "description": "班级ID",
                                "example": 1
                              },
                              "className": {
                                "type": "string",
                                "description": "班级名称",
                                "example": "小班A"
                              },
                              "attendanceDate": {
                                "type": "string",
                                "format": "date",
                                "description": "考勤日期",
                                "example": "2024-01-15"
                              },
                              "status": {
                                "type": "string",
                                "description": "考勤状态",
                                "example": "present"
                              },
                              "checkInTime": {
                                "type": "string",
                                "format": "time",
                                "description": "签到时间",
                                "example": "08:30:00"
                              },
                              "checkOutTime": {
                                "type": "string",
                                "format": "time",
                                "description": "签退时间",
                                "example": "16:30:00"
                              },
                              "temperature": {
                                "type": "number",
                                "format": "decimal",
                                "description": "体温",
                                "example": 36.5
                              },
                              "healthStatus": {
                                "type": "string",
                                "description": "健康状态",
                                "example": "normal"
                              },
                              "notes": {
                                "type": "string",
                                "description": "备注说明",
                                "example": "状态良好"
                              },
                              "leaveReason": {
                                "type": "string",
                                "description": "请假原因",
                                "example": ""
                              },
                              "recordedBy": {
                                "type": "integer",
                                "description": "记录人ID",
                                "example": 5
                              },
                              "recordedByName": {
                                "type": "string",
                                "description": "记录人姓名",
                                "example": "李老师"
                              },
                              "recordedAt": {
                                "type": "string",
                                "format": "date-time",
                                "description": "记录时间",
                                "example": "2024-01-15T08:35:00.000Z"
                              }
                            }
                          }
                        },
                        "pagination": {
                          "type": "object",
                          "properties": {
                            "currentPage": {
                              "type": "integer",
                              "description": "当前页码",
                              "example": 1
                            },
                            "pageSize": {
                              "type": "integer",
                              "description": "每页数量",
                              "example": 20
                            },
                            "totalItems": {
                              "type": "integer",
                              "description": "总记录数",
                              "example": 150
                            },
                            "totalPages": {
                              "type": "integer",
                              "description": "总页数",
                              "example": 8
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      },
      "post": {
        "tags": [
          "TeacherAttendance"
        ],
        "summary": "批量创建考勤记录",
        "description": "为指定班级的学生批量创建考勤记录，支持一次性提交多个学生的考勤信息",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BatchAttendanceRequest"
              },
              "example": {
                "classId": 1,
                "kindergartenId": 1,
                "attendanceDate": "2024-01-15",
                "records": [
                  {
                    "studentId": 123,
                    "status": "present",
                    "checkInTime": "08:30:00",
                    "temperature": 36.5,
                    "healthStatus": "normal",
                    "notes": "状态良好"
                  },
                  {
                    "studentId": 124,
                    "status": "late",
                    "checkInTime": "08:45:00",
                    "temperature": 36.8,
                    "healthStatus": "normal",
                    "notes": "迟到15分钟"
                  }
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "批量创建考勤记录成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "批量创建考勤记录成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "createdCount": {
                          "type": "integer",
                          "description": "成功创建的记录数量",
                          "example": 25
                        },
                        "failedCount": {
                          "type": "integer",
                          "description": "创建失败的记录数量",
                          "example": 0
                        },
                        "failedRecords": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "studentId": {
                                "type": "integer",
                                "description": "学生ID"
                              },
                              "reason": {
                                "type": "string",
                                "description": "失败原因"
                              }
                            }
                          },
                          "description": "失败记录详情",
                          "example": []
                        },
                        "totalRecords": {
                          "type": "integer",
                          "description": "总记录数",
                          "example": 25
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/ValidationError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "409": {
            "description": "考勤记录已存在",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "code": {
                      "type": "string",
                      "example": "CONFLICT"
                    },
                    "message": {
                      "type": "string",
                      "example": "该学生今日考勤记录已存在"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/teacher/attendance/records/{id}": {
      "put": {
        "tags": [
          "TeacherAttendance"
        ],
        "summary": "更新考勤记录（仅当天）",
        "description": "更新指定ID的考勤记录，只能修改当天的记录，需要提供修改原因",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "考勤记录ID",
            "example": 1001
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateAttendanceRequest"
              },
              "example": {
                "status": "early_leave",
                "checkOutTime": "15:30:00",
                "notes": "家长提前接走",
                "changeReason": "家长有事提前接孩子"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新考勤记录成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "更新考勤记录成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "description": "考勤记录ID",
                          "example": 1001
                        },
                        "studentId": {
                          "type": "integer",
                          "description": "学生ID",
                          "example": 123
                        },
                        "attendanceDate": {
                          "type": "string",
                          "format": "date",
                          "description": "考勤日期",
                          "example": "2024-01-15"
                        },
                        "status": {
                          "type": "string",
                          "description": "更新后的考勤状态",
                          "example": "early_leave"
                        },
                        "checkOutTime": {
                          "type": "string",
                          "format": "time",
                          "description": "更新后的签退时间",
                          "example": "15:30:00"
                        },
                        "notes": {
                          "type": "string",
                          "description": "更新后的备注",
                          "example": "家长提前接走"
                        },
                        "updatedAt": {
                          "type": "string",
                          "format": "date-time",
                          "description": "更新时间",
                          "example": "2024-01-15T15:35:00.000Z"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/ValidationError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "description": "考勤记录不存在",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "code": {
                      "type": "string",
                      "example": "NOT_FOUND"
                    },
                    "message": {
                      "type": "string",
                      "example": "考勤记录不存在"
                    }
                  }
                }
              }
            }
          },
          "409": {
            "description": "不能修改非当天的考勤记录",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "code": {
                      "type": "string",
                      "example": "FORBIDDEN_OPERATION"
                    },
                    "message": {
                      "type": "string",
                      "example": "只能修改当天的考勤记录"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/teacher/attendance/statistics": {
      "get": {
        "tags": [
          "TeacherAttendance"
        ],
        "summary": "获取班级考勤统计数据",
        "description": "获取指定班级在指定时间段内的考勤统计信息，包括出勤率、各状态人数等",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "classId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "班级ID",
            "example": 1
          },
          {
            "in": "query",
            "name": "startDate",
            "required": true,
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "统计开始日期",
            "example": "2024-01-01"
          },
          {
            "in": "query",
            "name": "endDate",
            "required": true,
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "统计结束日期",
            "example": "2024-01-31"
          }
        ],
        "responses": {
          "200": {
            "description": "获取统计数据成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取统计数据成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/AttendanceStatistics"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/ValidationError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "description": "班级不存在或无权限访问"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/teacher/attendance/export": {
      "post": {
        "tags": [
          "TeacherAttendance"
        ],
        "summary": "导出班级考勤报表",
        "description": "导出指定班级在指定时间段内的考勤报表，支持Excel和PDF格式",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ExportRequest"
              },
              "example": {
                "classId": 1,
                "startDate": "2024-01-01",
                "endDate": "2024-01-31",
                "format": "excel"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "导出报表成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "导出报表成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "downloadUrl": {
                          "type": "string",
                          "description": "文件下载链接",
                          "example": "/api/teacher/attendance/download/attendance_report_20240101_20240131.xlsx"
                        },
                        "fileName": {
                          "type": "string",
                          "description": "文件名",
                          "example": "attendance_report_20240101_20240131.xlsx"
                        },
                        "fileSize": {
                          "type": "string",
                          "description": "文件大小",
                          "example": "2.5MB"
                        },
                        "format": {
                          "type": "string",
                          "description": "文件格式",
                          "example": "excel"
                        },
                        "generatedAt": {
                          "type": "string",
                          "format": "date-time",
                          "description": "生成时间",
                          "example": "2024-01-31T16:30:00.000Z"
                        },
                        "expiresAt": {
                          "type": "string",
                          "format": "date-time",
                          "description": "链接过期时间",
                          "example": "2024-01-31T18:30:00.000Z"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/ValidationError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "404": {
            "description": "班级不存在或无权限访问"
          },
          "410": {
            "description": "导出文件已过期",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "code": {
                      "type": "string",
                      "example": "FILE_EXPIRED"
                    },
                    "message": {
                      "type": "string",
                      "example": "导出文件已过期，请重新导出"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误或导出失败"
          }
        }
      }
    },
    "/teacher-center/creative-curriculum/save": {
      "post": {
        "summary": "保存创意课程",
        "description": "保存或更新教师创建的创意课程，支持HTML/CSS/JS代码编辑",
        "tags": [
          "教师创意课程"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "integer",
                    "description": "课程ID (更新时必填，新建时可选)"
                  },
                  "name": {
                    "type": "string",
                    "description": "课程名称"
                  },
                  "description": {
                    "type": "string",
                    "description": "课程描述"
                  },
                  "domain": {
                    "type": "string",
                    "description": "课程领域 (语言/数学/科学/艺术等)"
                  },
                  "ageGroup": {
                    "type": "string",
                    "description": "适用年龄段"
                  },
                  "htmlCode": {
                    "type": "string",
                    "description": "HTML代码"
                  },
                  "cssCode": {
                    "type": "string",
                    "description": "CSS代码"
                  },
                  "jsCode": {
                    "type": "string",
                    "description": "JavaScript代码"
                  },
                  "schedule": {
                    "type": "string",
                    "description": "课程安排"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "draft",
                      "published",
                      "archived"
                    ],
                    "default": "draft",
                    "description": "课程状态"
                  },
                  "tags": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "课程标签"
                  },
                  "isPublic": {
                    "type": "boolean",
                    "default": false,
                    "description": "是否公开"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "课程保存成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "课程保存成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "description": "课程ID"
                        },
                        "name": {
                          "type": "string",
                          "description": "课程名称"
                        },
                        "domain": {
                          "type": "string",
                          "description": "课程领域"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "缺少必填字段"
          },
          "401": {
            "description": "用户未认证"
          },
          "403": {
            "description": "无权限更新此课程"
          },
          "404": {
            "description": "课程不存在"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/teacher-center/creative-curriculum/{id}": {
      "get": {
        "summary": "获取课程详情",
        "description": "获取指定创意课程的详细信息，包括HTML/CSS/JS代码",
        "tags": [
          "教师创意课程"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "课程ID"
          }
        ],
        "responses": {
          "200": {
            "description": "获取课程成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取课程成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "description": "课程ID"
                        },
                        "name": {
                          "type": "string",
                          "description": "课程名称"
                        },
                        "description": {
                          "type": "string",
                          "description": "课程描述"
                        },
                        "domain": {
                          "type": "string",
                          "description": "课程领域"
                        },
                        "ageGroup": {
                          "type": "string",
                          "description": "适用年龄段"
                        },
                        "htmlCode": {
                          "type": "string",
                          "description": "HTML代码"
                        },
                        "cssCode": {
                          "type": "string",
                          "description": "CSS代码"
                        },
                        "jsCode": {
                          "type": "string",
                          "description": "JavaScript代码"
                        },
                        "schedule": {
                          "type": "string",
                          "description": "课程安排"
                        },
                        "status": {
                          "type": "string",
                          "description": "课程状态"
                        },
                        "tags": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          },
                          "description": "课程标签"
                        },
                        "isPublic": {
                          "type": "boolean",
                          "description": "是否公开"
                        },
                        "viewCount": {
                          "type": "integer",
                          "description": "浏览次数"
                        },
                        "createdAt": {
                          "type": "string",
                          "description": "创建时间"
                        },
                        "updatedAt": {
                          "type": "string",
                          "description": "更新时间"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "用户未认证"
          },
          "403": {
            "description": "无权限查看此课程"
          },
          "404": {
            "description": "课程不存在"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      },
      "delete": {
        "summary": "删除课程",
        "description": "删除指定的创意课程，只有课程创建者可以删除",
        "tags": [
          "教师创意课程"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "课程ID"
          }
        ],
        "responses": {
          "200": {
            "description": "课程删除成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "课程删除成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "description": "被删除的课程ID"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "用户未认证"
          },
          "403": {
            "description": "无权限删除此课程"
          },
          "404": {
            "description": "课程不存在"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/teacher-center/creative-curriculum": {
      "get": {
        "summary": "获取我的课程列表",
        "description": "获取当前教师创建的创意课程列表，支持分页和筛选",
        "tags": [
          "教师创意课程"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 10
            },
            "description": "每页数量"
          },
          {
            "in": "query",
            "name": "domain",
            "schema": {
              "type": "string"
            },
            "description": "课程领域筛选"
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string",
              "enum": [
                "draft",
                "published",
                "archived"
              ]
            },
            "description": "课程状态筛选"
          },
          {
            "in": "query",
            "name": "ageGroup",
            "schema": {
              "type": "string"
            },
            "description": "年龄段筛选"
          },
          {
            "in": "query",
            "name": "search",
            "schema": {
              "type": "string"
            },
            "description": "搜索关键词"
          }
        ],
        "responses": {
          "200": {
            "description": "获取课程列表成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取课程列表成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "total": {
                          "type": "integer",
                          "description": "总记录数"
                        },
                        "page": {
                          "type": "integer",
                          "description": "当前页码"
                        },
                        "limit": {
                          "type": "integer",
                          "description": "每页数量"
                        },
                        "rows": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "integer",
                                "description": "课程ID"
                              },
                              "name": {
                                "type": "string",
                                "description": "课程名称"
                              },
                              "description": {
                                "type": "string",
                                "description": "课程描述"
                              },
                              "domain": {
                                "type": "string",
                                "description": "课程领域"
                              },
                              "ageGroup": {
                                "type": "string",
                                "description": "适用年龄段"
                              },
                              "status": {
                                "type": "string",
                                "description": "课程状态"
                              },
                              "isPublic": {
                                "type": "boolean",
                                "description": "是否公开"
                              },
                              "viewCount": {
                                "type": "integer",
                                "description": "浏览次数"
                              },
                              "createdAt": {
                                "type": "string",
                                "description": "创建时间"
                              },
                              "updatedAt": {
                                "type": "string",
                                "description": "更新时间"
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "用户未认证"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/teacher-checkin/check-in": {
      "post": {
        "tags": [
          "TeacherCheckin"
        ],
        "summary": "教师签到",
        "description": "教师进行上班签到，记录签到时间和位置信息",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "location": {
                    "type": "object",
                    "properties": {
                      "latitude": {
                        "type": "number",
                        "format": "decimal",
                        "description": "纬度",
                        "example": 39.9042
                      },
                      "longitude": {
                        "type": "number",
                        "format": "decimal",
                        "description": "经度",
                        "example": 116.4074
                      },
                      "address": {
                        "type": "string",
                        "description": "签到地址",
                        "example": "北京市朝阳区幼儿园"
                      }
                    },
                    "description": "签到位置信息（可选）"
                  },
                  "notes": {
                    "type": "string",
                    "maxLength": 200,
                    "description": "签到备注",
                    "example": "准时到校"
                  },
                  "deviceInfo": {
                    "type": "string",
                    "description": "设备信息",
                    "example": "iPhone 13 Pro"
                  }
                },
                "example": {
                  "location": {
                    "latitude": 39.9042,
                    "longitude": 116.4074,
                    "address": "北京市朝阳区幼儿园"
                  },
                  "notes": "准时到校",
                  "deviceInfo": "iPhone 13 Pro"
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "签到成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "签到成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/TeacherCheckin"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误或时间不在允许范围内",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "code": {
                      "type": "string",
                      "example": "INVALID_TIME"
                    },
                    "message": {
                      "type": "string",
                      "example": "不在允许的签到时间范围内"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "409": {
            "$ref": "#/components/responses/AlreadyCheckedInError"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/teacher-checkin/check-out": {
      "post": {
        "tags": [
          "TeacherCheckin"
        ],
        "summary": "教师签退",
        "description": "教师进行下班签退，计算工作时长",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "location": {
                    "type": "object",
                    "properties": {
                      "latitude": {
                        "type": "number",
                        "format": "decimal",
                        "description": "纬度"
                      },
                      "longitude": {
                        "type": "number",
                        "format": "decimal",
                        "description": "经度"
                      },
                      "address": {
                        "type": "string",
                        "description": "签退地址"
                      }
                    },
                    "description": "签退位置信息（可选）"
                  },
                  "notes": {
                    "type": "string",
                    "maxLength": 200,
                    "description": "签退备注",
                    "example": "完成今日工作"
                  },
                  "workSummary": {
                    "type": "string",
                    "maxLength": 1000,
                    "description": "工作总结",
                    "example": "今日完成了教学计划和班级管理"
                  }
                },
                "example": {
                  "location": {
                    "latitude": 39.9042,
                    "longitude": 116.4074,
                    "address": "北京市朝阳区幼儿园"
                  },
                  "notes": "完成今日工作",
                  "workSummary": "今日完成了教学计划和班级管理"
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "签退成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "签退成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "description": "打卡记录ID",
                          "example": 1001
                        },
                        "checkInTime": {
                          "type": "string",
                          "format": "date-time",
                          "description": "签到时间",
                          "example": "2024-01-15T08:30:00.000Z"
                        },
                        "checkOutTime": {
                          "type": "string",
                          "format": "date-time",
                          "description": "签退时间",
                          "example": "2024-01-15T16:30:00.000Z"
                        },
                        "workHours": {
                          "type": "number",
                          "format": "decimal",
                          "description": "工作时长（小时）",
                          "example": 8
                        },
                        "status": {
                          "type": "string",
                          "description": "考勤状态",
                          "example": "normal"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误或时间不在允许范围内",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "code": {
                      "type": "string",
                      "example": "INVALID_TIME"
                    },
                    "message": {
                      "type": "string",
                      "example": "不在允许的签退时间范围内"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "409": {
            "$ref": "#/components/responses/NotCheckedInError"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/teacher-checkin/today": {
      "get": {
        "tags": [
          "TeacherCheckin"
        ],
        "summary": "获取今日考勤记录",
        "description": "获取当前教师今日的考勤记录，包括签到状态和工作情况",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取今日考勤成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取今日考勤成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "hasRecord": {
                          "type": "boolean",
                          "description": "是否有考勤记录",
                          "example": true
                        },
                        "checkinRecord": {
                          "$ref": "#/components/schemas/TeacherCheckin"
                        },
                        "canCheckIn": {
                          "type": "boolean",
                          "description": "是否可以签到",
                          "example": false
                        },
                        "canCheckOut": {
                          "type": "boolean",
                          "description": "是否可以签退",
                          "example": true
                        },
                        "currentTime": {
                          "type": "string",
                          "format": "date-time",
                          "description": "当前服务器时间",
                          "example": "2024-01-15T14:30:00.000Z"
                        },
                        "workingTimeLimit": {
                          "type": "object",
                          "properties": {
                            "checkInStart": {
                              "type": "string",
                              "format": "time",
                              "description": "最早签到时间",
                              "example": "07:30"
                            },
                            "checkInEnd": {
                              "type": "string",
                              "format": "time",
                              "description": "最晚签到时间",
                              "example": "09:30"
                            },
                            "checkOutStart": {
                              "type": "string",
                              "format": "time",
                              "description": "最早签退时间",
                              "example": "16:00"
                            },
                            "checkOutEnd": {
                              "type": "string",
                              "format": "time",
                              "description": "最晚签退时间",
                              "example": "19:00"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/teacher-checkin/month": {
      "get": {
        "tags": [
          "TeacherCheckin"
        ],
        "summary": "获取本月考勤记录",
        "description": "获取当前教师本月的考勤记录，支持按月份查询",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "year",
            "schema": {
              "type": "integer",
              "description": "年份（不传则默认当前年份）",
              "example": 2024
            }
          },
          {
            "in": "query",
            "name": "month",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 12,
              "description": "月份（不传则默认当前月份）",
              "example": 1
            }
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            },
            "description": "页码",
            "example": 1
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 50,
              "default": 20
            },
            "description": "每页数量",
            "example": 20
          }
        ],
        "responses": {
          "200": {
            "description": "获取本月考勤记录成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取本月考勤记录成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "records": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/TeacherCheckin"
                          }
                        },
                        "pagination": {
                          "type": "object",
                          "properties": {
                            "currentPage": {
                              "type": "integer",
                              "description": "当前页码",
                              "example": 1
                            },
                            "pageSize": {
                              "type": "integer",
                              "description": "每页数量",
                              "example": 20
                            },
                            "totalItems": {
                              "type": "integer",
                              "description": "总记录数",
                              "example": 22
                            },
                            "totalPages": {
                              "type": "integer",
                              "description": "总页数",
                              "example": 2
                            }
                          }
                        },
                        "statistics": {
                          "type": "object",
                          "properties": {
                            "totalDays": {
                              "type": "integer",
                              "description": "本月总天数",
                              "example": 31
                            },
                            "workDays": {
                              "type": "integer",
                              "description": "工作天数",
                              "example": 22
                            },
                            "presentDays": {
                              "type": "integer",
                              "description": "正常出勤天数",
                              "example": 20
                            },
                            "lateDays": {
                              "type": "integer",
                              "description": "迟到天数",
                              "example": 1
                            },
                            "leaveDays": {
                              "type": "integer",
                              "description": "请假天数",
                              "example": 1
                            },
                            "absentDays": {
                              "type": "integer",
                              "description": "缺勤天数",
                              "example": 0
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/teacher-checkin/leave": {
      "post": {
        "tags": [
          "TeacherCheckin"
        ],
        "summary": "创建请假申请",
        "description": "教师提交请假申请，支持不同类型的请假",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LeaveRequest"
              },
              "example": {
                "leaveType": "sick",
                "startDate": "2024-01-16",
                "endDate": "2024-01-17",
                "startTime": "09:00",
                "endTime": "18:00",
                "reason": "身体不适，需要就医",
                "contactPhone": "13800138000",
                "emergencyContact": "王老师"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "请假申请创建成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "请假申请提交成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "description": "申请ID",
                          "example": 2001
                        },
                        "leaveType": {
                          "type": "string",
                          "description": "请假类型",
                          "example": "sick"
                        },
                        "startDate": {
                          "type": "string",
                          "format": "date",
                          "description": "开始日期",
                          "example": "2024-01-16"
                        },
                        "endDate": {
                          "type": "string",
                          "format": "date",
                          "description": "结束日期",
                          "example": "2024-01-17"
                        },
                        "status": {
                          "type": "string",
                          "enum": [
                            "pending",
                            "approved",
                            "rejected"
                          ],
                          "description": "申请状态",
                          "example": "pending"
                        },
                        "submittedAt": {
                          "type": "string",
                          "format": "date-time",
                          "description": "提交时间",
                          "example": "2024-01-15T16:00:00.000Z"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数验证失败",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "code": {
                      "type": "string",
                      "example": "VALIDATION_ERROR"
                    },
                    "message": {
                      "type": "string",
                      "example": "请假日期范围无效"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "409": {
            "description": "存在时间冲突的请假申请",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "code": {
                      "type": "string",
                      "example": "TIME_CONFLICT"
                    },
                    "message": {
                      "type": "string",
                      "example": "该时间段已存在请假申请"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/teacher-checkin/statistics": {
      "get": {
        "tags": [
          "TeacherCheckin"
        ],
        "summary": "获取考勤统计数据",
        "description": "获取指定时间段内的考勤统计信息，支持自定义时间段查询",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "startDate",
            "required": true,
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "统计开始日期",
            "example": "2024-01-01"
          },
          {
            "in": "query",
            "name": "endDate",
            "required": true,
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "统计结束日期",
            "example": "2024-01-31"
          },
          {
            "in": "query",
            "name": "type",
            "schema": {
              "type": "string",
              "enum": [
                "day",
                "week",
                "month",
                "year"
              ],
              "default": "month"
            },
            "description": "统计类型",
            "example": "month"
          },
          {
            "in": "query",
            "name": "teacherId",
            "schema": {
              "type": "integer"
            },
            "description": "教师ID（管理员查询其他教师时使用）",
            "example": 5
          }
        ],
        "responses": {
          "200": {
            "description": "获取统计数据成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取统计数据成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/CheckinStatistics"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数验证失败",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "code": {
                      "type": "string",
                      "example": "VALIDATION_ERROR"
                    },
                    "message": {
                      "type": "string",
                      "example": "日期范围无效"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "description": "权限不足（非管理员查询其他教师数据）",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "code": {
                      "type": "string",
                      "example": "FORBIDDEN"
                    },
                    "message": {
                      "type": "string",
                      "example": "权限不足"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/teacher-checkin/history": {
      "get": {
        "tags": [
          "TeacherCheckin"
        ],
        "summary": "获取考勤历史记录",
        "description": "获取教师的考勤历史记录，包括打卡记录和请假申请",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "开始日期",
            "example": "2024-01-01"
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "结束日期",
            "example": "2024-01-31"
          },
          {
            "in": "query",
            "name": "type",
            "schema": {
              "type": "string",
              "enum": [
                "all",
                "checkin",
                "leave"
              ],
              "default": "all"
            },
            "description": "记录类型筛选",
            "example": "all"
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string",
              "enum": [
                "normal",
                "late",
                "early_leave",
                "absent",
                "leave",
                "pending",
                "approved",
                "rejected"
              ]
            },
            "description": "状态筛选",
            "example": "normal"
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            },
            "description": "页码",
            "example": 1
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 20
            },
            "description": "每页数量",
            "example": 20
          },
          {
            "in": "query",
            "name": "teacherId",
            "schema": {
              "type": "integer"
            },
            "description": "教师ID（管理员查询其他教师时使用）",
            "example": 5
          }
        ],
        "responses": {
          "200": {
            "description": "获取历史记录成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取历史记录成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "records": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "oneOf": [
                              {
                                "$ref": "#/components/schemas/TeacherCheckin"
                              },
                              {
                                "type": "object",
                                "properties": {
                                  "id": {
                                    "type": "integer",
                                    "description": "请假申请ID",
                                    "example": 2001
                                  },
                                  "type": {
                                    "type": "string",
                                    "enum": [
                                      "leave"
                                    ],
                                    "description": "记录类型",
                                    "example": "leave"
                                  },
                                  "leaveType": {
                                    "type": "string",
                                    "description": "请假类型",
                                    "example": "sick"
                                  },
                                  "startDate": {
                                    "type": "string",
                                    "format": "date",
                                    "description": "请假开始日期",
                                    "example": "2024-01-16"
                                  },
                                  "endDate": {
                                    "type": "string",
                                    "format": "date",
                                    "description": "请假结束日期",
                                    "example": "2024-01-17"
                                  },
                                  "status": {
                                    "type": "string",
                                    "description": "申请状态",
                                    "example": "approved"
                                  },
                                  "reason": {
                                    "type": "string",
                                    "description": "请假原因",
                                    "example": "身体不适"
                                  },
                                  "submittedAt": {
                                    "type": "string",
                                    "format": "date-time",
                                    "description": "提交时间",
                                    "example": "2024-01-15T16:00:00.000Z"
                                  }
                                }
                              }
                            ]
                          }
                        },
                        "pagination": {
                          "type": "object",
                          "properties": {
                            "currentPage": {
                              "type": "integer",
                              "description": "当前页码",
                              "example": 1
                            },
                            "pageSize": {
                              "type": "integer",
                              "description": "每页数量",
                              "example": 20
                            },
                            "totalItems": {
                              "type": "integer",
                              "description": "总记录数",
                              "example": 50
                            },
                            "totalPages": {
                              "type": "integer",
                              "description": "总页数",
                              "example": 3
                            }
                          }
                        },
                        "summary": {
                          "type": "object",
                          "properties": {
                            "totalRecords": {
                              "type": "integer",
                              "description": "总记录数",
                              "example": 50
                            },
                            "checkinRecords": {
                              "type": "integer",
                              "description": "打卡记录数",
                              "example": 45
                            },
                            "leaveRecords": {
                              "type": "integer",
                              "description": "请假记录数",
                              "example": 5
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "description": "权限不足"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/teacher-checkin/approve": {
      "post": {
        "tags": [
          "TeacherCheckin"
        ],
        "summary": "审核请假申请（管理员）",
        "description": "管理员审核教师的请假申请，支持批准或拒绝",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LeaveApproval"
              },
              "example": {
                "requestId": 2001,
                "action": "approve",
                "comment": "同意请假，请安排好工作交接"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "审核操作成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "请假申请审核成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "description": "申请ID",
                          "example": 2001
                        },
                        "status": {
                          "type": "string",
                          "description": "审核后状态",
                          "example": "approved"
                        },
                        "approvedBy": {
                          "type": "integer",
                          "description": "审核人ID",
                          "example": 1
                        },
                        "approvedByName": {
                          "type": "string",
                          "description": "审核人姓名",
                          "example": "园长"
                        },
                        "approvedAt": {
                          "type": "string",
                          "format": "date-time",
                          "description": "审核时间",
                          "example": "2024-01-15T17:00:00.000Z"
                        },
                        "comment": {
                          "type": "string",
                          "description": "审核意见",
                          "example": "同意请假，请安排好工作交接"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数验证失败",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "code": {
                      "type": "string",
                      "example": "VALIDATION_ERROR"
                    },
                    "message": {
                      "type": "string",
                      "example": "申请ID不能为空"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "description": "权限不足（非管理员）",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "code": {
                      "type": "string",
                      "example": "FORBIDDEN"
                    },
                    "message": {
                      "type": "string",
                      "example": "只有管理员可以审核请假申请"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "请假申请不存在",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "code": {
                      "type": "string",
                      "example": "NOT_FOUND"
                    },
                    "message": {
                      "type": "string",
                      "example": "请假申请不存在"
                    }
                  }
                }
              }
            }
          },
          "409": {
            "description": "申请已审核",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "code": {
                      "type": "string",
                      "example": "ALREADY_PROCESSED"
                    },
                    "message": {
                      "type": "string",
                      "example": "该申请已经审核过了"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/teacher-customers/stats": {
      "get": {
        "summary": "获取教师客户统计",
        "description": "获取教师的客户统计数据",
        "tags": [
          "教师客户管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/teacher-customers/conversion-funnel": {
      "get": {
        "summary": "获取客户转化漏斗数据",
        "description": "获取客户转化漏斗的统计数据",
        "tags": [
          "教师客户管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/teacher-customers/list": {
      "get": {
        "summary": "获取教师客户列表",
        "description": "获取教师的客户列表",
        "tags": [
          "教师客户管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/teacher-customers/{customerId}/follow": {
      "post": {
        "summary": "添加客户跟进记录",
        "description": "为客户添加跟进记录",
        "tags": [
          "教师客户管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "customerId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "content": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "添加成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/teacher-customers/{customerId}/status": {
      "put": {
        "summary": "更新客户状态",
        "description": "更新客户的状态",
        "tags": [
          "教师客户管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "customerId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "status": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/teacher-customers/{customerId}/follow-records": {
      "get": {
        "summary": "获取客户跟进记录",
        "description": "获取指定客户的跟进记录列表",
        "tags": [
          "教师客户管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "customerId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/teacher-dashboard/dashboard": {
      "get": {
        "summary": "获取教师工作台数据",
        "description": "获取教师工作台的综合数据，包括统计信息、任务、课程等",
        "tags": [
          "教师工作台"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/teacher-dashboard/statistics": {
      "get": {
        "summary": "获取教师统计数据",
        "description": "获取教师的各项统计数据",
        "tags": [
          "教师工作台"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/teacher-dashboard/activity-statistics": {
      "get": {
        "summary": "获取教师活动统计数据",
        "description": "获取教师参与活动的统计信息",
        "tags": [
          "教师工作台"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/teacher-dashboard/activity-checkin-overview": {
      "get": {
        "summary": "获取教师活动签到概览",
        "description": "获取教师活动签到的概览信息",
        "tags": [
          "教师工作台"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/teacher-dashboard/today-tasks": {
      "get": {
        "summary": "获取今日任务",
        "description": "获取教师今日的任务列表",
        "tags": [
          "教师工作台"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/teacher-dashboard/today-courses": {
      "get": {
        "summary": "获取今日课程",
        "description": "获取教师今日的课程安排",
        "tags": [
          "教师工作台"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/teacher-dashboard/recent-notifications": {
      "get": {
        "summary": "获取最新通知",
        "description": "获取教师的最新通知列表",
        "tags": [
          "教师工作台"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/teacher-dashboard/tasks/{taskId}/status": {
      "put": {
        "summary": "更新任务状态",
        "description": "更新指定任务的状态",
        "tags": [
          "教师工作台"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "taskId",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "任务ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "status"
                ],
                "properties": {
                  "status": {
                    "type": "string",
                    "enum": [
                      "pending",
                      "in_progress",
                      "completed",
                      "cancelled"
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/teacher-dashboard/clock-in": {
      "post": {
        "summary": "快速打卡",
        "description": "教师快速打卡签到",
        "tags": [
          "教师工作台"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": false,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "location": {
                    "type": "string",
                    "description": "打卡位置"
                  },
                  "remark": {
                    "type": "string",
                    "description": "备注"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "打卡成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/teacher-dashboard/tasks/stats": {
      "get": {
        "summary": "获取教师任务统计",
        "description": "获取教师任务的统计信息",
        "tags": [
          "教师工作台"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/teacher-dashboard/tasks": {
      "get": {
        "summary": "获取教师任务列表",
        "description": "获取教师的任务列表，支持分页和筛选",
        "tags": [
          "教师工作台"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer",
              "default": 10
            }
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string",
              "enum": [
                "pending",
                "in_progress",
                "completed",
                "cancelled"
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      },
      "post": {
        "summary": "创建教师任务",
        "description": "创建新的教师任务",
        "tags": [
          "教师工作台"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "title"
                ],
                "properties": {
                  "title": {
                    "type": "string",
                    "description": "任务标题"
                  },
                  "description": {
                    "type": "string",
                    "description": "任务描述"
                  },
                  "dueDate": {
                    "type": "string",
                    "format": "date-time",
                    "description": "截止日期"
                  },
                  "priority": {
                    "type": "string",
                    "enum": [
                      "low",
                      "medium",
                      "high"
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "创建成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/teacher-dashboard/tasks/{id}": {
      "put": {
        "summary": "更新教师任务",
        "description": "更新指定的教师任务",
        "tags": [
          "教师工作台"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "title": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  },
                  "status": {
                    "type": "string"
                  },
                  "dueDate": {
                    "type": "string",
                    "format": "date-time"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/teacher-dashboard/tasks/batch-complete": {
      "post": {
        "summary": "批量完成任务",
        "description": "批量将任务标记为已完成",
        "tags": [
          "教师工作台"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "taskIds"
                ],
                "properties": {
                  "taskIds": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "批量完成成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/teacher-dashboard/tasks/batch-delete": {
      "delete": {
        "summary": "批量删除任务",
        "description": "批量删除指定的任务",
        "tags": [
          "教师工作台"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "taskIds"
                ],
                "properties": {
                  "taskIds": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "批量删除成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/teacher-dashboard/teaching/stats": {
      "get": {
        "summary": "获取教学统计",
        "description": "获取教师的教学统计数据",
        "tags": [
          "教师工作台"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/teacher-dashboard/teaching/classes": {
      "get": {
        "summary": "获取班级列表",
        "description": "获取教师负责的班级列表",
        "tags": [
          "教师工作台"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer",
              "default": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/teacher-dashboard/teaching/classes/{id}": {
      "get": {
        "summary": "获取班级详情",
        "description": "获取教师负责班级的详细信息",
        "tags": [
          "教师工作台"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "班级ID"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/teacher-dashboard/teaching/progress": {
      "get": {
        "summary": "获取进度数据",
        "description": "获取教学进度数据",
        "tags": [
          "教师工作台"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "classId",
            "schema": {
              "type": "string"
            },
            "description": "班级ID"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/teacher-dashboard/teaching/records": {
      "get": {
        "summary": "获取教学记录列表",
        "description": "获取教师的教学记录列表",
        "tags": [
          "教师工作台"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "classId",
            "schema": {
              "type": "integer"
            },
            "description": "班级ID（可选）"
          },
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "开始日期（可选）"
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "结束日期（可选）"
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 10
            },
            "description": "每页数量"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      },
      "post": {
        "summary": "创建教学记录",
        "description": "创建新的教学记录",
        "tags": [
          "教师工作台"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "classId",
                  "content"
                ],
                "properties": {
                  "classId": {
                    "type": "string",
                    "description": "班级ID"
                  },
                  "content": {
                    "type": "string",
                    "description": "教学内容"
                  },
                  "date": {
                    "type": "string",
                    "format": "date"
                  },
                  "remark": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "创建成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/teacher-dashboard/teaching/students": {
      "get": {
        "summary": "获取学生列表",
        "description": "获取教师负责班级的学生列表",
        "tags": [
          "教师工作台"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "classId",
            "schema": {
              "type": "integer"
            },
            "description": "班级ID（可选）"
          },
          {
            "in": "query",
            "name": "gender",
            "schema": {
              "type": "string",
              "enum": [
                "male",
                "female"
              ]
            },
            "description": "性别（可选）"
          },
          {
            "in": "query",
            "name": "keyword",
            "schema": {
              "type": "string"
            },
            "description": "搜索关键词（可选）"
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 12
            },
            "description": "每页数量"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/teacher-dashboard/teaching/students/{id}": {
      "get": {
        "summary": "获取学生详情",
        "description": "获取教师班级中学生的详细信息",
        "tags": [
          "教师工作台"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "学生ID"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/teacher-dashboard/teaching/progress/{id}": {
      "put": {
        "summary": "更新进度",
        "description": "更新教学进度",
        "tags": [
          "教师工作台"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "progress": {
                    "type": "number",
                    "description": "进度百分比"
                  },
                  "status": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/teacher-sop/stages": {
      "get": {
        "summary": "获取所有SOP阶段",
        "description": "获取所有激活的SOP阶段列表",
        "tags": [
          "教师SOP"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/teacher-sop/stages/{id}": {
      "get": {
        "summary": "获取阶段详情",
        "description": "获取指定SOP阶段的详细信息",
        "tags": [
          "教师SOP"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "404": {
            "description": "阶段不存在"
          }
        }
      }
    },
    "/api/teacher-sop/stages/{id}/tasks": {
      "get": {
        "summary": "获取阶段任务列表",
        "description": "获取指定阶段的所有任务",
        "tags": [
          "教师SOP"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/teacher-sop/customers/{customerId}/progress": {
      "get": {
        "summary": "获取客户SOP进度",
        "description": "获取指定客户的SOP进度信息",
        "tags": [
          "教师SOP"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "customerId",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      },
      "put": {
        "summary": "更新客户SOP进度",
        "description": "更新指定客户的SOP进度信息",
        "tags": [
          "教师SOP"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "customerId",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "currentStageId": {
                    "type": "integer"
                  },
                  "stageProgress": {
                    "type": "number"
                  },
                  "completedTasks": {
                    "type": "array",
                    "items": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/teacher-sop/customers/{customerId}/tasks/{taskId}/complete": {
      "post": {
        "summary": "完成任务",
        "description": "标记指定任务为已完成",
        "tags": [
          "教师SOP"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "customerId",
            "required": true,
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "path",
            "name": "taskId",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "任务已完成"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/teacher-sop/customers/{customerId}/progress/advance": {
      "post": {
        "summary": "推进到下一阶段",
        "description": "将客户推进到下一个SOP阶段",
        "tags": [
          "教师SOP"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "customerId",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "已进入下一阶段"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/teacher-sop/customers/{customerId}/conversations": {
      "get": {
        "summary": "获取对话记录",
        "description": "获取指定客户的所有对话记录",
        "tags": [
          "教师SOP"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "customerId",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      },
      "post": {
        "summary": "添加对话记录",
        "description": "为指定客户添加一条对话记录",
        "tags": [
          "教师SOP"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "customerId",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "speakerType",
                  "content"
                ],
                "properties": {
                  "speakerType": {
                    "type": "string",
                    "enum": [
                      "teacher",
                      "customer"
                    ]
                  },
                  "content": {
                    "type": "string"
                  },
                  "messageType": {
                    "type": "string",
                    "enum": [
                      "text",
                      "image",
                      "voice",
                      "video"
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "对话记录已添加"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/teacher-sop/customers/{customerId}/conversations/batch": {
      "post": {
        "summary": "批量添加对话记录",
        "description": "为指定客户批量添加对话记录",
        "tags": [
          "教师SOP"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "customerId",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "conversations": {
                    "type": "array",
                    "items": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "对话记录已添加"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/teacher-sop/customers/{customerId}/screenshots/upload": {
      "post": {
        "summary": "上传截图",
        "description": "上传客户对话截图",
        "tags": [
          "教师SOP"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "customerId",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "imageUrl": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "截图已上传"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/teacher-sop/customers/{customerId}/screenshots/{screenshotId}/analyze": {
      "post": {
        "summary": "分析截图",
        "description": "使用AI分析对话截图",
        "tags": [
          "教师SOP"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "customerId",
            "required": true,
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "path",
            "name": "screenshotId",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "截图分析完成"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/teacher-sop/customers/{customerId}/ai-suggestions/task": {
      "post": {
        "summary": "获取任务AI建议",
        "description": "获取指定任务的AI智能建议",
        "tags": [
          "教师SOP"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "customerId",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "taskId": {
                    "type": "integer"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/teacher-sop/customers/{customerId}/ai-suggestions/global": {
      "post": {
        "summary": "获取全局AI分析",
        "description": "获取客户的全局AI分析和建议",
        "tags": [
          "教师SOP"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "customerId",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/teachers/search": {
      "get": {
        "summary": "搜索教师",
        "description": "根据查询条件搜索教师列表",
        "tags": [
          "教师管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "name",
            "schema": {
              "type": "string"
            },
            "description": "教师姓名（支持模糊搜索）"
          },
          {
            "in": "query",
            "name": "employeeId",
            "schema": {
              "type": "string"
            },
            "description": "工号"
          },
          {
            "in": "query",
            "name": "department",
            "schema": {
              "type": "string"
            },
            "description": "部门"
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string",
              "enum": [
                "active",
                "inactive",
                "suspended"
              ]
            },
            "description": "状态"
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 10
            },
            "description": "每页数量"
          }
        ],
        "responses": {
          "200": {
            "description": "搜索成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "搜索成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "list": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/Teacher"
                          }
                        },
                        "total": {
                          "type": "integer",
                          "description": "总数"
                        },
                        "page": {
                          "type": "integer",
                          "description": "当前页码"
                        },
                        "pageSize": {
                          "type": "integer",
                          "description": "每页数量"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "500": {
            "$ref": "#/components/responses/InternalError"
          }
        }
      }
    },
    "/api/teachers/by-user/{userId}": {
      "get": {
        "summary": "根据用户ID获取教师信息",
        "description": "通过用户ID查询对应的教师信息",
        "tags": [
          "教师管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "userId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "用户ID"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "获取成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/Teacher"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "500": {
            "$ref": "#/components/responses/InternalError"
          }
        }
      }
    },
    "/api/teachers/statistics": {
      "get": {
        "summary": "获取全局教师统计信息",
        "description": "获取系统中教师的全局统计数据，包括总数、状态分布等",
        "tags": [
          "教师管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取统计信息成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "获取统计信息成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "total": {
                          "type": "integer",
                          "description": "教师总数"
                        },
                        "active": {
                          "type": "integer",
                          "description": "在职教师数"
                        },
                        "inactive": {
                          "type": "integer",
                          "description": "离职教师数"
                        },
                        "suspended": {
                          "type": "integer",
                          "description": "停职教师数"
                        },
                        "byDepartment": {
                          "type": "object",
                          "description": "各部门教师分布"
                        },
                        "avgExperience": {
                          "type": "number",
                          "description": "平均工作经验（年）"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "500": {
            "$ref": "#/components/responses/InternalError"
          }
        }
      }
    },
    "/api/teachers": {
      "get": {
        "summary": "获取教师列表",
        "description": "获取系统中所有教师的列表，支持按幼儿园、职位等条件筛选",
        "tags": [
          "Teacher Management"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "kindergartenId",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1,
              "example": 1
            },
            "description": "按幼儿园ID筛选教师"
          },
          {
            "in": "query",
            "name": "groupId",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 10,
              "example": 1
            },
            "description": "按集团ID筛选教师"
          },
          {
            "in": "query",
            "name": "position",
            "schema": {
              "type": "string",
              "enum": [
                "active",
                "inactive",
                "suspended"
              ],
              "example": "主班老师"
            },
            "description": "按职位筛选教师"
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "integer",
              "enum": [
                0,
                1
              ],
              "example": 1
            },
            "description": "按状态筛选教师（1-在职，0-离职）"
          },
          {
            "in": "query",
            "name": "education",
            "description": "按学历筛选教师",
            "schema": {
              "type": "string",
              "example": "本科"
            }
          },
          {
            "in": "query",
            "name": "page",
            "description": "页码",
            "schema": {
              "type": "integer",
              "default": 1,
              "minimum": 1
            }
          },
          {
            "in": "query",
            "name": "pageSize",
            "description": "每页数量",
            "schema": {
              "type": "integer",
              "default": 10,
              "minimum": 1,
              "maximum": 100
            }
          },
          {
            "in": "query",
            "name": "search",
            "description": "搜索关键词（教师姓名、教师编号、手机号）",
            "schema": {
              "type": "string",
              "example": "张"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取教师列表",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "获取教师列表成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "list": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/Teacher"
                          }
                        },
                        "total": {
                          "type": "integer",
                          "description": "总数"
                        },
                        "page": {
                          "type": "integer",
                          "description": "当前页码"
                        },
                        "pageSize": {
                          "type": "integer",
                          "description": "每页数量"
                        }
                      }
                    }
                  },
                  "$ref": "#/components/schemas/TeacherListResponse"
                },
                "examples": {
                  "success_example": {
                    "summary": "成功响应示例",
                    "value": {
                      "success": true,
                      "data": {
                        "list": [
                          {
                            "id": 1,
                            "userId": 5,
                            "kindergartenId": 1,
                            "groupId": 1,
                            "teacherNo": "T001",
                            "position": "主班老师",
                            "hireDate": "2024-01-01",
                            "education": "本科",
                            "major": "学前教育",
                            "status": 1,
                            "createdAt": "2024-01-01T00:00:00.000Z",
                            "user": {
                              "id": 5,
                              "username": "13800138000",
                              "realName": "张老师",
                              "phone": "13800138000",
                              "email": "teacher@example.com",
                              "role": "teacher"
                            }
                          }
                        ]
                      },
                      "message": "获取teachers列表成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized",
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "message": "未提供有效的认证令牌",
                  "code": "UNAUTHORIZED"
                }
              }
            }
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "500": {
            "$ref": "#/components/responses/InternalError",
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "message": "获取teachers列表失败",
                  "code": "INTERNAL_ERROR"
                }
              }
            }
          }
        }
      },
      "post": {
        "summary": "创建新教师",
        "description": "创建新教师账户，包含用户账户和教师档案的创建，使用数据库事务确保数据一致性",
        "tags": [
          "Teacher Management"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "name",
                  "employeeId",
                  "phone",
                  "email",
                  "department"
                ],
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "教师姓名",
                    "example": "张老师"
                  },
                  "employeeId": {
                    "type": "string",
                    "description": "工号",
                    "example": "T001"
                  },
                  "phone": {
                    "type": "string",
                    "description": "联系电话",
                    "example": "13800138000"
                  },
                  "email": {
                    "type": "string",
                    "format": "email",
                    "description": "邮箱",
                    "example": "teacher@example.com"
                  },
                  "department": {
                    "type": "string",
                    "description": "部门",
                    "example": "教学部"
                  },
                  "position": {
                    "type": "string",
                    "description": "职位",
                    "example": "主班老师"
                  },
                  "qualification": {
                    "type": "string",
                    "description": "教师资格证号"
                  },
                  "experience": {
                    "type": "integer",
                    "description": "工作经验（年）",
                    "example": 5
                  },
                  "address": {
                    "type": "string",
                    "description": "住址"
                  },
                  "birthday": {
                    "type": "string",
                    "format": "date",
                    "description": "生日"
                  },
                  "gender": {
                    "type": "string",
                    "enum": [
                      "male",
                      "female"
                    ],
                    "description": "性别"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "active",
                      "inactive",
                      "suspended"
                    ],
                    "default": "active",
                    "description": "状态"
                  }
                },
                "$ref": "#/components/schemas/CreateTeacherRequest"
              },
              "examples": {
                "create_head_teacher": {
                  "summary": "创建主班老师示例",
                  "value": {
                    "realName": "张老师",
                    "phone": "13800138000",
                    "email": "zhang.teacher@example.com",
                    "teacherNo": "T001",
                    "position": "主班老师",
                    "hireDate": "2024-01-01",
                    "education": "本科",
                    "major": "学前教育",
                    "roleId": 2
                  }
                },
                "create_assistant_teacher": {
                  "summary": "创建副班老师示例",
                  "value": {
                    "realName": "李老师",
                    "phone": "13900139000",
                    "email": "li.teacher@example.com",
                    "teacherNo": "T002",
                    "position": "副班老师",
                    "hireDate": "2024-02-01",
                    "education": "专科",
                    "major": "幼儿教育",
                    "roleId": 3
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "教师创建成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 201
                    },
                    "message": {
                      "type": "string",
                      "example": "创建教师成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/Teacher"
                    }
                  },
                  "$ref": "#/components/schemas/TeacherCreateResponse"
                },
                "examples": {
                  "success_response": {
                    "summary": "创建成功响应",
                    "value": {
                      "success": true,
                      "data": {
                        "user": {
                          "id": 15,
                          "username": "13800138000",
                          "realName": "张老师",
                          "phone": "13800138000",
                          "email": "zhang.teacher@example.com",
                          "role": "teacher",
                          "status": "active"
                        },
                        "teacher": {
                          "id": 10,
                          "userId": 15,
                          "kindergartenId": 1,
                          "groupId": 1,
                          "teacherNo": "T001",
                          "position": "主班老师",
                          "status": 1
                        }
                      },
                      "message": "创建教师成功"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest",
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "examples": {
                  "missing_fields": {
                    "summary": "缺少必填字段",
                    "value": {
                      "success": false,
                      "message": "所有字段都是必需的",
                      "code": "BAD_REQUEST"
                    }
                  },
                  "kindergarten_not_assigned": {
                    "summary": "用户未关联幼儿园",
                    "value": {
                      "success": false,
                      "message": "用户未关联幼儿园",
                      "code": "BAD_REQUEST"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized",
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "message": "未提供有效的认证令牌",
                  "code": "UNAUTHORIZED"
                }
              }
            }
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "409": {
            "description": "工号或邮箱已存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/InternalError",
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "message": "创建教师失败",
                  "code": "INTERNAL_ERROR"
                }
              }
            }
          }
        }
      }
    },
    "/api/teachers/{id}": {
      "get": {
        "summary": "获取teachers详情",
        "description": "根据教师ID获取教师详细信息",
        "tags": [
          "Teacher"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "教师ID"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "获取教师详情成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/Teacher"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "500": {
            "$ref": "#/components/responses/InternalError"
          }
        }
      },
      "put": {
        "summary": "更新teachers",
        "description": "根据教师ID更新教师信息",
        "tags": [
          "Teacher"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "教师ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "教师姓名"
                  },
                  "phone": {
                    "type": "string",
                    "description": "联系电话"
                  },
                  "email": {
                    "type": "string",
                    "format": "email",
                    "description": "邮箱"
                  },
                  "department": {
                    "type": "string",
                    "description": "部门"
                  },
                  "position": {
                    "type": "string",
                    "description": "职位"
                  },
                  "qualification": {
                    "type": "string",
                    "description": "教师资格证号"
                  },
                  "experience": {
                    "type": "integer",
                    "description": "工作经验（年）"
                  },
                  "address": {
                    "type": "string",
                    "description": "住址"
                  },
                  "birthday": {
                    "type": "string",
                    "format": "date",
                    "description": "生日"
                  },
                  "gender": {
                    "type": "string",
                    "enum": [
                      "male",
                      "female"
                    ],
                    "description": "性别"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "active",
                      "inactive",
                      "suspended"
                    ],
                    "description": "状态"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "更新教师信息成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/Teacher"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "409": {
            "description": "邮箱已存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/InternalError"
          }
        }
      },
      "delete": {
        "summary": "删除teachers",
        "description": "根据教师ID删除教师记录",
        "tags": [
          "Teacher"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "教师ID"
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "删除教师成功"
                    },
                    "data": {
                      "type": "object",
                      "nullable": true
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "409": {
            "description": "教师仍有关联数据，无法删除",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/InternalError"
          }
        }
      }
    },
    "/api/teachers/{id}/classes": {
      "get": {
        "summary": "获取教师分配的班级",
        "description": "获取指定教师负责的班级列表",
        "tags": [
          "教师管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "教师ID"
          }
        ],
        "responses": {
          "200": {
            "description": "获取教师班级成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "获取教师班级成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "teacher": {
                          "$ref": "#/components/schemas/Teacher"
                        },
                        "classes": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/Class"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "500": {
            "$ref": "#/components/responses/InternalError"
          }
        }
      }
    },
    "/api/teachers/{id}/stats": {
      "get": {
        "summary": "获取教师统计信息",
        "description": "获取指定教师的详细统计信息，包括班级数量、学生数量等",
        "tags": [
          "教师管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "教师ID"
          }
        ],
        "responses": {
          "200": {
            "description": "获取教师统计信息成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "获取教师统计信息成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "teacherId": {
                          "type": "integer",
                          "description": "教师ID"
                        },
                        "teacherName": {
                          "type": "string",
                          "description": "教师姓名"
                        },
                        "classCount": {
                          "type": "integer",
                          "description": "负责班级数量"
                        },
                        "studentCount": {
                          "type": "integer",
                          "description": "管理学生总数"
                        },
                        "experienceYears": {
                          "type": "integer",
                          "description": "工作经验年数"
                        },
                        "performanceRating": {
                          "type": "number",
                          "format": "float",
                          "description": "绩效评分"
                        },
                        "attendanceRate": {
                          "type": "number",
                          "format": "float",
                          "description": "出勤率（百分比）"
                        },
                        "classPerformance": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "classId": {
                                "type": "integer",
                                "description": "班级ID"
                              },
                              "className": {
                                "type": "string",
                                "description": "班级名称"
                              },
                              "studentCount": {
                                "type": "integer",
                                "description": "班级学生数量"
                              },
                              "avgScore": {
                                "type": "number",
                                "format": "float",
                                "description": "班级平均成绩"
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "500": {
            "$ref": "#/components/responses/InternalError"
          }
        }
      }
    },
    "/api/teaching-center/course-progress": {
      "get": {
        "summary": "获取课程进度统计数据",
        "description": "获取课程进度的统计信息",
        "tags": [
          "教学中心"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/teaching-center/class-progress/{classId}/{coursePlanId}": {
      "get": {
        "summary": "获取班级详细达标情况",
        "description": "获取指定班级和课程计划的详细达标情况",
        "tags": [
          "教学中心"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "classId",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "coursePlanId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/teaching-center/confirm-completion/{progressId}": {
      "put": {
        "summary": "教师确认完成课程",
        "description": "教师确认课程进度已完成",
        "tags": [
          "教学中心"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "progressId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "确认成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/teaching-center/outdoor-training": {
      "get": {
        "summary": "获取户外训练统计数据",
        "description": "获取户外训练活动的统计信息",
        "tags": [
          "教学中心"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      },
      "post": {
        "summary": "记录户外训练活动",
        "description": "记录新的户外训练活动",
        "tags": [
          "教学中心"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "classId",
                  "activityName",
                  "date"
                ],
                "properties": {
                  "classId": {
                    "type": "string"
                  },
                  "activityName": {
                    "type": "string"
                  },
                  "date": {
                    "type": "string",
                    "format": "date"
                  },
                  "description": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "记录成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/teaching-center/outdoor-training/class/{classId}": {
      "get": {
        "summary": "获取班级户外训练详情",
        "description": "获取指定班级的户外训练详细信息",
        "tags": [
          "教学中心"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "classId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/teaching-center/external-display": {
      "get": {
        "summary": "获取校外展示统计数据",
        "description": "获取校外展示活动的统计信息",
        "tags": [
          "教学中心"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      },
      "post": {
        "summary": "记录校外展示活动",
        "description": "记录新的校外展示活动",
        "tags": [
          "教学中心"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "classId",
                  "activityName",
                  "date"
                ],
                "properties": {
                  "classId": {
                    "type": "string"
                  },
                  "activityName": {
                    "type": "string"
                  },
                  "date": {
                    "type": "string",
                    "format": "date"
                  },
                  "location": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "记录成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/teaching-center/external-display/class/{classId}": {
      "get": {
        "summary": "获取班级校外展示详情",
        "description": "获取指定班级的校外展示详细信息",
        "tags": [
          "教学中心"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "classId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/teaching-center/championship": {
      "get": {
        "summary": "获取锦标赛统计数据",
        "description": "获取全员锦标赛的统计信息",
        "tags": [
          "教学中心"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      },
      "post": {
        "summary": "创建锦标赛",
        "description": "创建新的全员锦标赛",
        "tags": [
          "教学中心"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "name",
                  "startDate",
                  "endDate"
                ],
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "startDate": {
                    "type": "string",
                    "format": "date"
                  },
                  "endDate": {
                    "type": "string",
                    "format": "date"
                  },
                  "description": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "创建成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/teaching-center/championship/{championshipId}": {
      "get": {
        "summary": "获取锦标赛详情",
        "description": "获取指定锦标赛的详细信息",
        "tags": [
          "教学中心"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "championshipId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/teaching-center/championship/{championshipId}/status": {
      "put": {
        "summary": "更新锦标赛状态",
        "description": "更新指定锦标赛的状态",
        "tags": [
          "教学中心"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "championshipId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "status"
                ],
                "properties": {
                  "status": {
                    "type": "string",
                    "enum": [
                      "pending",
                      "ongoing",
                      "completed",
                      "cancelled"
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/teaching-center/media": {
      "post": {
        "summary": "上传教学媒体文件",
        "description": "上传教学相关的媒体文件",
        "tags": [
          "教学中心"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "required": [
                  "file"
                ],
                "properties": {
                  "file": {
                    "type": "string",
                    "format": "binary"
                  },
                  "title": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "上传成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      },
      "get": {
        "summary": "获取教学媒体列表",
        "description": "获取教学媒体文件列表",
        "tags": [
          "教学中心"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer",
              "default": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/text-polish/description": {
      "post": {
        "summary": "润色幼儿园介绍文本",
        "tags": [
          "文本润色"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "text"
                ],
                "properties": {
                  "text": {
                    "type": "string",
                    "description": "需要润色的文本",
                    "example": "我们是一所优质幼儿园，有很好的老师和设施。"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "润色成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "originalText": {
                          "type": "string",
                          "description": "原始文本"
                        },
                        "polishedText": {
                          "type": "string",
                          "description": "润色后的文本"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/ai/text-to-speech": {
      "post": {
        "summary": "文字转语音",
        "description": "将文字内容转换为语音",
        "tags": [
          "AI - 文字转语音"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "text"
                ],
                "properties": {
                  "text": {
                    "type": "string",
                    "description": "要转换的文字内容",
                    "maxLength": 4096
                  },
                  "voice": {
                    "type": "string",
                    "description": "音色选择",
                    "enum": [
                      "alloy",
                      "nova",
                      "shimmer",
                      "echo",
                      "fable",
                      "onyx"
                    ],
                    "default": "nova"
                  },
                  "speed": {
                    "type": "number",
                    "description": "语速（0.25-4.0）",
                    "minimum": 0.25,
                    "maximum": 4,
                    "default": 1
                  },
                  "format": {
                    "type": "string",
                    "description": "输出格式",
                    "enum": [
                      "mp3",
                      "opus",
                      "aac",
                      "flac"
                    ],
                    "default": "mp3"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "语音文件",
            "content": {
              "audio/mpeg": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          },
          "400": {
            "description": "参数错误"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/ai/text-to-speech/voices": {
      "get": {
        "summary": "获取可用音色列表",
        "description": "获取所有可用的语音音色",
        "tags": [
          "AI - 文字转语音"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "音色列表",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string"
                          },
                          "name": {
                            "type": "string"
                          },
                          "description": {
                            "type": "string"
                          },
                          "language": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/ai/text-to-speech/config": {
      "get": {
        "summary": "获取TTS配置",
        "description": "获取文字转语音的配置信息",
        "tags": [
          "AI - 文字转语音"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "配置信息",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "hasConfig": {
                          "type": "boolean"
                        },
                        "modelName": {
                          "type": "string"
                        },
                        "maxLength": {
                          "type": "number"
                        },
                        "supportedFormats": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        },
                        "speedRange": {
                          "type": "object"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/todos": {
      "get": {
        "summary": "获取待办事项列表",
        "tags": [
          "Todos"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "userId",
            "schema": {
              "type": "integer"
            },
            "description": "创建用户ID"
          },
          {
            "in": "query",
            "name": "assignedTo",
            "schema": {
              "type": "integer"
            },
            "description": "分配给用户ID"
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string",
              "enum": [
                "pending",
                "in_progress",
                "completed",
                "cancelled",
                "overdue"
              ]
            },
            "description": "任务状态"
          },
          {
            "in": "query",
            "name": "priority",
            "schema": {
              "type": "integer",
              "enum": [
                1,
                2,
                3,
                4,
                5
              ]
            },
            "description": "优先级"
          },
          {
            "in": "query",
            "name": "keyword",
            "schema": {
              "type": "string"
            },
            "description": "搜索关键词"
          },
          {
            "in": "query",
            "name": "relatedType",
            "schema": {
              "type": "string"
            },
            "description": "关联类型"
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer",
              "default": 10
            },
            "description": "每页数量"
          },
          {
            "in": "query",
            "name": "sortBy",
            "schema": {
              "type": "string",
              "default": "created_at"
            },
            "description": "排序字段"
          },
          {
            "in": "query",
            "name": "sortOrder",
            "schema": {
              "type": "string",
              "enum": [
                "ASC",
                "DESC"
              ],
              "default": "DESC"
            },
            "description": "排序方向"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "items": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/Todo"
                          }
                        },
                        "total": {
                          "type": "integer",
                          "description": "总记录数"
                        },
                        "page": {
                          "type": "integer",
                          "description": "当前页码"
                        },
                        "pageSize": {
                          "type": "integer",
                          "description": "每页数量"
                        },
                        "totalPages": {
                          "type": "integer",
                          "description": "总页数"
                        }
                      }
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          }
        }
      },
      "post": {
        "summary": "创建待办事项",
        "tags": [
          "Todos"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "title"
                ],
                "properties": {
                  "title": {
                    "type": "string",
                    "description": "任务标题",
                    "example": "完成项目文档"
                  },
                  "description": {
                    "type": "string",
                    "description": "任务描述",
                    "example": "编写API文档和用户手册"
                  },
                  "priority": {
                    "type": "integer",
                    "enum": [
                      1,
                      2,
                      3,
                      4,
                      5
                    ],
                    "description": "优先级",
                    "default": 3
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "pending",
                      "in_progress",
                      "completed",
                      "cancelled",
                      "overdue"
                    ],
                    "description": "任务状态",
                    "default": "pending"
                  },
                  "dueDate": {
                    "type": "string",
                    "format": "date-time",
                    "description": "截止日期"
                  },
                  "assignedTo": {
                    "type": "integer",
                    "description": "分配给用户ID"
                  },
                  "tags": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "标签列表"
                  },
                  "relatedId": {
                    "type": "integer",
                    "description": "关联ID"
                  },
                  "relatedType": {
                    "type": "string",
                    "description": "关联类型"
                  },
                  "notify": {
                    "type": "boolean",
                    "description": "是否通知",
                    "default": false
                  },
                  "notifyTime": {
                    "type": "string",
                    "format": "date-time",
                    "description": "通知时间"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "创建成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/Todo"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权"
          }
        }
      }
    },
    "/api/todos/my": {
      "get": {
        "summary": "获取我的待办事项列表",
        "tags": [
          "Todos"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer",
              "default": 10
            },
            "description": "每页数量"
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string",
              "enum": [
                "pending",
                "in_progress",
                "completed",
                "cancelled",
                "overdue"
              ]
            },
            "description": "任务状态"
          },
          {
            "in": "query",
            "name": "priority",
            "schema": {
              "type": "integer",
              "enum": [
                1,
                2,
                3,
                4,
                5
              ]
            },
            "description": "优先级"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "items": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/Todo"
                          }
                        },
                        "total": {
                          "type": "integer",
                          "description": "总记录数"
                        }
                      }
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          }
        }
      }
    },
    "/api/todos/statistics": {
      "get": {
        "summary": "获取待办事项统计信息",
        "tags": [
          "Todos"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "total": {
                      "type": "integer",
                      "description": "总数"
                    },
                    "pending": {
                      "type": "integer",
                      "description": "待处理数量"
                    },
                    "in_progress": {
                      "type": "integer",
                      "description": "进行中数量"
                    },
                    "completed": {
                      "type": "integer",
                      "description": "已完成数量"
                    },
                    "overdue": {
                      "type": "integer",
                      "description": "逾期数量"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/todos/stats": {
      "get": {
        "summary": "获取待办事项统计信息（别名）",
        "tags": [
          "Todos"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "total": {
                      "type": "integer",
                      "description": "总数"
                    },
                    "pending": {
                      "type": "integer",
                      "description": "待处理数量"
                    },
                    "in_progress": {
                      "type": "integer",
                      "description": "进行中数量"
                    },
                    "completed": {
                      "type": "integer",
                      "description": "已完成数量"
                    },
                    "overdue": {
                      "type": "integer",
                      "description": "逾期数量"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/todos/{id}": {
      "get": {
        "summary": "获取待办事项详情",
        "tags": [
          "Todos"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "待办事项ID"
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/Todo"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "待办事项不存在"
          }
        }
      },
      "put": {
        "summary": "更新待办事项",
        "tags": [
          "Todos"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "待办事项ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "title": {
                    "type": "string",
                    "description": "任务标题"
                  },
                  "description": {
                    "type": "string",
                    "description": "任务描述"
                  },
                  "priority": {
                    "type": "integer",
                    "enum": [
                      1,
                      2,
                      3,
                      4,
                      5
                    ],
                    "description": "优先级"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "pending",
                      "in_progress",
                      "completed",
                      "cancelled",
                      "overdue"
                    ],
                    "description": "任务状态"
                  },
                  "dueDate": {
                    "type": "string",
                    "format": "date-time",
                    "description": "截止日期"
                  },
                  "assignedTo": {
                    "type": "integer",
                    "description": "分配给用户ID"
                  },
                  "tags": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "标签列表"
                  },
                  "notify": {
                    "type": "boolean",
                    "description": "是否通知"
                  },
                  "notifyTime": {
                    "type": "string",
                    "format": "date-time",
                    "description": "通知时间"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/Todo"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "待办事项不存在"
          }
        }
      },
      "delete": {
        "summary": "删除待办事项",
        "tags": [
          "Todos"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "待办事项ID"
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "null"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "待办事项不存在"
          }
        }
      }
    },
    "/api/todos/{id}/complete": {
      "patch": {
        "summary": "标记待办事项为完成",
        "tags": [
          "Todos"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "待办事项ID"
          }
        ],
        "responses": {
          "200": {
            "description": "标记成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/Todo"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "待办事项不存在"
          }
        }
      }
    },
    "/api/token-blacklist": {
      "get": {
        "summary": "获取token_blacklist列表",
        "tags": [
          "TokenBlacklist"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      },
      "post": {
        "summary": "创建token_blacklist",
        "tags": [
          "TokenBlacklist"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "201": {
            "description": "创建成功"
          }
        }
      }
    },
    "/api/token-blacklist/{id}": {
      "get": {
        "summary": "获取token_blacklist详情",
        "tags": [
          "TokenBlacklist"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      },
      "put": {
        "summary": "更新token_blacklist",
        "tags": [
          "TokenBlacklist"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "更新成功"
          }
        }
      },
      "delete": {
        "summary": "删除token_blacklist",
        "tags": [
          "TokenBlacklist"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功"
          }
        }
      }
    },
    "/api/statistics": {
      "get": {
        "summary": "获取统计数据",
        "description": "统一的统计数据接口，支持多模块查询",
        "tags": [
          "UnifiedStatistics"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "module",
            "required": true,
            "description": "统计模块",
            "schema": {
              "type": "string",
              "enum": [
                "enrollment",
                "activities",
                "dashboard",
                "class",
                "teacher",
                "student",
                "marketing",
                "ai",
                "system"
              ]
            }
          },
          {
            "in": "query",
            "name": "type",
            "required": false,
            "description": "统计类型",
            "schema": {
              "type": "string",
              "enum": [
                "overview",
                "trend",
                "summary",
                "detailed",
                "comparison"
              ]
            }
          },
          {
            "in": "query",
            "name": "period",
            "required": false,
            "description": "统计周期",
            "schema": {
              "type": "string",
              "enum": [
                "daily",
                "weekly",
                "monthly",
                "yearly"
              ]
            }
          },
          {
            "in": "query",
            "name": "startDate",
            "required": false,
            "description": "开始日期",
            "schema": {
              "type": "string",
              "format": "date"
            }
          },
          {
            "in": "query",
            "name": "endDate",
            "required": false,
            "description": "结束日期",
            "schema": {
              "type": "string",
              "format": "date"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "统计数据获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "description": "统计数据，结构根据模块和类型动态变化"
                    },
                    "message": {
                      "type": "string",
                      "example": "统计数据获取成功"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权访问"
          },
          "500": {
            "description": "服务器错误"
          }
        }
      }
    },
    "/api/statistics/comparison": {
      "get": {
        "summary": "获取对比统计数据",
        "description": "支持多模块、多时间段的对比分析",
        "tags": [
          "UnifiedStatistics"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "modules",
            "required": true,
            "description": "对比模块（逗号分隔）",
            "schema": {
              "type": "string",
              "example": "enrollment,activities,marketing"
            }
          },
          {
            "in": "query",
            "name": "metric",
            "required": true,
            "description": "对比指标",
            "schema": {
              "type": "string",
              "enum": [
                "count",
                "growth",
                "conversion",
                "satisfaction"
              ]
            }
          },
          {
            "in": "query",
            "name": "period",
            "required": false,
            "description": "统计周期",
            "schema": {
              "type": "string",
              "enum": [
                "daily",
                "weekly",
                "monthly",
                "yearly"
              ],
              "default": "monthly"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "对比统计数据获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "comparison": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "module": {
                                "type": "string"
                              },
                              "value": {
                                "type": "number"
                              },
                              "change": {
                                "type": "number"
                              },
                              "trend": {
                                "type": "string"
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/user-role": {
      "get": {
        "summary": "获取用户角色关联列表",
        "description": "获取所有用户角色关联记录的详细信息，包括用户信息、角色信息及关联状态",
        "tags": [
          "用户角色关联"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取用户角色关联列表",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取用户角色关联列表成功"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/UserRole"
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权 - 缺少或无效的访问令牌"
          },
          "403": {
            "description": "权限不足 - 需要USER_ROLE_MANAGE权限"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      },
      "post": {
        "summary": "创建用户角色关联",
        "description": "为指定用户分配角色，建立用户与角色之间的关联关系",
        "tags": [
          "用户角色关联"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateUserRoleRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "成功创建用户角色关联",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "创建用户角色关联成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/UserRole"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "examples": {
                        "missing_params": {
                          "value": "用户ID和角色ID不能为空"
                        },
                        "existing_relation": {
                          "value": "该用户角色关联已存在"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权 - 缺少或无效的访问令牌"
          },
          "403": {
            "description": "权限不足 - 需要USER_ROLE_MANAGE权限"
          },
          "404": {
            "description": "资源不存在",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "examples": {
                        "user_not_found": {
                          "value": "用户不存在或已被禁用"
                        },
                        "role_not_found": {
                          "value": "角色不存在"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/user-role/{id}": {
      "get": {
        "summary": "获取用户角色关联详情",
        "description": "根据用户角色关联ID获取特定用户角色关联的详细信息",
        "tags": [
          "用户角色关联"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "用户角色关联ID",
            "example": 1
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取用户角色关联详情",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取用户角色关联详情成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/UserRole"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权 - 缺少或无效的访问令牌"
          },
          "403": {
            "description": "权限不足 - 需要USER_ROLE_MANAGE权限"
          },
          "404": {
            "description": "用户角色关联不存在",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "用户角色关联不存在"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      },
      "put": {
        "summary": "更新用户角色关联",
        "description": "更新指定用户角色关联的配置，如主要角色状态、生效时间等",
        "tags": [
          "用户角色关联"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "用户角色关联ID",
            "example": 1
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateUserRoleRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "成功更新用户角色关联",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "更新用户角色关联成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/UserRole"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权 - 缺少或无效的访问令牌"
          },
          "403": {
            "description": "权限不足 - 需要USER_ROLE_MANAGE权限"
          },
          "404": {
            "description": "用户角色关联不存在",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "用户角色关联不存在"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      },
      "delete": {
        "summary": "删除用户角色关联",
        "description": "软删除指定的用户角色关联记录，操作具有幂等性",
        "tags": [
          "用户角色关联"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "用户角色关联ID",
            "example": 1
          }
        ],
        "responses": {
          "200": {
            "description": "成功删除用户角色关联",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "删除用户角色关联成功"
                    },
                    "data": {
                      "type": null,
                      "example": null
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权 - 缺少或无效的访问令牌"
          },
          "403": {
            "description": "权限不足 - 需要USER_ROLE_MANAGE权限"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/user-role/by-user/{userId}": {
      "get": {
        "summary": "按用户获取角色关联",
        "description": "获取指定用户的所有角色关联记录，按主要角色优先排序",
        "tags": [
          "用户角色关联"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "userId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "用户ID",
            "example": 123
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取用户角色关联",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取用户角色关联成功"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/UserRole"
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权 - 缺少或无效的访问令牌"
          },
          "403": {
            "description": "权限不足 - 需要USER_ROLE_MANAGE权限"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/user-role/users/{userId}/roles": {
      "post": {
        "summary": "为用户分配角色",
        "description": "批量为指定用户分配多个角色",
        "tags": [
          "用户角色关联"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "userId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "用户ID",
            "example": 123
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RoleAssignmentRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "成功为用户分配角色",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "角色分配成功"
                    },
                    "data": {
                      "type": "object",
                      "description": "分配结果详情"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "description": "权限不足"
          },
          "404": {
            "description": "用户不存在"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      },
      "delete": {
        "summary": "移除用户的角色",
        "description": "批量移除指定用户的多个角色",
        "tags": [
          "用户角色关联"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "userId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "用户ID",
            "example": 123
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RoleAssignmentRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "成功移除用户角色",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "角色移除成功"
                    },
                    "data": {
                      "type": "object",
                      "description": "移除结果详情"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "description": "权限不足"
          },
          "404": {
            "description": "用户不存在"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      },
      "get": {
        "summary": "获取用户的所有角色",
        "description": "获取指定用户的所有角色信息，包括角色详情和权限列表",
        "tags": [
          "用户角色关联"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "userId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "用户ID",
            "example": 123
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取用户角色列表",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取用户角色成功"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "description": "用户角色详情，包含角色信息和权限列表"
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "description": "权限不足"
          },
          "404": {
            "description": "用户不存在"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/user-role/users/{userId}/primary-role": {
      "put": {
        "summary": "设置用户主要角色",
        "description": "设置指定用户的主要角色，同时取消其他角色的主要状态",
        "tags": [
          "用户角色关联"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "userId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "用户ID",
            "example": 123
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SetPrimaryRoleRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "成功设置用户主要角色",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "设置主要角色成功"
                    },
                    "data": {
                      "type": "object",
                      "description": "更新后的用户角色信息"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "description": "权限不足"
          },
          "404": {
            "description": "用户或角色不存在"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/user-role/users/{userId}/roles/{roleId}/validity": {
      "put": {
        "summary": "更新用户角色有效期",
        "description": "更新指定用户特定角色的生效时间和失效时间",
        "tags": [
          "用户角色关联"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "userId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "用户ID",
            "example": 123
          },
          {
            "in": "path",
            "name": "roleId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "角色ID",
            "example": 456
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateRoleValidityRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "成功更新角色有效期",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "更新角色有效期成功"
                    },
                    "data": {
                      "type": "object",
                      "description": "更新后的用户角色关联信息"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "description": "权限不足"
          },
          "404": {
            "description": "用户角色关联不存在"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/user-role/users/{userId}/role-history": {
      "get": {
        "summary": "获取用户角色分配记录",
        "description": "获取指定用户的角色分配历史记录，包括分配时间、操作人等信息",
        "tags": [
          "用户角色关联"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "userId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "用户ID",
            "example": 123
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取用户角色分配记录",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取角色分配记录成功"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "description": "用户角色分配历史记录，包含操作时间、操作人、角色变更等信息"
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "description": "权限不足"
          },
          "404": {
            "description": "用户不存在"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/user-roles": {
      "get": {
        "summary": "获取user_roles列表",
        "tags": [
          "UserRole"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      },
      "post": {
        "summary": "创建user_roles",
        "tags": [
          "UserRole"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "201": {
            "description": "创建成功"
          }
        }
      }
    },
    "/api/user-roles/{id}": {
      "get": {
        "summary": "获取user_roles详情",
        "tags": [
          "UserRole"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          }
        }
      },
      "put": {
        "summary": "更新user_roles",
        "tags": [
          "UserRole"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "更新成功"
          }
        }
      },
      "delete": {
        "summary": "删除user_roles",
        "tags": [
          "UserRole"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功"
          }
        }
      }
    },
    "/api/users": {
      "post": {
        "tags": [
          "User Management"
        ],
        "summary": "创建新用户",
        "description": "在系统中创建一个新用户账户，包含用户基本信息和权限设置",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateUserRequest"
              },
              "examples": {
                "create_teacher": {
                  "summary": "创建教师用户示例",
                  "value": {
                    "username": "teacher002",
                    "email": "teacher002@example.com",
                    "password": "password123",
                    "realName": "李老师",
                    "phone": "13900139000",
                    "role": "teacher",
                    "kindergartenId": 1
                  }
                },
                "create_parent": {
                  "summary": "创建家长用户示例",
                  "value": {
                    "username": "parent001",
                    "email": "parent001@example.com",
                    "password": "password123",
                    "realName": "王爸爸",
                    "phone": "13700137000",
                    "role": "parent",
                    "kindergartenId": 1
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "用户创建成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "用户创建成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/User"
                    }
                  },
                  "$ref": "#/components/schemas/UserResponse"
                },
                "examples": {
                  "success_response": {
                    "summary": "创建成功响应",
                    "value": {
                      "success": true,
                      "data": {
                        "id": 15,
                        "username": "teacher002",
                        "email": "teacher002@example.com",
                        "realName": "李老师",
                        "phone": "13900139000",
                        "role": "teacher",
                        "status": "active",
                        "kindergartenId": 1,
                        "createdAt": "2025-01-13T10:30:00.000Z",
                        "updatedAt": "2025-01-13T10:30:00.000Z"
                      },
                      "message": "创建users成功"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "examples": {
                  "missing_fields": {
                    "summary": "缺少必填字段",
                    "value": {
                      "success": false,
                      "message": "用户名、邮箱、密码和角色为必填项",
                      "code": "BAD_REQUEST"
                    }
                  },
                  "duplicate_username": {
                    "summary": "用户名已存在",
                    "value": {
                      "success": false,
                      "message": "用户名已存在",
                      "code": "DUPLICATE_USERNAME"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "message": "未提供有效的认证令牌",
                  "code": "UNAUTHORIZED"
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "message": "权限不足，无法创建用户",
                  "code": "FORBIDDEN"
                }
              }
            }
          },
          "409": {
            "description": "用户名或邮箱已存在"
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "message": "创建users失败",
                  "code": "INTERNAL_ERROR"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "User Management"
        ],
        "summary": "获取用户列表",
        "description": "获取系统中所有用户的列表，支持按角色和状态筛选",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "role",
            "schema": {
              "type": "string",
              "minimum": 1,
              "enum": [
                "admin",
                "teacher",
                "parent"
              ],
              "example": "teacher"
            },
            "description": "按角色筛选用户"
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string",
              "minimum": 1,
              "maximum": 100,
              "enum": [
                "active",
                "inactive"
              ],
              "example": "active"
            },
            "description": "按状态筛选用户"
          },
          {
            "in": "query",
            "name": "kindergartenId",
            "schema": {
              "type": "integer",
              "enum": [
                "admin",
                "principal",
                "teacher",
                "parent"
              ],
              "example": 1
            },
            "description": "按幼儿园ID筛选用户"
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "enum": [
                "active",
                "inactive",
                "locked"
              ],
              "default": 1,
              "minimum": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "pageSize",
            "description": "每页数量",
            "schema": {
              "type": "integer",
              "default": 10,
              "minimum": 1,
              "maximum": 100
            }
          },
          {
            "in": "query",
            "name": "search",
            "description": "搜索关键词（用户名、真实姓名、邮箱）",
            "schema": {
              "type": "string",
              "example": "张"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取用户列表",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/User"
                      }
                    },
                    "pagination": {
                      "type": "object",
                      "properties": {
                        "total": {
                          "type": "integer"
                        },
                        "page": {
                          "type": "integer"
                        },
                        "limit": {
                          "type": "integer"
                        },
                        "totalPages": {
                          "type": "integer"
                        }
                      }
                    }
                  },
                  "$ref": "#/components/schemas/UserListResponse"
                },
                "examples": {
                  "success_example": {
                    "summary": "成功响应示例",
                    "value": {
                      "success": true,
                      "data": {
                        "list": [
                          {
                            "id": 1,
                            "username": "admin",
                            "email": "admin@example.com",
                            "realName": "系统管理员",
                            "role": "admin",
                            "status": "active",
                            "createdAt": "2024-01-01T00:00:00.000Z"
                          },
                          {
                            "id": 2,
                            "username": "teacher1",
                            "email": "teacher1@example.com",
                            "realName": "张老师",
                            "role": "teacher",
                            "status": "active",
                            "createdAt": "2024-01-02T00:00:00.000Z"
                          }
                        ]
                      },
                      "message": "获取users列表成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "message": "未提供有效的认证令牌",
                  "code": "UNAUTHORIZED"
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "message": "获取users列表失败",
                  "code": "INTERNAL_ERROR"
                }
              }
            }
          }
        }
      }
    },
    "/api/users/me": {
      "get": {
        "tags": [
          "用户管理"
        ],
        "summary": "获取当前登录用户信息",
        "description": "获取当前登录用户的详细信息",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "用户信息获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/User"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          }
        }
      }
    },
    "/api/users/profile": {
      "get": {
        "tags": [
          "用户管理"
        ],
        "summary": "获取用户资料",
        "description": "获取当前用户的详细资料信息",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "用户资料获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "user": {
                          "$ref": "#/components/schemas/User"
                        },
                        "profile": {
                          "type": "object",
                          "description": "用户扩展资料"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "404": {
            "description": "用户不存在"
          }
        }
      }
    },
    "/api/users/{id}/status": {
      "patch": {
        "tags": [
          "用户管理"
        ],
        "summary": "更新用户状态",
        "description": "管理员更新指定用户的状态",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "用户ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateStatusRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "用户状态更新成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "用户状态更新成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "description": "用户ID"
                        },
                        "status": {
                          "type": "string",
                          "description": "更新后的状态"
                        },
                        "reason": {
                          "type": "string",
                          "description": "状态变更原因"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权访问"
          },
          "403": {
            "description": "权限不足，需要管理员权限"
          },
          "404": {
            "description": "用户不存在"
          }
        }
      }
    },
    "/api/users/{id}/change-password": {
      "post": {
        "tags": [
          "用户管理"
        ],
        "summary": "修改用户密码",
        "description": "修改指定用户的密码",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "用户ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ChangePasswordRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "密码修改成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "密码修改成功"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误或当前密码不正确"
          },
          "401": {
            "description": "未授权访问"
          },
          "403": {
            "description": "权限不足"
          },
          "404": {
            "description": "用户不存在"
          }
        }
      }
    },
    "/api/users/{id}": {
      "get": {
        "tags": [
          "User Management"
        ],
        "summary": "获取用户详情",
        "description": "根据用户ID获取用户的详细信息",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "example": 1
            },
            "description": "用户ID"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取用户详情",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/User"
                    }
                  },
                  "$ref": "#/components/schemas/UserResponse"
                },
                "example": {
                  "success": true,
                  "data": {
                    "id": 1,
                    "username": "admin",
                    "email": "admin@example.com",
                    "realName": "系统管理员",
                    "phone": "13800138000",
                    "role": "admin",
                    "status": "active",
                    "kindergartenId": null,
                    "createdAt": "2024-01-01T00:00:00.000Z",
                    "updatedAt": "2024-01-01T00:00:00.000Z"
                  },
                  "message": "获取users详情成功"
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "message": "未提供有效的认证令牌",
                  "code": "UNAUTHORIZED"
                }
              }
            }
          },
          "404": {
            "description": "用户不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "message": "users不存在",
                  "code": "NOT_FOUND"
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "message": "获取users详情失败",
                  "code": "INTERNAL_ERROR"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "User Management"
        ],
        "summary": "更新用户信息",
        "description": "根据用户ID更新用户的基本信息，支持部分字段更新",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "example": 1
            },
            "description": "用户ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateUserRequest"
              },
              "examples": {
                "update_profile": {
                  "summary": "更新用户基本信息",
                  "value": {
                    "realName": "张三丰",
                    "phone": "13800138888",
                    "email": "zhangsanfeng@example.com"
                  }
                },
                "update_status": {
                  "summary": "更新用户状态",
                  "value": {
                    "status": "inactive"
                  }
                },
                "update_role": {
                  "summary": "更新用户角色",
                  "value": {
                    "role": "parent",
                    "kindergartenId": 2
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "用户更新成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "用户信息更新成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/User"
                    }
                  },
                  "$ref": "#/components/schemas/UserResponse"
                },
                "example": {
                  "success": true,
                  "data": {
                    "id": 1,
                    "username": "admin",
                    "email": "zhangsanfeng@example.com",
                    "realName": "张三丰",
                    "phone": "13800138888",
                    "role": "admin",
                    "status": "active",
                    "kindergartenId": 1,
                    "updatedAt": "2025-01-13T10:35:00.000Z"
                  },
                  "message": "更新users成功"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "message": "无效的用户ID",
                  "code": "BAD_REQUEST"
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "message": "未提供有效的认证令牌",
                  "code": "UNAUTHORIZED"
                }
              }
            }
          },
          "403": {
            "description": "权限不足，需要管理员权限"
          },
          "404": {
            "description": "用户不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "message": "users不存在",
                  "code": "NOT_FOUND"
                }
              }
            }
          },
          "409": {
            "description": "用户名或邮箱已存在"
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "message": "更新users失败",
                  "code": "INTERNAL_ERROR"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "User Management"
        ],
        "summary": "删除用户",
        "description": "根据用户ID删除用户账户，此操作不可逆",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "example": 1
            },
            "description": "用户ID"
          }
        ],
        "responses": {
          "200": {
            "description": "用户删除成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "删除users成功"
                    },
                    "data": {
                      "type": null,
                      "example": null
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "message": "无效的用户ID",
                  "code": "BAD_REQUEST"
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "message": "未提供有效的认证令牌",
                  "code": "UNAUTHORIZED"
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "message": "不能删除管理员账户",
                  "code": "FORBIDDEN"
                }
              }
            }
          },
          "404": {
            "description": "用户不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "message": "users不存在",
                  "code": "NOT_FOUND"
                }
              }
            }
          },
          "409": {
            "description": "用户有关联数据，无法删除"
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "message": "删除users失败",
                  "code": "INTERNAL_ERROR"
                }
              }
            }
          }
        }
      }
    },
    "/api/video-creation/projects": {
      "post": {
        "summary": "创建视频项目",
        "tags": [
          "AI视频生成"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "title",
                  "platform",
                  "videoType",
                  "duration",
                  "style",
                  "topic",
                  "targetAudience",
                  "voiceStyle"
                ],
                "properties": {
                  "title": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 200,
                    "description": "视频标题",
                    "example": "幼儿园春季招生宣传"
                  },
                  "description": {
                    "type": "string",
                    "maxLength": 500,
                    "description": "视频描述",
                    "example": "展示幼儿园优美的教学环境和师资力量"
                  },
                  "platform": {
                    "type": "string",
                    "enum": [
                      "douyin",
                      "kuaishou",
                      "wechat_video",
                      "xiaohongshu",
                      "bilibili"
                    ],
                    "description": "目标平台",
                    "example": "douyin"
                  },
                  "videoType": {
                    "type": "string",
                    "enum": [
                      "enrollment",
                      "activity",
                      "course",
                      "environment",
                      "teacher",
                      "student"
                    ],
                    "description": "视频类型",
                    "example": "enrollment"
                  },
                  "duration": {
                    "type": "integer",
                    "minimum": 15,
                    "maximum": 300,
                    "description": "视频时长（秒）",
                    "example": 60
                  },
                  "style": {
                    "type": "string",
                    "enum": [
                      "warm",
                      "professional",
                      "lively",
                      "elegant"
                    ],
                    "description": "视频风格",
                    "example": "warm"
                  },
                  "topic": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 500,
                    "description": "视频主题",
                    "example": "春季招生，快乐成长"
                  },
                  "keyPoints": {
                    "type": "string",
                    "maxLength": 1000,
                    "description": "关键要点",
                    "example": "优美环境、专业师资、特色课程"
                  },
                  "targetAudience": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 200,
                    "description": "目标受众",
                    "example": "3-6岁幼儿家长"
                  },
                  "voiceStyle": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 100,
                    "description": "配音风格",
                    "example": "温柔女声"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "视频项目创建成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "视频项目创建成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/VideoProject"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "视频标题不能为空"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "402": {
            "$ref": "#/components/responses/AIQuotaExceeded"
          }
        }
      },
      "get": {
        "summary": "获取用户项目列表",
        "tags": [
          "AI视频生成"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "description": "页码",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "required": false,
            "description": "每页数量",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 50,
              "default": 10
            }
          },
          {
            "name": "status",
            "in": "query",
            "required": false,
            "description": "项目状态过滤",
            "schema": {
              "type": "string",
              "enum": [
                "draft",
                "generating_script",
                "generating_audio",
                "generating_video",
                "editing",
                "completed",
                "failed"
              ],
              "example": "completed"
            }
          },
          {
            "name": "videoType",
            "in": "query",
            "required": false,
            "description": "视频类型过滤",
            "schema": {
              "type": "string",
              "enum": [
                "enrollment",
                "activity",
                "course",
                "environment",
                "teacher",
                "student"
              ],
              "example": "enrollment"
            }
          },
          {
            "name": "platform",
            "in": "query",
            "required": false,
            "description": "平台过滤",
            "schema": {
              "type": "string",
              "enum": [
                "douyin",
                "kuaishou",
                "wechat_video",
                "xiaohongshu",
                "bilibili"
              ],
              "example": "douyin"
            }
          },
          {
            "name": "sortBy",
            "in": "query",
            "required": false,
            "description": "排序字段",
            "schema": {
              "type": "string",
              "enum": [
                "createdAt",
                "updatedAt",
                "title",
                "status"
              ],
              "default": "createdAt"
            }
          },
          {
            "name": "sortOrder",
            "in": "query",
            "required": false,
            "description": "排序方向",
            "schema": {
              "type": "string",
              "enum": [
                "asc",
                "desc"
              ],
              "default": "desc"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取项目列表成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "projects": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/VideoProject"
                          }
                        },
                        "pagination": {
                          "type": "object",
                          "properties": {
                            "page": {
                              "type": "integer",
                              "example": 1
                            },
                            "pageSize": {
                              "type": "integer",
                              "example": 10
                            },
                            "total": {
                              "type": "integer",
                              "example": 25
                            },
                            "totalPages": {
                              "type": "integer",
                              "example": 3
                            }
                          }
                        },
                        "statistics": {
                          "type": "object",
                          "properties": {
                            "totalCount": {
                              "type": "integer",
                              "example": 25
                            },
                            "statusCounts": {
                              "type": "object",
                              "example": {
                                "draft": 3,
                                "generating_script": 2,
                                "generating_video": 4,
                                "completed": 12,
                                "failed": 4
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          }
        }
      }
    },
    "/api/video-creation/projects/{projectId}/script": {
      "post": {
        "summary": "生成视频脚本",
        "tags": [
          "AI视频生成"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/VideoProjectId"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "customRequirements": {
                    "type": "string",
                    "maxLength": 1000,
                    "description": "自定义要求",
                    "example": "重点突出户外活动和艺术教育"
                  },
                  "preferredScenes": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "偏好场景",
                    "example": [
                      "户外活动",
                      "艺术课程",
                      "午餐时间"
                    ]
                  },
                  "avoidContent": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "避免的内容",
                    "example": [
                      "学习压力",
                      "竞争"
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "脚本生成成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "脚本生成成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "projectId": {
                          "type": "integer",
                          "example": 1
                        },
                        "scriptData": {
                          "$ref": "#/components/schemas/VideoScript"
                        },
                        "estimatedDuration": {
                          "type": "integer",
                          "example": 62
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "项目状态不允许生成脚本",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "项目已有脚本，无法重复生成"
                    }
                  }
                }
              }
            }
          },
          "402": {
            "$ref": "#/components/responses/AIQuotaExceeded"
          },
          "404": {
            "$ref": "#/components/responses/VideoProjectNotFound"
          }
        }
      }
    },
    "/api/video-creation/projects/{projectId}/audio": {
      "post": {
        "summary": "生成配音",
        "tags": [
          "AI视频生成"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/VideoProjectId"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "voiceId": {
                    "type": "string",
                    "description": "语音ID（可选，使用默认语音风格）",
                    "example": "zh-CN-XiaoxiaoNeural"
                  },
                  "speed": {
                    "type": "number",
                    "minimum": 0.5,
                    "maximum": 2,
                    "description": "语速",
                    "default": 1,
                    "example": 1.1
                  },
                  "pitch": {
                    "type": "string",
                    "enum": [
                      "high",
                      "medium",
                      "low"
                    ],
                    "description": "音调",
                    "default": "medium",
                    "example": "medium"
                  },
                  "bgmVolume": {
                    "type": "number",
                    "minimum": 0,
                    "maximum": 1,
                    "description": "背景音乐音量",
                    "default": 0.3,
                    "example": 0.3
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "配音生成成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "配音生成成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "projectId": {
                          "type": "integer",
                          "example": 1
                        },
                        "audioData": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/SceneAudio"
                          }
                        },
                        "totalDuration": {
                          "type": "number",
                          "example": 60.5
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "项目状态不允许生成配音",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "请先生成视频脚本"
                    }
                  }
                }
              }
            }
          },
          "402": {
            "$ref": "#/components/responses/AIQuotaExceeded"
          },
          "404": {
            "$ref": "#/components/responses/VideoProjectNotFound"
          }
        }
      }
    },
    "/api/video-creation/projects/{projectId}": {
      "get": {
        "summary": "获取项目详情",
        "tags": [
          "AI视频生成"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/VideoProjectId"
          }
        ],
        "responses": {
          "200": {
            "description": "获取项目详情成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/VideoProject"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "$ref": "#/components/responses/VideoProjectNotFound"
          }
        }
      },
      "delete": {
        "summary": "删除项目",
        "tags": [
          "AI视频生成"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/VideoProjectId"
          }
        ],
        "responses": {
          "200": {
            "description": "项目删除成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "项目删除成功"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "项目状态不允许删除",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "项目正在生成中，无法删除"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "$ref": "#/components/responses/VideoProjectNotFound"
          }
        }
      }
    },
    "/api/video-creation/projects/{projectId}/scenes": {
      "post": {
        "summary": "生成视频分镜",
        "tags": [
          "AI视频生成"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/VideoProjectId"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "sceneCount": {
                    "type": "integer",
                    "minimum": 3,
                    "maximum": 15,
                    "description": "场景数量",
                    "default": 6,
                    "example": 8
                  },
                  "visualStyle": {
                    "type": "string",
                    "description": "视觉风格偏好",
                    "example": "卡通动画风格，色彩鲜艳"
                  },
                  "quality": {
                    "type": "string",
                    "enum": [
                      "standard",
                      "high",
                      "ultra"
                    ],
                    "description": "生成质量",
                    "default": "high",
                    "example": "high"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "分镜生成成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "分镜生成成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "projectId": {
                          "type": "integer",
                          "example": 1
                        },
                        "videoData": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/SceneVideo"
                          }
                        },
                        "estimatedTime": {
                          "type": "integer",
                          "description": "预计完成时间（秒）",
                          "example": 180
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "项目状态不允许生成分镜",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "请先生成配音"
                    }
                  }
                }
              }
            }
          },
          "402": {
            "$ref": "#/components/responses/AIQuotaExceeded"
          },
          "404": {
            "$ref": "#/components/responses/VideoProjectNotFound"
          }
        }
      }
    },
    "/api/video-creation/projects/{projectId}/merge": {
      "post": {
        "summary": "视频剪辑合成",
        "tags": [
          "AI视频生成"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/VideoProjectId"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "bgmUrl": {
                    "type": "string",
                    "format": "uri",
                    "description": "背景音乐URL（可选）",
                    "example": "https://example.com/music/bgm.mp3"
                  },
                  "bgmVolume": {
                    "type": "number",
                    "minimum": 0,
                    "maximum": 1,
                    "description": "背景音乐音量",
                    "default": 0.3,
                    "example": 0.3
                  },
                  "transitions": {
                    "type": "string",
                    "enum": [
                      "fade",
                      "slide",
                      "zoom",
                      "dissolve"
                    ],
                    "description": "转场效果",
                    "default": "fade",
                    "example": "fade"
                  },
                  "outputFormat": {
                    "type": "string",
                    "enum": [
                      "mp4",
                      "avi",
                      "mov"
                    ],
                    "description": "输出格式",
                    "default": "mp4",
                    "example": "mp4"
                  },
                  "resolution": {
                    "type": "string",
                    "enum": [
                      "720p",
                      "1080p",
                      "4k"
                    ],
                    "description": "输出分辨率",
                    "default": "1080p",
                    "example": "1080p"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "视频合成开始",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "视频合成已开始，请稍后查看结果"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "projectId": {
                          "type": "integer",
                          "example": 1
                        },
                        "mergeTaskId": {
                          "type": "string",
                          "example": "merge_task_123456"
                        },
                        "estimatedTime": {
                          "type": "integer",
                          "example": 120
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "项目状态不允许合成",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "请先生成所有场景视频"
                    }
                  }
                }
              }
            }
          },
          "402": {
            "$ref": "#/components/responses/AIQuotaExceeded"
          },
          "404": {
            "$ref": "#/components/responses/VideoProjectNotFound"
          }
        }
      }
    },
    "/api/video-creation/projects/{projectId}/status": {
      "get": {
        "summary": "获取项目状态（用于轮询）",
        "tags": [
          "AI视频生成"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/VideoProjectId"
          }
        ],
        "responses": {
          "200": {
            "description": "获取项目状态成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "projectId": {
                          "type": "integer",
                          "example": 1
                        },
                        "status": {
                          "type": "string",
                          "example": "generating_video"
                        },
                        "progress": {
                          "type": "integer",
                          "minimum": 0,
                          "maximum": 100,
                          "example": 65
                        },
                        "progressMessage": {
                          "type": "string",
                          "example": "正在生成第4个场景的视频"
                        },
                        "currentStep": {
                          "type": "string",
                          "example": "video_generation"
                        },
                        "totalSteps": {
                          "type": "integer",
                          "example": 5
                        },
                        "completedSteps": {
                          "type": "integer",
                          "example": 3
                        },
                        "estimatedTimeRemaining": {
                          "type": "integer",
                          "example": 45
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "$ref": "#/components/responses/VideoProjectNotFound"
          }
        }
      }
    },
    "/api/video-creation/unfinished": {
      "get": {
        "summary": "获取用户的未完成项目列表",
        "tags": [
          "AI视频生成"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "description": "返回数量限制",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 20,
              "default": 10,
              "example": 5
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取未完成项目列表成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "projects": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "integer",
                                "example": 1
                              },
                              "title": {
                                "type": "string",
                                "example": "幼儿园春季招生"
                              },
                              "status": {
                                "type": "string",
                                "example": "generating_video"
                              },
                              "progress": {
                                "type": "integer",
                                "example": 65
                              },
                              "createdAt": {
                                "type": "string",
                                "format": "date-time",
                                "example": "2024-01-15T10:30:00Z"
                              },
                              "updatedAt": {
                                "type": "string",
                                "format": "date-time",
                                "example": "2024-01-15T11:45:00Z"
                              }
                            }
                          }
                        },
                        "totalCount": {
                          "type": "integer",
                          "example": 3
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          }
        }
      }
    },
    "/api/video-creation/projects/{projectId}/notified": {
      "post": {
        "summary": "标记项目为已通知",
        "tags": [
          "AI视频生成"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/VideoProjectId"
          }
        ],
        "responses": {
          "200": {
            "description": "标记成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "项目已标记为已通知"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "$ref": "#/components/responses/VideoProjectNotFound"
          }
        }
      }
    },
    "/api/video-creation/projects/{projectId}/check-video-status": {
      "post": {
        "summary": "检查视频生成状态（用于轮询）",
        "tags": [
          "AI视频生成"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/VideoProjectId"
          }
        ],
        "responses": {
          "200": {
            "description": "检查成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "projectId": {
                          "type": "integer",
                          "example": 1
                        },
                        "hasGeneratedVideo": {
                          "type": "boolean",
                          "example": true
                        },
                        "finalVideoUrl": {
                          "type": "string",
                          "format": "uri",
                          "example": "https://example.com/videos/final-123.mp4"
                        },
                        "coverImageUrl": {
                          "type": "string",
                          "format": "uri",
                          "example": "https://example.com/covers/cover-123.jpg"
                        },
                        "duration": {
                          "type": "number",
                          "example": 58.3
                        },
                        "fileSize": {
                          "type": "integer",
                          "example": 15728640
                        },
                        "resolution": {
                          "type": "string",
                          "example": "1080x1920"
                        },
                        "status": {
                          "type": "string",
                          "example": "completed"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "$ref": "#/components/responses/VideoProjectNotFound"
          }
        }
      }
    },
    "/voice-config": {
      "get": {
        "summary": "获取语音配置列表",
        "description": "获取所有语音配置的列表，支持分页、筛选和排序功能。返回包含VOS和SIP两种配置模式的完整信息。",
        "tags": [
          "语音配置管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer",
              "minimum": 10,
              "maximum": 100,
              "default": 20
            },
            "description": "每页数量"
          },
          {
            "in": "query",
            "name": "configType",
            "schema": {
              "type": "string",
              "enum": [
                "VOS",
                "SIP",
                "ALL"
              ],
              "default": "ALL"
            },
            "description": "配置类型筛选"
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string",
              "enum": [
                "active",
                "inactive",
                "all"
              ],
              "default": "all"
            },
            "description": "状态筛选"
          },
          {
            "in": "query",
            "name": "search",
            "schema": {
              "type": "string",
              "maxLength": 100
            },
            "description": "搜索关键词（配置名称或描述）"
          },
          {
            "in": "query",
            "name": "sortBy",
            "schema": {
              "type": "string",
              "enum": [
                "name",
                "configType",
                "status",
                "createdAt",
                "updatedAt"
              ],
              "default": "createdAt"
            },
            "description": "排序字段"
          },
          {
            "in": "query",
            "name": "sortOrder",
            "schema": {
              "type": "string",
              "enum": [
                "asc",
                "desc"
              ],
              "default": "desc"
            },
            "description": "排序方向"
          }
        ],
        "responses": {
          "200": {
            "description": "获取语音配置列表成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取语音配置列表成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "voiceConfigs": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/VoiceConfig"
                          }
                        },
                        "pagination": {
                          "$ref": "#/components/schemas/Pagination"
                        },
                        "statistics": {
                          "type": "object",
                          "properties": {
                            "totalConfigs": {
                              "type": "integer",
                              "example": 15
                            },
                            "activeConfigs": {
                              "type": "integer",
                              "example": 3
                            },
                            "vosConfigs": {
                              "type": "integer",
                              "example": 8
                            },
                            "sipConfigs": {
                              "type": "integer",
                              "example": 7
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "500": {
            "$ref": "#/components/responses/InternalError"
          }
        }
      },
      "post": {
        "summary": "创建语音配置",
        "description": "创建新的语音配置，支持VOS和SIP两种配置模式。创建后配置处于未激活状态，需要手动激活才能使用。",
        "tags": [
          "语音配置管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "name",
                  "configType",
                  "serverConfig"
                ],
                "properties": {
                  "name": {
                    "type": "string",
                    "maxLength": 100,
                    "example": "VOS主服务器配置",
                    "description": "配置名称（唯一）"
                  },
                  "description": {
                    "type": "string",
                    "maxLength": 500,
                    "example": "主要VOS服务器的语音配置，用于日常通话功能",
                    "description": "配置描述"
                  },
                  "configType": {
                    "type": "string",
                    "enum": [
                      "VOS",
                      "SIP"
                    ],
                    "example": "VOS",
                    "description": "配置类型"
                  },
                  "serverConfig": {
                    "type": "object",
                    "required": [
                      "serverUrl",
                      "serverPort",
                      "username",
                      "password"
                    ],
                    "properties": {
                      "serverUrl": {
                        "type": "string",
                        "format": "uri",
                        "example": "https://vos.example.com",
                        "description": "服务器地址"
                      },
                      "serverPort": {
                        "type": "integer",
                        "minimum": 1,
                        "maximum": 65535,
                        "example": 8080,
                        "description": "服务器端口"
                      },
                      "username": {
                        "type": "string",
                        "maxLength": 50,
                        "example": "admin",
                        "description": "服务器用户名"
                      },
                      "password": {
                        "type": "string",
                        "maxLength": 100,
                        "example": "secure_password",
                        "description": "服务器密码"
                      },
                      "domain": {
                        "type": "string",
                        "maxLength": 100,
                        "example": "sip.example.com",
                        "description": "SIP域名（SIP配置时需要）"
                      },
                      "realm": {
                        "type": "string",
                        "maxLength": 100,
                        "example": "example.com",
                        "description": "认证域"
                      },
                      "transport": {
                        "type": "string",
                        "enum": [
                          "UDP",
                          "TCP",
                          "TLS"
                        ],
                        "default": "UDP",
                        "description": "传输协议"
                      },
                      "timeout": {
                        "type": "integer",
                        "minimum": 1,
                        "maximum": 300,
                        "default": 30,
                        "description": "连接超时时间（秒）"
                      },
                      "retryCount": {
                        "type": "integer",
                        "minimum": 0,
                        "maximum": 10,
                        "default": 3,
                        "description": "重试次数"
                      }
                    }
                  },
                  "audioConfig": {
                    "type": "object",
                    "properties": {
                      "codec": {
                        "type": "string",
                        "enum": [
                          "G.711",
                          "G.722",
                          "G.729",
                          "Opus"
                        ],
                        "default": "G.711",
                        "description": "音频编码格式"
                      },
                      "sampleRate": {
                        "type": "integer",
                        "enum": [
                          8000,
                          16000,
                          48000
                        ],
                        "default": 8000,
                        "description": "采样率"
                      },
                      "bitrate": {
                        "type": "integer",
                        "minimum": 8,
                        "maximum": 128,
                        "default": 64,
                        "description": "比特率"
                      },
                      "echoCancellation": {
                        "type": "boolean",
                        "default": true,
                        "description": "回声消除"
                      },
                      "noiseReduction": {
                        "type": "boolean",
                        "default": true,
                        "description": "噪声抑制"
                      }
                    },
                    "description": "音频配置"
                  },
                  "isActive": {
                    "type": "boolean",
                    "default": false,
                    "description": "是否激活（创建时通常为false）"
                  },
                  "priority": {
                    "type": "integer",
                    "minimum": 1,
                    "maximum": 10,
                    "default": 5,
                    "description": "配置优先级"
                  },
                  "tags": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "maxLength": 30
                    },
                    "maxItems": 5,
                    "example": [
                      "primary",
                      "production"
                    ],
                    "description": "配置标签"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "创建语音配置成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "创建语音配置成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/VoiceConfig"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidationError"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "409": {
            "description": "配置名称已存在",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "配置名称已存在"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "field": {
                          "type": "string",
                          "example": "name"
                        },
                        "value": {
                          "type": "string",
                          "example": "VOS主服务器配置"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/InternalError"
          }
        }
      }
    },
    "/voice-config/stats": {
      "get": {
        "summary": "获取语音配置统计信息",
        "description": "获取语音配置系统的统计信息，包括配置数量、使用状态、类型分布等统计数据，用于仪表板展示和系统监控。",
        "tags": [
          "语音配置管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取语音配置统计信息成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取语音配置统计信息成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "totalConfigs": {
                          "type": "integer",
                          "example": 15,
                          "description": "总配置数量"
                        },
                        "activeConfigs": {
                          "type": "integer",
                          "example": 3,
                          "description": "激活的配置数量"
                        },
                        "inactiveConfigs": {
                          "type": "integer",
                          "example": 12,
                          "description": "未激活的配置数量"
                        },
                        "configTypes": {
                          "type": "object",
                          "properties": {
                            "VOS": {
                              "type": "integer",
                              "example": 8
                            },
                            "SIP": {
                              "type": "integer",
                              "example": 7
                            }
                          },
                          "description": "按类型分组的配置数量"
                        },
                        "recentActivity": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "action": {
                                "type": "string",
                                "example": "created"
                              },
                              "configName": {
                                "type": "string",
                                "example": "VOS主服务器配置"
                              },
                              "timestamp": {
                                "type": "string",
                                "format": "date-time"
                              },
                              "userId": {
                                "type": "string"
                              },
                              "userName": {
                                "type": "string"
                              }
                            }
                          },
                          "description": "最近的活动记录"
                        },
                        "healthStatus": {
                          "type": "object",
                          "properties": {
                            "healthyConfigs": {
                              "type": "integer",
                              "example": 2
                            },
                            "unhealthyConfigs": {
                              "type": "integer",
                              "example": 1
                            },
                            "unknownConfigs": {
                              "type": "integer",
                              "example": 0
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "500": {
            "$ref": "#/components/responses/InternalError"
          }
        }
      }
    },
    "/voice-config/active": {
      "get": {
        "summary": "获取当前激活的语音配置",
        "description": "获取当前系统激活使用的语音配置信息，用于实时语音通话功能的配置读取。",
        "tags": [
          "语音配置管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取当前激活配置成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取当前激活配置成功"
                    },
                    "data": {
                      "oneOf": [
                        {
                          "$ref": "#/components/schemas/VoiceConfig"
                        },
                        {
                          "type": "object",
                          "properties": {
                            "config": {
                              "type": "object",
                              "example": null
                            },
                            "message": {
                              "type": "string",
                              "example": "当前没有激活的语音配置"
                            }
                          }
                        }
                      ]
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "description": "未找到激活的配置",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "未找到激活的语音配置"
                    },
                    "data": {
                      "type": "object",
                      "example": null
                    }
                  }
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/InternalError"
          }
        }
      }
    },
    "/voice-config/{id}": {
      "get": {
        "summary": "获取语音配置详情",
        "description": "根据配置ID获取指定语音配置的详细信息，包括完整的配置参数、连接状态和使用统计。",
        "tags": [
          "语音配置管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "description": "语音配置ID"
          },
          {
            "in": "query",
            "name": "includeUsage",
            "schema": {
              "type": "boolean",
              "default": false
            },
            "description": "是否包含使用统计信息"
          },
          {
            "in": "query",
            "name": "includeHealth",
            "schema": {
              "type": "boolean",
              "default": false
            },
            "description": "是否包含健康检查信息"
          }
        ],
        "responses": {
          "200": {
            "description": "获取语音配置详情成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取语音配置详情成功"
                    },
                    "data": {
                      "allOf": [
                        {
                          "$ref": "#/components/schemas/VoiceConfig"
                        },
                        {
                          "type": "object",
                          "properties": {
                            "usageStatistics": {
                              "type": "object",
                              "properties": {
                                "totalCalls": {
                                  "type": "integer",
                                  "example": 1245
                                },
                                "successfulCalls": {
                                  "type": "integer",
                                  "example": 1198
                                },
                                "failedCalls": {
                                  "type": "integer",
                                  "example": 47
                                },
                                "averageCallDuration": {
                                  "type": "number",
                                  "format": "float",
                                  "example": 185.5
                                },
                                "lastUsedAt": {
                                  "type": "string",
                                  "format": "date-time"
                                }
                              }
                            },
                            "healthStatus": {
                              "type": "object",
                              "properties": {
                                "status": {
                                  "type": "string",
                                  "enum": [
                                    "healthy",
                                    "unhealthy",
                                    "unknown"
                                  ],
                                  "example": "healthy"
                                },
                                "lastCheckAt": {
                                  "type": "string",
                                  "format": "date-time"
                                },
                                "responseTime": {
                                  "type": "number",
                                  "format": "float",
                                  "example": 45.2
                                },
                                "errorMessage": {
                                  "type": "string",
                                  "example": null
                                }
                              }
                            }
                          }
                        }
                      ]
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "500": {
            "$ref": "#/components/responses/InternalError"
          }
        }
      },
      "put": {
        "summary": "更新语音配置",
        "description": "更新指定ID的语音配置信息。如果配置当前处于激活状态，更新后会自动重新加载配置。",
        "tags": [
          "语音配置管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "description": "语音配置ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "maxLength": 100,
                    "example": "更新后的配置名称",
                    "description": "配置名称"
                  },
                  "description": {
                    "type": "string",
                    "maxLength": 500,
                    "example": "更新后的配置描述",
                    "description": "配置描述"
                  },
                  "serverConfig": {
                    "type": "object",
                    "properties": {
                      "serverUrl": {
                        "type": "string",
                        "format": "uri",
                        "example": "https://new-vos.example.com"
                      },
                      "serverPort": {
                        "type": "integer",
                        "minimum": 1,
                        "maximum": 65535,
                        "example": 9080
                      },
                      "username": {
                        "type": "string",
                        "maxLength": 50,
                        "example": "new_admin"
                      },
                      "password": {
                        "type": "string",
                        "maxLength": 100,
                        "example": "new_secure_password"
                      },
                      "domain": {
                        "type": "string",
                        "maxLength": 100,
                        "example": "new-sip.example.com"
                      },
                      "realm": {
                        "type": "string",
                        "maxLength": 100,
                        "example": "new-example.com"
                      },
                      "transport": {
                        "type": "string",
                        "enum": [
                          "UDP",
                          "TCP",
                          "TLS"
                        ]
                      },
                      "timeout": {
                        "type": "integer",
                        "minimum": 1,
                        "maximum": 300,
                        "example": 60
                      },
                      "retryCount": {
                        "type": "integer",
                        "minimum": 0,
                        "maximum": 10,
                        "example": 5
                      }
                    },
                    "description": "服务器配置"
                  },
                  "audioConfig": {
                    "type": "object",
                    "properties": {
                      "codec": {
                        "type": "string",
                        "enum": [
                          "G.711",
                          "G.722",
                          "G.729",
                          "Opus"
                        ]
                      },
                      "sampleRate": {
                        "type": "integer",
                        "enum": [
                          8000,
                          16000,
                          48000
                        ]
                      },
                      "bitrate": {
                        "type": "integer",
                        "minimum": 8,
                        "maximum": 128
                      },
                      "echoCancellation": {
                        "type": "boolean"
                      },
                      "noiseReduction": {
                        "type": "boolean"
                      }
                    },
                    "description": "音频配置"
                  },
                  "priority": {
                    "type": "integer",
                    "minimum": 1,
                    "maximum": 10,
                    "example": 8,
                    "description": "配置优先级"
                  },
                  "tags": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "maxLength": 30
                    },
                    "maxItems": 5,
                    "example": [
                      "updated",
                      "test"
                    ],
                    "description": "配置标签"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新语音配置成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "更新语音配置成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/VoiceConfig"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidationError"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "409": {
            "description": "配置名称已存在",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "配置名称已存在"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/InternalError"
          }
        }
      },
      "delete": {
        "summary": "删除语音配置",
        "description": "删除指定的语音配置。如果配置当前处于激活状态，需要先停用才能删除。删除操作不可逆，请谨慎操作。",
        "tags": [
          "语音配置管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "description": "语音配置ID"
          },
          {
            "in": "query",
            "name": "force",
            "schema": {
              "type": "boolean",
              "default": false
            },
            "description": "是否强制删除（即使配置正在使用中）"
          }
        ],
        "responses": {
          "200": {
            "description": "删除语音配置成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "删除语音配置成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "deletedConfigId": {
                          "type": "integer",
                          "example": 1
                        },
                        "deletedConfigName": {
                          "type": "string",
                          "example": "测试配置"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "配置正在使用中，无法删除",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "配置当前激活，无法删除。请先停用配置。"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "configId": {
                          "type": "integer",
                          "example": 1
                        },
                        "isActive": {
                          "type": "boolean",
                          "example": true
                        },
                        "suggestion": {
                          "type": "string",
                          "example": "请先调用停用接口"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "500": {
            "$ref": "#/components/responses/InternalError"
          }
        }
      }
    },
    "/voice-config/{id}/toggle": {
      "post": {
        "summary": "激活/停用语音配置",
        "description": "切换语音配置的激活状态。激活配置时，系统会验证配置的可用性；停用配置时，会影响正在进行的通话。",
        "tags": [
          "语音配置管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "description": "语音配置ID"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "force": {
                    "type": "boolean",
                    "default": false,
                    "description": "是否强制切换（可能影响正在进行的通话）"
                  },
                  "reason": {
                    "type": "string",
                    "maxLength": 200,
                    "example": "系统维护需要切换配置",
                    "description": "切换原因"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "切换配置状态成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "语音配置已激活"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "configId": {
                          "type": "integer",
                          "example": 1
                        },
                        "configName": {
                          "type": "string",
                          "example": "VOS主服务器配置"
                        },
                        "oldStatus": {
                          "type": "string",
                          "enum": [
                            "active",
                            "inactive"
                          ],
                          "example": "inactive"
                        },
                        "newStatus": {
                          "type": "string",
                          "enum": [
                            "active",
                            "inactive"
                          ],
                          "example": "active"
                        },
                        "affectedCalls": {
                          "type": "integer",
                          "example": 0,
                          "description": "受影响的通话数量"
                        },
                        "switchTime": {
                          "type": "string",
                          "format": "date-time"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "配置切换失败",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "配置验证失败，无法激活"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "configId": {
                          "type": "integer",
                          "example": 1
                        },
                        "validationErrors": {
                          "type": "array",
                          "items": {
                            "type": "string",
                            "example": "服务器连接超时"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "409": {
            "description": "存在其他激活的配置",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "已存在激活的配置，请先停用其他配置"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "activeConfigId": {
                          "type": "integer",
                          "example": 2
                        },
                        "activeConfigName": {
                          "type": "string",
                          "example": "当前激活的配置"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/InternalError"
          }
        }
      }
    },
    "/voice-config/{id}/test": {
      "post": {
        "summary": "测试语音配置连接",
        "description": "测试指定语音配置的连接性和可用性。包括服务器连通性测试、认证验证、音频质量测试等。",
        "tags": [
          "语音配置管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "description": "语音配置ID"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "testType": {
                    "type": "string",
                    "enum": [
                      "connectivity",
                      "authentication",
                      "audio",
                      "full"
                    ],
                    "default": "full",
                    "description": "测试类型"
                  },
                  "timeout": {
                    "type": "integer",
                    "minimum": 5,
                    "maximum": 120,
                    "default": 30,
                    "description": "测试超时时间（秒）"
                  },
                  "testNumber": {
                    "type": "string",
                    "maxLength": 20,
                    "example": "13800138000",
                    "description": "测试电话号码（音频测试时使用）"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "测试完成",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "配置测试完成"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "configId": {
                          "type": "integer",
                          "example": 1
                        },
                        "testType": {
                          "type": "string",
                          "example": "full"
                        },
                        "overallStatus": {
                          "type": "string",
                          "enum": [
                            "success",
                            "failure",
                            "partial"
                          ],
                          "example": "success"
                        },
                        "testResults": {
                          "type": "object",
                          "properties": {
                            "connectivity": {
                              "type": "object",
                              "properties": {
                                "status": {
                                  "type": "string",
                                  "enum": [
                                    "success",
                                    "failure"
                                  ],
                                  "example": "success"
                                },
                                "responseTime": {
                                  "type": "number",
                                  "format": "float",
                                  "example": 45.2
                                },
                                "message": {
                                  "type": "string",
                                  "example": "服务器连接成功"
                                }
                              }
                            },
                            "authentication": {
                              "type": "object",
                              "properties": {
                                "status": {
                                  "type": "string",
                                  "enum": [
                                    "success",
                                    "failure"
                                  ],
                                  "example": "success"
                                },
                                "message": {
                                  "type": "string",
                                  "example": "认证验证成功"
                                }
                              }
                            },
                            "audio": {
                              "type": "object",
                              "properties": {
                                "status": {
                                  "type": "string",
                                  "enum": [
                                    "success",
                                    "failure",
                                    "skipped"
                                  ],
                                  "example": "success"
                                },
                                "quality": {
                                  "type": "string",
                                  "enum": [
                                    "excellent",
                                    "good",
                                    "fair",
                                    "poor"
                                  ],
                                  "example": "good"
                                },
                                "delay": {
                                  "type": "number",
                                  "format": "float",
                                  "example": 25.3
                                },
                                "packetLoss": {
                                  "type": "number",
                                  "format": "float",
                                  "example": 0.1
                                }
                              }
                            }
                          }
                        },
                        "recommendations": {
                          "type": "array",
                          "items": {
                            "type": "string",
                            "example": "建议将连接超时时间调整为60秒"
                          }
                        },
                        "testDuration": {
                          "type": "number",
                          "format": "float",
                          "example": 12.5,
                          "description": "测试耗时（秒）"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "测试参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidationError"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "408": {
            "description": "测试超时",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "测试超时，请检查网络连接"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "timeout": {
                          "type": "integer",
                          "example": 30
                        },
                        "elapsed": {
                          "type": "number",
                          "format": "float",
                          "example": 30.1
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/InternalError"
          }
        }
      }
    },
    "/voice-config/{id}/validate": {
      "post": {
        "summary": "验证语音配置",
        "description": "验证语音配置的参数有效性和完整性。检查服务器地址、端口、认证信息等配置是否正确，不进行实际连接测试。",
        "tags": [
          "语音配置管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "description": "语音配置ID"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "validateDeep": {
                    "type": "boolean",
                    "default": false,
                    "description": "是否进行深度验证（包括格式检查、参数范围等）"
                  },
                  "skipConnectivity": {
                    "type": "boolean",
                    "default": true,
                    "description": "是否跳过连接性检查"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "验证完成",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "配置验证通过"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "configId": {
                          "type": "integer",
                          "example": 1
                        },
                        "validationStatus": {
                          "type": "string",
                          "enum": [
                            "valid",
                            "invalid",
                            "warning"
                          ],
                          "example": "valid"
                        },
                        "validationResults": {
                          "type": "object",
                          "properties": {
                            "serverConfig": {
                              "type": "object",
                              "properties": {
                                "status": {
                                  "type": "string",
                                  "enum": [
                                    "valid",
                                    "invalid",
                                    "warning"
                                  ],
                                  "example": "valid"
                                },
                                "checks": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "properties": {
                                      "field": {
                                        "type": "string",
                                        "example": "serverUrl"
                                      },
                                      "status": {
                                        "type": "string",
                                        "enum": [
                                          "valid",
                                          "invalid",
                                          "warning"
                                        ],
                                        "example": "valid"
                                      },
                                      "message": {
                                        "type": "string",
                                        "example": "URL格式正确"
                                      }
                                    }
                                  }
                                }
                              }
                            },
                            "audioConfig": {
                              "type": "object",
                              "properties": {
                                "status": {
                                  "type": "string",
                                  "enum": [
                                    "valid",
                                    "invalid",
                                    "warning"
                                  ],
                                  "example": "valid"
                                },
                                "checks": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "properties": {
                                      "field": {
                                        "type": "string",
                                        "example": "codec"
                                      },
                                      "status": {
                                        "type": "string",
                                        "enum": [
                                          "valid",
                                          "invalid",
                                          "warning"
                                        ],
                                        "example": "valid"
                                      },
                                      "message": {
                                        "type": "string",
                                        "example": "编码格式支持"
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          }
                        },
                        "warnings": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "field": {
                                "type": "string",
                                "example": "timeout"
                              },
                              "message": {
                                "type": "string",
                                "example": "超时时间较短，可能影响稳定性"
                              },
                              "suggestion": {
                                "type": "string",
                                "example": "建议设置为60秒以上"
                              }
                            }
                          },
                          "example": []
                        },
                        "errors": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "field": {
                                "type": "string",
                                "example": "password"
                              },
                              "message": {
                                "type": "string",
                                "example": "密码不能为空"
                              },
                              "suggestion": {
                                "type": "string",
                                "example": "请提供有效的认证密码"
                              }
                            }
                          },
                          "example": []
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "验证参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidationError"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "500": {
            "$ref": "#/components/responses/InternalError"
          }
        }
      }
    },
    "/api/website-automation/tasks": {
      "get": {
        "summary": "获取所有自动化任务",
        "description": "获取所有网站自动化任务列表",
        "tags": [
          "网站自动化"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      },
      "post": {
        "summary": "创建自动化任务",
        "description": "创建新的网站自动化任务",
        "tags": [
          "网站自动化"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "name",
                  "url",
                  "steps"
                ],
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "任务名称"
                  },
                  "url": {
                    "type": "string",
                    "format": "uri",
                    "description": "目标URL"
                  },
                  "steps": {
                    "type": "array",
                    "items": {
                      "type": "object"
                    },
                    "description": "自动化步骤"
                  },
                  "config": {
                    "type": "object",
                    "description": "任务配置"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "创建成功"
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/website-automation/tasks/{id}": {
      "put": {
        "summary": "更新自动化任务",
        "description": "更新指定的自动化任务",
        "tags": [
          "网站自动化"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "url": {
                    "type": "string",
                    "format": "uri"
                  },
                  "steps": {
                    "type": "array",
                    "items": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新成功"
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      },
      "delete": {
        "summary": "删除自动化任务",
        "description": "删除指定的自动化任务",
        "tags": [
          "网站自动化"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/website-automation/tasks/{id}/execute": {
      "post": {
        "summary": "执行自动化任务",
        "description": "执行指定的自动化任务",
        "tags": [
          "网站自动化"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "执行成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/website-automation/tasks/{id}/stop": {
      "post": {
        "summary": "停止自动化任务",
        "description": "停止正在执行的自动化任务",
        "tags": [
          "网站自动化"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "停止成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/website-automation/tasks/{id}/history": {
      "get": {
        "summary": "获取任务执行历史",
        "description": "获取指定任务的执行历史记录",
        "tags": [
          "网站自动化"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/website-automation/templates": {
      "get": {
        "summary": "获取所有模板",
        "description": "获取所有自动化任务模板",
        "tags": [
          "网站自动化"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      },
      "post": {
        "summary": "创建模板",
        "description": "创建新的自动化任务模板",
        "tags": [
          "网站自动化"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "name",
                  "category",
                  "complexity",
                  "steps"
                ],
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "category": {
                    "type": "string",
                    "enum": [
                      "web",
                      "form",
                      "data",
                      "test",
                      "custom"
                    ]
                  },
                  "complexity": {
                    "type": "string",
                    "enum": [
                      "simple",
                      "medium",
                      "complex"
                    ]
                  },
                  "steps": {
                    "type": "array",
                    "items": {
                      "type": "object"
                    }
                  },
                  "parameters": {
                    "type": "array",
                    "items": {
                      "type": "object"
                    }
                  },
                  "config": {
                    "type": "object"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "创建成功"
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/website-automation/templates/{id}": {
      "put": {
        "summary": "更新模板",
        "description": "更新指定的自动化任务模板",
        "tags": [
          "网站自动化"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "category": {
                    "type": "string",
                    "enum": [
                      "web",
                      "form",
                      "data",
                      "test",
                      "custom"
                    ]
                  },
                  "complexity": {
                    "type": "string",
                    "enum": [
                      "simple",
                      "medium",
                      "complex"
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新成功"
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      },
      "delete": {
        "summary": "删除模板",
        "description": "删除指定的自动化任务模板",
        "tags": [
          "网站自动化"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "删除成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/website-automation/templates/{templateId}/create-task": {
      "post": {
        "summary": "从模板创建任务",
        "description": "基于模板创建新的自动化任务",
        "tags": [
          "网站自动化"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "templateId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "required": false,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "parameters": {
                    "type": "object"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "创建成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/website-automation/screenshot": {
      "post": {
        "summary": "截取网页截图",
        "description": "截取指定URL的网页截图",
        "tags": [
          "网站自动化"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "url"
                ],
                "properties": {
                  "url": {
                    "type": "string",
                    "format": "uri"
                  },
                  "options": {
                    "type": "object"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "截图成功"
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/website-automation/analyze": {
      "post": {
        "summary": "分析页面元素",
        "description": "分析网页的页面元素",
        "tags": [
          "网站自动化"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "url"
                ],
                "properties": {
                  "url": {
                    "type": "string",
                    "format": "uri"
                  },
                  "screenshot": {
                    "type": "string"
                  },
                  "config": {
                    "type": "object"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "分析成功"
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/website-automation/find-element": {
      "post": {
        "summary": "查找页面元素",
        "description": "根据描述查找页面元素",
        "tags": [
          "网站自动化"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "url",
                  "description"
                ],
                "properties": {
                  "url": {
                    "type": "string",
                    "format": "uri"
                  },
                  "description": {
                    "type": "string"
                  },
                  "screenshot": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "查找成功"
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/website-automation/statistics": {
      "get": {
        "summary": "获取统计数据",
        "description": "获取网站自动化的统计数据",
        "tags": [
          "网站自动化"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          }
        }
      }
    },
    "/api/v1/ai/analytics/overview": {
      "get": {
        "summary": "获取AI使用概览",
        "description": "获取指定时间范围内的AI使用总览数据，包括请求数、Token使用量、费用和用户活跃度等关键指标",
        "tags": [
          "AI分析统计"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "开始日期 (YYYY-MM-DD格式)",
            "example": "2024-01-01"
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "结束日期 (YYYY-MM-DD格式)",
            "example": "2024-01-31"
          },
          {
            "in": "query",
            "name": "includeUserDetails",
            "schema": {
              "type": "boolean",
              "default": false
            },
            "description": "是否包含用户级别的详细数据"
          },
          {
            "in": "query",
            "name": "granularity",
            "schema": {
              "type": "string",
              "enum": [
                "hour",
                "day",
                "week",
                "month"
              ],
              "default": "day"
            },
            "description": "数据粒度"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取AI使用概览数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "获取AI使用概览成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/AnalyticsOverview"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/v1/ai/analytics/models/distribution": {
      "get": {
        "summary": "获取AI模型使用分布",
        "description": "获取指定时间范围内各AI模型的使用分布统计，包括请求次数、Token消耗、费用分析和用户使用模式",
        "tags": [
          "AI分析统计"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "开始日期 (YYYY-MM-DD格式)",
            "example": "2024-01-01"
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "结束日期 (YYYY-MM-DD格式)",
            "example": "2024-01-31"
          },
          {
            "in": "query",
            "name": "provider",
            "schema": {
              "type": "string",
              "enum": [
                "all",
                "openai",
                "anthropic",
                "doubao",
                "zhipu"
              ],
              "default": "all"
            },
            "description": "按AI提供商筛选"
          },
          {
            "in": "query",
            "name": "groupBy",
            "schema": {
              "type": "string",
              "enum": [
                "model",
                "provider",
                "userRole",
                "department"
              ],
              "default": "model"
            },
            "description": "分组方式"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取模型使用分布数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "获取模型使用分布成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/ModelUsageDistribution"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/v1/ai/analytics/activity/trend": {
      "get": {
        "summary": "获取用户活跃度趋势",
        "description": "分析指定时间范围内用户对AI功能的使用活跃度趋势，包括新增用户、活跃用户、会话时长等关键指标",
        "tags": [
          "AI分析统计"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "timeRange",
            "schema": {
              "type": "string",
              "enum": [
                "day",
                "week",
                "month",
                "quarter",
                "year"
              ]
            },
            "description": "时间范围类型",
            "example": "month"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 365,
              "default": 30
            },
            "description": "返回的数据点数量限制",
            "example": 30
          },
          {
            "in": "query",
            "name": "userRole",
            "schema": {
              "type": "string",
              "enum": [
                "all",
                "teacher",
                "parent",
                "admin",
                "principal"
              ],
              "default": "all"
            },
            "description": "按用户角色筛选"
          },
          {
            "in": "query",
            "name": "includePredictions",
            "schema": {
              "type": "boolean",
              "default": false
            },
            "description": "是否包含预测数据"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取用户活跃度趋势数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "获取用户活跃度趋势成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/UserActivityTrend"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/v1/ai/analytics/user/{userId}": {
      "get": {
        "summary": "获取特定用户AI使用分析",
        "description": "获取指定用户的详细AI使用分析，包括使用模式、偏好模型、行为特征和效率指标等个人化数据",
        "tags": [
          "AI分析统计"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "userId",
            "required": true,
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "description": "目标用户ID",
            "example": 123
          },
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "开始日期 (YYYY-MM-DD格式)",
            "example": "2024-01-01"
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "结束日期 (YYYY-MM-DD格式)",
            "example": "2024-01-31"
          },
          {
            "in": "query",
            "name": "includeTimeline",
            "schema": {
              "type": "boolean",
              "default": true
            },
            "description": "是否包含详细的时间线数据"
          },
          {
            "in": "query",
            "name": "includeComparison",
            "schema": {
              "type": "boolean",
              "default": false
            },
            "description": "是否包含与同类型用户的对比数据"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取用户AI使用分析数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "获取用户AI使用分析成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/UserAnalytics"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/v1/ai/analytics/content": {
      "get": {
        "summary": "获取AI内容生成分析",
        "description": "分析AI生成的内容数据，包括内容类型分布、质量评估、热门话题和效果评估等维度",
        "tags": [
          "AI分析统计"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "开始日期 (YYYY-MM-DD格式)",
            "example": "2024-01-01"
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "结束日期 (YYYY-MM-DD格式)",
            "example": "2024-01-31"
          },
          {
            "in": "query",
            "name": "contentType",
            "schema": {
              "type": "string",
              "enum": [
                "all",
                "activity_planning",
                "lesson_preparation",
                "parent_communication",
                "assessment",
                "administrative"
              ],
              "default": "all"
            },
            "description": "内容类型筛选"
          },
          {
            "in": "query",
            "name": "includeQualityMetrics",
            "schema": {
              "type": "boolean",
              "default": true
            },
            "description": "是否包含质量指标"
          },
          {
            "in": "query",
            "name": "includeTrendingTopics",
            "schema": {
              "type": "boolean",
              "default": true
            },
            "description": "是否包含热门话题分析"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取内容分析数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "获取AI内容分析成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/ContentAnalytics"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/v1/ai/analytics/report": {
      "post": {
        "summary": "生成AI分析报表",
        "description": "根据指定参数生成综合性的AI使用分析报表，支持多种格式和自定义指标",
        "tags": [
          "AI分析统计"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AnalyticsReportRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "成功生成AI分析报表",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "AI分析报表生成成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/AnalyticsReport"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/v1/ai/analytics/dashboard": {
      "get": {
        "summary": "获取AI分析仪表板数据",
        "description": "获取AI功能使用情况的仪表板数据，包含今日概览、本周统计、本月趋势和关键图表",
        "tags": [
          "AI分析统计"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "timeRange",
            "schema": {
              "type": "string",
              "enum": [
                "today",
                "week",
                "month",
                "quarter"
              ],
              "default": "week"
            },
            "description": "时间范围",
            "example": "week"
          },
          {
            "in": "query",
            "name": "refreshRate",
            "schema": {
              "type": "integer",
              "enum": [
                0,
                5,
                15,
                30,
                60
              ],
              "default": 0
            },
            "description": "数据刷新频率(分钟)，0表示手动刷新"
          },
          {
            "in": "query",
            "name": "includeAlerts",
            "schema": {
              "type": "boolean",
              "default": true
            },
            "description": "是否包含系统告警信息"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取仪表板数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "获取仪表板数据成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/DashboardData"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/v1/ai/analytics/predictive-analytics": {
      "get": {
        "summary": "获取AI预测分析数据",
        "description": "基于历史数据和机器学习模型生成预测分析，包括招生预测、收入预测、流失预测和满意度预测等",
        "tags": [
          "AI分析统计"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "type",
            "schema": {
              "type": "string",
              "enum": [
                "all",
                "enrollment",
                "revenue",
                "churn",
                "satisfaction"
              ],
              "default": "all"
            },
            "description": "预测类型",
            "example": "all"
          },
          {
            "in": "query",
            "name": "timeRange",
            "schema": {
              "type": "string",
              "enum": [
                "month",
                "quarter",
                "year"
              ],
              "default": "quarter"
            },
            "description": "预测时间范围",
            "example": "quarter"
          },
          {
            "in": "query",
            "name": "confidence",
            "schema": {
              "type": "number",
              "minimum": 0,
              "maximum": 1,
              "default": 0.8
            },
            "description": "最小置信度阈值"
          },
          {
            "in": "query",
            "name": "includeRecommendations",
            "schema": {
              "type": "boolean",
              "default": true
            },
            "description": "是否包含AI生成的建议"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取预测分析数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "获取预测分析数据成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/PredictiveAnalytics"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/v1/ai/analytics/predictive-analytics/refresh": {
      "post": {
        "summary": "刷新AI预测分析数据",
        "description": "手动触发预测模型重新训练和数据刷新，获取最新的预测结果",
        "tags": [
          "AI分析统计"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "forceRetraining": {
                    "type": "boolean",
                    "default": false,
                    "description": "是否强制重新训练模型"
                  },
                  "predictionTypes": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "enum": [
                        "enrollment",
                        "revenue",
                        "churn",
                        "satisfaction"
                      ]
                    },
                    "description": "指定要刷新的预测类型"
                  },
                  "lookbackPeriod": {
                    "type": "integer",
                    "minimum": 30,
                    "maximum": 365,
                    "default": 90,
                    "description": "历史数据回溯天数"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "预测分析数据刷新成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "预测分析数据刷新成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "refreshedAt": {
                          "type": "string",
                          "format": "date-time",
                          "description": "刷新时间"
                        },
                        "updatedModels": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          },
                          "description": "已更新的预测模型列表"
                        },
                        "nextAutoRefresh": {
                          "type": "string",
                          "format": "date-time",
                          "description": "下次自动刷新时间"
                        },
                        "modelAccuracy": {
                          "type": "object",
                          "additionalProperties": {
                            "type": "number",
                            "description": "各模型的准确率"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          },
          "503": {
            "description": "预测模型训练中，请稍后重试",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 503
                    },
                    "message": {
                      "type": "string",
                      "example": "预测模型正在训练中"
                    },
                    "retryAfter": {
                      "type": "integer",
                      "description": "建议重试间隔（秒）"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/ai/analytics/predictive-analytics/export": {
      "post": {
        "summary": "导出AI预测分析报告",
        "description": "将预测分析结果导出为不同格式的专业报告，支持数据可视化和详细分析说明",
        "tags": [
          "AI分析统计"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "format": {
                    "type": "string",
                    "enum": [
                      "json",
                      "excel",
                      "pdf"
                    ],
                    "default": "pdf",
                    "description": "导出格式"
                  },
                  "includeCharts": {
                    "type": "boolean",
                    "default": true,
                    "description": "是否包含图表"
                  },
                  "includeRawData": {
                    "type": "boolean",
                    "default": false,
                    "description": "是否包含原始数据"
                  },
                  "predictionTypes": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "enum": [
                        "enrollment",
                        "revenue",
                        "churn",
                        "satisfaction"
                      ]
                    },
                    "description": "要导出的预测类型"
                  },
                  "timeRange": {
                    "type": "string",
                    "enum": [
                      "month",
                      "quarter",
                      "year"
                    ],
                    "default": "quarter",
                    "description": "预测时间范围"
                  },
                  "language": {
                    "type": "string",
                    "enum": [
                      "zh",
                      "en"
                    ],
                    "default": "zh",
                    "description": "报告语言"
                  }
                },
                "required": [
                  "format"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "预测分析报告导出成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "预测分析报告导出成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "exportId": {
                          "type": "string",
                          "format": "uuid",
                          "description": "导出任务ID"
                        },
                        "downloadUrl": {
                          "type": "string",
                          "format": "uri",
                          "description": "下载链接"
                        },
                        "expiresAt": {
                          "type": "string",
                          "format": "date-time",
                          "description": "链接过期时间"
                        },
                        "fileSize": {
                          "type": "integer",
                          "description": "文件大小（字节）"
                        },
                        "format": {
                          "type": "string",
                          "description": "文件格式"
                        },
                        "generatedAt": {
                          "type": "string",
                          "format": "date-time",
                          "description": "生成时间"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "429": {
            "description": "导出请求过于频繁",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 429
                    },
                    "message": {
                      "type": "string",
                      "example": "导出请求过于频繁，请稍后重试"
                    },
                    "retryAfter": {
                      "type": "integer",
                      "description": "建议重试间隔（秒）"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/v1/ai/auth/map-user": {
      "post": {
        "summary": "获取或创建用户关联",
        "tags": [
          "Auth"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "用户关联信息",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AIUserRelation"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/ai/auth/permissions": {
      "get": {
        "summary": "获取用户权限",
        "tags": [
          "Auth"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "用户权限列表",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AIUserPermissions"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/ai/conversations": {
      "get": {
        "summary": "获取会话列表",
        "description": "获取当前用户的所有会话列表，支持分页和归档状态过滤",
        "tags": [
          "AI会话"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer",
              "default": 10
            },
            "description": "每页条数"
          },
          {
            "in": "query",
            "name": "isArchived",
            "schema": {
              "type": "boolean"
            },
            "description": "是否归档，不传则返回所有状态的会话"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取会话列表",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConversationListResponse"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "500": {
            "$ref": "#/components/responses/ServerError"
          }
        }
      },
      "post": {
        "summary": "创建新会话",
        "description": "创建一个新的AI会话",
        "tags": [
          "AI会话"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": false,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "title": {
                    "type": "string",
                    "description": "会话标题，可选",
                    "example": "教学计划讨论"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "会话创建成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Conversation"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "500": {
            "$ref": "#/components/responses/ServerError"
          }
        }
      }
    },
    "/api/v1/ai/conversations/{id}": {
      "get": {
        "summary": "获取单个会话详情",
        "description": "根据ID获取特定会话的详细信息",
        "tags": [
          "AI会话"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "会话ID"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取会话详情",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Conversation"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "500": {
            "$ref": "#/components/responses/ServerError"
          }
        }
      },
      "patch": {
        "summary": "更新会话",
        "description": "更新现有会话的标题、归档状态等信息",
        "tags": [
          "AI会话"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "会话ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "title": {
                    "type": "string",
                    "description": "新的会话标题"
                  },
                  "isArchived": {
                    "type": "boolean",
                    "description": "是否归档"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "会话更新成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Conversation"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "500": {
            "$ref": "#/components/responses/ServerError"
          }
        }
      },
      "delete": {
        "summary": "删除会话",
        "description": "永久删除指定ID的会话及其相关的消息记录",
        "tags": [
          "AI会话"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "会话ID"
          }
        ],
        "responses": {
          "204": {
            "description": "会话删除成功"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "500": {
            "$ref": "#/components/responses/ServerError"
          }
        }
      }
    },
    "/api/v1/ai/feedback": {
      "post": {
        "summary": "提交反馈",
        "description": "提交用户对AI系统的反馈信息",
        "tags": [
          "AI反馈"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "feedbackType",
                  "sourceType",
                  "content"
                ],
                "properties": {
                  "feedbackType": {
                    "type": "string",
                    "enum": [
                      "general",
                      "response",
                      "suggestion",
                      "bug",
                      "feature"
                    ],
                    "description": "反馈类型",
                    "example": "suggestion"
                  },
                  "sourceType": {
                    "type": "string",
                    "enum": [
                      "conversation",
                      "message",
                      "application",
                      "system"
                    ],
                    "description": "反馈来源类型",
                    "example": "conversation"
                  },
                  "sourceId": {
                    "type": "string",
                    "nullable": true,
                    "description": "反馈来源ID（如会话ID、消息ID）",
                    "example": "conv-12345-abcde"
                  },
                  "content": {
                    "type": "string",
                    "description": "反馈内容",
                    "example": "希望能增加更多的模型选择"
                  },
                  "rating": {
                    "type": "integer",
                    "minimum": 1,
                    "maximum": 5,
                    "nullable": true,
                    "description": "反馈评分（1-5分）",
                    "example": 4
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "反馈提交成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Feedback"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 400
                    },
                    "message": {
                      "type": "string",
                      "example": "反馈类型、来源和内容不能为空"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "500": {
            "$ref": "#/components/responses/ServerError"
          }
        }
      }
    },
    "/api/ai/function-tools/execute": {
      "post": {
        "summary": "执行Function Calls",
        "description": "批量执行AI功能工具调用，支持多种工具的协同工作",
        "tags": [
          "AI工具管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FunctionCallRequest"
              },
              "examples": {
                "simple_query": {
                  "summary": "简单数据查询",
                  "value": {
                    "function_calls": [
                      {
                        "name": "any_query",
                        "arguments": {
                          "userQuery": "查询最近10个活动",
                          "queryType": "detailed"
                        }
                      }
                    ],
                    "conversation_id": 123
                  }
                },
                "complex_workflow": {
                  "summary": "复杂工作流",
                  "value": {
                    "function_calls": [
                      {
                        "name": "analyze_task_complexity",
                        "arguments": {
                          "task": "创建新活动并生成海报"
                        }
                      },
                      {
                        "name": "create_todo_list",
                        "arguments": {
                          "title": "活动创建工作流",
                          "tasks": [
                            "分析需求",
                            "创建活动",
                            "设计海报",
                            "配置营销"
                          ]
                        }
                      }
                    ],
                    "conversation_id": 456,
                    "user_id": 789
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "函数执行成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FunctionCallResult"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "msg": {
                            "type": "string",
                            "example": "function_calls必须是数组"
                          },
                          "param": {
                            "type": "string",
                            "example": "function_calls"
                          },
                          "location": {
                            "type": "string",
                            "example": "body"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "未授权访问"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "执行失败"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/ai/function-tools/available-tools": {
      "get": {
        "summary": "获取可用工具列表",
        "description": "根据用户角色权限返回当前可用的AI功能工具列表",
        "tags": [
          "AI工具管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取工具列表成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/ToolCategory"
                    },
                    "metadata": {
                      "type": "object",
                      "properties": {
                        "user_role": {
                          "type": "string",
                          "description": "用户角色",
                          "example": "teacher"
                        },
                        "total_tools": {
                          "type": "integer",
                          "description": "可用工具总数",
                          "example": 25
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "未授权访问"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "获取失败"
                    }
                  }
                }
              }
            }
          }
        },
        "example": {
          "summary": "教师角色获取工具列表",
          "value": {
            "success": true,
            "data": {
              "database_query": [
                {
                  "name": "any_query",
                  "description": "智能自然语言查询 - 支持所有数据查询",
                  "category": "database"
                }
              ],
              "page_operation": [
                {
                  "name": "capture_screen",
                  "description": "截取页面截图查看当前状态",
                  "category": "page_operation"
                }
              ],
              "business_operation": [],
              "activity_workflow": [
                {
                  "name": "generate_complete_activity_plan",
                  "description": "🎯 智能生成完整活动方案（含海报设计和营销策略）",
                  "category": "workflow",
                  "requiredRole": [
                    "admin",
                    "principal",
                    "teacher"
                  ]
                }
              ]
            },
            "metadata": {
              "user_role": "teacher",
              "total_tools": 20
            }
          }
        }
      }
    },
    "/api/ai/function-tools/smart-chat": {
      "post": {
        "summary": "AI智能聊天接口",
        "description": "支持多轮工具调用的智能聊天接口，可自动执行复杂工作流",
        "tags": [
          "AI工具管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SmartChatRequest"
              },
              "examples": {
                "simple_question": {
                  "summary": "简单问答",
                  "value": {
                    "messages": [
                      {
                        "role": "user",
                        "content": "查询最近10个活动的基本信息"
                      }
                    ],
                    "conversation_id": 123,
                    "max_iterations": 3
                  }
                },
                "complex_workflow": {
                  "summary": "复杂工作流",
                  "value": {
                    "messages": [
                      {
                        "role": "user",
                        "content": "帮我创建一个春游活动，包括活动策划、海报设计和营销推广"
                      }
                    ],
                    "conversation_id": 456,
                    "max_iterations": 12
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "智能对话成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SmartChatResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "消息格式错误"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "服务暂时不可用"
                    },
                    "message": {
                      "type": "string",
                      "example": "抱歉，Function-tools暂时无法为您提供服务。请稍后重试或联系技术支持。"
                    }
                  }
                }
              }
            }
          }
        },
        "example": {
          "summary": "创建活动工作流响应示例",
          "value": {
            "success": true,
            "data": {
              "message": "已为您完成春游活动的创建，包括活动信息录入、海报设计和营销推广配置。活动已成功创建，您可以在活动列表中查看详情。",
              "conversation_id": "1647892345678",
              "model_used": "gpt-3.5-turbo",
              "usage": {
                "prompt_tokens": 150,
                "completion_tokens": 200,
                "total_tokens": 350
              },
              "iterations": 8,
              "conversation_history": [
                {
                  "iteration": 1,
                  "ai_response": "我来帮您创建春游活动...",
                  "tool_calls": [
                    {
                      "id": "call_123",
                      "function": {
                        "name": "analyze_task_complexity",
                        "arguments": "{\"task\": \"创建春游活动\"}"
                      }
                    }
                  ]
                },
                {
                  "iteration": 2,
                  "ai_response": "根据分析，这是一个复杂任务，我需要...",
                  "tool_results": [
                    "..."
                  ]
                }
              ],
              "final_response": true
            }
          }
        }
      }
    },
    "/api/ai/test-ai-routes": {
      "get": {
        "summary": "AI路由测试接口",
        "description": "测试AI模块的路由是否正常工作",
        "tags": [
          "AI测试"
        ],
        "responses": {
          "200": {
            "description": "路由测试成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "description": "测试消息",
                      "example": "AI routes working!"
                    },
                    "timestamp": {
                      "type": "string",
                      "format": "date-time",
                      "description": "时间戳",
                      "example": "2025-07-13T10:00:00.000Z"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/ai/conversations/{conversationId}/messages": {
      "get": {
        "summary": "获取会话消息列表",
        "description": "获取指定会话的所有消息列表，支持分页查询和多种过滤选项。\n按时间倒序返回消息，最新消息在前。\n\n**业务场景：**\n- 加载会话历史记录\n- 分页浏览长会话内容\n- 按消息类型筛选显示\n- 按状态筛选消息\n\n**权限控制：**\n- 用户只能访问自己创建的会话消息\n- 支持管理员查看所有会话消息\n",
        "tags": [
          "AI消息管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "conversationId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "会话唯一标识符",
            "example": "550e8400-e29b-41d4-a716-446655440000"
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            },
            "description": "页码，从1开始",
            "example": 1
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 20
            },
            "description": "每页消息数量，最大100条",
            "example": 20
          },
          {
            "in": "query",
            "name": "messageType",
            "schema": {
              "type": "string",
              "enum": [
                "text",
                "image",
                "audio",
                "video",
                "file",
                "system"
              ]
            },
            "description": "按消息类型过滤",
            "example": "text"
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string",
              "enum": [
                "sending",
                "sent",
                "delivered",
                "read",
                "failed"
              ]
            },
            "description": "按消息状态过滤",
            "example": "sent"
          },
          {
            "in": "query",
            "name": "role",
            "schema": {
              "type": "string",
              "enum": [
                "user",
                "assistant",
                "system"
              ]
            },
            "description": "按发送者角色过滤",
            "example": "user"
          },
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "description": "开始时间过滤（ISO 8601格式）",
            "example": "2023-12-01T00:00:00Z"
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "description": "结束时间过滤（ISO 8601格式）",
            "example": "2023-12-31T23:59:59Z"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取消息列表",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MessageListResponse"
                },
                "example": {
                  "success": true,
                  "data": {
                    "messages": [
                      {
                        "id": 123,
                        "conversationId": "550e8400-e29b-41d4-a716-446655440000",
                        "role": "user",
                        "content": "你好，我想了解AI的知识",
                        "messageType": "text",
                        "status": "sent",
                        "metadata": {
                          "tokenCount": 25,
                          "streaming": false
                        },
                        "createdAt": "2023-12-01T10:00:00Z",
                        "updatedAt": "2023-12-01T10:00:00Z"
                      },
                      {
                        "id": 124,
                        "conversationId": "550e8400-e29b-41d4-a716-446655440000",
                        "role": "assistant",
                        "content": "您好！我很高兴为您介绍AI相关的知识...",
                        "messageType": "text",
                        "status": "delivered",
                        "metadata": {
                          "tokenCount": 180,
                          "model": "gpt-4",
                          "streaming": false
                        },
                        "createdAt": "2023-12-01T10:00:05Z",
                        "updatedAt": "2023-12-01T10:00:05Z"
                      }
                    ],
                    "pagination": {
                      "page": 1,
                      "pageSize": 20,
                      "total": 45,
                      "totalPages": 3
                    }
                  },
                  "message": "获取消息列表成功"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "404": {
            "description": "会话不存在或无权访问",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "error": "指定的会话不存在或您没有权限访问",
                  "code": 404
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/ServerError"
          }
        }
      },
      "post": {
        "summary": "创建新消息",
        "description": "在指定会话中创建一条新消息。支持多种消息类型和状态管理。\n\n**业务场景：**\n- 用户发送问题到AI助手\n- AI助手回复用户消息\n- 系统发送通知消息\n- 支持流式和非流式消息创建\n- 支持附件上传（图片、文件等）\n\n**权限控制：**\n- 用户只能在自己的会话中创建消息\n- system角色消息需要管理员权限\n- 流式消息需要特殊权限\n",
        "tags": [
          "AI消息管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "conversationId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "会话唯一标识符",
            "example": "550e8400-e29b-41d4-a716-446655440000"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateMessageRequest"
              },
              "examples": {
                "basicTextMessage": {
                  "summary": "基本文本消息",
                  "value": {
                    "role": "user",
                    "content": "请帮我解释一下机器学习的基本概念",
                    "messageType": "text"
                  }
                },
                "messageWithAttachment": {
                  "summary": "带附件的消息",
                  "value": {
                    "role": "user",
                    "content": "请分析这张图片",
                    "messageType": "image",
                    "metadata": {
                      "attachments": [
                        {
                          "type": "image",
                          "url": "https://example.com/image.jpg",
                          "name": "分析图片.jpg"
                        }
                      ]
                    }
                  }
                },
                "streamingMessage": {
                  "summary": "流式消息",
                  "value": {
                    "role": "assistant",
                    "content": "我来为您详细解释...",
                    "messageType": "text",
                    "metadata": {
                      "streaming": true,
                      "model": "gpt-4"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "消息创建成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/Message"
                    },
                    "message": {
                      "type": "string",
                      "example": "消息创建成功"
                    }
                  }
                },
                "example": {
                  "success": true,
                  "data": {
                    "id": 125,
                    "conversationId": "550e8400-e29b-41d4-a716-446655440000",
                    "role": "user",
                    "content": "请帮我解释一下机器学习的基本概念",
                    "messageType": "text",
                    "status": "sent",
                    "metadata": {
                      "tokenCount": 35,
                      "streaming": false
                    },
                    "createdAt": "2023-12-01T10:05:00Z",
                    "updatedAt": "2023-12-01T10:05:00Z"
                  },
                  "message": "消息创建成功"
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/ValidationError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "error": "您没有权限在此会话中创建system类型消息",
                  "code": 403
                }
              }
            }
          },
          "404": {
            "description": "会话不存在",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "error": "指定的会话不存在",
                  "code": 404
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/ServerError"
          }
        }
      }
    },
    "/api/v1/ai/conversations/{conversationId}/messages/{messageId}/metadata": {
      "patch": {
        "summary": "更新消息元数据",
        "description": "合并更新指定消息的metadata字段，支持添加或修改消息的扩展信息。\n\n**业务场景：**\n- 更新消息的token消耗统计\n- 记录消息处理使用的AI模型\n- 添加消息相关的分析数据\n- 更新消息的处理状态\n- 添加自定义标签和分类\n\n**权限控制：**\n- 用户只能更新自己会话中的消息元数据\n- 管理员可以更新所有消息的元数据\n- 系统关键字段需要特殊权限\n",
        "tags": [
          "AI消息管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "conversationId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "会话唯一标识符",
            "example": "550e8400-e29b-41d4-a716-446655440000"
          },
          {
            "in": "path",
            "name": "messageId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "消息唯一标识符",
            "example": 123
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateMetadataRequest"
              },
              "examples": {
                "updateTokenCount": {
                  "summary": "更新token统计",
                  "value": {
                    "metadata": {
                      "tokenCount": 150,
                      "model": "gpt-4",
                      "processed": true
                    }
                  }
                },
                "addAnalysisData": {
                  "summary": "添加分析数据",
                  "value": {
                    "metadata": {
                      "sentiment": "positive",
                      "category": "technical",
                      "keywords": [
                        "AI",
                        "machine learning",
                        "explanation"
                      ],
                      "confidence": 0.95
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "元数据更新成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/Message"
                    },
                    "message": {
                      "type": "string",
                      "example": "消息元数据更新成功"
                    }
                  }
                },
                "example": {
                  "success": true,
                  "data": {
                    "id": 123,
                    "conversationId": "550e8400-e29b-41d4-a716-446655440000",
                    "role": "user",
                    "content": "请帮我解释一下机器学习",
                    "messageType": "text",
                    "status": "sent",
                    "metadata": {
                      "tokenCount": 150,
                      "model": "gpt-4",
                      "processed": true,
                      "sentiment": "positive",
                      "category": "technical"
                    },
                    "createdAt": "2023-12-01T10:00:00Z",
                    "updatedAt": "2023-12-01T10:05:00Z"
                  },
                  "message": "消息元数据更新成功"
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/ValidationError"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "description": "权限不足或字段受保护",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "error": "您没有权限修改系统保护的元数据字段",
                  "code": 403
                }
              }
            }
          },
          "404": {
            "description": "消息不存在或无权访问",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "error": "指定的消息不存在或您没有权限访问",
                  "code": 404
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/ServerError"
          }
        }
      }
    },
    "/api/v1/ai/conversations/{conversationId}/messages/{messageId}": {
      "delete": {
        "summary": "删除消息",
        "description": "删除指定ID的消息。删除操作不可逆，请谨慎操作。\n\n**业务场景：**\n- 用户删除不当或错误的消息\n- 管理员清理违规内容\n- 删除测试消息\n- 用户隐私保护需求\n\n**权限控制：**\n- 用户只能删除自己会话中的消息\n- 管理员可以删除任何消息\n- 系统消息需要管理员权限删除\n- 删除操作会记录审计日志\n\n**注意事项：**\n- 删除操作不可逆\n- 可能影响AI对话的连续性\n- 批量删除请使用专用接口\n",
        "tags": [
          "AI消息管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "conversationId",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "会话唯一标识符",
            "example": "550e8400-e29b-41d4-a716-446655440000"
          },
          {
            "in": "path",
            "name": "messageId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "消息唯一标识符",
            "example": 123
          },
          {
            "in": "query",
            "name": "hardDelete",
            "schema": {
              "type": "boolean",
              "default": false
            },
            "description": "是否彻底删除（true）或软删除（false），默认软删除",
            "example": false
          }
        ],
        "responses": {
          "200": {
            "description": "消息删除成功（返回删除信息）",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "消息删除成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "deletedMessageId": {
                          "type": "integer",
                          "example": 123
                        },
                        "hardDelete": {
                          "type": "boolean",
                          "example": false
                        },
                        "deletedAt": {
                          "type": "string",
                          "format": "date-time",
                          "example": "2023-12-01T10:10:00Z"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": true,
                  "message": "消息删除成功",
                  "data": {
                    "deletedMessageId": 123,
                    "hardDelete": false,
                    "deletedAt": "2023-12-01T10:10:00Z"
                  }
                }
              }
            }
          },
          "204": {
            "description": "消息删除成功（无内容返回）"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "error": "您没有权限删除此消息",
                  "code": 403
                }
              }
            }
          },
          "404": {
            "description": "消息不存在或无权访问",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "error": "指定的消息不存在或您没有权限访问",
                  "code": 404
                }
              }
            }
          },
          "409": {
            "description": "消息正在处理中，无法删除",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "error": "消息正在AI处理中，请稍后再试",
                  "code": 409
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/ServerError"
          }
        }
      }
    },
    "/api/ai/model-management/{modelId}": {
      "get": {
        "summary": "获取AI模型详情",
        "description": "获取指定AI模型的详细信息，包括完整的技术规格、定价信息、能力特性和使用统计数据",
        "tags": [
          "AI模型管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "modelId",
            "required": true,
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "description": "模型唯一标识符",
            "example": 1
          },
          {
            "in": "query",
            "name": "includeUsageStats",
            "schema": {
              "type": "boolean",
              "default": false
            },
            "description": "是否包含用户个人的使用统计数据"
          },
          {
            "in": "query",
            "name": "includeHealthStatus",
            "schema": {
              "type": "boolean",
              "default": true
            },
            "description": "是否包含模型健康状态信息"
          },
          {
            "in": "query",
            "name": "userId",
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "description": "用户ID（可选，默认为当前登录用户）",
            "example": 123
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取AI模型详情",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "获取AI模型详情成功"
                    },
                    "data": {
                      "allOf": [
                        {
                          "$ref": "#/components/schemas/AIModel"
                        },
                        {
                          "type": "object",
                          "properties": {
                            "userPreference": {
                              "$ref": "#/components/schemas/UserModelPreference"
                            },
                            "healthStatus": {
                              "$ref": "#/components/schemas/ModelHealthStatus"
                            },
                            "recentUsage": {
                              "type": "object",
                              "properties": {
                                "last24Hours": {
                                  "type": "object",
                                  "properties": {
                                    "requests": {
                                      "type": "integer",
                                      "example": 48
                                    },
                                    "tokens": {
                                      "type": "integer",
                                      "example": 62000
                                    },
                                    "cost": {
                                      "type": "number",
                                      "example": 2.15
                                    },
                                    "successRate": {
                                      "type": "number",
                                      "example": 98.5
                                    }
                                  }
                                },
                                "lastWeek": {
                                  "type": "object",
                                  "properties": {
                                    "requests": {
                                      "type": "integer",
                                      "example": 287
                                    },
                                    "tokens": {
                                      "type": "integer",
                                      "example": 389000
                                    },
                                    "cost": {
                                      "type": "number",
                                      "example": 13.42
                                    }
                                  }
                                }
                              }
                            },
                            "performanceBenchmark": {
                              "type": "object",
                              "properties": {
                                "overallRank": {
                                  "type": "integer",
                                  "description": "在所有模型中的综合排名",
                                  "example": 3
                                },
                                "costEfficiency": {
                                  "type": "string",
                                  "enum": [
                                    "excellent",
                                    "good",
                                    "average",
                                    "poor"
                                  ],
                                  "description": "成本效益评级",
                                  "example": "good"
                                },
                                "speedRating": {
                                  "type": "string",
                                  "enum": [
                                    "excellent",
                                    "good",
                                    "average",
                                    "poor"
                                  ],
                                  "description": "速度评级",
                                  "example": "excellent"
                                },
                                "qualityRating": {
                                  "type": "string",
                                  "enum": [
                                    "excellent",
                                    "good",
                                    "average",
                                    "poor"
                                  ],
                                  "description": "质量评级",
                                  "example": "excellent"
                                }
                              }
                            },
                            "recommendations": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "properties": {
                                  "useCase": {
                                    "type": "string",
                                    "description": "推荐使用场景",
                                    "example": "复杂推理任务"
                                  },
                                  "confidence": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 1,
                                    "description": "推荐置信度",
                                    "example": 0.92
                                  },
                                  "reasoning": {
                                    "type": "string",
                                    "description": "推荐理由",
                                    "example": "该模型在复杂推理任务中表现出色，准确性高"
                                  }
                                }
                              }
                            }
                          }
                        }
                      ]
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/ai/model-management/stats/{modelId}": {
      "get": {
        "summary": "获取AI模型使用统计",
        "description": "获取指定AI模型在特定时间范围内的详细使用统计，包括请求数、Token消耗、费用分析和性能指标",
        "tags": [
          "AI模型管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "modelId",
            "required": true,
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "description": "模型唯一标识符",
            "example": 1
          },
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "统计开始日期 (YYYY-MM-DD格式，默认为30天前)",
            "example": "2024-01-01"
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "统计结束日期 (YYYY-MM-DD格式，默认为当前日期)",
            "example": "2024-01-31"
          },
          {
            "in": "query",
            "name": "granularity",
            "schema": {
              "type": "string",
              "enum": [
                "hour",
                "day",
                "week",
                "month"
              ],
              "default": "day"
            },
            "description": "统计粒度"
          },
          {
            "in": "query",
            "name": "includeUserBreakdown",
            "schema": {
              "type": "boolean",
              "default": true
            },
            "description": "是否包含用户类型分布数据"
          },
          {
            "in": "query",
            "name": "includeFeatureAnalysis",
            "schema": {
              "type": "boolean",
              "default": true
            },
            "description": "是否包含功能使用分析"
          },
          {
            "in": "query",
            "name": "includePerformanceMetrics",
            "schema": {
              "type": "boolean",
              "default": true
            },
            "description": "是否包含性能指标分析"
          },
          {
            "in": "query",
            "name": "userId",
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "description": "用户ID（可选，用于筛选特定用户的数据）",
            "example": 123
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取AI模型使用统计数据",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "获取AI模型使用统计成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/AIModelStats"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/ai/model-management/preferences/user/{userId}/model/{modelId}": {
      "put": {
        "summary": "更新用户AI模型偏好",
        "description": "更新指定用户对特定AI模型的偏好设置，包括偏好等级、默认状态和自定义配置参数",
        "tags": [
          "AI模型管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "userId",
            "required": true,
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "description": "目标用户ID",
            "example": 123
          },
          {
            "in": "path",
            "name": "modelId",
            "required": true,
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "description": "模型ID",
            "example": 1
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "preferenceLevel": {
                    "type": "integer",
                    "minimum": 1,
                    "maximum": 5,
                    "description": "偏好等级(1-5，5为最高偏好)",
                    "example": 5
                  },
                  "isDefault": {
                    "type": "boolean",
                    "description": "是否设置为默认模型",
                    "example": true
                  },
                  "customSettings": {
                    "type": "object",
                    "description": "用户自定义配置",
                    "properties": {
                      "temperature": {
                        "type": "number",
                        "minimum": 0,
                        "maximum": 2,
                        "description": "创造性参数",
                        "example": 0.7
                      },
                      "maxTokens": {
                        "type": "integer",
                        "minimum": 1,
                        "maximum": 128000,
                        "description": "最大Token数限制",
                        "example": 2000
                      },
                      "topP": {
                        "type": "number",
                        "minimum": 0,
                        "maximum": 1,
                        "description": "核采样参数",
                        "example": 0.9
                      },
                      "frequencyPenalty": {
                        "type": "number",
                        "minimum": -2,
                        "maximum": 2,
                        "description": "频率惩罚",
                        "example": 0
                      },
                      "presencePenalty": {
                        "type": "number",
                        "minimum": -2,
                        "maximum": 2,
                        "description": "存在惩罚",
                        "example": 0
                      },
                      "systemPrompt": {
                        "type": "string",
                        "maxLength": 4000,
                        "description": "自定义系统提示词",
                        "example": "你是一个专业的幼儿园教育顾问，请用简洁明了的语言提供建议。"
                      }
                    }
                  },
                  "notes": {
                    "type": "string",
                    "maxLength": 500,
                    "description": "用户备注信息",
                    "example": "用于处理复杂的教育规划任务"
                  }
                },
                "required": [
                  "preferenceLevel"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "成功更新用户AI模型偏好设置",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "更新用户模型偏好成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/UserModelPreference"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 400
                    },
                    "message": {
                      "type": "string",
                      "example": "参数验证失败"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "field": {
                            "type": "string",
                            "example": "preferenceLevel"
                          },
                          "message": {
                            "type": "string",
                            "example": "偏好等级必须在1-5之间"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "409": {
            "description": "默认模型冲突",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 409
                    },
                    "message": {
                      "type": "string",
                      "example": "用户已存在其他默认模型，请先取消原有默认设置"
                    },
                    "conflictWith": {
                      "type": "object",
                      "properties": {
                        "modelId": {
                          "type": "integer"
                        },
                        "modelName": {
                          "type": "string"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/v1/ai/models": {
      "get": {
        "summary": "获取可用模型列表",
        "description": "获取系统中所有可用的AI模型配置，支持按类型和状态过滤",
        "tags": [
          "AI模型"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "type",
            "schema": {
              "type": "string",
              "enum": [
                "text",
                "speech",
                "image",
                "video",
                "multimodal"
              ]
            },
            "description": "模型类型过滤"
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string",
              "enum": [
                "active",
                "inactive",
                "testing"
              ]
            },
            "description": "模型状态过滤，默认只返回active状态"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取模型列表",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ModelConfig"
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "500": {
            "$ref": "#/components/responses/ServerError"
          }
        }
      },
      "post": {
        "summary": "创建新的AI模型",
        "description": "创建新的AI模型配置（需要管理员权限）",
        "tags": [
          "AI模型"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "name",
                  "modelType",
                  "endpointUrl",
                  "apiKey"
                ],
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "模型名称"
                  },
                  "displayName": {
                    "type": "string",
                    "description": "显示名称"
                  },
                  "provider": {
                    "type": "string",
                    "description": "模型提供商"
                  },
                  "modelType": {
                    "type": "string",
                    "description": "模型类型"
                  },
                  "apiVersion": {
                    "type": "string",
                    "description": "API版本"
                  },
                  "endpointUrl": {
                    "type": "string",
                    "description": "API端点URL"
                  },
                  "apiKey": {
                    "type": "string",
                    "description": "API密钥"
                  },
                  "modelParameters": {
                    "type": "object",
                    "description": "模型参数"
                  },
                  "isActive": {
                    "type": "boolean",
                    "description": "是否激活"
                  },
                  "isDefault": {
                    "type": "boolean",
                    "description": "是否设为默认"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "模型创建成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/v1/ai/models/default": {
      "get": {
        "summary": "获取默认AI模型",
        "description": "获取系统设置的默认AI模型配置，如果没有设置默认模型则返回第一个可用模型",
        "tags": [
          "AI模型"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取默认模型",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ModelConfig"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "404": {
            "description": "没有可用的AI模型"
          },
          "500": {
            "$ref": "#/components/responses/ServerError"
          }
        }
      }
    },
    "/api/v1/ai/models/{modelId}/billing": {
      "get": {
        "summary": "获取模型计费规则",
        "description": "获取指定模型的计费规则详情",
        "tags": [
          "AI模型"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "modelId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "模型ID"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取计费规则",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ModelBilling"
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 400
                    },
                    "message": {
                      "type": "string",
                      "example": "模型ID不能为空"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "404": {
            "$ref": "#/components/responses/NotFoundError"
          },
          "500": {
            "$ref": "#/components/responses/ServerError"
          }
        }
      }
    },
    "/api/ai/quota": {
      "get": {
        "summary": "获取用户AI使用配额信息",
        "description": "获取当前用户的AI使用配额详细信息，包括总配额、已使用量、剩余量和各模型的分项配额",
        "tags": [
          "AI配额管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "includeModelBreakdown",
            "schema": {
              "type": "boolean",
              "default": true
            },
            "description": "是否包含各模型的详细配额信息"
          },
          {
            "in": "query",
            "name": "includeHistoricalData",
            "schema": {
              "type": "boolean",
              "default": false
            },
            "description": "是否包含历史使用数据"
          },
          {
            "in": "query",
            "name": "includeWarnings",
            "schema": {
              "type": "boolean",
              "default": true
            },
            "description": "是否包含配额警告信息"
          },
          {
            "in": "query",
            "name": "userId",
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "description": "用户ID（可选，管理员可查询其他用户）",
            "example": 123
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取用户AI配额信息",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "获取AI配额信息成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/AIQuotaInfo"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/ai/quota/usage": {
      "get": {
        "summary": "获取AI配额使用历史记录",
        "description": "获取用户在指定时间范围内的AI配额使用历史，包括每日使用明细、模型使用分布、功能使用统计和趋势分析",
        "tags": [
          "AI配额管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "开始日期 (YYYY-MM-DD格式)",
            "example": "2024-01-01"
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "结束日期 (YYYY-MM-DD格式)",
            "example": "2024-01-31"
          },
          {
            "in": "query",
            "name": "modelId",
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "description": "按模型ID筛选（可选）",
            "example": 1
          },
          {
            "in": "query",
            "name": "granularity",
            "schema": {
              "type": "string",
              "enum": [
                "hour",
                "day",
                "week",
                "month"
              ],
              "default": "day"
            },
            "description": "数据粒度",
            "example": "day"
          },
          {
            "in": "query",
            "name": "includeCostAnalysis",
            "schema": {
              "type": "boolean",
              "default": true
            },
            "description": "是否包含费用分析"
          },
          {
            "in": "query",
            "name": "includeModelBreakdown",
            "schema": {
              "type": "boolean",
              "default": true
            },
            "description": "是否包含模型使用分解"
          },
          {
            "in": "query",
            "name": "includeFeatureAnalysis",
            "schema": {
              "type": "boolean",
              "default": true
            },
            "description": "是否包含功能使用分析"
          },
          {
            "in": "query",
            "name": "includeAnomalyDetection",
            "schema": {
              "type": "boolean",
              "default": false
            },
            "description": "是否包含异常检测"
          },
          {
            "in": "query",
            "name": "userId",
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "description": "用户ID（可选，管理员可查询其他用户）",
            "example": 123
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            },
            "description": "页码（用于分页查询）"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 1000,
              "default": 100
            },
            "description": "每页记录数"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取AI配额使用历史记录",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 200
                    },
                    "message": {
                      "type": "string",
                      "example": "获取AI配额使用历史成功"
                    },
                    "data": {
                      "$ref": "#/components/schemas/QuotaUsageHistory"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/Forbidden"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          },
          "503": {
            "description": "数据查询中，请稍后重试",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "integer",
                      "example": 503
                    },
                    "message": {
                      "type": "string",
                      "example": "配额使用历史查询中，请稍后重试"
                    },
                    "retryAfter": {
                      "type": "integer",
                      "description": "建议重试间隔（秒）",
                      "example": 30
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/ai/smart-experts/list": {
      "get": {
        "summary": "获取AI智能专家列表",
        "description": "获取所有可用的AI智能专家列表，包括专家信息、能力描述和使用统计数据",
        "tags": [
          "AI智能专家系统"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "domain",
            "schema": {
              "type": "string",
              "enum": [
                "all",
                "activity",
                "marketing",
                "education",
                "analysis"
              ],
              "default": "all"
            },
            "description": "按领域筛选专家"
          },
          {
            "in": "query",
            "name": "includeStats",
            "schema": {
              "type": "boolean",
              "default": true
            },
            "description": "是否包含使用统计"
          },
          {
            "in": "query",
            "name": "availableOnly",
            "schema": {
              "type": "boolean",
              "default": true
            },
            "description": "仅显示可用专家"
          },
          {
            "in": "query",
            "name": "sortBy",
            "schema": {
              "type": "string",
              "enum": [
                "name",
                "rating",
                "success_rate",
                "response_time",
                "consultation_count"
              ],
              "default": "name"
            },
            "description": "排序方式"
          },
          {
            "in": "query",
            "name": "sortOrder",
            "schema": {
              "type": "string",
              "enum": [
                "asc",
                "desc"
              ],
              "default": "asc"
            },
            "description": "排序顺序"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取AI智能专家列表",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/ExpertInfo"
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        }
      }
    },
    "/api/ai/token-monitor/stats": {
      "get": {
        "summary": "获取当前Token使用统计",
        "description": "获取实时Token使用统计数据，包括总量、日均使用、配额情况和模型分布。\n\n**业务场景：**\n- 监控AI服务的token消耗情况\n- 实时了解配额使用进度\n- 分析不同模型的使用分布\n- 评估成本和效率指标\n\n**数据特点：**\n- 实时更新，反映最新使用情况\n- 包含历史统计趋势数据\n- 支持多维度数据分析\n- 提供成本和效率评估\n\n**更新频率：**\n- 实时数据：每5分钟更新\n- 历史统计：每小时汇总\n",
        "tags": [
          "AI令牌监控"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "period",
            "schema": {
              "type": "string",
              "enum": [
                "hour",
                "day",
                "week",
                "month"
              ],
              "default": "day"
            },
            "description": "统计周期",
            "example": "day"
          },
          {
            "in": "query",
            "name": "model",
            "schema": {
              "type": "string"
            },
            "description": "按模型过滤",
            "example": "gpt-4"
          },
          {
            "in": "query",
            "name": "includeDetails",
            "schema": {
              "type": "boolean",
              "default": false
            },
            "description": "是否包含详细分析数据",
            "example": true
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取Token统计信息",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/TokenStats"
                    },
                    "message": {
                      "type": "string",
                      "example": "获取Token统计成功"
                    }
                  }
                },
                "example": {
                  "success": true,
                  "data": {
                    "totalTokens": 150000,
                    "dailyTokens": 2500,
                    "monthlyTokens": 75000,
                    "averageTokensPerRequest": 156.5,
                    "totalRequests": 960,
                    "successRate": 98.5,
                    "averageResponseTime": 1250.75,
                    "quotaUsage": {
                      "used": 75000,
                      "total": 100000,
                      "percentage": 75
                    },
                    "modelStats": [
                      {
                        "model": "gpt-4",
                        "tokens": 50000,
                        "requests": 320,
                        "cost": 125.5
                      },
                      {
                        "model": "gpt-3.5-turbo",
                        "tokens": 100000,
                        "requests": 640,
                        "cost": 50
                      }
                    ],
                    "updatedAt": "2023-12-01T10:30:00Z"
                  },
                  "message": "获取Token统计成功"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "500": {
            "$ref": "#/components/responses/ServerError"
          }
        }
      }
    },
    "/api/ai/token-monitor/performance": {
      "get": {
        "summary": "获取性能报告",
        "description": "获取AI系统的详细性能分析报告，包括响应时间、吞吐量、成功率和模型性能对比。\n\n**业务场景：**\n- 评估AI系统整体性能表现\n- 识别性能瓶颈和优化机会\n- 对比不同模型的性能指标\n- 监控系统性能趋势变化\n\n**报告内容：**\n- 响应时间分析（平均值、P50、P95、P99）\n- 系统吞吐量和并发能力\n- 错误率和可用性统计\n- 各模型性能对比分析\n- 性能优化建议\n\n**数据周期：**\n- 默认显示过去7天数据\n- 支持自定义时间范围查询\n",
        "tags": [
          "AI令牌监控"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "period",
            "schema": {
              "type": "string",
              "enum": [
                "24h",
                "7d",
                "30d",
                "90d"
              ],
              "default": "7d"
            },
            "description": "报告时间周期",
            "example": "7d"
          },
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "description": "开始时间（自定义时间范围）",
            "example": "2023-11-24T00:00:00Z"
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "description": "结束时间（自定义时间范围）",
            "example": "2023-12-01T23:59:59Z"
          },
          {
            "in": "query",
            "name": "models",
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "description": "指定分析的模型列表",
            "example": [
              "gpt-4",
              "gpt-3.5-turbo"
            ]
          },
          {
            "in": "query",
            "name": "includeRecommendations",
            "schema": {
              "type": "boolean",
              "default": true
            },
            "description": "是否包含优化建议",
            "example": true
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取性能报告",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/PerformanceReport"
                    },
                    "message": {
                      "type": "string",
                      "example": "获取性能报告成功"
                    }
                  }
                },
                "example": {
                  "success": true,
                  "data": {
                    "overview": {
                      "period": "过去7天",
                      "totalRequests": 2400,
                      "totalTokens": 375000,
                      "totalCost": 937.5
                    },
                    "performanceMetrics": {
                      "responseTime": {
                        "average": 1250.75,
                        "p50": 1100,
                        "p95": 2100.5,
                        "p99": 3500.25
                      },
                      "throughput": 2.5,
                      "errorRate": 1.5
                    },
                    "modelPerformance": [
                      {
                        "model": "gpt-4",
                        "avgResponseTime": 1650.25,
                        "successRate": 99.2,
                        "tokenEfficiency": 8.7
                      },
                      {
                        "model": "gpt-3.5-turbo",
                        "avgResponseTime": 850.5,
                        "successRate": 98.8,
                        "tokenEfficiency": 9.2
                      }
                    ],
                    "recommendations": [
                      "考虑使用gpt-3.5-turbo处理简单任务以降低成本",
                      "优化提示词以减少token使用量"
                    ]
                  },
                  "message": "获取性能报告成功"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "500": {
            "$ref": "#/components/responses/ServerError"
          }
        }
      }
    },
    "/api/ai/token-monitor/alerts": {
      "get": {
        "summary": "获取实时告警",
        "description": "获取当前活跃的告警信息，包括配额警告、性能异常、错误激增等。\n\n**告警类型：**\n- **配额警告**: token使用量接近或超过配额限制\n- **性能异常**: 响应时间过长或成功率下降\n- **错误激增**: 短时间内错误数量异常增加\n- **成本阈值**: 使用成本超过设定阈值\n\n**告警级别：**\n- **Critical**: 需要立即处理的严重问题\n- **High**: 重要问题，需要及时处理\n- **Medium**: 一般问题，建议尽快处理\n- **Low**: 轻微问题，可以稍后处理\n\n**业务场景：**\n- 实时监控系统异常状态\n- 主动发现潜在问题\n- 及时响应系统告警\n- 优化系统运行状态\n",
        "tags": [
          "AI令牌监控"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "severity",
            "schema": {
              "type": "string",
              "enum": [
                "low",
                "medium",
                "high",
                "critical"
              ]
            },
            "description": "按严重程度过滤",
            "example": "high"
          },
          {
            "in": "query",
            "name": "type",
            "schema": {
              "type": "string",
              "enum": [
                "quota_warning",
                "performance_degradation",
                "error_spike",
                "cost_threshold"
              ]
            },
            "description": "按告警类型过滤",
            "example": "quota_warning"
          },
          {
            "in": "query",
            "name": "acknowledged",
            "schema": {
              "type": "boolean"
            },
            "description": "按确认状态过滤",
            "example": false
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 20
            },
            "description": "返回告警数量限制",
            "example": 20
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取告警列表",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "alerts": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/Alert"
                          }
                        },
                        "total": {
                          "type": "integer",
                          "description": "告警总数",
                          "example": 5
                        },
                        "unacknowledged": {
                          "type": "integer",
                          "description": "未确认告警数",
                          "example": 3
                        },
                        "criticalCount": {
                          "type": "integer",
                          "description": "严重级别告警数",
                          "example": 1
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "获取告警列表成功"
                    }
                  }
                },
                "example": {
                  "success": true,
                  "data": {
                    "alerts": [
                      {
                        "id": "alert_123",
                        "type": "quota_warning",
                        "severity": "medium",
                        "title": "配额使用率超过80%",
                        "message": "当前已使用80,000个token，占总配额的80%",
                        "timestamp": "2023-12-01T09:15:00Z",
                        "acknowledged": false,
                        "metadata": {
                          "currentValue": 80000,
                          "threshold": 80000,
                          "percentage": 80
                        }
                      }
                    ],
                    "total": 5,
                    "unacknowledged": 3,
                    "criticalCount": 1
                  },
                  "message": "获取告警列表成功"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "500": {
            "$ref": "#/components/responses/ServerError"
          }
        }
      }
    },
    "/api/ai/token-monitor/suggestions": {
      "get": {
        "summary": "获取优化建议",
        "description": "基于系统使用数据和性能分析，提供智能优化建议，帮助提升效率和降低成本。\n\n**建议类别：**\n- **成本优化**: 减少token使用量和成本支出\n- **性能提升**: 提高响应速度和处理效率\n- **准确性改进**: 优化模型选择和提示词设计\n- **使用优化**: 改进使用模式和最佳实践\n\n**建议特点：**\n- 基于实际使用数据分析\n- 提供具体的实施步骤\n- 估算预期收益和效果\n- 标注实施难度和优先级\n\n**业务价值：**\n- 降低AI服务使用成本\n- 提升用户体验和满意度\n- 优化资源配置和利用效率\n- 建立最佳使用实践\n",
        "tags": [
          "AI令牌监控"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "category",
            "schema": {
              "type": "string",
              "enum": [
                "cost",
                "performance",
                "accuracy",
                "usage"
              ]
            },
            "description": "按建议类别过滤",
            "example": "cost"
          },
          {
            "in": "query",
            "name": "priority",
            "schema": {
              "type": "string",
              "enum": [
                "low",
                "medium",
                "high"
              ]
            },
            "description": "按优先级过滤",
            "example": "high"
          },
          {
            "in": "query",
            "name": "difficulty",
            "schema": {
              "type": "string",
              "enum": [
                "easy",
                "medium",
                "hard"
              ]
            },
            "description": "按实施难度过滤",
            "example": "easy"
          },
          {
            "in": "query",
            "name": "includeImplemented",
            "schema": {
              "type": "boolean",
              "default": false
            },
            "description": "是否包含已实施的建议",
            "example": false
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取优化建议",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "suggestions": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/OptimizationSuggestion"
                          }
                        },
                        "summary": {
                          "type": "object",
                          "properties": {
                            "totalSuggestions": {
                              "type": "integer",
                              "example": 8
                            },
                            "potentialSavings": {
                              "type": "object",
                              "properties": {
                                "tokens": {
                                  "type": "integer",
                                  "example": 25000
                                },
                                "cost": {
                                  "type": "number",
                                  "format": "float",
                                  "example": 312.5
                                },
                                "percentage": {
                                  "type": "number",
                                  "format": "float",
                                  "example": 15
                                }
                              }
                            },
                            "highPriorityCount": {
                              "type": "integer",
                              "example": 3
                            }
                          }
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "获取优化建议成功"
                    }
                  }
                },
                "example": {
                  "success": true,
                  "data": {
                    "suggestions": [
                      {
                        "category": "cost",
                        "title": "使用更经济的模型处理简单任务",
                        "description": "对于简单的问答任务，建议使用gpt-3.5-turbo替代gpt-4，可节省约75%的成本",
                        "potentialSavings": {
                          "tokens": 15000,
                          "cost": 187.5,
                          "percentage": 25
                        },
                        "priority": "high",
                        "implementation": {
                          "difficulty": "easy",
                          "estimatedTime": "2小时",
                          "steps": [
                            "分析现有任务复杂度",
                            "配置模型选择规则",
                            "测试和验证效果"
                          ]
                        }
                      }
                    ],
                    "summary": {
                      "totalSuggestions": 8,
                      "potentialSavings": {
                        "tokens": 25000,
                        "cost": 312.5,
                        "percentage": 15
                      },
                      "highPriorityCount": 3
                    }
                  },
                  "message": "获取优化建议成功"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "500": {
            "$ref": "#/components/responses/ServerError"
          }
        }
      }
    },
    "/api/ai/token-monitor/reset": {
      "post": {
        "summary": "重置统计数据",
        "description": "重置Token监控的统计数据，仅限管理员执行。此操作不可逆，请谨慎使用。\n\n**重置范围：**\n- 实时统计数据\n- 历史统计记录\n- 性能指标数据\n- 告警记录\n\n**业务场景：**\n- 系统维护后重新统计\n- 清理测试数据\n- 重新开始统计周期\n- 数据迁移后重置\n\n**权限控制：**\n- 仅限管理员权限\n- 操作会记录审计日志\n- 需要二次确认\n\n**注意事项：**\n- 操作不可逆\n- 影响历史数据分析\n- 建议在维护窗口期执行\n",
        "tags": [
          "AI令牌监控"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "confirm",
            "schema": {
              "type": "boolean",
              "required": true
            },
            "description": "确认重置操作，必须设置为true",
            "example": true
          },
          {
            "in": "query",
            "name": "scope",
            "schema": {
              "type": "string",
              "enum": [
                "all",
                "stats",
                "alerts",
                "cache"
              ],
              "default": "all"
            },
            "description": "重置范围",
            "example": "all"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "reason": {
                    "type": "string",
                    "description": "重置原因",
                    "example": "系统维护后重新开始统计"
                  },
                  "backupData": {
                    "type": "boolean",
                    "description": "是否备份现有数据",
                    "default": true,
                    "example": true
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "统计数据重置成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "resetTime": {
                          "type": "string",
                          "format": "date-time",
                          "example": "2023-12-01T11:00:00Z"
                        },
                        "scope": {
                          "type": "string",
                          "example": "all"
                        },
                        "backupCreated": {
                          "type": "boolean",
                          "example": true
                        },
                        "backupPath": {
                          "type": "string",
                          "example": "/backups/token_stats_20231201_110000.json"
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "统计数据重置成功"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "error": "必须提供confirm=true参数来确认重置操作",
                  "code": 400
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "500": {
            "$ref": "#/components/responses/ServerError"
          }
        }
      }
    },
    "/api/ai/unified/stream/{sessionId}": {
      "get": {
        "tags": [
          "AI统一智能系统"
        ],
        "summary": "SSE实时状态推送接口",
        "description": "建立Server-Sent Events连接，实时获取AI处理状态",
        "parameters": [
          {
            "in": "path",
            "name": "sessionId",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "会话ID"
          }
        ],
        "responses": {
          "200": {
            "description": "SSE连接建立成功",
            "content": {
              "text/event-stream": {
                "schema": {
                  "type": "string",
                  "format": "SSE流数据"
                }
              }
            }
          },
          "500": {
            "description": "服务器错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "服务器错误"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/ai/unified/unified-intelligence": {
      "post": {
        "tags": [
          "AI统一智能系统"
        ],
        "summary": "兼容性统一智能处理接口",
        "description": "为兼容旧测试脚本提供的统一智能处理接口",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "message"
                ],
                "properties": {
                  "message": {
                    "type": "string",
                    "description": "用户消息内容",
                    "example": "查询学生总数"
                  },
                  "context": {
                    "type": "object",
                    "properties": {
                      "userId": {
                        "type": "string",
                        "description": "用户ID",
                        "example": "121"
                      },
                      "role": {
                        "type": "string",
                        "description": "用户角色",
                        "example": "parent"
                      }
                    }
                  }
                },
                "example": {
                  "message": "查询学生总数",
                  "context": {
                    "userId": "121",
                    "role": "parent"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "处理成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "message": {
                          "type": "string",
                          "description": "AI回复内容",
                          "example": "当前系统中共有200名学生"
                        },
                        "analysis": {
                          "type": "object",
                          "properties": {
                            "intent": {
                              "type": "string",
                              "example": "general_assistance"
                            },
                            "complexity": {
                              "type": "string",
                              "example": "simple"
                            },
                            "complexityScore": {
                              "type": "number",
                              "example": 0.8
                            }
                          }
                        }
                      }
                    },
                    "metadata": {
                      "type": "object",
                      "properties": {
                        "executionTime": {
                          "type": "number",
                          "example": 1500
                        },
                        "toolsUsed": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          },
                          "example": [
                            "database_query"
                          ]
                        },
                        "confidenceScore": {
                          "type": "number",
                          "example": 0.9
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "消息内容不能为空"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "智能处理失败"
                    },
                    "details": {
                      "type": "string",
                      "description": "错误详情（开发环境）",
                      "example": "连接超时"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/ai/user/{userId}/permissions": {
      "get": {
        "summary": "获取用户权限",
        "description": "获取指定用户的AI系统权限配置",
        "tags": [
          "AI用户管理"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "userId",
            "required": true,
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "description": "用户ID"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取用户权限",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "userId": {
                          "type": "integer",
                          "description": "用户ID"
                        },
                        "permissions": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          },
                          "description": "权限列表",
                          "example": [
                            "ai_chat",
                            "ai_analysis",
                            "ai_memory"
                          ]
                        },
                        "roles": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          },
                          "description": "角色列表",
                          "example": [
                            "user",
                            "teacher"
                          ]
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "用户不存在"
          },
          "500": {
            "description": "服务器错误"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      },
      "post": {
        "summary": "设置用户权限 (管理员)",
        "description": "管理员设置指定用户的AI系统权限",
        "tags": [
          "AI用户管理"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "userId",
            "required": true,
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "description": "目标用户ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "adminUserId",
                  "permissions"
                ],
                "properties": {
                  "adminUserId": {
                    "type": "integer",
                    "minimum": 1,
                    "description": "管理员用户ID",
                    "example": 1
                  },
                  "permissions": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "要设置的权限列表",
                    "example": [
                      "ai_chat",
                      "ai_analysis"
                    ]
                  },
                  "roles": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "要设置的角色列表（可选）",
                    "example": [
                      "user",
                      "teacher"
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "成功设置用户权限",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "权限设置成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "userId": {
                          "type": "integer",
                          "description": "用户ID"
                        },
                        "permissions": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          },
                          "description": "更新后的权限列表"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "参数错误或权限设置失败"
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "description": "权限不足（非管理员）"
          },
          "404": {
            "description": "用户不存在"
          },
          "500": {
            "description": "服务器错误"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/ai/user/{userId}/settings": {
      "get": {
        "summary": "获取用户设置",
        "description": "获取指定用户的AI系统个人设置",
        "tags": [
          "AI用户管理"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "userId",
            "required": true,
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "description": "用户ID"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取用户设置",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "userId": {
                          "type": "integer",
                          "description": "用户ID"
                        },
                        "settings": {
                          "type": "object",
                          "properties": {
                            "aiModel": {
                              "type": "string",
                              "description": "默认AI模型",
                              "example": "gpt-4"
                            },
                            "language": {
                              "type": "string",
                              "description": "界面语言",
                              "example": "zh-CN"
                            },
                            "theme": {
                              "type": "string",
                              "description": "界面主题",
                              "example": "light"
                            },
                            "notifications": {
                              "type": "object",
                              "properties": {
                                "email": {
                                  "type": "boolean",
                                  "description": "邮件通知"
                                },
                                "push": {
                                  "type": "boolean",
                                  "description": "推送通知"
                                }
                              }
                            },
                            "privacy": {
                              "type": "object",
                              "properties": {
                                "shareData": {
                                  "type": "boolean",
                                  "description": "是否共享数据"
                                },
                                "memoryRetention": {
                                  "type": "integer",
                                  "description": "记忆保留天数"
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "参数错误"
          },
          "401": {
            "description": "未授权"
          },
          "404": {
            "description": "用户不存在"
          },
          "500": {
            "description": "服务器错误"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      },
      "put": {
        "summary": "更新用户设置",
        "description": "更新指定用户的AI系统个人设置",
        "tags": [
          "AI用户管理"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "userId",
            "required": true,
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "description": "用户ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "settings"
                ],
                "properties": {
                  "settings": {
                    "type": "object",
                    "description": "用户设置对象",
                    "properties": {
                      "aiModel": {
                        "type": "string",
                        "description": "默认AI模型",
                        "example": "gpt-4"
                      },
                      "language": {
                        "type": "string",
                        "description": "界面语言",
                        "example": "zh-CN"
                      },
                      "theme": {
                        "type": "string",
                        "enum": [
                          "light",
                          "dark",
                          "auto"
                        ],
                        "description": "界面主题",
                        "example": "light"
                      },
                      "notifications": {
                        "type": "object",
                        "properties": {
                          "email": {
                            "type": "boolean",
                            "description": "邮件通知"
                          },
                          "push": {
                            "type": "boolean",
                            "description": "推送通知"
                          }
                        }
                      },
                      "privacy": {
                        "type": "object",
                        "properties": {
                          "shareData": {
                            "type": "boolean",
                            "description": "是否共享数据"
                          },
                          "memoryRetention": {
                            "type": "integer",
                            "minimum": 1,
                            "maximum": 365,
                            "description": "记忆保留天数"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "成功更新用户设置",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "设置更新成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "userId": {
                          "type": "integer",
                          "description": "用户ID"
                        },
                        "settings": {
                          "type": "object",
                          "description": "更新后的设置"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "参数错误或设置更新失败"
          },
          "401": {
            "description": "未授权"
          },
          "403": {
            "description": "权限不足（只能修改自己的设置）"
          },
          "404": {
            "description": "用户不存在"
          },
          "500": {
            "description": "服务器错误"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/auth/login": {
      "post": {
        "summary": "用户登录",
        "description": "用户使用用户名/邮箱和密码进行登录，成功后返回JWT令牌",
        "tags": [
          "认证管理"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LoginRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "登录成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LoginResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "message": "用户名和密码不能为空",
                  "error": "MISSING_CREDENTIALS"
                }
              }
            }
          },
          "401": {
            "description": "认证失败",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "message": "用户名或密码错误",
                  "error": "INVALID_CREDENTIALS"
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/auth/logout": {
      "post": {
        "summary": "用户登出",
        "description": "用户登出系统，清除服务端会话信息",
        "tags": [
          "认证管理"
        ],
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "登出成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LogoutResponse"
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "message": "未提供有效的认证令牌",
                  "error": "UNAUTHORIZED"
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/auth/refresh-token": {
      "post": {
        "summary": "刷新访问令牌",
        "description": "使用刷新令牌获取新的访问令牌，延长用户会话",
        "tags": [
          "认证管理"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RefreshTokenRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "令牌刷新成功",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RefreshTokenResponse"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "message": "刷新令牌不能为空",
                  "error": "MISSING_REFRESH_TOKEN"
                }
              }
            }
          },
          "401": {
            "description": "刷新令牌无效或已过期",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "message": "刷新令牌无效或已过期",
                  "error": "INVALID_REFRESH_TOKEN"
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/centers/activity/timeline": {
      "get": {
        "summary": "获取活动中心Timeline数据",
        "description": "获取活动中心的时间线数据，展示所有重要的活动和系统事件。\n\n**事件类型：**\n- **activity_created**: 新活动创建\n- **registration_received**: 收到新的报名\n- **activity_completed**: 活动完成\n- **payment_received**: 收到支付\n- **reminder_sent**: 发送提醒\n\n**业务场景：**\n- 实时监控活动动态\n- 追踪重要事件和操作\n- 了解系统活动情况\n- 分析用户行为模式\n\n**数据特点：**\n- 按时间倒序排列\n- 支持多种过滤条件\n- 包含详细的上下文信息\n- 实时更新状态\n",
        "tags": [
          "活动中心"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            },
            "description": "页码",
            "example": 1
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 20
            },
            "description": "每页事件数量",
            "example": 20
          },
          {
            "in": "query",
            "name": "eventType",
            "schema": {
              "type": "string",
              "enum": [
                "activity_created",
                "registration_received",
                "activity_completed",
                "payment_received",
                "reminder_sent"
              ]
            },
            "description": "按事件类型过滤",
            "example": "activity_created"
          },
          {
            "in": "query",
            "name": "priority",
            "schema": {
              "type": "string",
              "enum": [
                "low",
                "medium",
                "high",
                "urgent"
              ]
            },
            "description": "按优先级过滤",
            "example": "high"
          },
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "description": "开始时间过滤",
            "example": "2023-12-01T00:00:00Z"
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "description": "结束时间过滤",
            "example": "2023-12-31T23:59:59Z"
          },
          {
            "in": "query",
            "name": "userId",
            "schema": {
              "type": "integer"
            },
            "description": "按用户ID过滤",
            "example": 12
          }
        ],
        "responses": {
          "200": {
            "description": "Timeline数据获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "events": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/TimelineEvent"
                          },
                          "description": "时间线事件列表"
                        },
                        "pagination": {
                          "type": "object",
                          "properties": {
                            "page": {
                              "type": "integer",
                              "example": 1
                            },
                            "pageSize": {
                              "type": "integer",
                              "example": 20
                            },
                            "total": {
                              "type": "integer",
                              "example": 150
                            },
                            "totalPages": {
                              "type": "integer",
                              "example": 8
                            }
                          },
                          "description": "分页信息"
                        },
                        "summary": {
                          "type": "object",
                          "properties": {
                            "totalEvents": {
                              "type": "integer",
                              "example": 150
                            },
                            "todayEvents": {
                              "type": "integer",
                              "example": 12
                            },
                            "highPriorityEvents": {
                              "type": "integer",
                              "example": 5
                            },
                            "recentActivityTypes": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              },
                              "example": [
                                "activity_created",
                                "registration_received"
                              ]
                            }
                          },
                          "description": "统计摘要"
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "Timeline数据获取成功"
                    }
                  }
                },
                "example": {
                  "success": true,
                  "data": {
                    "events": [
                      {
                        "id": "event_123",
                        "type": "activity_created",
                        "title": "新活动创建",
                        "description": "创建了新的科学探索活动",
                        "timestamp": "2023-12-01T10:30:00Z",
                        "activityId": 45,
                        "activityTitle": "科学探索营",
                        "userId": 12,
                        "userName": "张老师",
                        "priority": "medium"
                      }
                    ],
                    "pagination": {
                      "page": 1,
                      "pageSize": 20,
                      "total": 150,
                      "totalPages": 8
                    },
                    "summary": {
                      "totalEvents": 150,
                      "todayEvents": 12,
                      "highPriorityEvents": 5,
                      "recentActivityTypes": [
                        "activity_created",
                        "registration_received"
                      ]
                    }
                  },
                  "message": "Timeline数据获取成功"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "500": {
            "$ref": "#/components/responses/ServerError"
          }
        }
      }
    },
    "/api/centers/activity/dashboard": {
      "get": {
        "summary": "获取活动中心仪表板聚合数据",
        "description": "获取活动中心的综合仪表板数据，包括统计信息、活动模板、最新报名、活动计划等。\n\n**仪表板内容：**\n- **统计信息**: 活动、报名、评分等关键指标\n- **活动模板**: 热门和推荐的活动模板\n- **最新报名**: 实时报名动态\n- **活动计划**: 当前和计划中的活动\n- **海报模板**: 活动宣传模板\n- **性能数据**: 响应时间和数据统计\n\n**业务场景：**\n- 活动管理中心首页展示\n- 快速了解活动运营状况\n- 监控关键业务指标\n- 发现热门活动和趋势\n\n**数据特点：**\n- 实时聚合计算\n- 多维度数据展示\n- 包含趋势和对比数据\n- 支持快速决策参考\n",
        "tags": [
          "活动中心"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "refresh",
            "schema": {
              "type": "boolean",
              "default": false
            },
            "description": "是否强制刷新缓存数据",
            "example": false
          },
          {
            "in": "query",
            "name": "includeDetailed",
            "schema": {
              "type": "boolean",
              "default": false
            },
            "description": "是否包含详细的分析数据",
            "example": true
          },
          {
            "in": "query",
            "name": "timeRange",
            "schema": {
              "type": "string",
              "enum": [
                "today",
                "week",
                "month",
                "quarter"
              ],
              "default": "month"
            },
            "description": "统计时间范围",
            "example": "month"
          }
        ],
        "responses": {
          "200": {
            "description": "活动中心仪表板数据获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/ActivityCenterDashboard"
                    },
                    "message": {
                      "type": "string",
                      "example": "活动中心仪表板数据获取成功"
                    }
                  }
                },
                "example": {
                  "success": true,
                  "data": {
                    "statistics": {
                      "totalActivities": 150,
                      "ongoingActivities": 12,
                      "completedActivities": 120,
                      "cancelledActivities": 18,
                      "totalRegistrations": 2850,
                      "activeRegistrations": 450,
                      "averageRating": 4.6,
                      "totalParticipants": 3200,
                      "monthlyGrowth": 15.5
                    },
                    "activityTemplates": [
                      {
                        "id": 1,
                        "name": "户外探索活动模板",
                        "category": "户外活动",
                        "description": "适合幼儿园的户外探索和自然学习活动",
                        "duration": 120,
                        "maxParticipants": 30,
                        "ageRange": {
                          "min": 3,
                          "max": 6
                        },
                        "materials": [
                          "放大镜",
                          "收集袋",
                          "记录本",
                          "彩色笔"
                        ],
                        "objectives": [
                          "培养观察力",
                          "增强团队协作",
                          "学习自然知识"
                        ],
                        "usageCount": 45,
                        "averageRating": 4.8,
                        "createdAt": "2023-10-01T08:00:00Z"
                      }
                    ],
                    "recentRegistrations": {
                      "list": [
                        {
                          "id": 123,
                          "activityId": 45,
                          "activityTitle": "春季科学探索营",
                          "participantName": "王小明",
                          "participantAge": 5,
                          "parentName": "王先生",
                          "registrationDate": "2023-12-01T14:30:00Z",
                          "status": "confirmed",
                          "paymentStatus": "paid"
                        }
                      ],
                      "total": 50
                    },
                    "activityPlans": [
                      {
                        "id": 78,
                        "title": "12月份圣诞主题活动周",
                        "description": "为期一周的圣诞主题教育活动",
                        "startDate": "2023-12-18T09:00:00Z",
                        "endDate": "2023-12-22T17:00:00Z",
                        "status": "active",
                        "targetParticipants": 120,
                        "currentRegistrations": 85,
                        "budget": {
                          "planned": 15000,
                          "spent": 8750.5
                        },
                        "responsibleTeacher": "李老师"
                      }
                    ],
                    "posterTemplates": {
                      "data": [
                        {
                          "id": 5,
                          "name": "圣诞活动海报模板",
                          "thumbnail": "https://example.com/poster-thumb.jpg",
                          "category": "节日活动",
                          "usageCount": 28
                        }
                      ]
                    },
                    "meta": {
                      "responseTime": 245.5,
                      "dataCount": {
                        "activities": 150,
                        "templates": 25,
                        "registrations": 2850,
                        "plans": 12
                      },
                      "lastUpdated": "2023-12-01T10:30:00Z"
                    }
                  },
                  "message": "活动中心仪表板数据获取成功"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "500": {
            "$ref": "#/components/responses/ServerError"
          }
        }
      }
    },
    "/api/centers/activity/cache/stats": {
      "get": {
        "summary": "获取活动中心缓存统计",
        "description": "获取活动中心的缓存使用统计信息，用于监控和优化缓存性能。\n\n**统计指标：**\n- **缓存键数量**: 当前存储的缓存项总数\n- **内存使用**: 缓存占用的内存情况\n- **命中率**: 缓存命中和未命中统计\n- **驱逐统计**: 缓存清理和过期情况\n- **TTL分析**: 生存时间分布\n\n**业务场景：**\n- 监控缓存性能和效率\n- 识别缓存配置问题\n- 优化内存使用策略\n- 分析缓存命中模式\n\n**优化建议：**\n- 命中率低于80%时考虑调整缓存策略\n- 内存使用率超过90%时需要清理或扩容\n- 驱逐次数过多时可能需要增加内存\n",
        "tags": [
          "活动中心"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "detailed",
            "schema": {
              "type": "boolean",
              "default": false
            },
            "description": "是否返回详细的缓存键信息",
            "example": true
          },
          {
            "in": "query",
            "name": "keyPattern",
            "schema": {
              "type": "string"
            },
            "description": "按键模式过滤统计",
            "example": "activity_*"
          }
        ],
        "responses": {
          "200": {
            "description": "缓存统计获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/CacheStats"
                    },
                    "message": {
                      "type": "string",
                      "example": "缓存统计获取成功"
                    }
                  }
                },
                "example": {
                  "success": true,
                  "data": {
                    "totalKeys": 156,
                    "memoryUsage": {
                      "used": 52428800,
                      "total": 104857600,
                      "percentage": 50
                    },
                    "hitRate": 85.6,
                    "missRate": 14.4,
                    "evictions": 12,
                    "averageTtl": 3600,
                    "oldestKey": "activity_stats_20231101",
                    "oldestKeyAge": 2592000
                  },
                  "message": "缓存统计获取成功"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "500": {
            "$ref": "#/components/responses/ServerError"
          }
        }
      }
    },
    "/api/centers/activity/cache/clear": {
      "post": {
        "summary": "清除活动中心缓存",
        "description": "清除活动中心的缓存数据，支持选择性清理和全部清理。\n\n**清理类型：**\n- **全部清理**: 清除所有活动中心相关缓存\n- **选择性清理**: 按模式或类型清理特定缓存\n- **过期清理**: 仅清理过期的缓存项\n\n**业务场景：**\n- 数据更新后强制刷新缓存\n- 解决缓存数据不一致问题\n- 释放内存空间\n- 系统维护后的缓存重置\n\n**注意事项：**\n- 清除后首次访问会较慢\n- 可能短暂影响系统性能\n- 建议在低峰期执行\n- 清理操作不可逆\n",
        "tags": [
          "活动中心"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "clearAll",
            "schema": {
              "type": "boolean",
              "default": false
            },
            "description": "是否清除所有缓存",
            "example": true
          },
          {
            "in": "query",
            "name": "pattern",
            "schema": {
              "type": "string"
            },
            "description": "按键模式清除缓存（如：activity_*, template_*）",
            "example": "activity_stats_*"
          },
          {
            "in": "query",
            "name": "force",
            "schema": {
              "type": "boolean",
              "default": false
            },
            "description": "是否强制清除（忽略锁保护）",
            "example": false
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "reason": {
                    "type": "string",
                    "description": "清除原因",
                    "example": "数据更新后刷新缓存"
                  },
                  "notifyAdmins": {
                    "type": "boolean",
                    "description": "是否通知管理员",
                    "default": false,
                    "example": true
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "缓存清除成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "clearedKeys": {
                          "type": "integer",
                          "description": "清除的键数量",
                          "example": 45
                        },
                        "freedMemory": {
                          "type": "integer",
                          "description": "释放的内存（字节）",
                          "example": 15728640
                        },
                        "clearedPatterns": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          },
                          "description": "清除的键模式",
                          "example": [
                            "activity_stats_*",
                            "template_cache_*"
                          ]
                        },
                        "duration": {
                          "type": "number",
                          "format": "float",
                          "description": "清理耗时（毫秒）",
                          "example": 125.5
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "缓存清除成功"
                    }
                  }
                },
                "example": {
                  "success": true,
                  "data": {
                    "clearedKeys": 45,
                    "freedMemory": 15728640,
                    "clearedPatterns": [
                      "activity_stats_*",
                      "template_cache_*"
                    ],
                    "duration": 125.5
                  },
                  "message": "缓存清除成功"
                }
              }
            }
          },
          "400": {
            "description": "请求参数错误",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "error": "清除模式无效，请检查参数",
                  "code": 400
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/UnauthorizedError"
          },
          "403": {
            "$ref": "#/components/responses/ForbiddenError"
          },
          "500": {
            "$ref": "#/components/responses/ServerError"
          }
        }
      }
    },
    "/api/centers/customer-pool/dashboard": {
      "get": {
        "summary": "获取客户池中心仪表板聚合数据",
        "description": "获取客户池中心首页所需的全部聚合数据，包括客户统计、客户池列表、\n最近客户、转化分析和渠道分析等。采用并行查询优化性能，减少前端请求次数。\n\n**业务场景**：\n- 客户池中心首页数据展示\n- 客户管理仪表板\n- 招生效果分析\n- 渠道效果监控\n\n**权限要求**：需要客户池管理权限\n\n**数据内容**：\n1. **客户池统计数据**：总数、活跃、潜在、已转化客户及转化率\n2. **客户池列表**：分页显示客户池信息及客户数量\n3. **最近客户**：最新添加/更新的客户信息\n4. **转化分析**：按状态分组的客户转化情况\n5. **渠道分析**：各来源渠道的客户数量和转化效果\n\n**性能优化**：\n- 并行执行5个查询任务\n- 返回响应时间统计\n- 数据计数元信息\n\n**业务价值**：\n- 实时监控客户资源状况\n- 分析渠道投资回报率\n- 优化客户转化策略\n- 支持数据驱动决策\n",
        "tags": [
          "客户池中心管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "客户池中心仪表板数据获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/CustomerPoolDashboard"
                    },
                    "message": {
                      "type": "string",
                      "example": "客户池中心仪表板数据获取成功"
                    }
                  }
                },
                "examples": {
                  "success_response": {
                    "summary": "成功响应示例",
                    "value": {
                      "success": true,
                      "data": {
                        "poolStatistics": {
                          "totalCustomers": 1250,
                          "activeCustomers": 850,
                          "potentialCustomers": 320,
                          "convertedCustomers": 180,
                          "conversionRate": 22.5
                        },
                        "customerPools": {
                          "data": [
                            {
                              "id": 1,
                              "name": "春季招生潜在客户",
                              "description": "2025年春季招生收集的潜在客户信息",
                              "status": "active",
                              "customer_count": 125,
                              "created_at": "2025-01-01T00:00:00.000Z",
                              "updated_at": "2025-01-15T10:30:00.000Z"
                            },
                            {
                              "id": 2,
                              "name": "开放日活动客户",
                              "description": "校园开放日收集的意向客户",
                              "status": "active",
                              "customer_count": 85,
                              "created_at": "2025-01-08T00:00:00.000Z",
                              "updated_at": "2025-01-14T16:45:00.000Z"
                            }
                          ],
                          "pagination": {
                            "page": 1,
                            "pageSize": 10,
                            "total": 8
                          }
                        },
                        "recentCustomers": [
                          {
                            "id": 1234,
                            "name": "张小明",
                            "phone": "13800138000",
                            "email": "zhangxm@example.com",
                            "status": "potential",
                            "source": "线上推广",
                            "pool_name": "春季招生潜在客户",
                            "created_at": "2025-01-15T10:30:00.000Z",
                            "updated_at": "2025-01-16T14:20:00.000Z"
                          },
                          {
                            "id": 1235,
                            "name": "李小红",
                            "phone": "13900139000",
                            "email": "lixh@example.com",
                            "status": "active",
                            "source": "开放日活动",
                            "pool_name": "开放日活动客户",
                            "created_at": "2025-01-14T09:15:00.000Z",
                            "updated_at": "2025-01-15T11:30:00.000Z"
                          }
                        ],
                        "conversionAnalysis": [
                          {
                            "status": "potential",
                            "count": 320,
                            "percentage": 40
                          },
                          {
                            "status": "active",
                            "count": 300,
                            "percentage": 37.5
                          },
                          {
                            "status": "converted",
                            "count": 180,
                            "percentage": 22.5
                          },
                          {
                            "status": "lost",
                            "count": 0,
                            "percentage": 0
                          }
                        ],
                        "channelAnalysis": [
                          {
                            "channel": "线上推广",
                            "customer_count": 450,
                            "converted_count": 120,
                            "conversion_rate": 26.7
                          },
                          {
                            "channel": "开放日活动",
                            "customer_count": 280,
                            "converted_count": 85,
                            "conversion_rate": 30.4
                          },
                          {
                            "channel": "地推宣传",
                            "customer_count": 220,
                            "converted_count": 45,
                            "conversion_rate": 20.5
                          },
                          {
                            "channel": "老客户推荐",
                            "customer_count": 180,
                            "converted_count": 95,
                            "conversion_rate": 52.8
                          },
                          {
                            "channel": "社区合作",
                            "customer_count": 120,
                            "converted_count": 35,
                            "conversion_rate": 29.2
                          }
                        ],
                        "meta": {
                          "userId": 1,
                          "userRole": "admin",
                          "responseTime": 156,
                          "dataCount": {
                            "pools": 8,
                            "customers": 10,
                            "channels": 5
                          }
                        }
                      },
                      "message": "客户池中心仪表板数据获取成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "未授权访问"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "权限不足"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "客户池中心仪表板数据获取失败"
                    },
                    "error": {
                      "type": "string",
                      "example": "数据库连接超时"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/centers/finance/fee-items": {
      "get": {
        "summary": "获取收费项目列表",
        "description": "获取幼儿园所有收费项目列表，支持按类别和状态筛选。\n\n**业务场景**：\n- 财务人员查看所有可收费项目\n- 为学生生成缴费单时选择收费项目\n- 管理员配置收费标准\n\n**权限要求**：需要财务管理权限\n\n**筛选条件**：\n- `category`: 按收费类别筛选（学费、杂费、餐费等）\n- `status`: 按状态筛选（active/inactive）\n\n**返回结果**：按类别和名称排序的收费项目列表\n",
        "tags": [
          "财务中心管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "category",
            "schema": {
              "type": "string",
              "enum": [
                "学费",
                "杂费",
                "餐费",
                "住宿费",
                "活动费",
                "材料费",
                "其他"
              ]
            },
            "description": "收费类别筛选",
            "example": "学费"
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string",
              "enum": [
                "active",
                "inactive"
              ],
              "default": "active"
            },
            "description": "项目状态筛选",
            "example": "active"
          }
        ],
        "responses": {
          "200": {
            "description": "收费项目列表获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/FeeItem"
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "获取收费项目成功"
                    }
                  }
                },
                "examples": {
                  "success_response": {
                    "summary": "成功响应示例",
                    "value": {
                      "success": true,
                      "data": [
                        {
                          "id": "1",
                          "name": "学费",
                          "category": "学费",
                          "amount": 3000,
                          "period": "月度",
                          "isRequired": true,
                          "description": "基础教育费用",
                          "status": "active"
                        },
                        {
                          "id": "2",
                          "name": "餐费",
                          "category": "餐费",
                          "amount": 500,
                          "period": "月度",
                          "isRequired": true,
                          "description": "每日餐食费用",
                          "status": "active"
                        }
                      ],
                      "message": "获取收费项目成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "未授权访问"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "权限不足",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "权限不足"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "获取收费项目失败"
                    },
                    "error": {
                      "type": "string",
                      "example": "数据库连接错误"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/centers/finance/payment-records": {
      "get": {
        "summary": "获取缴费记录列表",
        "description": "获取幼儿园缴费记录列表，支持多条件筛选和分页查询。\n\n**业务场景**：\n- 财务人员查询缴费记录\n- 生成缴费报表和统计\n- 追查缴费问题和异常\n\n**权限要求**：需要财务管理权限\n\n**查询功能**：\n- 支持按缴费状态筛选（待缴费、已缴费、退款等）\n- 支持按学生姓名模糊查询\n- 支持按时间范围查询\n- 支持分页浏览大量数据\n\n**关联数据**：自动关联缴费单信息，显示学生详情\n",
        "tags": [
          "财务中心管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            },
            "description": "页码",
            "example": 1
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 10
            },
            "description": "每页记录数",
            "example": 10
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string",
              "enum": [
                "pending",
                "processing",
                "success",
                "failed",
                "refunded"
              ]
            },
            "description": "缴费状态筛选",
            "example": "success"
          },
          {
            "in": "query",
            "name": "studentName",
            "schema": {
              "type": "string"
            },
            "description": "学生姓名模糊查询",
            "example": "张"
          },
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "开始日期",
            "example": "2025-01-01"
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "结束日期",
            "example": "2025-01-31"
          }
        ],
        "responses": {
          "200": {
            "description": "缴费记录列表获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "records": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/PaymentRecord"
                          }
                        },
                        "pagination": {
                          "type": "object",
                          "properties": {
                            "page": {
                              "type": "integer",
                              "description": "当前页码",
                              "example": 1
                            },
                            "limit": {
                              "type": "integer",
                              "description": "每页记录数",
                              "example": 10
                            },
                            "total": {
                              "type": "integer",
                              "description": "总记录数",
                              "example": 156
                            },
                            "totalPages": {
                              "type": "integer",
                              "description": "总页数",
                              "example": 16
                            }
                          }
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "获取缴费记录成功"
                    }
                  }
                },
                "examples": {
                  "success_response": {
                    "summary": "成功响应示例",
                    "value": {
                      "success": true,
                      "data": {
                        "records": [
                          {
                            "id": "1",
                            "billId": "1",
                            "billNo": "FEE-2025-001",
                            "studentName": "张三",
                            "className": "大班A组",
                            "feeItems": [
                              "学费",
                              "餐费"
                            ],
                            "paymentAmount": 3500,
                            "paymentDate": "2025-01-15",
                            "paymentMethod": "支付宝",
                            "transactionNo": "202501152000123456789",
                            "receiptNo": "RCP-2025-001",
                            "payerName": "张父",
                            "payerPhone": "13800138000",
                            "status": "success",
                            "remarks": "正常缴费"
                          }
                        ],
                        "pagination": {
                          "page": 1,
                          "limit": 10,
                          "total": 156,
                          "totalPages": 16
                        }
                      },
                      "message": "获取缴费记录成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "403": {
            "description": "权限不足"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/centers/finance/reports": {
      "get": {
        "summary": "获取财务报表数据",
        "description": "获取幼儿园财务报表数据，包括收入分析、收费完成率和费用类别分析。\n\n**业务场景**：\n- 园长查看月度财务状况\n- 财务人员生成财务报表\n- 管理层分析收入结构和趋势\n\n**权限要求**：需要财务管理权限\n\n**报表内容**：\n- 月度收入对比（当月vs上月）\n- 收费完成率统计\n- 费用类别收入分析\n- 支持自定义时间范围查询\n\n**数据分析**：\n- 自动计算收入增长率\n- 统计各费用类别占比\n- 识别主要收入来源\n",
        "tags": [
          "财务中心管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "报表开始日期（不指定则默认为当月1日）",
            "example": "2025-01-01"
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "报表结束日期（不指定则默认为当月最后一天）",
            "example": "2025-01-31"
          }
        ],
        "responses": {
          "200": {
            "description": "财务报表数据获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/FinancialReport"
                    },
                    "message": {
                      "type": "string",
                      "example": "获取财务报表成功"
                    }
                  }
                },
                "examples": {
                  "success_response": {
                    "summary": "成功响应示例",
                    "value": {
                      "success": true,
                      "data": {
                        "monthlyIncome": {
                          "current": 150000,
                          "previous": 135000,
                          "growth": 11.1
                        },
                        "feeCollection": {
                          "collected": 85.5,
                          "pending": 14.5
                        },
                        "categoryBreakdown": [
                          {
                            "category": "学费",
                            "amount": 120000,
                            "percentage": 80
                          },
                          {
                            "category": "餐费",
                            "amount": 30000,
                            "percentage": 20
                          }
                        ]
                      },
                      "message": "获取财务报表成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "403": {
            "description": "权限不足"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/centers/finance/enrollment-finance": {
      "get": {
        "summary": "获取招生财务联动数据",
        "description": "获取招生与财务的联动分析数据，包括报名费、押金收入和新生缴费情况。\n\n**业务场景**：\n- 招生部门查看招生带来的财务收益\n- 财务部门追踪新生缴费情况\n- 管理层分析招生效果和经济收益\n\n**权限要求**：需要招生和财务管理权限\n\n**数据维度**：\n- 招生费用统计（报名费、押金等）\n- 新生缴费记录和状态\n- 招生转化率分析\n- 时间趋势分析\n\n**关键指标**：\n- 报名费收入统计\n- 押金收入统计\n- 新生缴费完成率\n- 平均新生缴费金额\n",
        "tags": [
          "财务中心管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "查询开始日期（不指定则默认为当月1日）",
            "example": "2025-01-01"
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "查询结束日期（不指定则默认为当月最后一天）",
            "example": "2025-01-31"
          }
        ],
        "responses": {
          "200": {
            "description": "招生财务联动数据获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/EnrollmentFinanceData"
                    },
                    "message": {
                      "type": "string",
                      "example": "获取招生财务联动数据成功"
                    }
                  }
                },
                "examples": {
                  "success_response": {
                    "summary": "成功响应示例",
                    "value": {
                      "success": true,
                      "data": {
                        "enrollmentFees": {
                          "registrationFee": 5000,
                          "depositFee": 30000,
                          "totalCollected": 35000
                        },
                        "newStudentPayments": [
                          {
                            "studentName": "小明",
                            "enrollmentDate": "2025-01-10",
                            "feesCollected": 3500,
                            "status": "completed"
                          },
                          {
                            "studentName": "小红",
                            "enrollmentDate": "2025-01-12",
                            "feesCollected": 3000,
                            "status": "partial"
                          }
                        ]
                      },
                      "message": "获取招生财务联动数据成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "403": {
            "description": "权限不足"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/centers/finance/overview": {
      "get": {
        "summary": "获取财务概览数据",
        "description": "获取财务中心首页概览数据，包括关键财务指标和趋势分析。\n\n**业务场景**：\n- 财务中心仪表板显示\n- 快速了解财务状况\n- 关键指标实时监控\n\n**权限要求**：需要财务管理权限\n\n**核心指标**：\n- 月度收入和增长率\n- 待缴费金额和笔数\n- 收费完成率统计\n- 逾期缴费监控\n\n**数据用途**：\n- 财务仪表板展示\n- 管理层决策支持\n- 财务健康度评估\n",
        "tags": [
          "财务中心管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "财务概览数据获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "monthlyRevenue": {
                          "type": "number",
                          "description": "本月收入（元）",
                          "example": 150000
                        },
                        "revenueGrowth": {
                          "type": "number",
                          "description": "收入增长率（%）",
                          "example": 11.1
                        },
                        "pendingAmount": {
                          "type": "number",
                          "description": "待缴费金额（元）",
                          "example": 25000
                        },
                        "pendingCount": {
                          "type": "number",
                          "description": "待缴费笔数",
                          "example": 15
                        },
                        "collectionRate": {
                          "type": "number",
                          "description": "收费完成率（%）",
                          "example": 85.5
                        },
                        "paidCount": {
                          "type": "number",
                          "description": "已缴费笔数",
                          "example": 85
                        },
                        "totalCount": {
                          "type": "number",
                          "description": "总缴费单数",
                          "example": 100
                        },
                        "overdueAmount": {
                          "type": "number",
                          "description": "逾期金额（元）",
                          "example": 5000
                        },
                        "overdueCount": {
                          "type": "number",
                          "description": "逾期笔数",
                          "example": 3
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "example": "获取财务概览成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "403": {
            "description": "权限不足"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/centers/finance/today-payments": {
      "get": {
        "summary": "获取今日缴费数据",
        "description": "获取当日缴费汇总数据和详细记录，用于实时监控缴费情况。\n\n**业务场景**：\n- 财务人员查看当日缴费情况\n- 实时监控缴费进度\n- 生成日报数据\n\n**权限要求**：需要财务管理权限\n\n**数据内容**：\n- 今日缴费总额和笔数\n- 今日缴费详细记录\n- 支付方式统计\n- 实时数据更新\n\n**使用场景**：\n- 财务日报生成\n- 收银台监控\n- 缴费异常提醒\n",
        "tags": [
          "财务中心管理"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "今日缴费数据获取成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/TodayPaymentSummary"
                    },
                    "message": {
                      "type": "string",
                      "example": "今日缴费数据获取成功"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问"
          },
          "403": {
            "description": "权限不足"
          },
          "500": {
            "description": "服务器内部错误"
          }
        }
      }
    },
    "/api/customer-pool/stats": {
      "get": {
        "summary": "获取客户池统计",
        "description": "获取客户池的总体统计信息，包括总数量、今日新增、转化数量等",
        "tags": [
          "Customer Pool"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "获取客户池统计成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取客户池统计成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "total": {
                          "type": "integer",
                          "description": "客户总数",
                          "example": 120
                        },
                        "newToday": {
                          "type": "integer",
                          "description": "今日新增客户数",
                          "example": 8
                        },
                        "converted": {
                          "type": "integer",
                          "description": "已转化客户数",
                          "example": 35
                        },
                        "followUp": {
                          "type": "integer",
                          "description": "需要跟进的客户数",
                          "example": 45
                        },
                        "categories": {
                          "type": "object",
                          "description": "客户分类统计",
                          "properties": {
                            "interested": {
                              "type": "integer",
                              "description": "有兴趣的客户数",
                              "example": 60
                            },
                            "considering": {
                              "type": "integer",
                              "description": "考虑中的客户数",
                              "example": 30
                            },
                            "notInterested": {
                              "type": "integer",
                              "description": "无兴趣的客户数",
                              "example": 20
                            },
                            "converted": {
                              "type": "integer",
                              "description": "已转化的客户数",
                              "example": 10
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "未授权访问"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "获取客户池统计失败"
                    },
                    "error": {
                      "type": "string",
                      "example": "Internal server error"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/customer-pool/list": {
      "get": {
        "summary": "获取客户池列表",
        "description": "分页获取客户池列表，支持分页查询",
        "tags": [
          "Customer Pool"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 10
            },
            "description": "每页数量"
          }
        ],
        "responses": {
          "200": {
            "description": "获取客户池列表成功",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "获取客户池列表成功"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "list": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "integer",
                                "description": "客户ID",
                                "example": 1
                              },
                              "name": {
                                "type": "string",
                                "description": "客户姓名",
                                "example": "客户1"
                              },
                              "phone": {
                                "type": "string",
                                "description": "客户电话",
                                "example": "13912345678"
                              },
                              "source": {
                                "type": "string",
                                "description": "客户来源",
                                "enum": [
                                  "广告",
                                  "转介绍",
                                  "活动",
                                  "自然流量"
                                ],
                                "example": "广告"
                              },
                              "interest": {
                                "type": "integer",
                                "description": "兴趣程度(0-4)",
                                "minimum": 0,
                                "maximum": 4,
                                "example": 3
                              },
                              "status": {
                                "type": "string",
                                "description": "客户状态",
                                "enum": [
                                  "新客户",
                                  "已联系",
                                  "已邀约",
                                  "已转化",
                                  "无意向"
                                ],
                                "example": "新客户"
                              },
                              "createdAt": {
                                "type": "string",
                                "format": "date-time",
                                "description": "创建时间",
                                "example": "2024-01-01T00:00:00.000Z"
                              }
                            }
                          }
                        },
                        "pagination": {
                          "type": "object",
                          "properties": {
                            "page": {
                              "type": "integer",
                              "description": "当前页码",
                              "example": 1
                            },
                            "pageSize": {
                              "type": "integer",
                              "description": "每页数量",
                              "example": 10
                            },
                            "total": {
                              "type": "integer",
                              "description": "总记录数",
                              "example": 120
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "未授权访问",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "未授权访问"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "服务器内部错误",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "获取客户池列表失败"
                    },
                    "error": {
                      "type": "string",
                      "example": "Internal server error"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/usage-center/overview": {
      "get": {
        "summary": "获取用量中心概览统计",
        "tags": [
          "用量中心"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string"
            },
            "description": "开始日期 (YYYY-MM-DD)"
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string"
            },
            "description": "结束日期 (YYYY-MM-DD)"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取概览统计"
          }
        }
      }
    },
    "/api/usage-center/users": {
      "get": {
        "summary": "获取用户用量列表",
        "tags": [
          "用量中心"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer"
            },
            "description": "页码"
          },
          {
            "in": "query",
            "name": "pageSize",
            "schema": {
              "type": "integer"
            },
            "description": "每页数量"
          },
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string"
            },
            "description": "开始日期"
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string"
            },
            "description": "结束日期"
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取用户用量列表"
          }
        }
      }
    },
    "/api/usage-center/user/{userId}/detail": {
      "get": {
        "summary": "获取用户详细用量",
        "tags": [
          "用量中心"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "userId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "用户ID"
          },
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取用户详细用量"
          }
        }
      }
    },
    "/api/usage-center/my-usage": {
      "get": {
        "summary": "获取当前用户的用量统计（教师用）",
        "tags": [
          "用量中心"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取个人用量统计"
          }
        }
      }
    },
    "/api/usage-quota/user/{userId}": {
      "get": {
        "summary": "获取用户配额信息",
        "tags": [
          "用量配额"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "userId",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取配额信息"
          }
        }
      },
      "put": {
        "summary": "更新用户配额",
        "tags": [
          "用量配额"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "userId",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "monthlyQuota": {
                    "type": "integer"
                  },
                  "monthlyCostQuota": {
                    "type": "number"
                  },
                  "warningEnabled": {
                    "type": "boolean"
                  },
                  "warningThreshold": {
                    "type": "integer"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "配额更新成功"
          }
        }
      }
    },
    "/api/usage-quota/warnings": {
      "get": {
        "summary": "获取所有预警信息",
        "tags": [
          "用量配额"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取预警信息"
          }
        }
      }
    },
    "/api/user/profile": {
      "get": {
        "summary": "获取当前用户信息",
        "tags": [
          "用户个人中心"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功获取用户信息",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer"
                        },
                        "username": {
                          "type": "string"
                        },
                        "realName": {
                          "type": "string"
                        },
                        "email": {
                          "type": "string"
                        },
                        "phone": {
                          "type": "string"
                        },
                        "avatar": {
                          "type": "string"
                        },
                        "role": {
                          "type": "string"
                        },
                        "status": {
                          "type": "string"
                        },
                        "createdAt": {
                          "type": "string"
                        },
                        "lastLoginAt": {
                          "type": "string"
                        },
                        "loginCount": {
                          "type": "integer"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "put": {
        "summary": "更新用户信息",
        "tags": [
          "用户个人中心"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "realName": {
                    "type": "string",
                    "description": "真实姓名"
                  },
                  "email": {
                    "type": "string",
                    "description": "邮箱"
                  },
                  "phone": {
                    "type": "string",
                    "description": "手机号"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "更新成功"
          }
        }
      }
    },
    "/api/user/change-password": {
      "post": {
        "summary": "修改密码",
        "tags": [
          "用户个人中心"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "currentPassword",
                  "newPassword"
                ],
                "properties": {
                  "currentPassword": {
                    "type": "string",
                    "description": "当前密码"
                  },
                  "newPassword": {
                    "type": "string",
                    "description": "新密码"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "密码修改成功"
          }
        }
      }
    },
    "/api/user/upload-avatar": {
      "post": {
        "summary": "上传头像",
        "tags": [
          "用户个人中心"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "avatar": {
                    "type": "string",
                    "format": "binary"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "头像上传成功"
          }
        }
      }
    }
  },
  "responses": {
    "UnauthorizedError": {
      "description": "未认证或token无效",
      "content": {
        "application/json": {
          "schema": {
            "type": "object",
            "properties": {
              "success": {
                "type": "boolean",
                "example": false
              },
              "code": {
                "type": "string",
                "example": "UNAUTHORIZED"
              },
              "message": {
                "type": "string",
                "example": "认证失败"
              }
            }
          }
        }
      }
    },
    "ForbiddenError": {
      "description": "权限不足",
      "content": {
        "application/json": {
          "schema": {
            "type": "object",
            "properties": {
              "success": {
                "type": "boolean",
                "example": false
              },
              "code": {
                "type": "string",
                "example": "FORBIDDEN"
              },
              "message": {
                "type": "string",
                "example": "权限不足"
              }
            }
          }
        }
      }
    },
    "ValidationError": {
      "description": "请求参数验证失败",
      "content": {
        "application/json": {
          "schema": {
            "type": "object",
            "properties": {
              "success": {
                "type": "boolean",
                "example": false
              },
              "code": {
                "type": "string",
                "example": "VALIDATION_ERROR"
              },
              "message": {
                "type": "string",
                "example": "请求参数验证失败"
              },
              "errors": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "field": {
                      "type": "string",
                      "example": "classId"
                    },
                    "message": {
                      "type": "string",
                      "example": "班级ID不能为空"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "AlreadyCheckedInError": {
      "description": "已经签到",
      "content": {
        "application/json": {
          "schema": {
            "type": "object",
            "properties": {
              "success": {
                "type": "boolean",
                "example": false
              },
              "code": {
                "type": "string",
                "example": "ALREADY_CHECKED_IN"
              },
              "message": {
                "type": "string",
                "example": "今日已签到，请勿重复操作"
              }
            }
          }
        }
      }
    },
    "NotCheckedInError": {
      "description": "尚未签到",
      "content": {
        "application/json": {
          "schema": {
            "type": "object",
            "properties": {
              "success": {
                "type": "boolean",
                "example": false
              },
              "code": {
                "type": "string",
                "example": "NOT_CHECKED_IN"
              },
              "message": {
                "type": "string",
                "example": "请先签到后再签退"
              }
            }
          }
        }
      }
    }
  },
  "tags": [
    {
      "name": "Activities",
      "description": "活动管理API"
    },
    {
      "name": "AI Performance Monitor",
      "description": "AI性能监控相关接口"
    },
    {
      "name": "AI查询",
      "description": "AI数据库查询接口"
    },
    {
      "name": "AI快捷操作",
      "description": "AI助手快捷操作配置管理"
    },
    {
      "name": "测评系统管理",
      "description": "测评配置和题目的管理操作，需要管理员权限"
    },
    {
      "name": "评估功能",
      "description": "幼儿发展评估系统，支持免费测评、题目管理、成绩分析和成长轨迹追踪"
    },
    {
      "name": "自动配图",
      "description": "AI自动生成图像服务"
    },
    {
      "name": "批量导入服务",
      "description": "幼儿园管理系统批量数据导入接口"
    },
    {
      "name": "业务中心",
      "description": "业务中心管理API"
    },
    {
      "name": "Chat",
      "description": "在线咨询聊天管理"
    },
    {
      "name": "Marketing - Conversion Tracking",
      "description": "营销活动转化跟踪管理"
    },
    {
      "name": "CustomerApplications",
      "description": "客户申请管理API"
    },
    {
      "name": "Dashboard",
      "description": "仪表盘管理相关接口"
    },
    {
      "name": "DataImport",
      "description": "数据导入管理接口"
    },
    {
      "name": "Database Metadata",
      "description": "数据库元数据查询API（仅供AI工具内部使用）"
    },
    {
      "name": "文档实例管理",
      "description": "文档实例的创建、编辑、审核、版本管理等操作"
    },
    {
      "name": "EnrollmentPlan",
      "description": "招生计划管理接口"
    },
    {
      "name": "EnrollmentQuotas",
      "description": "招生名额管理"
    },
    {
      "name": "EnrollmentQuota",
      "description": "招生配额管理 - 管理幼儿园各班级的招生配额和招生计划"
    },
    {
      "name": "EnrollmentStatistics",
      "description": "招生统计管理"
    },
    {
      "name": "权限管理",
      "description": "系统权限修复和管理接口"
    },
    {
      "name": "路由管理",
      "description": "系统路由管理和配置"
    },
    {
      "name": "家长管理",
      "description": "家长信息管理"
    },
    {
      "name": "申请管理",
      "description": "入学申请管理"
    },
    {
      "name": "校园管理",
      "description": "校园概览和统计"
    },
    {
      "name": "营销分析",
      "description": "营销数据分析"
    },
    {
      "name": "系统设置",
      "description": "系统配置和设置"
    },
    {
      "name": "AI功能",
      "description": "AI相关功能"
    },
    {
      "name": "活动分析",
      "description": "活动数据分析"
    },
    {
      "name": "园长工作台",
      "description": "园长专用功能"
    },
    {
      "name": "MarketingCampaigns",
      "description": "营销活动管理API"
    },
    {
      "name": "MarketingCenter",
      "description": "营销中心API"
    },
    {
      "name": "通知中心",
      "description": "园长通知管理中心，提供通知统计、阅读跟踪、报告导出和消息推送功能"
    },
    {
      "name": "家长助手服务",
      "description": "幼儿园管理系统家长助手相关接口"
    },
    {
      "name": "认证",
      "description": "用户认证相关接口"
    },
    {
      "name": "Parent-Student Relations",
      "description": "家长-学生关系管理API"
    },
    {
      "name": "ParentStudentRelation",
      "description": "家长学生关系管理 - 管理家长与学生之间的关系信息"
    },
    {
      "name": "Performance Evaluations",
      "description": "性能评估管理"
    },
    {
      "name": "PerformanceReports",
      "description": "性能报告管理API"
    },
    {
      "name": "Permissions",
      "description": "权限管理"
    },
    {
      "name": "PosterTemplate",
      "description": "海报模板管理API"
    },
    {
      "name": "ReminderLogs",
      "description": "提醒日志管理"
    },
    {
      "name": "RolePermissions",
      "description": "角色权限关联管理API"
    },
    {
      "name": "会话管理",
      "description": "用户会话管理和监控接口"
    },
    {
      "name": "Statistics",
      "description": "统计数据管理"
    },
    {
      "name": "Students",
      "description": "学生管理接口"
    },
    {
      "name": "System",
      "description": "系统管理接口"
    },
    {
      "name": "TaskComments",
      "description": "任务评论管理"
    },
    {
      "name": "TeacherAttendance",
      "description": "教师考勤管理 - 管理教师对学生的考勤记录"
    },
    {
      "name": "TeacherCheckin",
      "description": "教师打卡管理 - 管理教师上下班打卡、请假申请和考勤统计"
    },
    {
      "name": "UnifiedStatistics",
      "description": "统一统计分析API"
    },
    {
      "name": "用户角色关联",
      "description": "用户角色关联管理API - 管理用户与角色之间的关联关系、权限分配和角色生效期管理"
    },
    {
      "name": "AI视频生成",
      "description": "基于AI的视频创作服务，包括脚本生成、配音合成、场景制作等"
    },
    {
      "name": "AI会话",
      "description": "管理AI系统的会话，包括创建、获取、更新和删除会话"
    },
    {
      "name": "AI反馈",
      "description": "管理用户对AI系统的反馈和评价"
    },
    {
      "name": "AI工具管理",
      "description": "AI功能工具和智能处理接口"
    },
    {
      "name": "AI消息管理",
      "description": "AI系统会话消息管理，支持多种消息类型、状态管理和流式处理"
    },
    {
      "name": "AI模型",
      "description": "管理AI系统支持的模型配置和计费规则"
    },
    {
      "name": "AI智能专家系统",
      "description": "AI智能专家系统，提供专业咨询、专家调度、智能分析和工具集成等功能"
    },
    {
      "name": "AI令牌监控",
      "description": "AI系统令牌使用情况监控，提供实时统计、性能监控、告警管理和优化建议"
    },
    {
      "name": "AI统一智能系统",
      "description": "幼儿园管理系统AI统一智能接口"
    },
    {
      "name": "活动中心",
      "description": "活动管理中心，提供活动统计、仪表板数据、时间线和缓存管理功能"
    }
  ]
}