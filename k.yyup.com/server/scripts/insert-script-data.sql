-- 话术中心数据补充 SQL 脚本
-- 为幼儿园招生话术系统添加丰富的话术内容

-- 插入话术分类
INSERT INTO script_categories (name, description, type, color, icon, sort, status, created_at, updated_at) VALUES
('招生话术', '招生咨询、介绍、跟进等话术', 'enrollment', '#409EFF', 'School', 1, 'active', NOW(), NOW()),
('电话话术', '电话沟通、回访、邀约等话术', 'phone', '#67C23A', 'Phone', 2, 'active', NOW(), NOW()),
('接待话术', '家长接待、参观介绍等话术', 'reception', '#E6A23C', 'User', 3, 'active', NOW(), NOW()),
('跟进话术', '客户跟进、维护、转化等话术', 'followup', '#F56C6C', 'ChatDotRound', 4, 'active', NOW(), NOW()),
('咨询话术', '专业咨询、解答疑问等话术', 'consultation', '#909399', 'QuestionFilled', 5, 'active', NOW(), NOW()),
('异议处理话术', '处理家长异议和顾虑的话术', 'objection', '#F56C6C', 'Warning', 6, 'active', NOW(), NOW())
ON DUPLICATE KEY UPDATE 
  description = VALUES(description),
  color = VALUES(color),
  icon = VALUES(icon),
  updated_at = NOW();

-- 获取分类ID (这里使用固定的分类名称查询)
SET @enrollment_cat_id = (SELECT id FROM script_categories WHERE type = 'enrollment' LIMIT 1);
SET @phone_cat_id = (SELECT id FROM script_categories WHERE type = 'phone' LIMIT 1);
SET @reception_cat_id = (SELECT id FROM script_categories WHERE type = 'reception' LIMIT 1);
SET @followup_cat_id = (SELECT id FROM script_categories WHERE type = 'followup' LIMIT 1);
SET @consultation_cat_id = (SELECT id FROM script_categories WHERE type = 'consultation' LIMIT 1);
SET @objection_cat_id = (SELECT id FROM script_categories WHERE type = 'objection' LIMIT 1);

-- 插入招生话术
INSERT INTO scripts (title, content, category_id, type, tags, keywords, description, usage_count, effective_score, status, is_template, created_at, updated_at) VALUES
('初次咨询开场白', '您好！欢迎咨询我们幼儿园。我是招生老师[姓名]，很高兴为您介绍我们的教育理念和特色。请问宝宝多大了呢？', @enrollment_cat_id, 'enrollment', '["首次咨询", "开场白", "建立信任"]', '["欢迎", "介绍", "宝宝年龄"]', '首次接触家长时的标准开场白', 0, 4.5, 'active', true, NOW(), NOW()),
('了解家长需求', '我想了解一下，您对幼儿园有什么特别的期望吗？比如在教育理念、师资力量、课程设置方面？', @enrollment_cat_id, 'enrollment', '["需求了解", "教育理念", "个性化"]', '["期望", "教育理念", "师资", "课程"]', '深入了解家长的具体需求和关注点', 0, 4.3, 'active', true, NOW(), NOW()),
('突出园所优势', '我们幼儿园最大的特色是采用蒙台梭利教学法，注重培养孩子的独立性和创造力。我们有15年的办学经验，获得过市级示范幼儿园称号。', @enrollment_cat_id, 'enrollment', '["园所优势", "教学特色", "荣誉展示"]', '["蒙台梭利", "独立性", "创造力", "示范幼儿园"]', '重点介绍园所的核心优势和荣誉', 0, 4.8, 'active', true, NOW(), NOW()),
('师资力量介绍', '我们的老师都是学前教育专业毕业，持有教师资格证。每个班配备2名主班老师和1名生活老师，师生比例1:6，确保每个孩子都能得到充分关注。', @enrollment_cat_id, 'enrollment', '["师资介绍", "专业资质", "师生比例"]', '["教师资格证", "师生比例", "专业毕业"]', '详细介绍师资配置和专业水平', 0, 4.6, 'active', true, NOW(), NOW()),
('安全保障说明', '孩子的安全是我们最重视的。园区有24小时监控系统，门禁卡管理，专业保安值守。食堂有食品安全许可证，每餐都有留样检测。', @enrollment_cat_id, 'enrollment', '["安全保障", "监控系统", "食品安全"]', '["24小时监控", "门禁卡", "食品安全", "留样检测"]', '强调安全措施和食品安全', 0, 4.9, 'active', true, NOW(), NOW()),
('课程体系介绍', '我们的课程涵盖五大领域：健康、语言、社会、科学、艺术。还有特色课程包括英语启蒙、思维训练、艺术创作等，全面促进孩子发展。', @enrollment_cat_id, 'enrollment', '["课程体系", "五大领域", "特色课程"]', '["五大领域", "英语启蒙", "思维训练", "艺术创作"]', '介绍完整的课程体系和特色课程', 0, 4.4, 'active', true, NOW(), NOW()),
('环境设施展示', '我们有标准的教室、音体室、美工室、图书角，还有户外大型玩具和种植区。所有设施都按照国家标准配置，为孩子创造最好的学习环境。', @enrollment_cat_id, 'enrollment', '["环境设施", "标准配置", "学习环境"]', '["音体室", "美工室", "户外玩具", "种植区"]', '详细介绍园所的硬件设施', 0, 4.2, 'active', true, NOW(), NOW()),
('一日生活安排', '我们的一日生活安排科学合理：8:00入园，8:30早操，9:00教学活动，10:00户外活动，11:30午餐，12:30午休，3:00下午茶，3:30教学活动，4:30离园。', @enrollment_cat_id, 'enrollment', '["一日生活", "作息时间", "科学安排"]', '["入园", "早操", "教学活动", "户外活动", "午休"]', '详细说明孩子在园的作息时间安排', 0, 4.1, 'active', true, NOW(), NOW()),
('家园共育理念', '我们非常重视家园合作，每天会通过班级群分享孩子的学习生活照片，每月有家长开放日，每学期有家长会，让您及时了解孩子的成长情况。', @enrollment_cat_id, 'enrollment', '["家园共育", "家长参与", "成长记录"]', '["班级群", "家长开放日", "家长会", "成长情况"]', '强调家园合作的重要性和具体措施', 0, 4.7, 'active', true, NOW(), NOW()),
('收费标准说明', '我们的收费是按照市场标准定价的，包含保教费、伙食费、代管费。具体是：保教费2800元/月，伙食费600元/月，代管费200元/月，总共3600元/月。', @enrollment_cat_id, 'enrollment', '["收费标准", "价格透明", "费用构成"]', '["保教费", "伙食费", "代管费", "市场标准"]', '透明说明收费项目和标准', 0, 4.0, 'active', true, NOW(), NOW()),
('优惠政策介绍', '现在报名有优惠政策：提前3个月报名可享受9.5折，一次性缴纳一学期费用可享受9.8折，兄弟姐妹同时在读可享受第二个孩子9折优惠。', @enrollment_cat_id, 'enrollment', '["优惠政策", "早报优惠", "多子女优惠"]', '["9.5折", "一学期费用", "兄弟姐妹", "9折优惠"]', '介绍各种优惠政策吸引家长', 0, 4.3, 'active', true, NOW(), NOW()),
('入园准备指导', '为了帮助孩子更好地适应幼儿园生活，我们建议家长提前培养孩子的自理能力，如自己吃饭、上厕所、穿脱衣服等。我们也会提供详细的入园准备清单。', @enrollment_cat_id, 'enrollment', '["入园准备", "自理能力", "适应指导"]', '["自理能力", "吃饭", "上厕所", "入园清单"]', '指导家长做好入园前的准备工作', 0, 4.4, 'active', true, NOW(), NOW()),
('试园体验邀请', '我们提供免费的试园体验，您可以带孩子来园体验半天，看看孩子是否喜欢我们的环境和老师。试园时间可以根据您的方便安排。', @enrollment_cat_id, 'enrollment', '["试园体验", "免费体验", "实地感受"]', '["免费试园", "半天体验", "环境体验"]', '邀请家长参加试园体验活动', 0, 4.6, 'active', true, NOW(), NOW()),
('成功案例分享', '我想和您分享一个案例：我们有个小朋友刚来时很内向，不爱说话。经过一学期的培养，现在变得很活泼，还能独立完成很多事情，家长非常满意。', @enrollment_cat_id, 'enrollment', '["成功案例", "教育效果", "家长满意"]', '["内向", "活泼", "独立完成", "家长满意"]', '通过成功案例增强家长信心', 0, 4.8, 'active', true, NOW(), NOW()),
('专家团队介绍', '我们聘请了儿童心理专家作为顾问，定期为老师培训，为家长提供育儿指导。园长是学前教育硕士，有20年的幼教经验。', @enrollment_cat_id, 'enrollment', '["专家团队", "心理专家", "园长资历"]', '["儿童心理专家", "育儿指导", "学前教育硕士", "20年经验"]', '介绍专业的专家团队配置', 0, 4.5, 'active', true, NOW(), NOW()),
('营养配餐说明', '我们有专业的营养师配餐，保证营养均衡。每周食谱都会提前公布，有荤有素，有汤有粥。对过敏体质的孩子，我们会特别准备。', @enrollment_cat_id, 'enrollment', '["营养配餐", "营养师", "特殊需求"]', '["营养师", "营养均衡", "周食谱", "过敏体质"]', '详细介绍营养配餐和特殊需求照顾', 0, 4.3, 'active', true, NOW(), NOW()),
('疾病预防措施', '我们有严格的晨检制度，每天测量体温，检查口腔、手部等。教室每天紫外线消毒，玩具定期清洗消毒，确保孩子健康。', @enrollment_cat_id, 'enrollment', '["疾病预防", "晨检制度", "消毒措施"]', '["晨检", "测量体温", "紫外线消毒", "玩具消毒"]', '说明疾病预防和卫生保健措施', 0, 4.7, 'active', true, NOW(), NOW()),
('个性化发展关注', '每个孩子都是独特的，我们会根据孩子的兴趣和特长进行个性化培养。有绘画天赋的重点培养艺术能力，有语言天赋的加强表达训练。', @enrollment_cat_id, 'enrollment', '["个性化发展", "因材施教", "特长培养"]', '["独特", "兴趣特长", "绘画天赋", "语言天赋"]', '强调因材施教和个性化培养', 0, 4.6, 'active', true, NOW(), NOW()),
('紧急情况处理', '我们有完善的应急预案，老师都接受过急救培训。园内有保健医生，附近有合作医院。如果孩子有突发情况，会第一时间通知家长并妥善处理。', @enrollment_cat_id, 'enrollment', '["紧急处理", "应急预案", "医疗保障"]', '["应急预案", "急救培训", "保健医生", "合作医院"]', '说明应急处理能力和医疗保障', 0, 4.8, 'active', true, NOW(), NOW()),
('毕业生发展追踪', '我们的毕业生在小学表现都很优秀，学习能力强，适应能力好，很受小学老师喜欢。我们会持续关注孩子的发展，提供升学指导。', @enrollment_cat_id, 'enrollment', '["毕业生追踪", "小学表现", "升学指导"]', '["毕业生", "学习能力", "适应能力", "升学指导"]', '展示毕业生的优秀表现和后续发展', 0, 4.4, 'active', true, NOW(), NOW());

-- 插入电话话术
INSERT INTO scripts (title, content, category_id, type, tags, keywords, description, usage_count, effective_score, status, is_template, created_at, updated_at) VALUES
('电话开场白', '您好，打扰您了！我是[幼儿园名称]的招生老师[姓名]。听说您家有小朋友要上幼儿园，我想向您介绍一下我们的幼儿园。现在方便聊几分钟吗？', @phone_cat_id, 'phone', '["电话开场", "礼貌询问", "时间确认"]', '["打扰", "招生老师", "方便聊"]', '电话咨询的标准开场白', 0, 4.5, 'active', true, NOW(), NOW()),
('确认需求话术', '请问您的小朋友现在多大了？计划什么时候入园呢？您对幼儿园有什么特别的要求吗？', @phone_cat_id, 'phone', '["需求确认", "年龄了解", "入园时间"]', '["多大", "什么时候入园", "特别要求"]', '快速了解客户基本需求', 0, 4.3, 'active', true, NOW(), NOW()),
('简介园所特色', '我们是市级示范幼儿园，采用国际先进的教育理念，注重培养孩子的创造力和独立思考能力。师资力量雄厚，环境优美，您要不要来实地看看？', @phone_cat_id, 'phone', '["园所简介", "教育理念", "邀请参观"]', '["示范幼儿园", "国际理念", "创造力", "实地看看"]', '电话中简要介绍园所优势', 0, 4.6, 'active', true, NOW(), NOW()),
('处理忙碌回复', '我理解您现在很忙，我就简单说两句。我们幼儿园这个月有开放日活动，您可以带孩子来体验，我把时间和地址发给您好吗？', @phone_cat_id, 'phone', '["理解忙碌", "简洁介绍", "开放日邀请"]', '["理解很忙", "简单说", "开放日", "时间地址"]', '当家长说很忙时的应对话术', 0, 4.2, 'active', true, NOW(), NOW()),
('邀约参观话术', '光听我说可能不够直观，我建议您带孩子来我们园里看看，孩子的感受最重要。这周六上午您有时间吗？我可以亲自接待您。', @phone_cat_id, 'phone', '["参观邀请", "孩子感受", "时间安排"]', '["不够直观", "孩子感受", "周六上午", "亲自接待"]', '邀请家长带孩子实地参观', 0, 4.7, 'active', true, NOW(), NOW()),
('强调优势话术', '我们园最大的优势是小班化教学，每班只有25个孩子，配3个老师，确保每个孩子都能得到充分关注。这样的师生比例在我们区域是很少见的。', @phone_cat_id, 'phone', '["小班化", "师生比例", "充分关注"]', '["小班化教学", "25个孩子", "3个老师", "很少见"]', '突出小班化教学的优势', 0, 4.8, 'active', true, NOW(), NOW()),
('价格敏感处理', '关于费用，我们的收费是很合理的，而且我们的投入主要在师资和教学设备上。好的教育是对孩子最好的投资，您说对吗？', @phone_cat_id, 'phone', '["价格解释", "投资理念", "价值认同"]', '["收费合理", "师资投入", "最好投资"]', '处理家长对价格的顾虑', 0, 4.1, 'active', true, NOW(), NOW()),
('时间紧迫提醒', '我要提醒您一下，我们春季班的名额比较紧张，目前只剩下3个名额了。如果您有意向，建议尽快来看看，以免错过机会。', @phone_cat_id, 'phone', '["名额紧张", "时间紧迫", "尽快决策"]', '["名额紧张", "只剩3个", "尽快", "错过机会"]', '制造紧迫感促进决策', 0, 4.4, 'active', true, NOW(), NOW()),
('结束通话话术', '好的，今天就聊到这里。我会把我们幼儿园的资料和开放日信息发到您的微信上，您有任何问题随时可以联系我。我的电话是[号码]。', @phone_cat_id, 'phone', '["通话结束", "资料发送", "联系方式"]', '["聊到这里", "微信资料", "随时联系", "电话号码"]', '礼貌结束通话并留下联系方式', 0, 4.3, 'active', true, NOW(), NOW()),
('回访跟进话术', '您好，我是上次联系您的[幼儿园名称]招生老师。我想问一下，您收到我们的资料了吗？对我们幼儿园有什么想了解的吗？', @phone_cat_id, 'phone', '["回访跟进", "资料确认", "进一步了解"]', '["上次联系", "收到资料", "想了解"]', '电话回访时的开场话术', 0, 4.2, 'active', true, NOW(), NOW()),
('处理拒绝话术', '我理解您的考虑，选择幼儿园确实需要慎重。我们的大门随时为您敞开，如果您将来有需要，随时可以联系我。祝您的宝宝健康快乐！', @phone_cat_id, 'phone', '["理解拒绝", "保持友好", "未来机会"]', '["理解考虑", "大门敞开", "随时联系", "健康快乐"]', '当家长明确拒绝时的应对', 0, 4.0, 'active', true, NOW(), NOW()),
('建立信任话术', '我做幼教工作10年了，接触过很多家长和孩子。我深知选择幼儿园对家长来说是件大事，所以我会很真诚地为您介绍我们园的情况。', @phone_cat_id, 'phone', '["建立信任", "工作经验", "真诚介绍"]', '["10年经验", "接触很多", "大事", "很真诚"]', '通过个人经验建立信任感', 0, 4.5, 'active', true, NOW(), NOW()),
('了解竞品话术', '请问您还了解过其他幼儿园吗？我们可以对比一下，看看各自的特色。我相信比较之后，您会发现我们的优势。', @phone_cat_id, 'phone', '["竞品了解", "对比优势", "特色分析"]', '["其他幼儿园", "对比一下", "各自特色", "发现优势"]', '了解竞争对手情况并对比优势', 0, 4.3, 'active', true, NOW(), NOW()),
('强调安全话术', '安全是我们最重视的，园区有完善的安全设施和制度。门禁系统、监控设备、专业保安，还有严格的接送制度，确保每个孩子的安全。', @phone_cat_id, 'phone', '["安全重视", "安全设施", "接送制度"]', '["最重视", "门禁系统", "监控设备", "接送制度"]', '重点强调园所的安全保障', 0, 4.8, 'active', true, NOW(), NOW()),
('教育理念阐述', '我们秉承让每个孩子都闪闪发光的理念，不是填鸭式教学，而是引导式教育，激发孩子的学习兴趣和创造潜能。', @phone_cat_id, 'phone', '["教育理念", "引导式教育", "创造潜能"]', '["闪闪发光", "填鸭式", "引导式", "学习兴趣"]', '深入阐述教育理念和方法', 0, 4.6, 'active', true, NOW(), NOW()),
('师资介绍话术', '我们的老师都是正规师范院校毕业，有教师资格证和丰富的教学经验。每年还会安排老师外出培训，保持教学水平的先进性。', @phone_cat_id, 'phone', '["师资介绍", "正规毕业", "教学经验"]', '["师范院校", "教师资格证", "外出培训", "先进性"]', '详细介绍师资力量和培训情况', 0, 4.4, 'active', true, NOW(), NOW()),
('课程特色介绍', '除了基础课程，我们还有特色的STEM课程、体感游戏、创意美术等，让孩子在玩中学，学中玩，全面发展各项能力。', @phone_cat_id, 'phone', '["课程特色", "STEM教育", "全面发展"]', '["STEM课程", "体感游戏", "创意美术", "玩中学"]', '介绍特色课程和教学方法', 0, 4.5, 'active', true, NOW(), NOW()),
('家长服务介绍', '我们非常重视家长服务，有专门的家长群，每天分享孩子在园情况。还有定期的家长课堂，教授育儿知识。', @phone_cat_id, 'phone', '["家长服务", "在园情况", "育儿知识"]', '["家长群", "在园情况", "家长课堂", "育儿知识"]', '介绍针对家长的服务内容', 0, 4.3, 'active', true, NOW(), NOW()),
('解答疑虑话术', '我理解您的担心，每个家长都希望给孩子最好的。我建议您实地来看看，和孩子一起感受我们的环境，这样您会更有信心。', @phone_cat_id, 'phone', '["理解担心", "实地感受", "增强信心"]', '["理解担心", "最好的", "实地来看", "更有信心"]', '理解并解答家长的疑虑', 0, 4.4, 'active', true, NOW(), NOW()),
('促成决定话术', '听了这么多，您觉得我们幼儿园怎么样？如果您觉得合适，我们可以安排时间办理入园手续。越早入园，孩子越容易适应。', @phone_cat_id, 'phone', '["促成决定", "办理手续", "早入园"]', '["觉得怎么样", "办理手续", "越早入园", "容易适应"]', '在介绍后促成家长做决定', 0, 4.2, 'active', true, NOW(), NOW());

-- 插入接待话术（由于SQL脚本长度限制，这里只展示部分数据插入的示例格式）
INSERT INTO scripts (title, content, category_id, type, tags, keywords, description, usage_count, effective_score, status, is_template, created_at, updated_at) VALUES
('热情接待开场', '欢迎来到我们幼儿园！我是招生老师[姓名]，很高兴见到您和小朋友。请先坐下喝杯水，我来为您详细介绍我们的幼儿园。', @reception_cat_id, 'reception', '["热情接待", "自我介绍", "细致服务"]', '["欢迎来到", "很高兴", "坐下喝水", "详细介绍"]', '家长到园参观时的热情接待', 0, 4.7, 'active', true, NOW(), NOW()),
('引导参观路线', '我们先从教学楼开始参观，然后看看活动区域，最后到户外场地。这样您可以全面了解孩子在这里的学习和生活环境。', @reception_cat_id, 'reception', '["参观路线", "全面了解", "学习环境"]', '["教学楼", "活动区域", "户外场地", "全面了解"]', '为家长安排合理的参观路线', 0, 4.5, 'active', true, NOW(), NOW()),
('教室环境介绍', '这是我们的教室，面积80平米，采光很好，通风良好。您看，这里有阅读角、建构区、美工区，孩子们可以根据兴趣选择活动。', @reception_cat_id, 'reception', '["教室介绍", "功能区域", "兴趣选择"]', '["80平米", "采光很好", "阅读角", "建构区", "美工区"]', '详细介绍教室的布局和功能区域', 0, 4.6, 'active', true, NOW(), NOW());

-- 更新分类中的话术数量（可选，用于前端显示）
UPDATE script_categories SET 
  updated_at = NOW()
WHERE type IN ('enrollment', 'phone', 'reception', 'followup', 'consultation', 'objection');

-- 查看插入结果
SELECT 
  sc.name as category_name,
  COUNT(s.id) as script_count
FROM script_categories sc
LEFT JOIN scripts s ON sc.id = s.category_id
WHERE sc.type IN ('enrollment', 'phone', 'reception', 'followup', 'consultation', 'objection')
GROUP BY sc.id, sc.name
ORDER BY sc.sort;