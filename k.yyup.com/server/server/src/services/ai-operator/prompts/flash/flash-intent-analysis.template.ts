/**
 * Flash模型精简意图分析模板
 * 在Flash模型进行意图识别时使用，专注于快速判断是否需要切换到Think模型
 */

export const flashIntentAnalysisTemplate = {
  name: 'flash_intent_analysis',
  description: 'Flash模型精简意图分析 - 快速判断查询复杂度和工具需求',
  variables: ['userQuery'],

  template: `## ⚡ Flash快速意图分析

你现在正在使用Flash模型进行快速意图分析。请基于以下用户查询，快速评估其复杂度：

### 📋 用户查询
\`\`\`
{{userQuery}}
\`\`\`

---

## 🔍 快速复杂度评估

### 第一步：工具数量预估
请估算完成这个查询**大约需要多少个工具调用**：

**工具数量计算标准**：
- **1个工具**：简单数据查询（如"查询所有学生"、"显示班级列表"）
- **2个工具**：包含基本分析或简单关联（如"查询学生并统计人数"）
- **3个工具**：包含对比分析或历史数据（如"对比本月和上月招生数据"）
- **4个及以上工具**：复杂的多步骤任务（如"分析招生趋势并生成建议报告"）

**关键判断词**：
- 多步骤操作：并且、同时、然后、然后...再... → +1个工具
- 分析对比：分析、对比、比较、趋势 → +1个工具
- 生成创建：生成、创建、制作、报表 → +1个工具
- 统计计算：统计、计算、汇总、占比 → +1个工具
- 更新编辑：更新、修改、编辑 → +1个工具

### 第二步：复杂度判断
- **简单查询**（≤2个工具）：直接回答，无需复杂分析
- **中等复杂**（3个工具）：可能需要一些分析和关联
- **高度复杂**（≥4个工具）：需要深度分析、多数据关联、智能建议

### 第三步：决策规则

**如果预估工具数量 ≥ 4个（高度复杂）**：
1. **必须切换到Think模型**进行深度分析
2. Think模型将进行完整的意图分析、关联查询规划
3. 提供更智能的数据洞察和行动建议

**如果预估工具数量 ≤ 3个（中低复杂度）**：
1. **继续使用Flash模型**直接处理
2. 进行标准的数据查询和回答
3. 保持高效响应

---

## 💡 核心决策指令

**🎯 关键问题**：这个查询是否需要超过3个工具调用才能完成？

**如果答案为"是"** → 立即建议使用Think模型，不要试图用Flash模型处理。

**如果答案为"否"** → 继续使用Flash模型高效处理。

**⚡ 记住**：我们的目标是
- 简单查询用Flash → 快速响应
- 复杂查询用Think → 深度分析
- 绝不为了速度而牺牲质量`

};

export default flashIntentAnalysisTemplate;