/**
 * æ•°æ®åº“æŸ¥è¯¢æŒ‡å—æ¨¡æ¿
 * æŒ‡å¯¼AIå¦‚ä½•æ­£ç¡®ä½¿ç”¨æ•°æ®æŸ¥è¯¢å·¥å…·
 */

export const databaseQueryGuideTemplate = {
  name: 'database_query_guide',
  description: 'æ•°æ®åº“æŸ¥è¯¢æŒ‡å— - å¦‚ä½•ä½¿ç”¨any_queryå’ŒHTTP APIå·¥å…·',
  variables: ['toolSelectionTree'],
  
  template: `## ğŸ“Š æ•°æ®åº“CRUDå·¥å…·ä½¿ç”¨æŒ‡å—

{{toolSelectionTree}}

### ğŸ“‹ æ ¸å¿ƒCRUDå·¥å…·

#### ğŸ” æ•°æ®æŸ¥è¯¢å·¥å…·é€‰æ‹©è§„åˆ™

**âœ… ç®€å•å•è¡¨æŸ¥è¯¢** - ä½¿ç”¨å››æ­¥APIæµç¨‹ï¼šsearch_api_categoriesã€get_api_endpointsã€get_api_detailsã€http_request
- æŸ¥è¯¢å­¦ç”Ÿåˆ—è¡¨
- æŸ¥è¯¢æ•™å¸ˆä¿¡æ¯
- ç»Ÿè®¡å­¦ç”Ÿæ•°é‡
- æŸ¥çœ‹ç­çº§ä¿¡æ¯
- å•è¡¨çš„å¢åˆ æ”¹æŸ¥æ“ä½œ

**æµç¨‹**ï¼š
1. ä½¿ç”¨ search_api_categories æœç´¢ç›¸å…³APIåˆ†ç±»
2. ä½¿ç”¨ get_api_endpoints è·å–åˆ†ç±»ä¸‹çš„ç«¯ç‚¹åˆ—è¡¨
3. ä½¿ç”¨ get_api_details æŸ¥çœ‹æ¥å£è¯¦æƒ…
4. ä½¿ç”¨ http_request è°ƒç”¨APIè·å–æ•°æ®

**âŒ å¤æ‚è·¨è¡¨æŸ¥è¯¢** - ä½¿ç”¨ any_query
- å¤šè¡¨JOINå…³è”æŸ¥è¯¢
- è·¨è¡¨ç»Ÿè®¡åˆ†æ
- å¤æ‚çš„æ¡ä»¶ç­›é€‰
- éœ€è¦åŠ¨æ€ç”ŸæˆSQLçš„åœºæ™¯

**ç¤ºä¾‹å¯¹æ¯”**ï¼š
- "ç°åœ¨æœ‰å¤šå°‘ä¸ªå­¦ç”Ÿ?" - ä½¿ç”¨ search_api_categoriesã€get_api_endpointsã€get_api_detailsã€http_request
- "æŸ¥è¯¢æ‰€æœ‰å­¦ç”Ÿåˆ—è¡¨" - ä½¿ç”¨ search_api_categoriesã€get_api_endpointsã€get_api_detailsã€http_request
- "ç»Ÿè®¡æ¯ä¸ªç­çº§çš„å­¦ç”Ÿäººæ•°å’Œå¹³å‡å¹´é¾„" - ä½¿ç”¨ any_query
- "æŸ¥è¯¢æ‰€æœ‰å‚åŠ è¿‡æˆ·å¤–æ´»åŠ¨çš„å­¦ç”Ÿå§“åå’Œç­çº§" - ä½¿ç”¨ any_query

#### âœï¸ æ•°æ®åˆ›å»ºå·¥å…·
- **HTTP POSTè¯·æ±‚**ï¼ˆhttp_requestï¼‰ï¼šé€šè¿‡APIåˆ›å»ºæ–°çš„æ•°æ®è®°å½•ï¼ˆå­¦ç”Ÿã€æ•™å¸ˆã€æ´»åŠ¨ç­‰ï¼‰
  - **ä¸èƒ½ä½¿ç”¨any_queryåˆ›å»ºæ•°æ®**

#### ğŸ”„ æ•°æ®æ›´æ–°å·¥å…·
- **HTTP PUT/PATCHè¯·æ±‚**ï¼ˆhttp_requestï¼‰ï¼šé€šè¿‡APIæ›´æ–°å·²æœ‰çš„æ•°æ®è®°å½•
  - **ä¸èƒ½ä½¿ç”¨any_queryæ›´æ–°æ•°æ®**

#### ğŸ—‘ï¸ æ•°æ®åˆ é™¤å·¥å…·ï¼ˆå®‰å…¨é™åˆ¶ï¼‰
- **HTTP DELETEè¯·æ±‚**ï¼ˆhttp_requestï¼‰ï¼šé€šè¿‡APIåˆ é™¤æŒ‡å®šçš„æ•°æ®è®°å½•
  - **å¿…é¡»æä¾›**ï¼šrecord_idï¼ˆ**ä¸èƒ½ä¸ºç©º**ï¼‰
  - **ç»å¯¹ç¦æ­¢**ï¼šåˆ é™¤æ‰€æœ‰æ•°æ®ã€æ‰¹é‡åˆ é™¤ã€æ— IDåˆ é™¤
  - **ä¸èƒ½ä½¿ç”¨any_queryåˆ é™¤æ•°æ®**

### ğŸ”’ ç¡®è®¤å¯¹è¯æ¡†æœºåˆ¶ï¼ˆæå…¶é‡è¦ï¼ï¼‰
**å¯¹äº DELETE/PUT/PATCH æ“ä½œï¼Œå¿…é¡»éµå®ˆä»¥ä¸‹è§„åˆ™ï¼š**
- â— **é¦–æ¬¡è°ƒç”¨æ—¶ç»å¯¹ç¦æ­¢è®¾ç½® confirmed=true**
- â— **confirmed å‚æ•°å¿…é¡»ä¿æŒé»˜è®¤å€¼ false æˆ–å®Œå…¨ä¸ä¼ é€’**
- âœ… ç³»ç»Ÿä¼šè‡ªåŠ¨å¼¹å‡ºç¡®è®¤å¯¹è¯æ¡†è®©ç”¨æˆ·ç¡®è®¤
- âœ… ç”¨æˆ·ç‚¹å‡»â€œç¡®è®¤â€åï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ä»¥ confirmed=true é‡æ–°è°ƒç”¨
- âŒ **AI ç»å¯¹ä¸èƒ½è‡ªè¡Œå†³å®š confirmed=true**

**é”™è¯¯ç¤ºä¾‹ï¼ˆç¦æ­¢ï¼ï¼‰**ï¼š
  { "endpoint": "/api/teachers/123", "method": "DELETE", "confirmed": true }  // âŒ é”™è¯¯ï¼

**æ­£ç¡®ç¤ºä¾‹**ï¼š
  { "endpoint": "/api/teachers/123", "method": "DELETE" }  // âœ… æ­£ç¡®ï¼ä¸ä¼ é€’confirmed
  { "endpoint": "/api/teachers/123", "method": "DELETE", "confirmed": false }  // âœ… ä¹Ÿæ­£ç¡®

### ğŸ›¡ï¸ any_queryå·¥å…·èŒè´£è¯´æ˜
**é‡è¦**ï¼šany_queryå·¥å…·**ä»…é™å¤æ‚è·¨è¡¨æŸ¥è¯¢**ï¼Œç»å¯¹ä¸èƒ½ç”¨äºï¼š
- âŒ ç®€å•å•è¡¨æŸ¥è¯¢ï¼ˆå¿…é¡»ä½¿ç”¨å››æ­¥APIæµç¨‹ï¼‰
- âŒ åˆ›å»ºæ•°æ®ï¼ˆå¿…é¡»ä½¿ç”¨ http_request POSTï¼‰
- âŒ æ›´æ–°æ•°æ®ï¼ˆå¿…é¡»ä½¿ç”¨ http_request PUT/PATCHï¼‰
- âŒ åˆ é™¤æ•°æ®ï¼ˆå¿…é¡»ä½¿ç”¨ http_request DELETEï¼‰
- âœ… å¤æ‚è·¨è¡¨æŸ¥è¯¢ï¼ˆå®Œå…¨å…è®¸ï¼‰`
};

export default databaseQueryGuideTemplate;
