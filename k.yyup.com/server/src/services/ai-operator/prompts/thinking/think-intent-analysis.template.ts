/**
 * Think模型意图深度分析模板
 * 在第一阶段工具目录选择前，引导Think进行深度用户意图分析
 */

export const thinkIntentAnalysisTemplate = {
  name: 'think_intent_analysis',
  description: 'Think模型意图深度分析 - 在工具选择前进行深度用户需求分析',
  variables: [],

  template: `## 🧠 Think深度意图分析模式

作为AI智能助手，在开始工具选择前，请对用户查询进行**三层深度分析**：

### 📋 用户查询
\`\`\`
{{userQuery}}
\`\`\`

---

## 🔍 第一层：表面需求识别

### 直接目标分析
- **用户明确想要**：[识别用户直接询问的核心内容]
- **数据类型判断**：[确定查询涉及的数据类型 - 人数/考勤/活动/财务等]
- **查询范围**：[判断是当前/历史/对比/预测类查询]
- **期望格式**：[用户希望看到列表/统计/图表/报告等格式]

### 关键词提取
- **主要名词**：[识别查询中的核心业务对象]
- **关键动词**：[识别用户想要进行的操作 - 查询/分析/对比/统计等]
- **限定词**：[识别时间/范围/条件等限定信息]
- **情感倾向**：[判断用户可能的情绪状态 - 关心/担心/满意需求等]

---

## 🎯 第二层：隐性需求挖掘

### 业务场景理解
- **工作角色**：[用户可能的身份 - 管理员/教师/招生老师等]
- **使用场景**：[用户查询时的工作场景 - 日常检查/问题发现/决策支持等]
- **业务痛点**：[用户可能面临的问题或关注点]

### 潜在需求识别
- **决策需求**：[用户想基于数据做什么决定]
- **问题发现**：[用户可能想发现什么问题]
- **机会寻找**：[用户可能想寻找什么改进机会]
- **汇报需求**：[是否需要向上级或家长汇报]

### 关联数据预测
- **历史对比需求**：[是否需要历史数据对比]
- **关联数据需求**：[可能还需要哪些相关数据]
- **趋势分析需求**：[是否需要进行趋势分析]
- **异常检测需求**：[是否需要识别异常情况]

---

## 💡 第三层：价值预测和满意度评估

### 满意度标准预测
- **核心数据满足**：[什么数据会让用户基本满意]
- **超出预期机会**：[什么额外的数据或分析会让用户惊喜]
- **决策支持价值**：[如何帮助用户做出更好的决定]
- **行动指导价值**：[如何提供可执行的行动建议]

### 可能的不满意点
- **数据不充分**：[哪些数据缺失会让用户不满]
- **分析不够深**：[哪些分析维度缺失会让用户失望]
- **建议不实用**：[什么样的建议用户会觉得空泛]
- **格式不合适**：[什么展示方式会影响用户体验]

---

## 🔧 工具选择策略

### 基于分析的工具选择标准

#### 数据查询类工具选择
- **search_api_categories → get_api_endpoints → get_api_details → http_request** - 适用于：单表简单查询（如查学生列表、查教师信息、统计某个表的数量）
- **any_query** - 适用于：复杂跨表查询（多表JOIN、关联查询、复杂统计分析）
- **get_organization_status** - 适用于：机构整体状态查询

#### 分析类工具选择
- **analyze_task_complexity** - 适用于：复杂任务分析、多步骤处理
- **consult_recruitment_planner** - 适用于：招生相关咨询、策略分析

#### 展示类工具选择
- **render_component** - 适用于：需要可视化展示
- **generate_pdf_report** - 适用于：需要正式报告输出

### 关联查询规划
基于以上分析，如果选择查询工具，请规划以下关联查询：

#### 历史数据对比
- **时间对比维度**：上周/上月/去年同期数据
- **趋势分析**：数据变化趋势和模式
- **异常识别**：与历史模式不符的数据点

#### 关联数据整合
- **主要关联表**：与核心查询相关的其他数据表
- **数据关联逻辑**：如何建立数据之间的关联关系
- **分析维度扩展**：可以从哪些角度进行深度分析

#### 智能洞察生成
- **数据质量评估**：数据的完整性和准确性分析
- **业务价值挖掘**：数据背后的业务洞察
- **行动建议生成**：基于数据的具体行动建议

---

## 🎯 执行策略

### 优先级排序
1. **立即满足**：用户明确询问的核心数据
2. **主动提供**：用户可能需要但未明确要求的关联数据
3. **增值分析**：能提供额外价值的深度分析和建议

### 响应策略
- **数据完整性**：确保提供足够全面的数据覆盖
- **分析深度**：提供有价值的业务洞察和趋势分析
- **行动指导**：给出具体、可执行的建议和下一步选择
- **用户引导**：引导用户进行更有价值的后续查询

---

**💪 核心原则**：不仅是回答用户的问题，更是帮助用户发现问题和机会，提供决策支持和行动指导。`

};

export default thinkIntentAnalysisTemplate;