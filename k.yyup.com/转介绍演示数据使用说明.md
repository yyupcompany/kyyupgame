# 转介绍演示数据生成说明

## 📊 数据规模说明

本演示数据将生成完整的转介绍业务场景，包含：

- **300个现有家长** - 参与转介绍活动的基础用户群
- **18个老师** - 全员参与转介绍推广
- **100个活跃转介绍者** - 从300家长中筛选出的活跃用户
- **360个成功转介绍案例** - 按月份分布的真实转化数据
- **1000次分享行为** - 对应30%的转化率

## 🎯 数据分布特点

### 月份分布
| 月份 | 成功转化人数 | 特点 |
|------|--------------|------|
| 7月 | 35人 | 暑期招生高峰期 |
| 8月 | 45人 | 暑期招生旺季 |
| 1月 | 25人 | 寒假高峰期 |
| 12月 | 33人 | 年末冲刺期 |
| 其他月份 | 17-22人 | 平稳招生期 |

### 推荐人分布
- **老师推荐转化**：180人（50%）
  - 直接成交奖励：90人 × ¥500 = ¥45,000
  - 转介绍奖励：90人 × ¥200 = ¥18,000
- **家长推荐转化**：180人（50%）
  - 家长转介绍奖励：180人 × ¥300抵用金 = ¥54,000价值

### 分享渠道分布
- **活动分享**：144人（40%）
- **测评分享**：126人（35%）
- **直接推荐**：54人（15%）
- **海报分享**：36人（10%）

## 🚀 使用步骤

### 1. 环境准备
确保已有基础数据：
```bash
# 初始化完整基础数据（如果还没有）
npm run seed-data:complete
```

### 2. 生成转介绍数据
```bash
# 生成转介绍演示数据
npm run seed-data:referral-demo
```

### 3. 启动系统验证
```bash
# 启动前后端系统
npm run dev

# 或者分别启动
npm run start:backend
npm run start:frontend
```

### 4. 访问绩效中心
打开浏览器访问：`http://localhost:5173`

导航到：`营销管理 → 绩效中心`

## 📈 预期展示效果

### 1. 转介绍统计概览
- **本月转介绍奖励**：显示当月奖励统计
- **成功转介绍人数**：累计成功转化人数
- **转介绍转化率**：30%的转化率
- **活跃推荐人**：118人（18老师 + 100家长）

### 2. 团队业绩排名
- **转介绍数量排名**：老师和学生家长推荐排行
- **奖励金额排名**：按奖励金额统计的排行榜
- **转化率排名**：推荐转化效率排名

### 3. 个人贡献统计
- **每个老师的转介绍业绩**：查看个人贡献数据
- **家长推荐者的贡献度**：家长推荐效果分析
- **推荐码使用统计**：推荐码的使用情况

### 4. 奖励分配记录
- **已发放奖励列表**：详细的奖励发放记录
- **待发放奖励**：等待审核和发放的奖励
- **奖励设置变更历史**：奖励规则的历史变更

## 🔍 数据验证要点

### 1. 转化漏斗验证
- 分享次数 → 点击次数 → 报名次数 → 到访次数 → 最终报名
- 预期转化率：30%（300人/1000次分享）

### 2. 奖励规则验证
- 老师直接成交：¥500/人
- 老师转介绍：¥200/人
- 家长转介绍：¥300抵用金/人

### 3. 时间逻辑验证
- 转化过程各阶段时间符合业务逻辑
- 奖励发放时间与报名时间合理关联

### 4. 数据完整性验证
- 所有外键关联关系正确
- 用户状态、学生状态等枚举值正确

## 🎭 演示场景建议

### 1. 园长演示重点
- 展示整体的转介绍业务价值
- 突出招生高峰期的数据表现
- 强调老师团队的转介绍效能

### 2. 老师培训重点
- 展示优秀老师的转介绍案例
- 分析不同渠道的转化效果
- 展示奖励机制和公平性

### 3. 家长沟通重点
- 展示家长的推荐奖励机制
- 说明推荐码的使用方法
- 分享成功案例和奖励发放

## 📝 数据清理

如果需要重新生成数据：
```bash
# 清理现有的转介绍相关数据（需要手动执行SQL）
# 1. DELETE FROM referral_rewards WHERE 1=1;
# 2. DELETE FROM referral_relationships WHERE 1=1;
# 3. DELETE FROM activity_registrations WHERE isConversion = 1;

# 重新生成数据
npm run seed-data:referral-demo
```

## ⚠️ 注意事项

1. **备份数据**：在执行前请备份现有数据库
2. **测试环境**：建议先在测试环境验证脚本
3. **分批执行**：如数据量过大，可考虑分月分批执行
4. **性能监控**：数据生成过程中注意服务器性能

## 🎯 演示效果总结

完成数据生成后，您将拥有一个完整的、真实的转介绍业务演示系统：

- ✅ **300个真实转化案例** - 覆盖全年12个月
- ✅ **完整的奖励发放记录** - 包含不同类型的奖励
- ✅ **详细的转化过程追踪** - 从分享到报名的全流程
- ✅ **丰富的数据分析维度** - 支持多角度的业务分析

这个数据集将完美展示绩效中心的功能价值，为幼儿园的转介绍营销策略提供有力的数据支撑。