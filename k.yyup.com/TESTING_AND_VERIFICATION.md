# æ–¹æ¡ˆ B å®ç° - æµ‹è¯•å’ŒéªŒè¯æŒ‡å—

## ğŸ“‹ å·²å®Œæˆçš„å·¥ä½œ

âœ… **ç¬¬ä¸€æ­¥**: åˆ›å»º `useAIAssistantLogic` Composable
- æ–‡ä»¶: `client/src/components/ai-assistant/composables/useAIAssistantLogic.ts`
- åŠŸèƒ½: æä¾›ç‹¬ç«‹çš„äº‹ä»¶ç›‘å¬ã€çŠ¶æ€ç®¡ç†å’Œæ–¹æ³•
- æ”¯æŒ: sidebar å’Œ fullpage ä¸¤ç§æ¨¡å¼

âœ… **ç¬¬äºŒæ­¥**: åˆ›å»º `AIAssistantSidebar.vue`
- æ–‡ä»¶: `client/src/components/ai-assistant/AIAssistantSidebar.vue`
- åŠŸèƒ½: ä¾§è¾¹æ ç‰ˆæœ¬ç»„ä»¶
- ä½¿ç”¨: `useAIAssistantLogic('sidebar')`

âœ… **ç¬¬ä¸‰æ­¥**: ä¿®æ”¹ `AIAssistantFullPage.vue`
- æ–‡ä»¶: `client/src/components/ai-assistant/AIAssistantFullPage.vue`
- åŠŸèƒ½: å…¨å±ç‰ˆæœ¬ç»„ä»¶
- ä½¿ç”¨: `useAIAssistantLogic('fullpage')`

âœ… **ç¬¬å››æ­¥**: ä¿®æ”¹ `AIAssistant.vue` ä¸ºå…¥å£
- æ–‡ä»¶: `client/src/components/ai-assistant/AIAssistant.vue`
- åŠŸèƒ½: è·¯ç”±å…¥å£ï¼Œæ ¹æ® mode å‚æ•°é€‰æ‹©ç»„ä»¶
- å¤‡ä»½: `AIAssistant_backup.vue`

---

## ğŸ§ª æµ‹è¯•è®¡åˆ’

### 1. ä¾§è¾¹æ æ¨¡å¼æµ‹è¯•

**æµ‹è¯•åœºæ™¯**: åœ¨ä¸šåŠ¡é¡µé¢ä¸­ä½¿ç”¨ä¾§è¾¹æ æ¨¡å¼

```vue
<AIAssistant mode="sidebar" v-model:visible="visible" />
```

**éªŒè¯é¡¹**:
- [ ] ä¾§è¾¹æ èƒ½æ­£å¸¸æ˜¾ç¤º
- [ ] èƒ½å‘é€æ¶ˆæ¯
- [ ] äº‹ä»¶ç›‘å¬æ­£å¸¸å·¥ä½œ
- [ ] çŠ¶æ€ç‹¬ç«‹éš”ç¦»
- [ ] å…³é—­ä¾§è¾¹æ åçŠ¶æ€æ¸…ç©º

### 2. å…¨å±æ¨¡å¼æµ‹è¯•

**æµ‹è¯•åœºæ™¯**: è®¿é—® `/aiassistant` è·¯ç”±é¡µé¢

```typescript
{
  path: '/aiassistant',
  component: () => import('@/components/ai-assistant/AIAssistant.vue'),
  props: { mode: 'fullpage' }
}
```

**éªŒè¯é¡¹**:
- [ ] å…¨å±é¡µé¢èƒ½æ­£å¸¸æ˜¾ç¤º
- [ ] èƒ½å‘é€æ¶ˆæ¯
- [ ] äº‹ä»¶ç›‘å¬æ­£å¸¸å·¥ä½œ
- [ ] çŠ¶æ€ç‹¬ç«‹éš”ç¦»
- [ ] é¡µé¢åˆ·æ–°åçŠ¶æ€æ¸…ç©º

### 3. äº‹ä»¶éš”ç¦»æµ‹è¯•

**æµ‹è¯•åœºæ™¯**: åŒæ—¶æ‰“å¼€ä¸¤ä¸ªæ¨¡å¼

```vue
<!-- ä¸šåŠ¡é¡µé¢ -->
<AIAssistant mode="sidebar" v-model:visible="sidebarVisible" />

<!-- è·¯ç”±é¡µé¢ -->
/aiassistant (mode='fullpage')
```

**éªŒè¯é¡¹**:
- [ ] ä¸¤ä¸ªæ¨¡å¼çš„äº‹ä»¶äº’ä¸å¹²æ‰°
- [ ] ä¸¤ä¸ªæ¨¡å¼çš„çŠ¶æ€å®Œå…¨ç‹¬ç«‹
- [ ] åœ¨ä¸€ä¸ªæ¨¡å¼ä¸­å‘é€æ¶ˆæ¯ä¸å½±å“å¦ä¸€ä¸ªæ¨¡å¼
- [ ] æ§åˆ¶å°æ—¥å¿—æ˜¾ç¤º `[sidebaræ¨¡å¼]` æˆ– `[fullpageæ¨¡å¼]` æ ‡è®°

### 4. åŠŸèƒ½å®Œæ•´æ€§æµ‹è¯•

**æµ‹è¯•åœºæ™¯**: éªŒè¯æ‰€æœ‰åŠŸèƒ½æ˜¯å¦æ­£å¸¸

**éªŒè¯é¡¹**:
- [ ] å‘é€æ¶ˆæ¯åŠŸèƒ½
- [ ] åœæ­¢å‘é€åŠŸèƒ½
- [ ] æ€è€ƒè¿‡ç¨‹æ˜¾ç¤º
- [ ] å·¥å…·è°ƒç”¨æ˜¾ç¤º
- [ ] æœç´¢åŠŸèƒ½
- [ ] ç­”æ¡ˆæ˜¾ç¤º
- [ ] æ¶ˆæ¯å†å²

---

## ğŸ” è°ƒè¯•æ–¹æ³•

### 1. æŸ¥çœ‹æ§åˆ¶å°æ—¥å¿—

æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·ï¼ŒæŸ¥çœ‹æ§åˆ¶å°è¾“å‡ºï¼š

```
âœ… [sidebaræ¨¡å¼] Composable å·²æŒ‚è½½
âœ… [fullpageæ¨¡å¼] Composable å·²æŒ‚è½½
ğŸš€ [sidebaræ¨¡å¼] å¼€å§‹å‘é€æ¶ˆæ¯: ...
ğŸš€ [fullpageæ¨¡å¼] å¼€å§‹å‘é€æ¶ˆæ¯: ...
```

### 2. æ£€æŸ¥çŠ¶æ€éš”ç¦»

åœ¨æµè§ˆå™¨æ§åˆ¶å°ä¸­ï¼š

```javascript
// æ£€æŸ¥ sidebar æ¨¡å¼çš„çŠ¶æ€
// åº”è¯¥çœ‹åˆ°ç‹¬ç«‹çš„çŠ¶æ€å¯¹è±¡

// æ£€æŸ¥ fullpage æ¨¡å¼çš„çŠ¶æ€
// åº”è¯¥çœ‹åˆ°ä¸åŒçš„çŠ¶æ€å¯¹è±¡
```

### 3. æ£€æŸ¥äº‹ä»¶å¤„ç†

åœ¨ `useAIAssistantLogic.ts` ä¸­æ·»åŠ æ—¥å¿—ï¼š

```typescript
const handleStreamEvent = (event: any) => {
  console.log(`[${mode}æ¨¡å¼] äº‹ä»¶:`, event.type)
  // ...
}
```

---

## âš ï¸ å¯èƒ½çš„é—®é¢˜

### é—®é¢˜ 1: å¯¼å…¥é”™è¯¯

**ç—‡çŠ¶**: `Cannot find module 'useAIAssistantLogic'`

**è§£å†³**: æ£€æŸ¥å¯¼å…¥è·¯å¾„æ˜¯å¦æ­£ç¡®

```typescript
import { useAIAssistantLogic } from './composables/useAIAssistantLogic'
```

### é—®é¢˜ 2: çŠ¶æ€æœªæ›´æ–°

**ç—‡çŠ¶**: å‘é€æ¶ˆæ¯åçŠ¶æ€æ²¡æœ‰æ›´æ–°

**è§£å†³**: æ£€æŸ¥ `handleStreamEvent` æ˜¯å¦æ­£ç¡®å¤„ç†äº‹ä»¶

### é—®é¢˜ 3: äº‹ä»¶å†²çª

**ç—‡çŠ¶**: ä¸¤ä¸ªæ¨¡å¼çš„äº‹ä»¶äº’ç›¸å¹²æ‰°

**è§£å†³**: ç¡®ä¿æ¯ä¸ªæ¨¡å¼éƒ½æœ‰ç‹¬ç«‹çš„ Composable å®ä¾‹

---

## âœ… éªŒæ”¶æ ‡å‡†

æ‰€æœ‰ä»¥ä¸‹æ¡ä»¶éƒ½æ»¡è¶³æ—¶ï¼Œæ–¹æ¡ˆ B å®ç°å®Œæˆï¼š

1. âœ… ä¾§è¾¹æ æ¨¡å¼èƒ½æ­£å¸¸å·¥ä½œ
2. âœ… å…¨å±æ¨¡å¼èƒ½æ­£å¸¸å·¥ä½œ
3. âœ… ä¸¤ä¸ªæ¨¡å¼çš„äº‹ä»¶å®Œå…¨éš”ç¦»
4. âœ… ä¸¤ä¸ªæ¨¡å¼çš„çŠ¶æ€å®Œå…¨ç‹¬ç«‹
5. âœ… æ²¡æœ‰å…¨å±€æ±¡æŸ“
6. âœ… æ§åˆ¶å°æ²¡æœ‰é”™è¯¯
7. âœ… æ‰€æœ‰åŠŸèƒ½éƒ½èƒ½æ­£å¸¸ä½¿ç”¨

---

## ğŸ“ ä¸‹ä¸€æ­¥

1. è¿è¡Œæµ‹è¯•
2. ä¿®å¤ä»»ä½•é—®é¢˜
3. éªŒè¯æ‰€æœ‰åŠŸèƒ½
4. åˆ é™¤å¤‡ä»½æ–‡ä»¶
5. æ›´æ–°æ–‡æ¡£

