# ä¾§è¾¹æ é”™è¯¯æ£€æµ‹ç³»ç»Ÿ

å¹¼å„¿å›­ç®¡ç†ç³»ç»Ÿçš„ä¾§è¾¹æ é¡µé¢é”™è¯¯æ£€æµ‹å’Œä¿®å¤ä¸“ç”¨å·¥å…·åŒ…ã€‚

## ğŸ“‹ æ¦‚è¿°

è¿™ä¸ªç³»ç»Ÿä¸“é—¨ç”¨äºæ£€æµ‹å’Œä¿®å¤å¹¼å„¿å›­ç®¡ç†ç³»ç»Ÿä¸­ä¾§è¾¹æ é¡µé¢çš„æ§åˆ¶å°é”™è¯¯å’Œ404é”™è¯¯ã€‚åŒ…å«ä¸‰ä¸ªç‹¬ç«‹çš„æµ‹è¯•è„šæœ¬å’Œä¸€ä¸ªä¸»ä»»åŠ¡ç®¡ç†æ–¹æ¡ˆã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®æ¡ä»¶

1. **æœåŠ¡å™¨å¿…é¡»è¿è¡Œ**ï¼š
   ```bash
   # å¯åŠ¨å‰ç«¯æœåŠ¡å™¨ (http://localhost:5173)
   cd client && npm run dev

   # å¯åŠ¨åç«¯æœåŠ¡å™¨ (http://localhost:3000)
   cd server && npm run dev
   ```

2. **Node.js ç‰ˆæœ¬**ï¼šéœ€è¦ Node.js >= 18.0.0

3. **Playwright ä¾èµ–**ï¼š
   ```bash
   cd client && npm install
   ```

### å¿«é€Ÿæ‰§è¡Œ

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•è„šæœ¬
node run-sidebar-tests.cjs

# è¿è¡Œç‰¹å®šæµ‹è¯•
node run-sidebar-tests.cjs centers    # åªæµ‹è¯•centersç›®å½•
node run-sidebar-tests.cjs teacher    # åªæµ‹è¯•teacher-center
node run-sidebar-tests.cjs parent     # åªæµ‹è¯•parent-center

# æŸ¥çœ‹å¸®åŠ©
node run-sidebar-tests.cjs help
```

## ğŸ“¦ æµ‹è¯•è„šæœ¬è¯´æ˜

### 1. test-centers-comprehensive.cjs
- **ç›®æ ‡**ï¼šæµ‹è¯• `centers` ç›®å½•çš„æ‰€æœ‰ä¸­å¿ƒé¡µé¢
- **é¡µé¢æ•°é‡**ï¼šçº¦20ä¸ªé¡µé¢
- **æµ‹è¯•èŒƒå›´**ï¼š
  - Business, Activity, Script, System Center
  - Analytics, Finance, Marketing, Personnel
  - Call, Customer, Teaching, Inspection
  - Media, Attendance, Task, Enrollment
  - Assessment, Document, AI Center

### 2. test-teacher-center.cjs
- **ç›®æ ‡**ï¼šæµ‹è¯• `teacher-center` ç›¸å…³é¡µé¢
- **é¡µé¢æ•°é‡**ï¼šçº¦25ä¸ªé¡µé¢
- **æµ‹è¯•èŒƒå›´**ï¼š
  - æ•™å¸ˆä»ªè¡¨æ¿ã€æ´»åŠ¨ç®¡ç†ã€è€ƒå‹¤ç®¡ç†
  - æ•™å­¦ç®¡ç†ã€ä»»åŠ¡ç®¡ç†ã€é€šçŸ¥ç®¡ç†
  - å®¢æˆ·æ± ç®¡ç†ã€æ‹›ç”Ÿç®¡ç†ã€åˆ›æ„è¯¾ç¨‹
  - æ•™å¸ˆä¸ªäººä¸­å¿ƒã€ç»©æ•ˆè¯„ä¼°ç­‰

### 3. test-parent-center.cjs
- **ç›®æ ‡**ï¼šæµ‹è¯• `parent-center` ç›¸å…³é¡µé¢
- **é¡µé¢æ•°é‡**ï¼šçº¦35ä¸ªé¡µé¢
- **æµ‹è¯•èŒƒå›´**ï¼š
  - å®¶é•¿ä»ªè¡¨æ¿ã€å­å¥³ç®¡ç†ã€è¯„ä¼°ç³»ç»Ÿ
  - æ´»åŠ¨ç®¡ç†ã€æ¸¸æˆä¸­å¿ƒã€AIåŠ©æ‰‹
  - é€šä¿¡ä¸­å¿ƒã€åé¦ˆç³»ç»Ÿã€ä¸ªäººèµ„æ–™
  - ç§»åŠ¨ç«¯é€‚é…æ£€æŸ¥

## ğŸ” æ£€æµ‹å†…å®¹

### é”™è¯¯ç±»å‹æ£€æµ‹
1. **æ§åˆ¶å°é”™è¯¯** (Console Errors)
2. **ç½‘ç»œè¯·æ±‚é”™è¯¯** (Network Errors)
3. **é¡µé¢åŠ è½½é”™è¯¯** (Page Errors)
4. **404é”™è¯¯** (404 Not Found)
5. **JavaScriptè¿è¡Œæ—¶é”™è¯¯** (Runtime Errors)

### é¡µé¢è´¨é‡æ£€æŸ¥
1. **é¡µé¢çŠ¶æ€ç ** (HTTP Status)
2. **é¡µé¢å†…å®¹å®Œæ•´æ€§** (Content Completeness)
3. **å…³é”®å…ƒç´ å­˜åœ¨æ€§** (Element Presence)
4. **é¡µé¢åŠ è½½æ€§èƒ½** (Load Performance)
5. **ç§»åŠ¨ç«¯é€‚é…** (Mobile Compatibility)

### ä¸“ç”¨å…ƒç´ æ£€æŸ¥
1. **æ•™å¸ˆä¸“ç”¨å…ƒç´ ** (Teacher-specific Components)
2. **å®¶é•¿ä¸“ç”¨å…ƒç´ ** (Parent-specific Components)
3. **ä¸­å¿ƒé¡µé¢å¸ƒå±€** (Center Layout)
4. **ä¾§è¾¹æ å¯¼èˆª** (Sidebar Navigation)

## ğŸ“Š æŠ¥å‘Šè¾“å‡º

### ç›®å½•ç»“æ„
```
test-results/
â”œâ”€â”€ sidebar-error-detection/
â”‚   â””â”€â”€ sidebar-error-detection-summary-*.md    # æ±‡æ€»æŠ¥å‘Š
â”œâ”€â”€ centers/
â”‚   â”œâ”€â”€ centers-test-report.json                 # JSONæ ¼å¼è¯¦ç»†æŠ¥å‘Š
â”‚   â”œâ”€â”€ centers-test-report.md                   # Markdownæ ¼å¼æŠ¥å‘Š
â”‚   â””â”€â”€ *.png                                    # é¡µé¢æˆªå›¾
â”œâ”€â”€ teacher-center/
â”‚   â”œâ”€â”€ teacher-center-test-report.json
â”‚   â”œâ”€â”€ teacher-center-test-report.md
â”‚   â””â”€â”€ *.png
â””â”€â”€ parent-center/
    â”œâ”€â”€ parent-center-test-report.json
    â”œâ”€â”€ parent-center-test-report.md
    â””â”€â”€ *.png
```

### æŠ¥å‘Šå†…å®¹

#### JSONæŠ¥å‘Š
- æµ‹è¯•å…ƒæ•°æ®
- è¯¦ç»†ç»Ÿè®¡ä¿¡æ¯
- æ¯ä¸ªé¡µé¢çš„æµ‹è¯•ç»“æœ
- å®Œæ•´çš„é”™è¯¯æ—¥å¿—
- æ§åˆ¶å°æ¶ˆæ¯è®°å½•

#### MarkdownæŠ¥å‘Š
- äººç±»å‹å¥½çš„æ ¼å¼
- ç»Ÿè®¡è¡¨æ ¼
- é—®é¢˜æ¸…å•
- ä¿®å¤å»ºè®®
- æˆªå›¾é“¾æ¥

## ğŸ› ï¸ ä¿®å¤æŒ‡å—

### 404é”™è¯¯ä¿®å¤
1. **æ£€æŸ¥è·¯ç”±é…ç½®**ï¼š
   - å‰ç«¯è·¯ç”±ï¼š`client/src/router/index.ts`
   - åç«¯è·¯ç”±ï¼š`server/src/routes/index.ts`
   - ç»„ä»¶æ˜ å°„ï¼š`client/src/router/dynamic-routes.ts`

2. **éªŒè¯æ–‡ä»¶å­˜åœ¨æ€§**ï¼š
   - ç¡®è®¤é¡µé¢æ–‡ä»¶å­˜åœ¨
   - æ£€æŸ¥æ–‡ä»¶è·¯å¾„æ­£ç¡®æ€§
   - éªŒè¯ç»„ä»¶å¯¼å…¥è·¯å¾„

### æ§åˆ¶å°é”™è¯¯ä¿®å¤
1. **æ•°æ®åˆå§‹åŒ–é—®é¢˜**ï¼š
   - æŸ¥çœ‹ `server/src/init/README.md`
   - ä½¿ç”¨é™æ€å¯¼å…¥æ–¹å¼
   - é¿å…åŠ¨æ€åŠ è½½

2. **ç»„ä»¶å¯¼å…¥é”™è¯¯**ï¼š
   - æ£€æŸ¥ç»„ä»¶è·¯å¾„
   - éªŒè¯ç»„ä»¶å¯¼å‡º
   - ç¡®è®¤ç»„ä»¶ä¾èµ–

3. **APIè°ƒç”¨é”™è¯¯**ï¼š
   - æ£€æŸ¥APIç«¯ç‚¹å­˜åœ¨æ€§
   - éªŒè¯è¯·æ±‚å‚æ•°
   - å¤„ç†é”™è¯¯å“åº”

### é¡µé¢åŠ è½½å¤±è´¥
1. **æœåŠ¡å™¨çŠ¶æ€æ£€æŸ¥**ï¼š
   ```bash
   npm run status          # æ£€æŸ¥æœåŠ¡çŠ¶æ€
   npm run stop            # åœæ­¢æ‰€æœ‰æœåŠ¡
   npm run start:all       # é‡æ–°å¯åŠ¨æœåŠ¡
   ```

2. **æ•°æ®åº“åˆå§‹åŒ–**ï¼š
   ```bash
   npm run seed-data:complete   # å®Œæ•´åˆå§‹åŒ–
   cd server && npm run db:migrate
   ```

## ğŸ¯ æœ€ä½³å®è·µ

### æµ‹è¯•ç­–ç•¥
1. **æ¸è¿›å¼æµ‹è¯•**ï¼šé€ä¸ªä¸­å¿ƒè¿›è¡Œæµ‹è¯•å’Œä¿®å¤
2. **å±€éƒ¨éªŒè¯**ï¼šä¿®å¤åä½¿ç”¨é’ˆå¯¹æ€§è„šæœ¬æµ‹è¯•
3. **æŒç»­ç›‘æ§**ï¼šå®šæœŸè¿è¡Œæµ‹è¯•ç¡®ä¿è´¨é‡

### ä¿®å¤åŸåˆ™
1. **æœ€å°åŒ–ä¿®å¤**ï¼šä¸ä¿®æ”¹ä¸­é—´ä»¶å’Œå…¬å…±å‡½æ•°
2. **é™æ€å¯¼å…¥**ï¼šä¸¥æ ¼æŒ‰ç…§init/README.mdæ‰§è¡Œ
3. **å•ä¸€èŒè´£**ï¼šæ¯æ¬¡åªä¸“æ³¨ä¿®å¤ä¸€ä¸ªé—®é¢˜

### æ€§èƒ½ä¼˜åŒ–
1. **å¹¶å‘æ§åˆ¶**ï¼šé¿å…åŒæ—¶è¿è¡Œè¿‡å¤šæµ‹è¯•
2. **èµ„æºæ¸…ç†**ï¼šå®šæœŸæ¸…ç†æ—§çš„æµ‹è¯•ç»“æœ
3. **ç¼“å­˜åˆ©ç”¨**ï¼šåˆ©ç”¨æµè§ˆå™¨ç¼“å­˜å‡å°‘é‡å¤åŠ è½½

## ğŸ“ˆ ç³»ç»ŸçŠ¶æ€

### å½“å‰æ¶æ„
- âœ… **é™æ€èœå•ç³»ç»Ÿ**ï¼šä½¿ç”¨é™æ€èœå•å’Œè·¯ç”±å®ˆå«
- âœ… **è§’è‰²æƒé™ç³»ç»Ÿ**ï¼šåŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶
- âŒ **åŠ¨æ€èœå•è·¯ç”±**ï¼šå·²åˆ é™¤ï¼Œä¸å†ä½¿ç”¨

### é”™è¯¯å¤„ç†ç­–ç•¥
- **404é”™è¯¯**ï¼šæ£€æŸ¥å‰åç«¯è·¯ç”±å¯¹åº”å…³ç³»
- **500é”™è¯¯**ï¼šæ£€æŸ¥æ•°æ®åº“åˆå§‹åŒ–æˆ–å­—æ®µé—®é¢˜
- **æ§åˆ¶å°é”™è¯¯**ï¼šæ£€æŸ¥ç»„ä»¶å¯¼å…¥å’Œæ•°æ®æµ

## ğŸ†˜ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

**Q: æµ‹è¯•è„šæœ¬æ‰§è¡Œå¤±è´¥**
```bash
# æ£€æŸ¥è„šæœ¬æƒé™
chmod +x *.cjs

# æ£€æŸ¥ä¾èµ–
cd client && npm install

# æ£€æŸ¥Nodeç‰ˆæœ¬
node --version  # éœ€è¦ >= 18.0.0
```

**Q: æœåŠ¡å™¨è¿æ¥å¤±è´¥**
```bash
# æ£€æŸ¥ç«¯å£å ç”¨
lsof -i :3000
lsof -i :5173

# é‡å¯æœåŠ¡
npm run stop
npm run start:all
```

**Q: æˆªå›¾ä¿å­˜å¤±è´¥**
```bash
# æ£€æŸ¥ç›®å½•æƒé™
mkdir -p test-results
chmod 755 test-results
```

**Q: æµ‹è¯•æŠ¥å‘Šç”Ÿæˆå¤±è´¥**
```bash
# æ¸…ç†å¹¶é‡æ–°åˆ›å»ºç›®å½•
rm -rf test-results
mkdir -p test-results
```

### è°ƒè¯•æ¨¡å¼

1. **å¯ç”¨è¯¦ç»†æ—¥å¿—**ï¼š
   ```javascript
   // åœ¨æµ‹è¯•è„šæœ¬ä¸­ä¿®æ”¹
   const debug = true;
   if (debug) console.log('è¯¦ç»†ä¿¡æ¯...');
   ```

2. **ç¦ç”¨æ— å¤´æ¨¡å¼**ï¼ˆä»…ç”¨äºè°ƒè¯•ï¼‰ï¼š
   ```javascript
   const browser = await chromium.launch({
     headless: false,  // æ³¨æ„ï¼šæ­£å¸¸æµ‹è¯•åº”ä½¿ç”¨true
     devtools: true
   });
   ```

3. **å¢åŠ è¶…æ—¶æ—¶é—´**ï¼š
   ```javascript
   await page.goto(url, {
     timeout: 60000  // å¢åŠ åˆ°60ç§’
   });
   ```

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚é‡åˆ°é—®é¢˜ï¼Œè¯·æä¾›ï¼š
1. é”™è¯¯æˆªå›¾å’Œæ—¥å¿—
2. ç³»ç»Ÿç¯å¢ƒä¿¡æ¯
3. æµ‹è¯•æŠ¥å‘Šæ–‡ä»¶
4. é‡ç°æ­¥éª¤

---

**æœ€åæ›´æ–°**ï¼š2025å¹´11æœˆ17æ—¥
**ç‰ˆæœ¬**ï¼š1.0.0
**ç»´æŠ¤è€…**ï¼šClaude Code Assistant