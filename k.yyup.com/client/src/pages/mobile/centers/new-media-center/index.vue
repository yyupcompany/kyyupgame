<template>
  <MobileMainLayout
    title="æ–°åª’ä½“ä¸­å¿ƒ"
    :show-back="true"
    :show-footer="true"
    content-padding="0"
  >
    <div class="mobile-new-media-center">
      <!-- æ ‡ç­¾é¡µå¯¼èˆª -->
      <van-tabs
        v-model:active="activeTab"
        :line-width="20"
        :animated="true"
        :swipeable="true"
        color="var(--primary-color)"
        title-active-color="var(--primary-color)"
        title-inactive-color="var(--text-secondary)"
        background="var(--bg-card)"
      >
        <!-- æ¦‚è§ˆæ ‡ç­¾é¡µ -->
        <van-tab title="æ¦‚è§ˆ" name="overview">
          <div class="tab-content overview-tab">
            <!-- æ¬¢è¿åŒºåŸŸ -->
            <div class="welcome-section">
              <div class="welcome-content">
                <h2>AIå†…å®¹åˆ›ä½œä¸­å¿ƒ</h2>
                <p>æ™ºèƒ½ç”Ÿæˆè¥é”€æ–‡æ¡ˆã€å›¾æ–‡ã€è§†é¢‘ç­‰å†…å®¹</p>
              </div>
            </div>

            <!-- åŠŸèƒ½å¡ç‰‡ -->
            <div class="feature-cards">
              <div
                class="feature-card"
                @click="switchToTab('copywriting')"
              >
                <div class="card-icon">ğŸ“</div>
                <h3>æ–‡æ¡ˆåˆ›ä½œ</h3>
                <p>AIæ™ºèƒ½ç”Ÿæˆè¥é”€æ–‡æ¡ˆ</p>
                <van-tag type="primary" size="small">7å¤§å¹³å°</van-tag>
              </div>

              <div
                class="feature-card"
                @click="switchToTab('article')"
              >
                <div class="card-icon">ğŸ–¼ï¸</div>
                <h3>å›¾æ–‡åˆ›ä½œ</h3>
                <p>ç”Ÿæˆå›¾æ–‡å¹¶èŒ‚çš„æ¨å¹¿å†…å®¹</p>
                <van-tag type="success" size="small">6å¤§å¹³å°</van-tag>
              </div>

              <div
                class="feature-card"
                @click="switchToTab('video')"
              >
                <div class="card-icon">ğŸ¬</div>
                <h3>è§†é¢‘åˆ›ä½œ</h3>
                <p>AIç”Ÿæˆè§†é¢‘è„šæœ¬å’Œå†…å®¹</p>
                <van-tag type="warning" size="small">7å¤§å¹³å°</van-tag>
              </div>

              <div
                class="feature-card"
                @click="switchToTab('tts')"
              >
                <div class="card-icon">ğŸ”Š</div>
                <h3>æ–‡å­—è½¬è¯­éŸ³</h3>
                <p>å¤šç§éŸ³è‰²AIè¯­éŸ³åˆæˆ</p>
                <van-tag type="default" size="small">TTS</van-tag>
              </div>
            </div>
          </div>
        </van-tab>

        <!-- æ–‡æ¡ˆåˆ›ä½œæ ‡ç­¾é¡µ -->
        <van-tab title="æ–‡æ¡ˆåˆ›ä½œ" name="copywriting">
          <div class="tab-content">
            <MobileCopywritingCreator />
          </div>
        </van-tab>

        <!-- å›¾æ–‡åˆ›ä½œæ ‡ç­¾é¡µ -->
        <van-tab title="å›¾æ–‡åˆ›ä½œ" name="article">
          <div class="tab-content">
            <MobileArticleCreator />
          </div>
        </van-tab>

        <!-- è§†é¢‘åˆ›ä½œæ ‡ç­¾é¡µ -->
        <van-tab title="è§†é¢‘åˆ›ä½œ" name="video">
          <div class="tab-content">
            <MobileVideoCreator />
          </div>
        </van-tab>

        <!-- æ–‡å­—è½¬è¯­éŸ³æ ‡ç­¾é¡µ -->
        <van-tab title="æ–‡å­—è½¬è¯­éŸ³" name="tts">
          <div class="tab-content">
            <MobileTextToSpeech />
          </div>
        </van-tab>
      </van-tabs>
    </div>
  </MobileMainLayout>
</template>

<script setup lang="ts">
import { ref } from 'vue'
import MobileMainLayout from '@/components/mobile/layouts/MobileMainLayout.vue'
import MobileCopywritingCreator from './components/MobileCopywritingCreator.vue'
import MobileArticleCreator from './components/MobileArticleCreator.vue'
import MobileVideoCreator from './components/MobileVideoCreator.vue'
import MobileTextToSpeech from './components/MobileTextToSpeech.vue'

const activeTab = ref('overview')

const switchToTab = (tabName: string) => {
  activeTab.value = tabName
}
</script>

<style lang="scss" scoped>
@import '@/styles/design-tokens.scss';

.mobile-new-media-center {
  min-height: 100vh;
  background: var(--bg-color-page);

  :deep(.van-tabs__nav) {
    padding: 0 var(--app-gap);
    background: var(--bg-card);
    box-shadow: var(--shadow-sm);
  }

  :deep(.van-tabs__content) {
    background: var(--bg-color-page);
  }

  .tab-content {
    min-height: calc(100vh - 44px);
    padding: var(--app-gap);
  }

  .overview-tab {
    .welcome-section {
      margin-bottom: var(--app-gap-lg);
      padding: var(--app-gap-lg) var(--app-gap);
      background: var(--gradient-primary);
      border-radius: var(--radius-xl);
      color: var(--text-on-primary);
      text-align: center;

      .welcome-content {
        h2 {
          font-size: var(--text-xl);
          font-weight: var(--font-semibold);
          margin-bottom: var(--app-gap-sm);
        }

        p {
          font-size: var(--text-sm);
          opacity: 0.9;
          margin: 0;
        }
      }
    }

    .feature-cards {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: var(--app-gap);

      .feature-card {
        background: var(--bg-card);
        border-radius: var(--radius-lg);
        padding: var(--app-gap);
        text-align: center;
        box-shadow: var(--shadow-sm);
        transition: all var(--transition-base);
        cursor: pointer;

        &:active {
          transform: scale(0.95);
        }

        .card-icon {
          font-size: var(--text-5xl);
          margin-bottom: var(--app-gap-sm);
        }

        h3 {
          font-size: var(--text-base);
          font-weight: var(--font-semibold);
          color: var(--text-primary);
          margin-bottom: var(--app-gap-xs);
        }

        p {
          font-size: var(--text-xs);
          color: var(--text-secondary);
          margin-bottom: var(--app-gap-sm);
          line-height: var(--leading-normal);
        }

        :deep(.van-tag) {
          font-size: var(--text-xs);
        }
      }
    }
  }
}

// å“åº”å¼é€‚é…
@media (min-width: 768px) {
  .mobile-new-media-center {
    max-width: 768px;
    margin: 0 auto;
    box-shadow: var(--shadow-xl);

    .overview-tab .feature-cards {
      grid-template-columns: repeat(4, 1fr);
    }
  }
}
</style>
