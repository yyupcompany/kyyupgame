# ç§»åŠ¨ç«¯å¼€å‘æŒ‡å—

## ğŸ“± ç§»åŠ¨ç«¯å¼€å‘å®Œæ•´æŒ‡å—

æœ¬æ–‡æ¡£è¯¦ç»†è¯´æ˜å¦‚ä½•è¿›è¡Œå¹¼å„¿å›­ç®¡ç†ç³»ç»Ÿçš„ç§»åŠ¨ç«¯å¼€å‘ï¼ŒåŒ…æ‹¬åˆ›å»ºé¡µé¢ã€é…ç½®è·¯ç”±ã€é›†æˆåŠŸèƒ½ç­‰ã€‚

## ğŸ¯ å¼€å‘ç›®æ ‡

- å®ç°ä¸PCç«¯åŠŸèƒ½å®Œå…¨ä¸€è‡´çš„ç§»åŠ¨ç«¯ä½“éªŒ
- ä½¿ç”¨ Vant 4 UI ç»„ä»¶åº“æ„å»ºä¼ä¸šçº§ç§»åŠ¨ç«¯ç•Œé¢
- ç¡®ä¿ 100% TypeScript ç±»å‹å®‰å…¨
- æ”¯æŒæ‰€æœ‰ä¸»æµç§»åŠ¨è®¾å¤‡æµè§ˆå™¨

## ğŸ“‹ ç›®å½•ç»“æ„

```
client/src/pages/mobile/
â”œâ”€â”€ components/                   # ç§»åŠ¨ç«¯é€šç”¨ç»„ä»¶
â”‚   â””â”€â”€ common/
â”‚       â”œâ”€â”€ MobilePage.vue       # é¡µé¢å®¹å™¨ç»„ä»¶
â”‚       â”œâ”€â”€ MobileList.vue       # åˆ—è¡¨ç»„ä»¶
â”‚       â”œâ”€â”€ MobileCard.vue       # å¡ç‰‡ç»„ä»¶
â”‚       â”œâ”€â”€ MobileForm.vue       # è¡¨å•ç»„ä»¶
â”‚       â””â”€â”€ index.ts            # ç»„ä»¶å¯¼å‡º
â”œâ”€â”€ layouts/
â”‚   â””â”€â”€ MobileLayout.vue         # ç§»åŠ¨ç«¯ä¸»å¸ƒå±€
â”œâ”€â”€ stores/
â”‚   â””â”€â”€ mobile.ts                # ç§»åŠ¨ç«¯çŠ¶æ€ç®¡ç†
â”œâ”€â”€ styles/
â”‚   â””â”€â”€ mobile.scss              # ç§»åŠ¨ç«¯æ ·å¼
â”œâ”€â”€ utils/
â”‚   â””â”€â”€ mobile.ts                # ç§»åŠ¨ç«¯å·¥å…·å‡½æ•°
â”œâ”€â”€ centers/                     # ä¸­å¿ƒæ¨¡å—é¡µé¢
â”œâ”€â”€ teacher-center/              # æ•™å¸ˆä¸­å¿ƒé¡µé¢
â”œâ”€â”€ parent-center/               # å®¶é•¿ä¸­å¿ƒé¡µé¢
â””â”€â”€ ...                          # å…¶ä»–ä¸šåŠ¡æ¨¡å—
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. åˆ›å»ºæ–°é¡µé¢

ä½¿ç”¨å¿«é€Ÿç”Ÿæˆå·¥å…·åˆ›å»ºé¡µé¢ï¼š

```bash
# è¿›å…¥é¡¹ç›®æ ¹ç›®å½•
cd client

# åˆ›å»ºæ–°é¡µé¢ (ç¤ºä¾‹ï¼šAIè®¡è´¹ä¸­å¿ƒ)
node scripts/create-mobile-page.js centers ai-billing-center "AIè®¡è´¹ä¸­å¿ƒ" "['admin', 'principal']"

# åˆ›å»ºå®¶é•¿æ²Ÿé€šé¡µé¢
node scripts/create-mobile-page.js parent-center communication "å®¶å›­æ²Ÿé€š" "['parent']"

# åˆ›å»ºåˆ›æ„è¯¾ç¨‹é¡µé¢
node scripts/create-mobile-page.js teacher-center creative-curriculum "åˆ›æ„è¯¾ç¨‹"
```

**å‚æ•°è¯´æ˜**:
- ç¬¬ä¸€ä¸ªå‚æ•°: æ¨¡å—å (centers/teacher-center/parent-center/activity/enrollment/finance/marketing/system/ai)
- ç¬¬äºŒä¸ªå‚æ•°: é¡µé¢å (kebab-caseå‘½å)
- ç¬¬ä¸‰ä¸ªå‚æ•°: é¡µé¢æ ‡é¢˜ (å¯é€‰)
- ç¬¬å››ä¸ªå‚æ•°: æƒé™è§’è‰² (å¯é€‰)

### 2. æ‰‹åŠ¨åˆ›å»ºé¡µé¢

å¦‚æœéœ€è¦æ‰‹åŠ¨åˆ›å»ºé¡µé¢ï¼Œè¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

#### æ­¥éª¤1: åˆ›å»ºé¡µé¢ç›®å½•å’Œæ–‡ä»¶

```bash
# åˆ›å»ºé¡µé¢ç›®å½•
mkdir -p src/pages/mobile/centers/ai-billing-center

# åˆ›å»ºé¡µé¢æ–‡ä»¶
touch src/pages/mobile/centers/ai-billing-center/index.vue
```

#### æ­¥éª¤2: ç¼–å†™é¡µé¢ä»£ç 

å‚è€ƒæ¨¡æ¿:

```vue
<template>
  <MobilePage
    title="AIè®¡è´¹ä¸­å¿ƒ"
    :show-nav-bar="true"
    :show-back="true"
  >
    <!-- é¡µé¢å†…å®¹ -->
    <div class="ai-billing-center-page">
      <!-- ä½¿ç”¨ Vant ç»„ä»¶ -->
      <van-cell-group inset>
        <van-cell title="AIä½¿ç”¨é‡" value="100GB" />
        <van-cell title="è´¹ç”¨" value="Â¥100.00" />
      </van-cell-group>
    </div>

    <!-- æ‚¬æµ®æ“ä½œæŒ‰é’® -->
    <van-back-top right="20" bottom="80" />
  </MobilePage>
</template>

<script setup lang="ts">
import { ref, computed, onMounted } from 'vue'
import MobilePage from '../../components/common/MobilePage.vue'
import { showToast } from 'vant'

// ç»„ä»¶é€»è¾‘
const loading = ref(false)

// ç”Ÿå‘½å‘¨æœŸ
onMounted(() => {
  console.log('AIè®¡è´¹ä¸­å¿ƒé¡µé¢å·²åŠ è½½')
})
</script>

<style lang="scss" scoped>
.ai-billing-center-page {
  padding: 12px;
  min-height: 100vh;
  background-color: #f5f5f5;
}
</style>
```

#### æ­¥éª¤3: æ·»åŠ è·¯ç”±é…ç½®

ç¼–è¾‘ `src/router/mobile-routes.ts`:

```typescript
// åœ¨ mobileRoutes æ•°ç»„ä¸­æ·»åŠ æ–°è·¯ç”±
{
  path: '/mobile/centers/ai-billing-center',
  name: 'MobileAIBillingCenter',
  component: () => import('../pages/mobile/centers/ai-billing-center/index.vue'),
  meta: {
    title: 'AIè®¡è´¹ä¸­å¿ƒ',
    requiresAuth: true,
    role: ['admin', 'principal']
  }
},
```

## ğŸ› ï¸ å¼€å‘è§„èŒƒ

### 1. æ–‡ä»¶å‘½åè§„èŒƒ

- **ç›®å½•**: ä½¿ç”¨kebab-caseå‘½å (å¦‚: `ai-billing-center`)
- **æ–‡ä»¶**: ç»Ÿä¸€ä½¿ç”¨ `index.vue` ä½œä¸ºé¡µé¢å…¥å£
- **ç»„ä»¶**: ä½¿ç”¨PascalCaseå‘½å (å¦‚: `MobilePage.vue`)

### 2. ä»£ç è§„èŒƒ

#### Vue ç»„ä»¶ç»“æ„

```vue
<template>
  <!-- æ¨¡æ¿å†…å®¹ -->
</template>

<script setup lang="ts">
// 1. å¯¼å…¥ä¾èµ–
import { ref, computed, onMounted } from 'vue'
import MobilePage from '@/components/common/MobilePage.vue'
import { showToast, showDialog } from 'vant'

// 2. æ¥å£å®šä¹‰
interface DataType {
  id: string
  name: string
}

// 3. å“åº”å¼æ•°æ®
const loading = ref(false)
const data = ref<DataType[]>([])

// 4. è®¡ç®—å±æ€§
const filteredData = computed(() => {
  return data.value.filter(item => item.id)
})

// 5. æ–¹æ³•
const handleAction = () => {
  // å¤„ç†é€»è¾‘
}

// 6. ç”Ÿå‘½å‘¨æœŸ
onMounted(() => {
  // åˆå§‹åŒ–é€»è¾‘
})
</script>

<style lang="scss" scoped>
// æ ·å¼å†…å®¹
</style>
```

#### TypeScript è§„èŒƒ

```typescript
// 1. æ¥å£å®šä¹‰
interface PageProps {
  title: string
  showBack?: boolean
}

// 2. ç±»å‹å®šä¹‰
type Status = 'pending' | 'success' | 'error'

// 3. æšä¸¾å®šä¹‰
enum Permission {
  Admin = 'admin',
  Principal = 'principal',
  Teacher = 'teacher'
}

// 4. æ³›å‹ä½¿ç”¨
const list = ref<Array<{ id: string; name: string }>>([])
```

#### æ ·å¼è§„èŒƒ

```scss
// 1. ä½¿ç”¨BEMå‘½åè§„èŒƒ
.page-name {
  &__header {
    // å¤´éƒ¨æ ·å¼
  }

  &__content {
    // å†…å®¹æ ·å¼
  }

  &__footer {
    // åº•éƒ¨æ ·å¼
  }
}

// 2. ç§»åŠ¨ç«¯é€‚é…
@media (max-width: 375px) {
  .page-name {
    padding: 8px;
  }
}

// 3. ä½¿ç”¨CSSå˜é‡
.page-name {
  --primary-color: #409eff;
  --background-color: #f5f5f5;

  background: var(--background-color);
}
```

### 3. Vant ç»„ä»¶ä½¿ç”¨è§„èŒƒ

#### å¸¸ç”¨ç»„ä»¶å¯¼å…¥

```typescript
// æŒ‰éœ€å¯¼å…¥ Vant ç»„ä»¶ (è‡ªåŠ¨å¯¼å…¥å·²é…ç½®ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨)
import { Button, Cell, NavBar, Toast } from 'vant'
```

#### ç»„ä»¶ä½¿ç”¨ç¤ºä¾‹

```vue
<!-- æŒ‰é’® -->
<van-button type="primary" size="large" @click="handleClick">
  ç¡®å®š
</van-button>

<!-- åˆ—è¡¨ -->
<van-cell-group inset>
  <van-cell title="æ ‡é¢˜" value="å†…å®¹" />
</van-cell-group>

<!-- å¯¼èˆªæ  -->
<van-nav-bar
  title="é¡µé¢æ ‡é¢˜"
  left-arrow
  @click-left="$router.back()"
/>

<!-- æç¤º -->
<van-toast v-model:show="show" message="æç¤ºä¿¡æ¯" />
```

#### Toast å’Œ Dialog ä½¿ç”¨

```typescript
// Toast æç¤º
import { showToast } from 'vant'

showToast('æ“ä½œæˆåŠŸ')
showToast({
  type: 'success',
  message: 'æ“ä½œæˆåŠŸ',
  duration: 2000
})

// Dialog ç¡®è®¤æ¡†
import { showDialog } from 'vant'

showDialog({
  title: 'æç¤º',
  message: 'ç¡®å®šè¦åˆ é™¤å—ï¼Ÿ'
}).then(() => {
  // ç¡®è®¤åçš„é€»è¾‘
})
```

## ğŸ“¦ ç§»åŠ¨ç«¯ç»„ä»¶åº“

### MobilePage ç»„ä»¶

é¡µé¢å®¹å™¨ç»„ä»¶ï¼Œæä¾›ç»Ÿä¸€çš„é¡µé¢å¸ƒå±€ã€‚

**å±æ€§**:
- `title`: é¡µé¢æ ‡é¢˜
- `showNavBar`: æ˜¯å¦æ˜¾ç¤ºå¯¼èˆªæ 
- `showBack`: æ˜¯å¦æ˜¾ç¤ºè¿”å›æŒ‰é’®

**ä½¿ç”¨ç¤ºä¾‹**:
```vue
<MobilePage
  title="é¡µé¢æ ‡é¢˜"
  :show-nav-bar="true"
  :show-back="true"
>
  <!-- é¡µé¢å†…å®¹ -->
</MobilePage>
```

### MobileList ç»„ä»¶

åˆ—è¡¨ç»„ä»¶ï¼Œæ”¯æŒä¸‹æ‹‰åˆ·æ–°å’Œä¸Šæ‹‰åŠ è½½ã€‚

**å±æ€§**:
- `items`: åˆ—è¡¨æ•°æ®
- `loading`: åŠ è½½çŠ¶æ€
- `clickable`: æ˜¯å¦å¯ç‚¹å‡»

**äº‹ä»¶**:
- `@item-click`: ç‚¹å‡»åˆ—è¡¨é¡¹
- `@refresh`: ä¸‹æ‹‰åˆ·æ–°

**ä½¿ç”¨ç¤ºä¾‹**:
```vue
<MobileList
  :items="listData"
  :loading="loading"
  clickable
  @item-click="handleItemClick"
  @refresh="handleRefresh"
>
  <template #item="{ item }">
    <van-cell :title="item.title" :value="item.value" />
  </template>
</MobileList>
```

### MobileCard ç»„ä»¶

å¡ç‰‡ç»„ä»¶ï¼Œç”¨äºå±•ç¤ºä¿¡æ¯å—ã€‚

**å±æ€§**:
- `title`: å¡ç‰‡æ ‡é¢˜
- `desc`: å¡ç‰‡æè¿°
- `clickable`: æ˜¯å¦å¯ç‚¹å‡»

**æ’æ§½**:
- `#tags`: æ ‡ç­¾åŒºåŸŸ
- `#footer`: åº•éƒ¨åŒºåŸŸ

**ä½¿ç”¨ç¤ºä¾‹**:
```vue
<MobileCard
  title="å¡ç‰‡æ ‡é¢˜"
  desc="å¡ç‰‡æè¿°"
  clickable
  @click="handleClick"
>
  <template #tags>
    <van-tag type="primary">æ ‡ç­¾</van-tag>
  </template>
  <template #footer>
    <van-button type="primary" size="mini">æ“ä½œ</van-button>
  </template>
</MobileCard>
```

## ğŸ¨ æ ·å¼æŒ‡å—

### 1. é¢œè‰²ç³»ç»Ÿ

ä½¿ç”¨è®¾è®¡ä»¤ç‰Œä¸­çš„é¢œè‰²å˜é‡:

```scss
// ä¸»è‰²è°ƒ
$primary-color: #409eff;
$success-color: #07c160;
$warning-color: #ff976a;
$danger-color: #ee0a24;

// æ–‡å­—é¢œè‰²
$text-color: #323233;
$text-color-2: #646566;
$text-color-3: #969799;

// èƒŒæ™¯è‰²
$background-color: #f5f5f5;
$background-color-light: #fafafa;
```

### 2. é—´è·ç³»ç»Ÿ

```scss
// å¸¸ç”¨é—´è·
$spacing-xs: 4px;
$spacing-sm: 8px;
$spacing-md: 12px;
$spacing-lg: 16px;
$spacing-xl: 20px;
$spacing-xxl: 24px;

// ä½¿ç”¨ç¤ºä¾‹
.page {
  padding: $spacing-md;
  margin-bottom: $spacing-lg;
}
```

### 3. å“åº”å¼æ–­ç‚¹

```scss
// ç§»åŠ¨è®¾å¤‡
@media (max-width: 375px) {
  .page {
    padding: $spacing-sm;
  }
}

// å¹³æ¿è®¾å¤‡
@media (min-width: 768px) {
  .page {
    padding: $spacing-lg;
  }
}
```

## ğŸ”§ å·¥å…·å‡½æ•°

### 1. è®¾å¤‡æ£€æµ‹

```typescript
import { isMobile, isIOS, isAndroid } from '@/pages/mobile/utils/mobile'

if (isMobile()) {
  console.log('å½“å‰æ˜¯ç§»åŠ¨è®¾å¤‡')
}

if (isIOS()) {
  console.log('å½“å‰æ˜¯iOSè®¾å¤‡')
}
```

### 2. æ ¼å¼åŒ–å‡½æ•°

```typescript
import { formatDate, formatCurrency, formatPhone } from '@/pages/mobile/utils/mobile'

const date = formatDate(new Date())
const money = formatCurrency(1000)
const phone = formatPhone('13812345678')
```

### 3. è¡¨å•éªŒè¯

```typescript
import { validatePhone, validateEmail } from '@/pages/mobile/utils/mobile'

const isValid = validatePhone('13812345678')
```

## ğŸ“¡ API é›†æˆ

### 1. è¯·æ±‚å°è£…

ä½¿ç”¨é¡¹ç›®ä¸­å·²æœ‰çš„è¯·æ±‚å·¥å…·:

```typescript
import request from '@/utils/request'

// è·å–æ•°æ®
const fetchData = async () => {
  const res = await request.get('/api/data')
  data.value = res.data
}

// æäº¤æ•°æ®
const submitData = async () => {
  const res = await request.post('/api/data', formData)
  showToast('æäº¤æˆåŠŸ')
}
```

### 2. é”™è¯¯å¤„ç†

```typescript
import request from '@/utils/request'
import { showToast } from 'vant'

request.interceptors.response.use(
  response => response.data,
  error => {
    const message = error.message || 'è¯·æ±‚å¤±è´¥'
    showToast(message)
    throw error
  }
)
```

### 3. æ•°æ®ç¼“å­˜

ä½¿ç”¨ Pinia è¿›è¡Œæ•°æ®ç¼“å­˜:

```typescript
import { useMobileStore } from '@/pages/mobile/stores/mobile'

const mobileStore = useMobileStore()

// ä»ç¼“å­˜è·å–æ•°æ®
const cachedData = mobileStore.getCachedData(key)

// è®¾ç½®ç¼“å­˜
mobileStore.setCachedData(key, data)
```

## ğŸ§ª æµ‹è¯•

### 1. å•å…ƒæµ‹è¯•

ä½¿ç”¨ Vitest è¿›è¡Œå•å…ƒæµ‹è¯•:

```typescript
// __tests__/mobile-page.test.ts
import { mount } from '@vue/test-utils'
import MobilePage from '../MobilePage.vue'

describe('MobilePage', () => {
  it('renders correctly', () => {
    const wrapper = mount(MobilePage, {
      props: { title: 'æµ‹è¯•é¡µé¢' }
    })
    expect(wrapper.text()).toContain('æµ‹è¯•é¡µé¢')
  })
})
```

### 2. E2E æµ‹è¯•

ä½¿ç”¨ Playwright è¿›è¡Œç«¯åˆ°ç«¯æµ‹è¯•:

```typescript
// e2e/mobile.spec.ts
import { test, expect } from '@playwright/test'

test('mobile page navigation', async ({ page }) => {
  await page.goto('/mobile/centers')
  await page.click('text=æ´»åŠ¨ç®¡ç†')
  await expect(page).toHaveURL('/mobile/centers/activity-center')
})
```

## ğŸš¢ éƒ¨ç½²

### 1. æ„å»º

```bash
# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
cd client && npm run build

# æ„å»ºç»“æœ
dist/
â”œâ”€â”€ assets/
â”œâ”€â”€ js/
â””â”€â”€ index.html
```

### 2. é¢„è§ˆ

```bash
# é¢„è§ˆæ„å»ºç»“æœ
npm run preview
```

### 3. éƒ¨ç½²åˆ°æœåŠ¡å™¨

å°† `dist/` ç›®å½•éƒ¨ç½²åˆ° Web æœåŠ¡å™¨:

```bash
# ä½¿ç”¨ nginx
cp -r dist/* /var/www/html/

# æˆ–ä½¿ç”¨å…¶ä»–éƒ¨ç½²å·¥å…·
```

## ğŸ› å¸¸è§é—®é¢˜

### 1. é¡µé¢ä¸æ˜¾ç¤º

æ£€æŸ¥é¡¹:
- è·¯ç”±é…ç½®æ˜¯å¦æ­£ç¡®
- ç»„ä»¶å¯¼å…¥è·¯å¾„æ˜¯å¦æ­£ç¡®
- æƒé™é…ç½®æ˜¯å¦æ­£ç¡®

### 2. Vant ç»„ä»¶æ ·å¼å¼‚å¸¸

è§£å†³æ–¹æ¡ˆ:
- ç¡®ä¿å·²å®‰è£… Vant
- æ£€æŸ¥ vite.config.ts é…ç½®
- æŸ¥çœ‹æ˜¯å¦æ­£ç¡®å¼•å…¥ Vant CSS

### 3. TypeScript ç±»å‹é”™è¯¯

è§£å†³æ–¹æ³•:
- ç¡®ä¿æ–‡ä»¶æ‰©å±•åä¸º `.vue`
- ä½¿ç”¨ `<script setup lang="ts">`
- æ£€æŸ¥ç±»å‹å®šä¹‰

### 4. ç§»åŠ¨ç«¯é€‚é…é—®é¢˜

è§£å†³æ–¹æ¡ˆ:
- ä½¿ç”¨ç›¸å¯¹å•ä½ (rem, em)
- ä½¿ç”¨ CSS åª’ä½“æŸ¥è¯¢
- æµ‹è¯•ä¸åŒå±å¹•å°ºå¯¸

## ğŸ“š å‚è€ƒèµ„æº

- [Vue 3 å®˜æ–¹æ–‡æ¡£](https://vuejs.org/)
- [Vant å®˜æ–¹æ–‡æ¡£](https://vant-ui.github.io/vant/)
- [TypeScript å®˜æ–¹æ–‡æ¡£](https://www.typescriptlang.org/)
- [Vue Router å®˜æ–¹æ–‡æ¡£](https://router.vuejs.org/)
- [Pinia å®˜æ–¹æ–‡æ¡£](https://pinia.vuejs.org/)

## ğŸ‘¥ å¼€å‘å›¢é˜Ÿ

- **å‰ç«¯å¼€å‘**: è´Ÿè´£ç§»åŠ¨ç«¯é¡µé¢å¼€å‘
- **UI/UXè®¾è®¡**: è´Ÿè´£ç§»åŠ¨ç«¯ç•Œé¢è®¾è®¡
- **äº§å“ç»ç†**: è´Ÿè´£åŠŸèƒ½éœ€æ±‚å®šä¹‰
- **æµ‹è¯•å·¥ç¨‹å¸ˆ**: è´Ÿè´£åŠŸèƒ½æµ‹è¯•

## ğŸ“ æ›´æ–°æ—¥å¿—

### v1.0.0 (2025-11-22)
- âœ… åˆå§‹åŒ–ç§»åŠ¨ç«¯å¼€å‘æŒ‡å—
- âœ… å®Œæˆæ ¸å¿ƒç»„ä»¶å¼€å‘
- âœ… å®Œæˆ Vant 4 é›†æˆ
- âœ… å®ŒæˆåŸºç¡€é¡µé¢å¼€å‘

---

**ğŸ“… æ–‡æ¡£ç‰ˆæœ¬**: v1.0.0
**ğŸ“… æœ€åæ›´æ–°**: 2025-11-22
**ğŸ‘¥ ç»´æŠ¤å›¢é˜Ÿ**: å‰ç«¯å¼€å‘å›¢é˜Ÿ
