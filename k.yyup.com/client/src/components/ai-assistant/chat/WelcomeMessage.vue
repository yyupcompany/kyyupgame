<!--
  æ¬¢è¿æ¶ˆæ¯ç»„ä»¶
  ä» AIAssistant.vue ç¬¬70-85è¡Œæ¨¡æ¿æå–
-->

<template>
  <div class="message-item assistant welcome-message">
    <div class="message-avatar">
      <UnifiedIcon name="ai-center" />
    </div>
    <div class="message-content welcome-card">
      <div class="message-text">
        <div class="welcome-title">
          <UnifiedIcon name="ai-center" />
          ğŸŒˆ å—¨ï¼Œäº²çˆ±çš„å›­é•¿/è€å¸ˆï¼
        </div>
        <div class="welcome-subtitle">
          æˆ‘æ˜¯ä½ çš„AIå°åŠ©æ‰‹ï¼Œæœ‰ä»€ä¹ˆæƒ³çŸ¥é“çš„å°½ç®¡é—®æˆ‘ï¼Œæˆ‘ä¼šç”¨æœ€ç®€å•çš„æ–¹å¼å›ç­”ä½ å“¦ï¼âœ¨
        </div>
      </div>
      <div class="suggestion-buttons">
        <!-- åŸæœ‰åŠŸèƒ½æç¤ºè¯ -->
        <!-- å›­é•¿è€å¸ˆå…³å¿ƒçš„æ—¥å¸¸é—®é¢˜ -->
        <button
          class="suggestion-btn"
          @click="handleSuggestion('ç°åœ¨æœ‰å¤šå°‘ä¸ªå°æœ‹å‹å‘€ï¼Ÿ')"
          :title="'æŸ¥çœ‹å­¦ç”Ÿæ€»æ•°'"
          @mousedown="() => console.log('ğŸ”¥ [æŒ‰é’®æµ‹è¯•] é¼ æ ‡æŒ‰ä¸‹äº‹ä»¶è§¦å‘')"
          @mouseup="() => console.log('ğŸ”¥ [æŒ‰é’®æµ‹è¯•] é¼ æ ‡é‡Šæ”¾äº‹ä»¶è§¦å‘')"
        >
          <UnifiedIcon name="ai-center" />
          ğŸ‘¶ æœ‰å¤šå°‘å°æœ‹å‹å‘€ï¼Ÿ
        </button>
        <button
          class="suggestion-btn"
          @click="handleSuggestion('å“ªä¸ªç­çº§çš„å°æœ‹å‹æœ€å¤šï¼Ÿ')"
          :title="'æŸ¥çœ‹ç­çº§äººæ•°ç»Ÿè®¡'"
        >
          <UnifiedIcon name="ai-center" />
          ğŸ† å“ªä¸ªç­å°æœ‹å‹æœ€å¤šï¼Ÿ
        </button>
        <button
          class="suggestion-btn"
          @click="handleSuggestion('æœ€è¿‘æœ‰ä»€ä¹ˆæœ‰è¶£çš„æ´»åŠ¨å—ï¼Ÿ')"
          :title="'æŸ¥çœ‹è¿‘æœŸæ´»åŠ¨å®‰æ’'"
        >
          <UnifiedIcon name="Edit" />
          ğŸ‰ æœ€è¿‘æœ‰ä»€ä¹ˆå¥½ç©çš„æ´»åŠ¨ï¼Ÿ
        </button>

        <!-- è€å¸ˆæ•™å­¦ç›¸å…³åŠŸèƒ½ -->
        <button
          class="suggestion-btn html-preview-btn"
          @click="handleSuggestion('å¸®æˆ‘åšä¸ªè®¤è¯†æ•°å­—çš„å°æ¸¸æˆ')"
          :title="'ç”Ÿæˆæ•°å­—è®¤çŸ¥æ¸¸æˆ'"
        >
          <UnifiedIcon name="ai-center" />
          ğŸ”¢ æ•°å­—å°æ¸¸æˆ
        </button>
        <button
          class="suggestion-btn html-preview-btn"
          @click="handleSuggestion('ç»™æˆ‘è®²è®²å°åŠ¨ç‰©çš„æ•…äº‹å§')"
          :title="'åŠ¨ç‰©è®¤çŸ¥æ•™å­¦å†…å®¹'"
        >
          <UnifiedIcon name="ai-center" />
          ğŸ¾ å°åŠ¨ç‰©æ•…äº‹
        </button>
        <button
          class="suggestion-btn html-preview-btn"
          @click="handleSuggestion('å¸®å°æœ‹å‹è®¤è¯†å½¢çŠ¶å’Œé¢œè‰²')"
          :title="'å½¢çŠ¶é¢œè‰²æ•™å­¦æ¸¸æˆ'"
        >
          <UnifiedIcon name="ai-center" />
          ğŸ¨ å½¢çŠ¶é¢œè‰²è®¤çŸ¥
        </button>
      </div>
      <div class="welcome-tips">
        <div class="tip-item">
          <UnifiedIcon name="ai-center" />
          <span>ğŸ’¬ ç”¨å¤§ç™½è¯èŠå¤©</span>
        </div>
        <div class="tip-item">
          <UnifiedIcon name="ai-center" />
          <span>ğŸ”§ ä¼šåšå„ç§äº‹æƒ…</span>
        </div>
        <div class="tip-item">
          <UnifiedIcon name="microphone" :size="16" />
          <span>ğŸ¤ è¿˜èƒ½è¯­éŸ³å¯¹è¯</span>
        </div>
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
import {
  Service,
  School,
  TrendCharts,
  EditPen,
  ChatDotRound,
  Tools,
  Microphone,
  Histogram,
  Orange,
  Grid
} from '@element-plus/icons-vue'

// ==================== Emits ====================
interface Emits {
  'suggestion': [text: string]
}

const emit = defineEmits<Emits>()

// ==================== äº‹ä»¶å¤„ç† ====================
const handleSuggestion = (text: string) => {
  console.log('ğŸ” [WelcomeMessage] å»ºè®®æŒ‰é’®ç‚¹å‡»:', text)
  emit('suggestion', text)
}
</script>

<style scoped lang="scss">
// design-tokens å·²é€šè¿‡ vite.config å…¨å±€æ³¨å…¥

.welcome-message {
  margin-bottom: var(--text-3xl);

  /* ğŸ¯ æ¬¢è¿æ¶ˆæ¯å®½åº¦æ§åˆ¶ï¼šä½¿ç”¨å“åº”å¼å˜é‡ */
  width: var(--ai-content-width);
  max-width: var(--ai-content-max-width);
  margin: 0 auto var(--text-3xl);

  /* ğŸ”§ é˜²æ­¢ç¼©æ”¾æ—¶å˜å½¢ */
  transform-origin: center center;
  flex-shrink: 0;

  /* ğŸ¨ å¹³æ»‘è¿‡æ¸¡ */
  transition: all var(--ai-transition-normal);
}

.message-item {
  display: flex;
  gap: var(--text-sm);
  margin-bottom: var(--text-lg);
}

.message-item.assistant {
  justify-content: flex-start;
}

.message-avatar {
  width: var(--icon-size); height: var(--icon-size);
  border-radius: var(--radius-full);
  background: var(--el-color-primary-light-9);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  color: var(--el-color-primary);
  font-size: var(--text-xl);
}

.message-content {
  flex: 1;
  min-width: 0;
}

// ğŸ¨ 3ï¸âƒ£ æ¬¢è¿æ¶ˆæ¯å¡ç‰‡ - ä½¿ç”¨ä¸»é¢˜å˜é‡
.welcome-card {
  background: linear-gradient(135deg, var(--ai-welcome-bg-start) 0%, var(--ai-welcome-bg-end) 100%);
  border: var(--border-width) solid var(--ai-welcome-border);
  border-radius: var(--text-sm);
  padding: var(--text-3xl);
  box-shadow: 0 2px var(--text-sm) var(--ai-welcome-shadow);
  backdrop-filter: blur(var(--spacing-xl)) saturate(180%);
  transition: all var(--ai-transition-normal);
}

.message-text {
  margin-bottom: var(--spacing-xl);
}

.welcome-title {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  font-size: var(--text-xl);
  font-weight: 600;
  color: var(--el-text-color-primary);
  margin-bottom: var(--spacing-sm);
}

.welcome-icon {
  font-size: var(--spacing-xl);
  color: var(--el-color-primary);
}

.welcome-subtitle {
  font-size: var(--text-base);
  color: var(--el-text-color-regular);
  line-height: 1.5;
}

.suggestion-buttons {
  display: flex;
  flex-direction: column;
  gap: var(--text-sm);
  margin-bottom: var(--spacing-xl);
}

.suggestion-btn {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  padding: var(--text-sm) var(--text-lg);
  background: var(--el-bg-color);
  border: var(--border-width) solid var(--el-border-color-light);
  border-radius: var(--spacing-sm);
  color: var(--el-text-color-primary);
  font-size: var(--text-base);
  cursor: pointer;
  transition: all var(--transition-fast);
  text-align: left;
  width: 100%;
}

.suggestion-btn:hover {
  background: var(--el-color-primary-light-9);
  border-color: var(--el-color-primary-light-7);
  color: var(--el-color-primary);
  transform: translateY(var(--z-index-below));
  box-shadow: 0 var(--spacing-xs) var(--text-sm) var(--shadow-light);
}

.suggestion-btn:active {
  transform: translateY(0);
}

// ğŸ¨ HTMLé¢„è§ˆæŒ‰é’®ç‰¹æ®Šæ ·å¼
.suggestion-btn.html-preview-btn {
  background: linear-gradient(135deg, var(--bg-white)5f5 0%, #ffe9f0 100%);
  border-color: var(--primary-color-ultra-light);
  color: var(--text-primary); // ğŸ”§ ä¿®å¤ï¼šæ·±ç´«è‰²æ–‡å­—ï¼Œç¡®ä¿åœ¨ç²‰è‰²èƒŒæ™¯ä¸Šæ¸…æ™°å¯è§

  &:hover {
    background: linear-gradient(135deg, #ffe9f0 0%, #ffd6e0 100%);
    border-color: var(--primary-color-light);
    color: var(--text-secondary); // ğŸ”§ ä¿®å¤ï¼šæ‚¬åœæ—¶æ›´æ·±çš„æ–‡å­—é¢œè‰²

    .el-icon {
      color: var(--primary-color);
      transform: scale(1.1);
    }
  }

  .el-icon {
    color: var(--primary-color-light);
    transition: all var(--transition-fast);
  }
}

.welcome-tips {
  display: flex;
  gap: var(--text-lg);
  padding-top: var(--text-lg);
  border-top: var(--z-index-dropdown) solid var(--el-border-color-lighter);
}

.tip-item {
  display: flex;
  align-items: center;
  gap: var(--spacing-lg);
  font-size: var(--text-sm);
  color: var(--el-text-color-regular);
}

.tip-item .el-icon {
  font-size: var(--text-base);
  color: var(--el-color-primary);
}

/* å“åº”å¼è®¾è®¡ */
@media (max-width: var(--breakpoint-md)) {
  .welcome-card {
    padding: var(--spacing-xl);
  }
  
  .welcome-tips {
    flex-direction: column;
    gap: var(--spacing-sm);
  }
  
  .suggestion-btn {
    padding: var(--spacing-2xl) var(--text-base);
    font-size: var(--text-sm);
  }
}

@media (max-width: var(--breakpoint-sm)) {
  .welcome-card {
    padding: var(--text-lg);
  }
  
  .welcome-title {
    font-size: var(--text-lg);
  }
  
  .welcome-subtitle {
    font-size: var(--text-sm);
  }
}
</style>
