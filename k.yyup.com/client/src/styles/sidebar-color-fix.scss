/* 侧边栏颜色修复 - 解决Builder.io风格主题中的颜色冲突问题 */

/* 
 * 问题描述：
 * 侧边栏文字显示为 oklab(0.525 -0.0761298 0.0354999) 而不是期望的 #666666
 * 原因：workbench-theme.css 和其他CSS文件中的变量冲突
 */

/* 强制修复明亮主题的侧边栏颜色 */
:root.theme-light {
  /* 核心变量强制覆盖 */
  --muted-foreground: var(--text-secondary) !important;
  --text-muted: var(--text-secondary) !important;
  --sidebar-text: var(--text-secondary) !important;
  --text-secondary: var(--text-secondary) !important;
}

/* 侧边栏组件强制修复 */
.sidebar {
  /* 导航项目容器 */
  .nav-item {
    color: var(--sidebar-text, var(--text-secondary)) !important;
    
    /* 中心项目 */
    .center-item {
      color: var(--sidebar-text, var(--text-secondary)) !important;
    }
    
    /* 导航文字 */
    .nav-text {
      color: var(--sidebar-text, var(--text-secondary)) !important;
    }
    
    /* 导航图标 */
    .nav-icon {
      color: var(--sidebar-text, var(--text-secondary)) !important;
    }
  }
  
  /* 确保所有文字元素都使用正确的颜色 */
  span, div, a {
    &:not(.logo):not(.brand) {
      color: var(--sidebar-text, var(--text-secondary)) !important;
    }
  }
}

/* 特殊情况：确保悬停状态正确 */
.sidebar .nav-item:hover {
  .nav-text,
  .nav-icon,
  .center-item {
    color: var(--sidebar-text-hover, #333333) !important;
  }
}

/* 激活状态 */
.sidebar .nav-item.active,
.sidebar .nav-item.router-link-active {
  .nav-text,
  .nav-icon,
  .center-item {
    color: #ffffff !important;
  }
}

/* 确保主题切换时立即生效 */
html.theme-light .sidebar .nav-text,
html.theme-light .sidebar .nav-icon,
html.theme-light .sidebar .center-item {
  color: var(--sidebar-text, var(--text-secondary)) !important;
}

/* 防止其他CSS框架覆盖 */
.theme-light .sidebar *[class*="nav-"],
.theme-light .sidebar *[class*="text-"],
.theme-light .sidebar *[class*="item-"] {
  color: inherit !important;
}
