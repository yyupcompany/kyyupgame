# 活动中心Timeline使用指南

## 📋 功能概述

活动中心Timeline是一个全新的活动管理界面，采用时间线模式展示活动管理的8个核心流程，让园长能够一目了然地掌握活动进展。

## 🎯 核心特性

### 1. Timeline流程可视化
- **8个核心流程**：从活动策划到效果分析的完整流程
- **实时进度显示**：每个流程显示真实的进度百分比
- **状态标识**：已完成、进行中、待开始三种状态
- **左右分栏布局**：左侧Timeline队列，右侧详情面板

### 2. 真实数据驱动
- ✅ 所有统计数据从数据库实时查询
- ✅ 进度百分比基于真实数据计算
- ✅ 无硬编码和模拟数据
- ✅ 支持数据刷新

### 3. 快捷操作
- 每个流程提供相关的快捷操作按钮
- 一键跳转到对应功能页面
- 支持批量操作和数据导出

## 🚀 访问方式

### 方式1: 直接访问
```
http://localhost:5173/centers/activity-timeline
```

### 方式2: 从活动中心跳转
1. 访问 `http://localhost:5173/centers/activity`
2. 点击"Timeline视图"按钮

## 📊 Timeline流程详解

### 1. 活动策划 (85%)
**功能**：
- 模板选择：从活动模板库中选择合适的模板
- 基本信息：填写活动标题、时间、地点、人数
- 目标设定：设置活动类型和预期目标

**统计数据**：
- 总活动数
- 模板总数
- 已使用模板数
- 草稿活动数

**快捷操作**：
- 新建活动
- 查看模板
- AI策划

---

### 2. 内容制作 (72%) ⭐ 核心流程
**功能**：
- 🎨 海报设计：选择模板、编辑海报、AI生成海报
- 🛒 营销配置：设置团购、积攒、优惠券、推荐奖励

**营销配置详解**：
- **团购活动**：团购人数(2-50人)、团购价格、团购时限
- **积攒活动**：积攒目标(10-1000人)、奖励类型、奖励规则
- **优惠券**：优惠券类型、发放数量、使用条件
- **推荐奖励**：推荐奖励金额、最大奖励次数

**统计数据**：
- 海报总数
- 启用营销的活动数
- 已发布活动数
- 草稿活动数

**快捷操作**：
- 设计海报
- 营销配置
- 预览效果

---

### 3. 页面生成 (68%) ⭐ 核心流程
**功能**：
- 生成活动报名页面（H5/小程序）
- 集成营销功能（团购、积攒等）
- 生成分享链接和二维码

**页面功能**：
- 活动信息展示
- 团购倒计时
- 积攒进度条
- 优惠券领取
- 在线报名表单

**统计数据**：
- 已生成页面数
- 活跃页面数
- 总浏览量（真实数据）
- 总报名数

**快捷操作**：
- 生成页面
- 查看二维码
- 分享推广

---

### 4. 活动发布 (65%)
**功能**：
- 发布到微信、网站、小程序等渠道
- 设置分享文案和图片
- 开启报名通道

**统计数据**：
- 已发布活动数
- 发布渠道数
- 总分享次数（真实数据）
- 总浏览量（真实数据）

**快捷操作**：
- 发布活动
- 设置渠道
- 查看数据

---

### 5. 报名管理 (58%)
**功能**：
- 报名审核
- 报名统计
- 名单管理
- 通知提醒

**统计数据**：
- 总报名数
- 已审核报名数
- 待审核报名数
- 转化率

**快捷操作**：
- 审核报名
- 导出名单
- 发送通知

---

### 6. 活动执行 (45%)
**功能**：
- 签到管理（扫码签到、手动签到）
- 现场管理
- 参与统计

**统计数据**：
- 已签到人数（真实数据）
- 总参与人数
- 进行中活动数
- 已完成活动数

**快捷操作**：
- 扫码签到
- 手动签到
- 查看参与者

---

### 7. 活动评价 (30%)
**功能**：
- 满意度调查
- 反馈收集
- 评价分析

**统计数据**：
- 总评价数
- 平均评分（真实数据）
- 已完成活动数
- 评价率

**快捷操作**：
- 创建问卷
- 查看反馈
- 满意度分析

---

### 8. 效果分析 (15%)
**功能**：
- 数据分析
- ROI计算（真实计算）
- 报告生成
- 优化建议

**统计数据**：
- 已分析活动数
- 总活动数
- 平均ROI（真实计算）
- 已生成报告数

**快捷操作**：
- 生成报告
- 查看分析
- 导出数据

---

## 🔧 技术实现

### 后端API
**端点**：`GET /api/centers/activity/timeline`

**响应格式**：
```json
{
  "success": true,
  "data": [
    {
      "id": "activity-planning",
      "title": "活动策划",
      "description": "模板选择和基本信息设置",
      "icon": "Lightbulb",
      "status": "completed",
      "progress": 85,
      "stats": {
        "totalActivities": 137,
        "totalTemplates": 25,
        "usedTemplates": 18,
        "draftActivities": 12
      },
      "actions": [
        { "key": "create-activity", "label": "新建活动", "type": "primary" },
        { "key": "view-templates", "label": "查看模板", "type": "default" },
        { "key": "ai-planning", "label": "AI策划", "type": "success" }
      ]
    }
    // ... 其他7个流程
  ]
}
```

### 前端组件
- **TimelineItem.vue**：Timeline项组件
- **DetailPanel.vue**：详情面板组件
- **ActivityCenterTimeline.vue**：主页面组件

### 数据来源
所有数据都从数据库实时查询：
- `Activity` 表：活动数据
- `ActivityRegistration` 表：报名数据
- `ActivityEvaluation` 表：评价数据
- `ActivityTemplate` 表：模板数据
- `PosterGeneration` 表：海报数据

## 📝 使用说明

### 1. 查看Timeline
1. 访问活动中心Timeline页面
2. 左侧显示8个流程的Timeline
3. 点击任意流程查看详情

### 2. 查看详情
1. 点击左侧Timeline项
2. 右侧显示详细信息：
   - 统计数据卡片
   - 快捷操作按钮
   - 功能详情列表

### 3. 执行操作
1. 在详情面板中点击快捷操作按钮
2. 系统自动跳转到对应功能页面
3. 完成操作后返回Timeline

### 4. 刷新数据
1. 点击右上角"刷新"按钮
2. 系统重新加载最新数据
3. Timeline和详情面板同步更新

## 🎨 界面特性

### 响应式设计
- **桌面端**：左右分栏布局（33% + 67%）
- **平板端**：上下布局
- **移动端**：单列布局，可切换Timeline和详情

### 视觉效果
- **状态颜色**：
  - 已完成：绿色
  - 进行中：蓝色（带脉冲动画）
  - 待开始：灰色
- **进度条**：渐变色进度条，实时显示进度
- **悬停效果**：卡片悬停时高亮显示

## 🔍 常见问题

### Q1: 为什么某些流程进度为0？
A: 进度基于真实数据计算，如果还没有相关数据，进度会显示为0。

### Q2: 如何更新Timeline数据？
A: 点击右上角的"刷新"按钮，或者重新进入页面。

### Q3: 快捷操作按钮点击后没有反应？
A: 部分功能可能还在开发中，会显示"功能开发中"的提示。

### Q4: 统计数据不准确怎么办？
A: 所有数据都是实时查询的，如果发现不准确，请检查数据库数据是否正确。

## 📚 相关文档

- [活动中心Timeline重构文档](./活动中心Timeline重构.md)
- [活动管理API文档](../server/docs/api/activity.md)
- [营销配置说明](../client/src/pages/mobile/components/activity/GroupBuyCard.vue)

---

**文档版本**：v1.0  
**最后更新**：2025-10-05  
**维护人员**：AI Assistant

