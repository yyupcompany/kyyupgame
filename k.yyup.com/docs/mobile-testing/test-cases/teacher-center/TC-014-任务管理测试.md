# TC-014: 任务管理测试

## 测试概述
**测试目标**: 验证移动端任务管理功能，包括任务创建、分配、执行、跟踪、统计等
**测试类型**: 功能测试 + 数据验证测试 + 工作流测试
**优先级**: 高
**预计执行时间**: 20-25分钟

## 测试环境
- **设备**: 移动端设备 (iOS/Android)
- **浏览器**: Chrome Mobile/Safari Mobile
- **网络**: 4G/WiFi
- **用户角色**: 教师

## 前置条件
1. 用户已成功登录系统
2. 用户具有任务管理权限
3. 系统中存在教师和学生数据
4. 移动端网络连接正常

## 测试用例详情

### TC-014-01: 任务创建和分配
**测试描述**: 验证任务的创建、分配和管理功能

**测试步骤**:
1. 进入任务中心页面
2. 点击创建新任务按钮
3. 填写任务基本信息
4. 设置任务优先级和截止日期
5. 分配任务给相关人员
6. 添加任务描述和附件
7. 保存并发布任务
8. 验证任务列表显示

**预期结果**:
- ✅ 任务创建表单正确显示
- ✅ 表单验证规则生效
- ✅ 任务分配功能正常
- ✅ 优先级设置可用
- ✅ 截止日期选择器工作
- ✅ 附件上传功能可用
- ✅ 任务成功保存并显示

**严格验证要求**:
```javascript
// 验证任务创建表单
const validateTaskCreationForm = () => {
  const taskForm = document.querySelector('.task-creation-form');
  expect(taskForm).toBeTruthy();

  // 必填字段验证
  const requiredFields = ['title', 'type', 'assignee', 'dueDate', 'priority'];
  requiredFields.forEach(field => {
    const fieldElement = taskForm.querySelector(`[name="${field}"]`);
    expect(fieldElement).toBeTruthy();
    expect(fieldElement.hasAttribute('required')).toBe(true);
  });

  // 任务类型验证
  const typeField = taskForm.querySelector('[name="type"]');
  const typeOptions = typeField.querySelectorAll('option');
  const validTypes = ['teaching', 'administrative', 'communication', 'training', 'other'];
  typeOptions.forEach(option => {
    expect(validTypes).toContain(option.value);
  });

  // 优先级验证
  const priorityField = taskForm.querySelector('[name="priority"]');
  const priorityOptions = priorityField.querySelectorAll('option');
  const validPriorities = ['low', 'medium', 'high', 'urgent'];
  priorityOptions.forEach(option => {
    expect(validPriorities).toContain(option.value);
  });

  // 日期字段验证
  const dueDateField = taskForm.querySelector('[name="dueDate"]');
  expect(dueDateField.type).toBe('date');
  const today = new Date().toISOString().split('T')[0];
  expect(dueDateField.min).toBe(today);
};

// API响应验证
const validateTaskCreationResponse = (response) => {
  validateRequiredFields(response.data, [
    'id', 'title', 'description', 'type', 'priority', 'status',
    'creatorId', 'assigneeId', 'dueDate', 'createdAt', 'updatedAt'
  ]);

  validateFieldTypes(response.data, {
    id: 'number',
    title: 'string',
    description: 'string',
    type: 'string',
    priority: 'string',
    status: 'string',
    creatorId: 'number',
    assigneeId: 'number',
    dueDate: 'string',
    createdAt: 'string',
    updatedAt: 'string'
  });

  // 枚举值验证
  expect(['teaching', 'administrative', 'communication', 'training', 'other'])
    .toContain(response.data.type);
  expect(['low', 'medium', 'high', 'urgent']).toContain(response.data.priority);
  expect(['pending', 'in_progress', 'completed', 'cancelled', 'overdue'])
    .toContain(response.data.status);

  // 日期格式验证
  const dateRegex = /^\d{4}-\d{2}-\d{2}$/;
  expect(dateRegex.test(response.data.dueDate)).toBe(true);

  const dateTimeRegex = /^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d{3})?Z?$/;
  expect(dateTimeRegex.test(response.data.createdAt)).toBe(true);
  expect(dateTimeRegex.test(response.data.updatedAt)).toBe(true);
};

// 任务创建测试数据
const taskCreationTestData = {
  title: '准备春季教学计划',
  description: '制定下学期的教学目标和课程安排',
  type: 'teaching',
  priority: 'high',
  assigneeId: 201,
  dueDate: '2024-02-01',
  estimatedHours: 8,
  tags: ['教学计划', '春季学期'],
  attachments: [],
  subtasks: [
    { title: '收集学生反馈', completed: false },
    { title: '制定课程大纲', completed: false },
    { title: '准备教学材料', completed: false }
  ]
};
```

### TC-014-02: 任务执行和跟踪
**测试描述**: 验证任务执行过程中的状态更新、进度跟踪和协作功能

**测试步骤**:
1. 查看分配给我的任务
2. 更新任务状态
3. 记录工作进度
4. 添加执行备注
5. 上传工作成果
6. 标记任务完成
7. 提交任务审核
8. 验证状态同步

**预期结果**:
- ✅ 任务列表正确显示
- ✅ 状态更新功能正常
- ✅ 进度跟踪准确
- ✅ 备注记录完整
- ✅ 文件上传成功
- ✅ 完成标记有效
- ✅ 审核流程可用
- ✅ 数据实时同步

**严格验证要求**:
```javascript
// 验证任务执行界面
const validateTaskExecutionInterface = () => {
  const taskDetail = document.querySelector('.task-detail-view');
  expect(taskDetail).toBeTruthy();

  // 验证状态更新按钮
  const statusButtons = taskDetail.querySelectorAll('.status-update-btn');
  expect(statusButtons.length).toBeGreaterThan(0);

  statusButtons.forEach(btn => {
    const status = btn.dataset.status;
    expect(['in_progress', 'completed', 'paused', 'cancelled']).toContain(status);
  });

  // 验证进度跟踪组件
  const progressBar = taskDetail.querySelector('.task-progress-bar');
  const progressInput = taskDetail.querySelector('.progress-input');
  expect(progressBar).toBeTruthy();
  expect(progressInput).toBeTruthy();

  // 验证备注和附件区域
  const notesSection = taskDetail.querySelector('.task-notes-section');
  const attachmentsSection = taskDetail.querySelector('.task-attachments-section');
  expect(notesSection).toBeTruthy();
  expect(attachmentsSection).toBeTruthy();
};

// 任务状态更新验证
const validateTaskStatusUpdate = (response) => {
  validateRequiredFields(response.data, [
    'taskId', 'oldStatus', 'newStatus', 'updatedBy', 'updatedAt', 'comment'
  ]);

  validateFieldTypes(response.data, {
    taskId: 'number',
    oldStatus: 'string',
    newStatus: 'string',
    updatedBy: 'number',
    updatedAt: 'string',
    comment: 'string'
  });

  // 状态流转验证
  const validTransitions = {
    'pending': ['in_progress', 'cancelled'],
    'in_progress': ['completed', 'paused', 'cancelled'],
    'paused': ['in_progress', 'cancelled'],
    'completed': [], // 完成状态不能直接更改
    'cancelled': [] // 取消状态不能直接更改
  };

  expect(validTransitions[response.data.oldStatus]).toContain(response.data.newStatus);

  // 时间戳验证
  const dateTimeRegex = /^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d{3})?Z?$/;
  expect(dateTimeRegex.test(response.data.updatedAt)).toBe(true);
};

// 进度更新验证
const validateProgressUpdate = (response) => {
  validateRequiredFields(response.data, [
    'taskId', 'progress', 'updatedBy', 'updatedAt', 'workLog'
  ]);

  validateFieldTypes(response.data, {
    taskId: 'number',
    progress: 'number',
    updatedBy: 'number',
    updatedAt: 'string',
    workLog: 'object'
  });

  // 进度范围验证
  expect(response.data.progress).toBeBetween(0, 100);

  // 工作记录验证
  validateRequiredFields(response.data.workLog, ['hoursWorked', 'description']);
  validateFieldTypes(response.data.workLog, {
    hoursWorked: 'number',
    description: 'string'
  });

  expect(response.data.workLog.hoursWorked).toBeGreaterThan(0);
  expect(response.data.workLog.description.length).toBeGreaterThan(0);
};
```

### TC-014-03: 任务协作和沟通
**测试描述**: 验证任务执行过程中的协作功能和沟通机制

**测试步骤**:
1. 查看任务团队成员
2. 发送任务相关消息
3. 共享任务资料
4. 进行任务讨论
5. 提供反馈建议
6. 协作编辑内容
7. 验证协作记录

**预期结果**:
- ✅ 团队成员信息正确显示
- ✅ 消息发送功能正常
- ✅ 文件共享可用
- ✅ 讨论功能活跃
- ✅ 反馈机制有效
- ✅ 协作记录完整
- ✅ 通知及时推送

**严格验证要求**:
```javascript
// 验证协作功能界面
const validateCollaborationInterface = () => {
  const collaborationSection = document.querySelector('.task-collaboration-section');
  expect(collaborationSection).toBeTruthy();

  // 验证团队成员列表
  const teamMembersList = collaborationSection.querySelector('.team-members-list');
  expect(teamMembersList).toBeTruthy();

  const memberItems = teamMembersList.querySelectorAll('.team-member-item');
  expect(memberItems.length).toBeGreaterThan(0);

  memberItems.forEach(member => {
    const memberName = member.querySelector('.member-name');
    const memberRole = member.querySelector('.member-role');
    const memberStatus = member.querySelector('.member-status');

    expect(memberName).toBeTruthy();
    expect(memberRole).toBeTruthy();
    expect(memberStatus).toBeTruthy();
  });

  // 验证消息发送功能
  const messageInput = collaborationSection.querySelector('.message-input');
  const sendButton = collaborationSection.querySelector('.send-message-btn');
  expect(messageInput).toBeTruthy();
  expect(sendButton).toBeTruthy();

  // 验证文件共享功能
  const fileUpload = collaborationSection.querySelector('.file-upload-input');
  expect(fileUpload).toBeTruthy();
};

// 协作消息验证
const validateCollaborationMessage = (response) => {
  validateRequiredFields(response.data, [
    'messageId', 'taskId', 'senderId', 'content', 'type', 'sentAt',
    'readBy', 'attachments'
  ]);

  validateFieldTypes(response.data, {
    messageId: 'number',
    taskId: 'number',
    senderId: 'number',
    content: 'string',
    type: 'string',
    sentAt: 'string',
    readBy: 'array',
    attachments: 'array'
  });

  // 消息类型验证
  expect(['text', 'file', 'image', 'system', 'feedback']).toContain(response.data.type);

  // 阅读状态验证
  expect(Array.isArray(response.data.readBy)).toBe(true);
  response.data.readBy.forEach(userId => {
    expect(typeof userId).toBe('number');
  });

  // 附件验证
  expect(Array.isArray(response.data.attachments)).toBe(true);
  response.data.attachments.forEach(attachment => {
    validateRequiredFields(attachment, ['id', 'filename', 'url', 'size']);
    validateFieldTypes(attachment, {
      id: 'number',
      filename: 'string',
      url: 'string',
      size: 'number'
    });
  });
};

// 任务反馈验证
const validateTaskFeedback = (response) => {
  validateRequiredFields(response.data, [
    'feedbackId', 'taskId', 'reviewerId', 'rating', 'comment',
    'suggestions', 'createdAt'
  ]);

  validateFieldTypes(response.data, {
    feedbackId: 'number',
    taskId: 'number',
    reviewerId: 'number',
    rating: 'number',
    comment: 'string',
    suggestions: 'array',
    createdAt: 'string'
  });

  // 评分范围验证
  expect(response.data.rating).toBeBetween(1, 5);

  // 建议验证
  expect(Array.isArray(response.data.suggestions)).toBe(true);
  response.data.suggestions.forEach(suggestion => {
    validateRequiredFields(suggestion, ['type', 'description', 'priority']);
    validateFieldTypes(suggestion, {
      type: 'string',
      description: 'string',
      priority: 'string'
    });
    expect(['improvement', 'praise', 'suggestion']).toContain(suggestion.type);
    expect(['low', 'medium', 'high']).toContain(suggestion.priority);
  });
};
```

### TC-014-04: 任务统计和分析
**测试描述**: 验证任务执行情况的统计分析和报告生成功能

**测试步骤**:
1. 查看任务统计概览
2. 按不同维度筛选分析
3. 查看任务完成率统计
4. 分析工作负荷分布
5. 生成任务执行报告
6. 导出统计数据
7. 查看趋势分析图表

**预期结果**:
- ✅ 统计数据完整准确
- ✅ 筛选功能正常工作
- ✅ 完成率计算正确
- ✅ 工作负荷分析到位
- ✅ 报告格式符合要求
- ✅ 导出功能可用
- ✅ 趋势图表清晰直观

**严格验证要求**:
```javascript
// 任务统计概览验证
const validateTaskStatisticsOverview = (response) => {
  validateRequiredFields(response.data, [
    'totalTasks', 'completedTasks', 'inProgressTasks', 'pendingTasks',
    'overdueTasks', 'completionRate', 'averageCompletionTime', 'workloadDistribution'
  ]);

  validateFieldTypes(response.data, {
    totalTasks: 'number',
    completedTasks: 'number',
    inProgressTasks: 'number',
    pendingTasks: 'number',
    overdueTasks: 'number',
    completionRate: 'number',
    averageCompletionTime: 'number',
    workloadDistribution: 'object'
  });

  // 数值逻辑验证
  const totalActiveTasks = response.data.completedTasks + response.data.inProgressTasks +
                          response.data.pendingTasks + response.data.overdueTasks;
  expect(totalActiveTasks).toBeLessThanOrEqual(response.data.totalTasks);

  // 完成率验证
  if (response.data.totalTasks > 0) {
    const expectedRate = (response.data.completedTasks / response.data.totalTasks) * 100;
    expect(Math.abs(response.data.completionRate - expectedRate)).toBeLessThan(0.1);
  }

  // 工作负荷分布验证
  validateRequiredFields(response.data.workloadDistribution, [
    'byAssignee', 'byPriority', 'byType', 'byTimeRange'
  ]);

  // 按负责人分布验证
  expect(Array.isArray(response.data.workloadDistribution.byAssignee)).toBe(true);
  response.data.workloadDistribution.byAssignee.forEach(assignee => {
    validateRequiredFields(assignee, ['userId', 'userName', 'taskCount', 'completedCount', 'workloadScore']);
    validateFieldTypes(assignee, {
      userId: 'number',
      userName: 'string',
      taskCount: 'number',
      completedCount: 'number',
      workloadScore: 'number'
    });
    expect(assignee.taskCount).toBeGreaterThanOrEqual(assignee.completedCount);
  });

  // 按优先级分布验证
  expect(Array.isArray(response.data.workloadDistribution.byPriority)).toBe(true);
  response.data.workloadDistribution.byPriority.forEach(priority => {
    validateRequiredFields(priority, ['priority', 'count', 'completedCount']);
    validateFieldTypes(priority, {
      priority: 'string',
      count: 'number',
      completedCount: 'number'
    });
    expect(['low', 'medium', 'high', 'urgent']).toContain(priority.priority);
  });
};

// 任务报告生成验证
const validateTaskReport = (reportData) => {
  validateRequiredFields(reportData, [
    'title', 'period', 'generatedAt', 'statistics', 'charts', 'tables',
    'insights', 'recommendations'
  ]);

  validateFieldTypes(reportData, {
    title: 'string',
    period: 'string',
    generatedAt: 'string',
    statistics: 'object',
    charts: 'array',
    tables: 'array',
    insights: 'array',
    recommendations: 'array'
  });

  // 统计数据验证
  validateRequiredFields(reportData.statistics, [
    'productivityMetrics', 'efficiencyMetrics', 'qualityMetrics', 'collaborationMetrics'
  ]);

  // 图表数据验证
  reportData.charts.forEach(chart => {
    validateRequiredFields(chart, ['type', 'title', 'data', 'options']);
    expect(['line', 'bar', 'pie', 'scatter', 'heatmap']).toContain(chart.type);
  });

  // 洞察分析验证
  reportData.insights.forEach(insight => {
    validateRequiredFields(insight, ['type', 'title', 'description', 'impact']);
    validateFieldTypes(insight, {
      type: 'string',
      title: 'string',
      description: 'string',
      impact: 'string'
    });
    expect(['positive', 'negative', 'neutral']).toContain(insight.type);
  });

  // 建议验证
  reportData.recommendations.forEach(recommendation => {
    validateRequiredFields(recommendation, ['category', 'action', 'priority', 'expectedImpact']);
    validateFieldTypes(recommendation, {
      category: 'string',
      action: 'string',
      priority: 'string',
      expectedImpact: 'string'
    });
    expect(['process', 'resource', 'training', 'communication']).toContain(recommendation.category);
    expect(['low', 'medium', 'high']).toContain(recommendation.priority);
  });
};
```

### TC-014-05: 任务提醒和通知
**测试描述**: 验证任务提醒、截止日期预警和通知推送功能

**测试步骤**:
1. 设置任务提醒规则
2. 配置截止日期预警
3. 测试通知推送功能
4. 验证提醒时间准确性
5. 检查通知内容完整性
6. 测试通知优先级处理
7. 验证通知历史记录

**预期结果**:
- ✅ 提醒规则设置成功
- ✅ 截止日期预警及时
- ✅ 通知推送功能正常
- ✅ 提醒时间准确无误
- ✅ 通知内容完整清晰
- ✅ 优先级处理正确
- ✅ 历史记录可查询

**严格验证要求**:
```javascript
// 提醒设置验证
const validateReminderSettings = () => {
  const reminderSection = document.querySelector('.reminder-settings-section');
  expect(reminderSection).toBeTruthy();

  // 验证提醒类型
  const reminderTypes = reminderSection.querySelectorAll('.reminder-type');
  const validTypes = ['due_date', 'progress', 'overdue', 'assignment'];
  expect(reminderTypes.length).toBe(validTypes.length);

  reminderTypes.forEach(type => {
    const typeName = type.dataset.type;
    expect(validTypes).toContain(typeName);

    const enabledCheckbox = type.querySelector('.enable-reminder');
    const timeInput = type.querySelector('.reminder-time');
    expect(enabledCheckbox).toBeTruthy();
    expect(timeInput).toBeTruthy();
  });

  // 验证通知渠道
  const notificationChannels = reminderSection.querySelectorAll('.notification-channel');
  const validChannels = ['app', 'email', 'sms', 'wechat'];
  notificationChannels.forEach(channel => {
    const channelName = channel.dataset.channel;
    expect(validChannels).toContain(channelName);
  });
};

// 通知发送验证
const validateNotificationSending = (response) => {
  validateRequiredFields(response.data, [
    'notificationId', 'taskId', 'recipientId', 'type', 'title',
    'content', 'channels', 'sentAt', 'readAt'
  ]);

  validateFieldTypes(response.data, {
    notificationId: 'number',
    taskId: 'number',
    recipientId: 'number',
    type: 'string',
    title: 'string',
    content: 'string',
    channels: 'array',
    sentAt: 'string',
    readAt: 'string'
  });

  // 通知类型验证
  expect(['due_date_reminder', 'progress_update', 'assignment', 'completion', 'overdue'])
    .toContain(response.data.type);

  // 通知渠道验证
  expect(Array.isArray(response.data.channels)).toBe(true);
  response.data.channels.forEach(channel => {
    expect(['app', 'email', 'sms', 'wechat']).toContain(channel);
  });

  // 时间格式验证
  const dateTimeRegex = /^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d{3})?Z?$/;
  expect(dateTimeRegex.test(response.data.sentAt)).toBe(true);

  if (response.data.readAt) {
    expect(dateTimeRegex.test(response.data.readAt)).toBe(true);
  }
};

// 提醒规则验证
const validateReminderRules = (response) => {
  validateRequiredFields(response.data, [
    'ruleId', 'taskId', 'reminderType', 'triggerConditions', 'actions', 'enabled'
  ]);

  validateFieldTypes(response.data, {
    ruleId: 'number',
    taskId: 'number',
    reminderType: 'string',
    triggerConditions: 'object',
    actions: 'array',
    enabled: 'boolean'
  });

  // 提醒类型验证
  expect(['due_date', 'progress', 'overdue', 'assignment']).toContain(response.data.reminderType);

  // 触发条件验证
  validateRequiredFields(response.data.triggerConditions, [
    'timeBefore', 'conditionType', 'threshold'
  ]);

  validateFieldTypes(response.data.triggerConditions, {
    timeBefore: 'number',
    conditionType: 'string',
    threshold: 'number'
  });

  // 动作验证
  expect(Array.isArray(response.data.actions)).toBe(true);
  response.data.actions.forEach(action => {
    validateRequiredFields(action, ['type', 'channel', 'template']);
    validateFieldTypes(action, {
      type: 'string',
      channel: 'string',
      template: 'string'
    });
  });
};
```

## API接口测试

### POST /api/tasks/create
**请求体**:
```json
{
  "title": "准备春季教学计划",
  "description": "制定下学期的教学目标和课程安排",
  "type": "teaching",
  "priority": "high",
  "assigneeId": 201,
  "dueDate": "2024-02-01",
  "estimatedHours": 8,
  "tags": ["教学计划", "春季学期"],
  "subtasks": [
    { "title": "收集学生反馈", "completed": false },
    { "title": "制定课程大纲", "completed": false }
  ]
}
```

**成功响应**:
```json
{
  "success": true,
  "data": {
    "id": 12345,
    "title": "准备春季教学计划",
    "status": "pending",
    "creatorId": 101,
    "assigneeId": 201,
    "createdAt": "2024-01-15T10:00:00Z",
    "updatedAt": "2024-01-15T10:00:00Z"
  },
  "message": "任务创建成功"
}
```

### PUT /api/tasks/{taskId}/status
**请求体**:
```json
{
  "status": "in_progress",
  "comment": "开始收集学生反馈资料",
  "progress": 25
}
```

### GET /api/tasks/statistics
**查询参数**: `?assigneeId=201&startDate=2024-01-01&endDate=2024-01-31`

**成功响应**:
```json
{
  "success": true,
  "data": {
    "overview": {
      "totalTasks": 15,
      "completedTasks": 8,
      "inProgressTasks": 4,
      "pendingTasks": 2,
      "overdueTasks": 1,
      "completionRate": 53.3,
      "averageCompletionTime": 3.5
    },
    "workloadDistribution": {
      "byAssignee": [
        {
          "userId": 201,
          "userName": "张老师",
          "taskCount": 15,
          "completedCount": 8,
          "workloadScore": 85.5
        }
      ]
    }
  }
}
```

## 性能测试要求

### 数据加载性能
- **任务列表加载**: < 2秒
- **任务详情加载**: < 1.5秒
- **统计数据生成**: < 3秒
- **批量操作响应**: < 4秒

**性能验证**:
```javascript
// 任务列表加载性能测试
const listLoadStart = performance.now();
await loadTaskList({ assigneeId: 201, status: 'pending' });
const listLoadEnd = performance.now();
expect(listLoadEnd - listLoadStart).toBeLessThan(2000);

// 统计数据生成性能测试
const statsGenStart = performance.now();
await generateTaskStatistics({ period: 'month', userId: 201 });
const statsGenEnd = performance.now();
expect(statsGenEnd - statsGenStart).toBeLessThan(3000);
```

## 边界条件测试

### 数据量边界测试
- 大量任务同时管理（100+任务）
- 复杂任务层级结构（5级子任务）
- 多用户协作任务（20+参与者）
- 长时间跨度任务（跨年度）

### 时间边界测试
- 跨时区任务管理
- 夏令时调整处理
- 历史任务归档
- 未来任务计划

## 错误处理测试

### 并发冲突处理
- 任务状态并发更新
- 重复任务创建检测
- 分配冲突解决

**错误处理验证**:
```javascript
// 并发更新冲突测试
const concurrentUpdateTest = async () => {
  const taskId = 12345;

  // 模拟两个用户同时更新任务状态
  const update1 = updateTaskStatus(taskId, { status: 'completed' });
  const update2 = updateTaskStatus(taskId, { status: 'in_progress' });

  const [response1, response2] = await Promise.all([update1, update2]);

  // 一个成功，一个失败（乐观锁机制）
  expect(response1.success || response2.success).toBe(true);
  expect(!(response1.success && response2.success)).toBe(true);
};

// 任务分配冲突测试
const assignmentConflictTest = async () => {
  const taskData = {
    title: '冲突测试任务',
    assigneeId: 301,
    dueDate: '2024-01-20'
  };

  // 第一次分配成功
  const firstResponse = await createTask(taskData);
  expect(firstResponse.success).toBe(true);

  // 检查用户工作负荷
  const workloadResponse = await getUserWorkload(301);
  expect(workloadResponse.data.overloaded).toBe(true);

  // 系统应该提供工作负荷警告
  const warningResponse = await createTask({ ...taskData, title: '另一个任务' });
  expect(warningResponse.data.warning).toBeTruthy();
};
```

## 回归测试检查点
1. 现有任务数据完整性
2. 状态流转逻辑正确
3. 统计算法准确性
4. 性能指标稳定性

## 测试通过标准
- 所有任务操作100%功能正常
- 状态流转逻辑正确
- 协作功能完整可用
- 统计分析准确无误
- 通知提醒及时有效
- 性能指标达到要求

## 相关文件
- 测试页面: `/mobile/centers/task-center/index.vue`
- API接口: `/api/tasks/*`
- 测试脚本: `/tests/mobile/teacher-center/TC-014.spec.js`
- 验证工具: `/tests/utils/validation-helpers.js`