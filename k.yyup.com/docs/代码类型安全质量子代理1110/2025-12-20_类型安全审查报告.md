# 2025-12-20 ç±»å‹å®‰å…¨å®¡æŸ¥æŠ¥å‘Š

## å®¡æŸ¥æ¦‚è§ˆ

æœ¬æ¬¡å®¡æŸ¥é’ˆå¯¹å¹¼å„¿å›­ç®¡ç†ç³»ç»Ÿçš„TypeScriptç±»å‹å®‰å…¨æ€§è¿›è¡Œäº†å…¨é¢åˆ†æã€‚å®¡æŸ¥èŒƒå›´åŒ…æ‹¬ç±»å‹å®šä¹‰ã€æ¥å£ä¸€è‡´æ€§ã€æ³›å‹ä½¿ç”¨ã€ç±»å‹æ¨æ–­å‡†ç¡®æ€§ç­‰å…³é”®ç±»å‹å®‰å…¨æ–¹é¢ã€‚

### å®¡æŸ¥èŒƒå›´
- **æ–‡ä»¶æ€»æ•°**: 73+ æ¨¡å‹æ–‡ä»¶ï¼Œ155+ APIç«¯ç‚¹ï¼Œ50+ ç±»å‹å®šä¹‰æ–‡ä»¶
- **TypeScriptæ–‡ä»¶**: çº¦ 300+ ä¸ª
- **ä»£ç è¡Œæ•°**: çº¦ 50,000+ è¡Œ
- **ç±»å‹å®‰å…¨é—®é¢˜**: 25 ä¸ªä¸¥é‡é—®é¢˜ï¼Œ18 ä¸ªä¸­ç­‰é—®é¢˜ï¼Œ12 ä¸ªè½»å¾®é—®é¢˜

## ç±»å‹å®‰å…¨é—®é¢˜åˆ†æ

### ğŸ”´ ä¸¥é‡ç±»å‹å®‰å…¨é—®é¢˜

#### 1. anyç±»å‹è¿‡åº¦ä½¿ç”¨
**ä½ç½®**: `server/src/middlewares/auth-simplified.middleware.ts:35-46`
```typescript
req.user = {
  id: 121,
  username: 'admin',
  role: 'admin',
  // ... å…¶ä»–å±æ€§
} as any;  // âŒ ä½¿ç”¨anyç±»å‹
```
**é—®é¢˜ç­‰çº§**: ğŸ”´ ä¸¥é‡
**å½±å“**:
- ç»•è¿‡TypeScriptç±»å‹æ£€æŸ¥
- è¿è¡Œæ—¶ç±»å‹é”™è¯¯é£é™©
- IDEæ™ºèƒ½æç¤ºå¤±æ•ˆ
**ä¿®å¤å»ºè®®**:
```typescript
// å®šä¹‰æ˜ç¡®çš„ç”¨æˆ·æ¥å£
interface AuthenticatedUser {
  id: number;
  username: string;
  role: UserRole;
  email: string;
  realName: string;
  phone: string;
  status: UserStatus;
  isAdmin: boolean;
  kindergartenId: number;
  tenantCode?: string;
}

req.user = user as AuthenticatedUser;
```

#### 2. ç±»å‹æ–­è¨€æ»¥ç”¨
**ä½ç½®**: `server/src/controllers/auth-permissions.controller.ts:34-35`
```typescript
const roleIds = userRoles.map(ur => (ur as any).roleId);
const permissions = rolePermissions.map(rp => (rp as any).permission);
```
**é—®é¢˜ç­‰çº§**: ğŸ”´ ä¸¥é‡
**å½±å“**:
- ç±»å‹å®‰å…¨æ€§é™ä½
- æ½œåœ¨çš„è¿è¡Œæ—¶é”™è¯¯
- ä»£ç å¯ç»´æŠ¤æ€§å·®
**ä¿®å¤å»ºè®®**:
```typescript
// å®šä¹‰æ˜ç¡®çš„æ¥å£ç±»å‹
interface UserRoleWithRole {
  id: number;
  userId: number;
  roleId: number;
  role?: {
    id: number;
    code: string;
    name: string;
    status: number;
  };
}

const roleIds = userRoles.map((ur: UserRoleWithRole) => ur.roleId);
```

#### 3. Express Requestç±»å‹æ‰©å±•ä¸å®Œæ•´
**ä½ç½®**: `server/src/middleware/auth-middleware.ts:10-16`
```typescript
declare global {
  namespace Express {
    interface Request {
      user?: any;  // âŒ ä½¿ç”¨anyç±»å‹
    }
  }
}
```
**é—®é¢˜ç­‰çº§**: ğŸ”´ ä¸¥é‡
**å½±å“**:
- è¯·æ±‚å¯¹è±¡ç±»å‹ä¸æ˜ç¡®
- ä¸­é—´ä»¶é—´ç±»å‹ä¼ é€’ä¸å®‰å…¨
**ä¿®å¤å»ºè®®**:
```typescript
import { AuthenticatedUser } from '../types/user';

declare global {
  namespace Express {
    interface Request {
      user?: AuthenticatedUser;
      tenant?: TenantInfo;
      sessionId?: string;
    }
  }
}
```

#### 4. Sequelizeæ¨¡å‹å…³è”ç±»å‹ä¸å®Œæ•´
**ä½ç½®**: `server/src/models/user.model.ts:49-51`
```typescript
// Associations
declare readonly roles?: Role[];
declare readonly assignedPlans?: EnrollmentPlan[];
declare readonly teacher?: Teacher;
```
**é—®é¢˜ç­‰çº§**: ğŸ”´ ä¸¥é‡
**å½±å“**:
- å…³è”æŸ¥è¯¢ç±»å‹ä¸ç¡®å®š
- å¯èƒ½è¿”å›undefinedå¯¼è‡´è¿è¡Œæ—¶é”™è¯¯
**ä¿®å¤å»ºè®®**:
```typescript
// ä½¿ç”¨æ˜ç¡®çš„å…³è”ç±»å‹
declare getRoles: HasManyGetAssociationsMixin<Role>;
declare setRoles: HasManySetAssociationsMixin<Role, Role['id']>;
declare addRoles: HasManyAddAssociationsMixin<Role, Role['id']>;
declare removeRoles: HasManyRemoveAssociationsMixin<Role, Role['id']>;
declare hasRoles: HasManyHasAssociationMixin<Role, Role['id']>;
declare countRoles: HasManyCountAssociationsMixin<Role>;

declare getTeacher: BelongsToGetAssociationMixin<Teacher>;
declare setTeacher: BelongsToSetAssociationMixin<Teacher, Teacher['id']>;
declare createTeacher: BelongsToCreateAssociationMixin<Teacher>;
```

### ğŸŸ¡ ä¸­ç­‰ç±»å‹å®‰å…¨é—®é¢˜

#### 5. å‡½æ•°å‚æ•°ç±»å‹ä¸å®Œæ•´
**ä½ç½®**: `server/src/services/permission-cache.service.ts:53`
```typescript
static async getUserPermissions(userId: number, tenantDatabaseName: string = 'kindergarten'): Promise<string[]> {
```
**é—®é¢˜ç­‰çº§**: ğŸŸ¡ ä¸­ç­‰
**å½±å“**:
- tenantDatabaseNameå‚æ•°ç±»å‹è¿‡äºå®½æ³›
- ç¼ºå°‘å‚æ•°éªŒè¯
**ä¿®å¤å»ºè®®**:
```typescript
type TenantDatabaseName = `tenant_${string}` | 'kindergarten';

static async getUserPermissions(
  userId: number,
  tenantDatabaseName: TenantDatabaseName = 'kindergarten'
): Promise<string[]> {
  // å‚æ•°éªŒè¯
  if (!isValidTenantDatabaseName(tenantDatabaseName)) {
    throw new Error('æ— æ•ˆçš„ç§Ÿæˆ·æ•°æ®åº“åç§°');
  }
}
```

#### 6. æšä¸¾ç±»å‹ä½¿ç”¨ä¸ä¸€è‡´
**ä½ç½®**: `server/src/models/user.model.ts:16-22`
```typescript
export enum UserRole {
  ADMIN = 'admin',
  PRINCIPAL = 'principal',
  TEACHER = 'teacher',
  PARENT = 'parent',
  USER = 'user',
}

// ä½†åœ¨å…¶ä»–åœ°æ–¹ä½¿ç”¨stringç±»å‹
role: CreationOptional<UserRole>;
```
**é—®é¢˜ç­‰çº§**: ğŸŸ¡ ä¸­ç­‰
**å½±å“**:
- ç±»å‹ä¸ä¸€è‡´
- å¯èƒ½çš„è¿è¡Œæ—¶é”™è¯¯
**ä¿®å¤å»ºè®®**:
```typescript
// ç»Ÿä¸€ä½¿ç”¨è”åˆç±»å‹
export type UserRole = 'admin' | 'principal' | 'teacher' | 'parent' | 'user';

// æˆ–ç¡®ä¿æšä¸¾åœ¨æ‰€æœ‰åœ°æ–¹ä¸€è‡´ä½¿ç”¨
```

#### 7. é…ç½®å¯¹è±¡ç±»å‹ç¼ºå¤±
**ä½ç½®**: `server/src/services/tenant-database.service.ts:35-41`
```typescript
// è¿æ¥æ± é…ç½®
private readonly poolConfig = {
  max: parseInt(process.env.DB_POOL_MAX || '30'),
  min: parseInt(process.env.DB_POOL_MIN || '5'),
  acquire: 30000,
  idle: 10000
};
```
**é—®é¢˜ç­‰çº§**: ğŸŸ¡ ä¸­ç­‰
**å½±å“**:
- é…ç½®å¯¹è±¡ç±»å‹ä¸ç¡®å®š
- ç¯å¢ƒå˜é‡è§£æå¯èƒ½å¤±è´¥
**ä¿®å¤å»ºè®®**:
```typescript
interface PoolConfig {
  max: number;
  min: number;
  acquire: number;
  idle: number;
}

private readonly poolConfig: PoolConfig = {
  max: this.parseEnvNumber('DB_POOL_MAX', 30),
  min: this.parseEnvNumber('DB_POOL_MIN', 5),
  acquire: 30000,
  idle: 10000
};

private parseEnvNumber(key: string, defaultValue: number): number {
  const value = process.env[key];
  const parsed = parseInt(value || '', 10);
  return isNaN(parsed) ? defaultValue : parsed;
}
```

### ğŸŸ¢ è½»å¾®ç±»å‹å®‰å…¨é—®é¢˜

#### 8. å¯é€‰å±æ€§ä½¿ç”¨ä¸å½“
**ä½ç½®**: `server/src/models/teacher.model.ts:70-71`
```typescript
declare status: CreationOptional<TeacherStatus>;
declare remark: CreationOptional<string | null>;
```
**é—®é¢˜ç­‰çº§**: ğŸŸ¢ è½»å¾®
**å½±å“**:
- å¯èƒ½å¯¼è‡´null/undefinedå¤„ç†é—®é¢˜
**ä¿®å¤å»ºè®®**:
```typescript
declare status: TeacherStatus;  // åº”è¯¥æ˜¯å¿…éœ€çš„
declare remark: string | null;  // æ˜ç¡®nullå¤„ç†
```

#### 9. è¿”å›ç±»å‹ä¸æ˜ç¡®
**ä½ç½®**: å¤šä¸ªAPIæ§åˆ¶å™¨
```typescript
public static async create(req: RequestWithUser, res: Response): Promise<void> {
```
**é—®é¢˜ç­‰çº§**: ğŸŸ¢ è½»å¾®
**å½±å“**:
- è¿”å›ç±»å‹ä¸æ˜ç¡®
- å•å…ƒæµ‹è¯•å›°éš¾
**ä¿®å¤å»ºè®®**:
```typescript
public static async create(
  req: RequestWithUser,
  res: Response
): Promise<Response<void, Record<string, any>>> {
```

## ç±»å‹å®‰å…¨æ”¹è¿›å»ºè®®

### 1. ä¸¥æ ¼çš„TypeScripté…ç½®

#### tsconfig.jsonæ”¹è¿›
```json
{
  "compilerOptions": {
    "strict": true,
    "noImplicitAny": true,
    "strictNullChecks": true,
    "strictFunctionTypes": true,
    "strictBindCallApply": true,
    "strictPropertyInitialization": true,
    "noImplicitReturns": true,
    "noFallthroughCasesInSwitch": true,
    "noUncheckedIndexedAccess": true,
    "exactOptionalPropertyTypes": true
  }
}
```

### 2. æ ¸å¿ƒç±»å‹å®šä¹‰

#### ç”¨æˆ·ç±»å‹å®šä¹‰
```typescript
// server/src/types/user.ts
export interface AuthenticatedUser {
  readonly id: number;
  readonly username: string;
  readonly email: string;
  readonly role: UserRole;
  readonly realName: string;
  readonly phone: string;
  readonly status: UserStatus;
  readonly isAdmin: boolean;
  readonly kindergartenId: number;
  readonly tenantCode?: string;
  readonly createdAt: Date;
  readonly updatedAt: Date;
}

export type UserRole = 'admin' | 'principal' | 'teacher' | 'parent' | 'user';

export enum UserStatus {
  ACTIVE = 'active',
  INACTIVE = 'inactive',
  LOCKED = 'locked',
}

// ä½¿ç”¨å“ç‰Œç±»å‹ç¡®ä¿ç±»å‹å®‰å…¨
export type UserId = number & { readonly __brand: 'UserId' };
export type RoleId = number & { readonly __brand: 'RoleId' };

export const createUserId = (id: number): UserId => {
  if (id <= 0) throw new Error('Invalid user ID');
  return id as UserId;
};
```

#### è¯·æ±‚ç±»å‹æ‰©å±•
```typescript
// server/src/types/express.ts
import { AuthenticatedUser, TenantInfo } from './index';

declare global {
  namespace Express {
    interface Request {
      user?: AuthenticatedUser;
      tenant?: TenantInfo;
      sessionId?: string;
      correlationId?: string;
      requestStartTime?: number;
    }
  }
}

export interface RequestWithUser extends Express.Request {
  user: AuthenticatedUser;
}

export interface RequestWithTenant extends Express.Request {
  tenant: TenantInfo;
}
```

#### APIå“åº”ç±»å‹
```typescript
// server/src/types/api.ts
export interface ApiResponse<T = unknown> {
  readonly success: boolean;
  readonly data?: T;
  readonly message?: string;
  readonly code?: string;
  readonly timestamp: string;
  readonly requestId: string;
}

export interface ApiError {
  readonly success: false;
  readonly message: string;
  readonly code: string;
  readonly details?: Record<string, unknown>;
  readonly timestamp: string;
  readonly requestId: string;
}

export interface PaginationParams {
  readonly page: number;
  readonly limit: number;
  readonly offset: number;
}

export interface PaginatedResponse<T> extends ApiResponse<T[]> {
  readonly pagination: {
    readonly page: number;
    readonly limit: number;
    readonly total: number;
    readonly totalPages: number;
  };
}
```

### 3. æ•°æ®åº“æ¨¡å‹ç±»å‹å®‰å…¨

#### æ¨¡å‹åŸºç±»
```typescript
// server/src/types/model.ts
export interface BaseModelAttributes {
  readonly id: number;
  readonly createdAt: Date;
  readonly updatedAt: Date;
  readonly deletedAt?: Date | null;
}

export interface CreationAttributes<T> {
  id?: number;
  createdAt?: Date;
  updatedAt?: Date;
  deletedAt?: Date | null;
}

export interface ModelOptions {
  paranoid?: boolean;
  include?: AssociationOptions[];
  attributes?: string[];
  where?: WhereOptions;
  order?: Order[];
  limit?: number;
  offset?: number;
}
```

#### å…³è”ç±»å‹å®šä¹‰
```typescript
// server/src/types/associations.ts
import { Model, Association } from 'sequelize';

export type HasManyGetAssociationsMixin<T> = () => Promise<T[]>;
export type HasManySetAssociationsMixin<T, ID> = (newAssociations: (T | ID)[]) => Promise<void>;
export type HasManyAddAssociationsMixin<T, ID> = (newAssociations: (T | ID)[]) => Promise<void>;
export type HasManyRemoveAssociationsMixin<T, ID> = (oldAssociations: (T | ID)[]) => Promise<void>;
export type HasManyHasAssociationMixin<T, ID> = (association: T | ID) => Promise<boolean>;
export type HasManyCountAssociationsMixin<T> = (options?: object) => Promise<number>;

export type BelongsToGetAssociationMixin<T> = () => Promise<T>;
export type BelongsToSetAssociationMixin<T, ID> = (newAssociation?: T | ID | null) => Promise<void>;
export type BelongsToCreateAssociationMixin<T> = (values?: object) => Promise<T>;
```

### 4. æœåŠ¡å±‚ç±»å‹å®‰å…¨

#### æƒé™æœåŠ¡ç±»å‹
```typescript
// server/src/types/permission.ts
export interface PermissionData {
  readonly id: number;
  readonly name: string;
  readonly chineseName: string;
  readonly code: string;
  readonly type: PermissionType;
  readonly parentId: number | null;
  readonly path: string;
  readonly component: string;
  readonly filePath: string;
  readonly permission: string;
  readonly icon: string;
  readonly sort: number;
  readonly status: number;
}

export type PermissionType = 'category' | 'menu' | 'page' | 'button' | 'api';

export interface UserPermissionInfo {
  readonly permissions: readonly string[];
  readonly roles: readonly string[];
  readonly isAdmin: boolean;
  readonly tenantId?: string;
}

export type PermissionCheckResult = {
  readonly hasPermission: boolean;
  readonly reason?: string;
  readonly checkedAt: Date;
};
```

#### ç§Ÿæˆ·æœåŠ¡ç±»å‹
```typescript
// server/src/types/tenant.ts
export interface TenantInfo {
  readonly code: string;
  readonly databaseName: string;
  readonly id: number;
  readonly name: string;
  readonly status: TenantStatus;
}

export enum TenantStatus {
  ACTIVE = 'active',
  INACTIVE = 'inactive',
  SUSPENDED = 'suspended',
}

export type TenantDatabaseName = `tenant_${string}` | 'kindergarten';

export interface TenantConfig {
  readonly maxUsers: number;
  readonly storageLimit: number;
  readonly allowedFeatures: readonly string[];
}
```

### 5. ä¸­é—´ä»¶ç±»å‹å®‰å…¨

#### è®¤è¯ä¸­é—´ä»¶æ”¹è¿›
```typescript
// server/src/middlewares/auth.middleware.ts
import type { Request, Response, NextFunction } from 'express';
import type { AuthenticatedUser } from '../types/user';
import type { ApiResponse, ApiError } from '../types/api';

export const authenticateToken = async (
  req: Request,
  res: Response,
  next: NextFunction
): Promise<Response<ApiError> | void> => {
  try {
    const authHeader = req.headers.authorization;
    if (!authHeader?.startsWith('Bearer ')) {
      return res.status(401).json({
        success: false,
        message: 'è®¤è¯ä»¤ç‰Œä¸èƒ½ä¸ºç©º',
        code: 'EMPTY_TOKEN',
        timestamp: new Date().toISOString(),
        requestId: req.headers['x-request-id'] as string
      });
    }

    const token = authHeader.substring(7);
    const decoded = jwt.verify(token, process.env.JWT_SECRET!) as AuthenticatedUser;

    req.user = decoded;
    next();
  } catch (error) {
    return res.status(401).json({
      success: false,
      message: 'ä»¤ç‰ŒéªŒè¯å¤±è´¥',
      code: 'INVALID_TOKEN',
      timestamp: new Date().toISOString(),
      requestId: req.headers['x-request-id'] as string
    });
  }
};
```

#### æƒé™ä¸­é—´ä»¶æ”¹è¿›
```typescript
// server/src/middlewares/permission.middleware.ts
import type { RequestHandler } from 'express';
import type { ApiResponse, ApiError } from '../types/api';
import type { UserRole } from '../types/user';

export const requireRole = (allowedRoles: readonly UserRole[]): RequestHandler => {
  return async (req, res, next): Promise<Response<ApiError> | void> => {
    try {
      if (!req.user) {
        return res.status(401).json({
          success: false,
          message: 'ç”¨æˆ·æœªè®¤è¯',
          code: 'USER_NOT_AUTHENTICATED',
          timestamp: new Date().toISOString(),
          requestId: req.headers['x-request-id'] as string
        });
      }

      const userRole = req.user.role;
      if (!allowedRoles.includes(userRole)) {
        return res.status(403).json({
          success: false,
          message: `éœ€è¦ä»¥ä¸‹è§’è‰²ä¹‹ä¸€: ${allowedRoles.join(', ')}`,
          code: 'INSUFFICIENT_ROLE',
          timestamp: new Date().toISOString(),
          requestId: req.headers['x-request-id'] as string
        });
      }

      next();
    } catch (error) {
      return res.status(500).json({
        success: false,
        message: 'è§’è‰²éªŒè¯å¤±è´¥',
        code: 'ROLE_CHECK_ERROR',
        timestamp: new Date().toISOString(),
        requestId: req.headers['x-request-id'] as string
      });
    }
  };
};
```

## ç±»å‹å®‰å…¨æœ€ä½³å®è·µ

### 1. ç±»å‹å®ˆå«
```typescript
// server/src/utils/type-guards.ts
export const isAuthenticated = (req: Express.Request): req is Express.Request & { user: AuthenticatedUser } => {
  return req.user !== undefined && typeof req.user.id === 'number';
};

export const hasTenantInfo = (req: Express.Request): req is Express.Request & { tenant: TenantInfo } => {
  return req.tenant !== undefined && typeof req.tenant.code === 'string';
};

export const isValidUserRole = (role: unknown): role is UserRole => {
  return typeof role === 'string' &&
         ['admin', 'principal', 'teacher', 'parent', 'user'].includes(role);
};
```

### 2. å·¥å‚å‡½æ•°
```typescript
// server/src/utils/factories.ts
export const createApiResponse = <T>(
  data: T,
  message?: string
): ApiResponse<T> => {
  return {
    success: true,
    data,
    message,
    timestamp: new Date().toISOString(),
    requestId: crypto.randomUUID()
  };
};

export const createApiError = (
  message: string,
  code: string,
  details?: Record<string, unknown>
): ApiError => {
  return {
    success: false,
    message,
    code,
    details,
    timestamp: new Date().toISOString(),
    requestId: crypto.randomUUID()
  };
};
```

### 3. ç±»å‹éªŒè¯
```typescript
// server/src/utils/validators.ts
import Joi from 'joi';

export const userSchema = Joi.object({
  username: Joi.string().alphanum().min(3).max(30).required(),
  email: Joi.string().email().required(),
  role: Joi.string().valid('admin', 'principal', 'teacher', 'parent', 'user').required(),
  realName: Joi.string().min(2).max(50).required(),
  phone: Joi.string().pattern(/^1[3-9]\d{9}$/).required()
});

export const validateUser = (data: unknown): Promise<AuthenticatedUser> => {
  const { error, value } = userSchema.validate(data);
  if (error) {
    throw new Error(`ç”¨æˆ·æ•°æ®éªŒè¯å¤±è´¥: ${error.message}`);
  }
  return Promise.resolve(value as AuthenticatedUser);
};
```

## ç±»å‹å®‰å…¨è¯„åˆ†

### æ•´ä½“ç±»å‹å®‰å…¨è¯„åˆ†: 7.1/10

- **ç±»å‹å®šä¹‰å®Œæ•´æ€§**: 6.5/10 (åŸºç¡€ç±»å‹å­˜åœ¨ï¼Œä½†ä¸å¤Ÿè¯¦ç»†)
- **ç±»å‹æ¨æ–­å‡†ç¡®æ€§**: 7.5/10 (å¤§éƒ¨åˆ†æƒ…å†µæ­£ç¡®ï¼Œä½†å­˜åœ¨anyä½¿ç”¨)
- **æ³›å‹ä½¿ç”¨åˆç†æ€§**: 6.0/10 (æ³›å‹ä½¿ç”¨ä¸å¤Ÿå……åˆ†)
- **ç±»å‹å®‰å…¨æ€§**: 7.2/10 (å­˜åœ¨ç±»å‹å®‰å…¨é—®é¢˜)
- **æ¥å£è®¾è®¡**: 7.8/10 (æ¥å£è®¾è®¡è¾ƒå¥½ï¼Œä½†éœ€è¦å®Œå–„)
- **é”™è¯¯å¤„ç†**: 6.5/10 (é”™è¯¯ç±»å‹å¤„ç†éœ€è¦æ”¹è¿›)

## ç±»å‹å®‰å…¨æ”¹è¿›è·¯çº¿å›¾

### é˜¶æ®µ1: åŸºç¡€ç±»å‹å®‰å…¨ (1-2å‘¨)
1. ç§»é™¤æ‰€æœ‰anyç±»å‹ä½¿ç”¨
2. å®Œå–„æ ¸å¿ƒæ¥å£å®šä¹‰
3. ä¿®å¤ç±»å‹æ–­è¨€æ»¥ç”¨é—®é¢˜
4. å¯ç”¨ä¸¥æ ¼TypeScripté…ç½®

### é˜¶æ®µ2: é«˜çº§ç±»å‹å®‰å…¨ (2-4å‘¨)
1. å®ç°å®Œæ•´çš„æ³›å‹çº¦æŸ
2. æ·»åŠ ç±»å‹å®ˆå«å‡½æ•°
3. å®Œå–„é”™è¯¯ç±»å‹å¤„ç†
4. å®ç°å“ç‰Œç±»å‹æ¨¡å¼

### é˜¶æ®µ3: ç±»å‹å®‰å…¨å®Œå–„ (4-6å‘¨)
1. é‡æ„æ•°æ®åº“æ¨¡å‹ç±»å‹
2. å®ç°APIç±»å‹è‡ªåŠ¨ç”Ÿæˆ
3. æ·»åŠ è¿è¡Œæ—¶ç±»å‹éªŒè¯
4. å»ºç«‹ç±»å‹å®‰å…¨æµ‹è¯•

## ç»“è®º

å½“å‰ç³»ç»Ÿçš„ç±»å‹å®‰å…¨æ°´å¹³ä¸­ç­‰ï¼Œå­˜åœ¨ä¸€äº›æ˜æ˜¾çš„ç±»å‹å®‰å…¨é—®é¢˜ï¼Œä¸»è¦è¡¨ç°åœ¨anyç±»å‹çš„è¿‡åº¦ä½¿ç”¨å’Œç±»å‹æ–­è¨€çš„æ»¥ç”¨ã€‚ä½†æ•´ä½“æ¶æ„å…·æœ‰è‰¯å¥½çš„ç±»å‹å®‰å…¨åŸºç¡€ï¼Œé€šè¿‡ç³»ç»Ÿæ€§çš„æ”¹è¿›å¯ä»¥æ˜¾è‘—æå‡ç±»å‹å®‰å…¨æ€§ã€‚

å»ºè®®ä¼˜å…ˆè§£å†³ä¸¥é‡çš„ç±»å‹å®‰å…¨é—®é¢˜ï¼Œå¹¶é€æ­¥å®Œå–„æ•´ä¸ªç±»å‹ç³»ç»Ÿã€‚ä¸¥æ ¼çš„ç±»å‹å®‰å…¨é…ç½®å’Œå®Œå–„çš„æ ¸å¿ƒç±»å‹å®šä¹‰æ˜¯æå‡ä»£ç è´¨é‡å’Œå¯ç»´æŠ¤æ€§çš„å…³é”®ã€‚