# 教师任务中心前端测试指南

**测试日期**: 2025-01-08  
**后端状态**: ✅ API已修复并验证  
**前端状态**: ⏳ 待测试  
**测试账号**: test_teacher / admin123

---

## 🎯 测试目标

验证教师任务中心前端页面能否正确显示任务数据。

---

## 📋 测试前准备

### 1. 确认服务运行

```bash
npm run status
```

**预期输出**:
```
✅ 后端API服务 (端口 3000) - 运行中
✅ 前端Web服务 (端口 5173) - 运行中
```

### 2. 确认测试数据

后端API已验证有1个测试任务：
- **任务ID**: 1
- **标题**: "园长分配给教师的测试任务"
- **状态**: pending
- **优先级**: medium
- **截止日期**: 2025-10-15
- **分配人**: 系统管理员
- **进度**: 0%

---

## 🧪 测试步骤

### 步骤 1: 访问登录页面

1. 打开浏览器
2. 访问: http://localhost:5173
3. 或访问: http://localhost:5173

**预期结果**: 显示登录页面

---

### 步骤 2: 教师登录

1. 点击"快速登录"按钮
2. 选择"教师"角色
3. 或手动输入:
   - 用户名: `test_teacher`
   - 密码: `admin123`
4. 点击"登录"

**预期结果**: 
- ✅ 登录成功
- ✅ 跳转到教师工作台 (`/teacher-center/dashboard`)

---

### 步骤 3: 访问任务中心

1. 在左侧边栏找到"任务中心"菜单
2. 点击"任务中心"

**预期结果**:
- ✅ 页面跳转到 `/teacher-center/tasks`
- ✅ 页面加载成功，无错误

---

### 步骤 4: 验证任务统计

在任务中心页面顶部，应该显示任务统计卡片。

**预期显示**:
- 总任务数: 1
- 已完成: 0
- 待处理: 1
- 进行中: 0
- 逾期: 0
- 完成率: 0%

**检查点**:
- [ ] 统计卡片显示正确
- [ ] 数字与后端API一致
- [ ] 无加载错误

---

### 步骤 5: 验证任务列表

在任务中心页面中部，应该显示任务列表。

**预期显示**:
```
任务列表 (共1条)

┌─────────────────────────────────────────┐
│ 园长分配给教师的测试任务                │
│ 状态: 待处理  优先级: 中                │
│ 截止日期: 2025-10-15                    │
│ 分配人: 系统管理员                      │
│ 进度: 0%                                │
│ [查看详情] [标记完成]                   │
└─────────────────────────────────────────┘
```

**检查点**:
- [ ] 任务列表显示1条记录
- [ ] 任务标题正确
- [ ] 任务状态显示"待处理"或"pending"
- [ ] 优先级显示"中"或"medium"
- [ ] 截止日期显示正确
- [ ] 分配人显示"系统管理员"
- [ ] 进度显示0%
- [ ] 操作按钮显示正常

---

### 步骤 6: 测试任务筛选

1. 尝试按状态筛选
2. 选择"待处理"
3. 验证任务仍然显示

**预期结果**:
- ✅ 筛选功能正常
- ✅ 任务仍然显示（因为状态是pending）

---

### 步骤 7: 测试任务详情（可选）

1. 点击任务的"查看详情"按钮
2. 验证详情弹窗或页面

**预期结果**:
- ✅ 显示任务详细信息
- ✅ 所有字段正确显示

---

## 🐛 常见问题排查

### 问题 1: 任务列表显示"暂无数据"

**可能原因**:
1. 前端缓存了旧的API响应
2. API调用失败

**解决方案**:
1. 硬刷新浏览器: `Ctrl + Shift + R` (Windows/Linux) 或 `Cmd + Shift + R` (Mac)
2. 清除浏览器缓存
3. 打开浏览器开发者工具 (F12)
4. 查看Network标签，确认API是否被调用
5. 查看Console标签，检查是否有错误

---

### 问题 2: API调用失败

**检查步骤**:

1. 打开浏览器开发者工具 (F12)
2. 切换到Network标签
3. 刷新页面
4. 查找以下API调用:
   - `GET /api/teacher-dashboard/tasks/stats`
   - `GET /api/teacher-dashboard/tasks`

**预期结果**:
- 状态码: 200
- 响应: `{ "success": true, "data": {...} }`

**如果失败**:
- 检查后端服务是否运行: `npm run status`
- 查看后端日志: 查看Terminal 102的输出
- 重启服务: `npm run stop && npm run start:all`

---

### 问题 3: 统计数据不正确

**验证API**:

打开浏览器开发者工具Console，运行:

```javascript
fetch('/api/teacher-dashboard/tasks/stats', {
  headers: {
    'Authorization': 'Bearer ' + localStorage.getItem('token')
  }
})
.then(res => res.json())
.then(data => console.log(data))
```

**预期输出**:
```json
{
  "success": true,
  "data": {
    "total": 1,
    "completed": 0,
    "pending": 1,
    "overdue": 0,
    "inProgress": 0,
    "completionRate": 0
  }
}
```

---

## ✅ 测试检查清单

### 基础功能
- [ ] 登录成功
- [ ] 侧边栏显示"任务中心"菜单
- [ ] 点击菜单跳转到任务中心页面
- [ ] 页面加载无错误

### 任务统计
- [ ] 统计卡片显示
- [ ] 总任务数 = 1
- [ ] 待处理 = 1
- [ ] 其他统计 = 0

### 任务列表
- [ ] 列表显示1条记录
- [ ] 任务标题正确
- [ ] 任务状态正确
- [ ] 优先级正确
- [ ] 截止日期正确
- [ ] 分配人正确
- [ ] 进度正确

### 交互功能
- [ ] 筛选功能正常
- [ ] 搜索功能正常（如果有）
- [ ] 分页功能正常（如果有）
- [ ] 查看详情功能正常（如果有）

---

## 📊 测试结果记录

### 测试环境
- 浏览器: _____________
- 操作系统: _____________
- 测试时间: _____________

### 测试结果
- [ ] ✅ 所有测试通过
- [ ] ⚠️ 部分测试通过
- [ ] ❌ 测试失败

### 发现的问题
1. _____________
2. _____________
3. _____________

### 截图
（如果有问题，请截图保存）

---

## 🚀 下一步

### 如果测试通过
1. 继续测试任务操作功能（标记完成、查看详情等）
2. 开始通知中心测试
3. 开始活动中心测试

### 如果测试失败
1. 记录错误信息
2. 截图保存
3. 查看浏览器Console错误
4. 查看Network请求
5. 报告问题

---

**测试指南创建时间**: 2025-01-08 20:45  
**后端API状态**: ✅ 已验证  
**准备测试**: ✅ 可以开始

