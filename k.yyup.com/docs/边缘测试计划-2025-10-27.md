# 边缘测试计划 - AI助手系统异常场景验证

> **测试日期**: 2025-10-27  
> **测试类型**: 边缘测试 + 压力测试  
> **测试目标**: 验证系统在异常情况下的容错能力

---

## 📋 测试用例清单

### 第一类：数据查询异常

#### 测试1.1: 查询不存在的学生ID
```
提示词: "查询学生ID为999999999的信息"
预期: 系统友好提示"未找到该学生"，不崩溃
```

#### 测试1.2: 查询空结果集
```
提示词: "查询所有名字为'不存在的名字'的学生"
预期: 返回空列表，显示"未找到匹配的学生"
```

#### 测试1.3: 查询特殊字符
```
提示词: "查询名字包含'<script>alert(1)</script>'的学生"
预期: 系统安全处理，不执行脚本
```

#### 测试1.4: 查询超大数据集
```
提示词: "查询所有学生并按年龄排序，返回所有记录"
预期: 系统分页处理，不卡顿
```

---

### 第二类：工具调用异常

#### 测试2.1: 调用不存在的工具
```
提示词: "使用不存在的工具查询数据"
预期: 系统提示工具不存在，不崩溃
```

#### 测试2.2: 工具参数错误
```
提示词: "创建学生，但不提供任何必填字段"
预期: 系统提示缺少必填字段
```

#### 测试2.3: 工具参数超长
```
提示词: "创建学生，名字为[1000个字符的长字符串]"
预期: 系统提示字段超长，不保存
```

#### 测试2.4: 工具参数为空
```
提示词: "创建学生，所有字段都为空"
预期: 系统提示字段不能为空
```

---

### 第三类：压力测试

#### 测试3.1: 快速连续请求
```
提示词: 快速发送5个查询请求
预期: 系统能处理，不丢失请求
```

#### 测试3.2: 大量工具调用
```
提示词: "执行10个不同的查询操作"
预期: 系统能处理，不超时
```

#### 测试3.3: 长时间运行
```
提示词: 持续对话30分钟
预期: 系统稳定运行，无内存泄漏
```

#### 测试3.4: 并发操作
```
提示词: 同时打开多个AI助手窗口
预期: 系统能处理，不冲突
```

---

### 第四类：输入异常

#### 测试4.1: 空输入
```
提示词: ""（空字符串）
预期: 系统提示"请输入内容"
```

#### 测试4.2: 超长输入
```
提示词: 10000个字符
预期: 系统提示"输入过长"
```

#### 测试4.3: 特殊字符输入
```
提示词: "😀🎉🚀\n\t\r"
预期: 系统正确处理
```

#### 测试4.4: SQL注入
```
提示词: "查询学生 WHERE 1=1; DROP TABLE students;"
预期: 系统安全处理，不执行
```

---

### 第五类：网络异常

#### 测试5.1: 网络延迟
```
模拟: 网络延迟3秒
预期: 系统显示加载状态，最终成功
```

#### 测试5.2: 网络超时
```
模拟: 网络超时
预期: 系统显示超时提示，支持重试
```

#### 测试5.3: 网络中断
```
模拟: 网络中断
预期: 系统显示离线提示，支持重连
```

---

## 🎯 测试执行步骤

1. 启动前后端服务
2. 使用MCP浏览器登录
3. 打开AI助手
4. 逐个执行测试用例
5. 记录每个测试的结果
6. 生成测试报告

---

## 📊 评估标准

| 指标 | 优秀 | 良好 | 一般 | 差 |
|------|------|------|------|-----|
| **错误提示** | 清晰准确 | 基本清晰 | 模糊 | 无提示 |
| **系统稳定** | 无崩溃 | 偶尔卡顿 | 经常卡顿 | 频繁崩溃 |
| **恢复能力** | 自动恢复 | 手动恢复 | 需重启 | 无法恢复 |
| **性能** | < 2s | 2-5s | 5-10s | > 10s |

---

## 📝 测试记录表

| 测试ID | 测试项 | 输入 | 预期结果 | 实际结果 | 状态 | 备注 |
|--------|--------|------|---------|---------|------|------|
| 1.1 | 查询不存在ID | 999999999 | 友好提示 | - | ⏳ | 待测 |
| 1.2 | 查询空结果 | 不存在的名字 | 空列表 | - | ⏳ | 待测 |
| 1.3 | 特殊字符 | <script> | 安全处理 | - | ⏳ | 待测 |
| 1.4 | 超大数据集 | 所有学生 | 分页处理 | - | ⏳ | 待测 |
| 2.1 | 不存在工具 | 虚拟工具 | 提示不存在 | - | ⏳ | 待测 |
| 2.2 | 参数错误 | 缺少字段 | 提示缺少 | - | ⏳ | 待测 |
| 2.3 | 参数超长 | 1000字符 | 提示超长 | - | ⏳ | 待测 |
| 2.4 | 参数为空 | 空字段 | 提示为空 | - | ⏳ | 待测 |
| 3.1 | 快速请求 | 5个请求 | 全部处理 | - | ⏳ | 待测 |
| 3.2 | 大量工具 | 10个工具 | 全部执行 | - | ⏳ | 待测 |
| 4.1 | 空输入 | "" | 提示输入 | - | ⏳ | 待测 |
| 4.2 | 超长输入 | 10000字符 | 提示超长 | - | ⏳ | 待测 |
| 4.3 | 特殊字符 | 表情符号 | 正确处理 | - | ⏳ | 待测 |
| 4.4 | SQL注入 | DROP TABLE | 安全处理 | - | ⏳ | 待测 |

---

**状态说明**: ⏳ 待测 | ✅ 通过 | ⚠️ 警告 | ❌ 失败

