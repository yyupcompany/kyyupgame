# åŸºç¡€ä¿¡æ¯å®Œå–„æ–¹æ¡ˆ - æ£€æŸ¥ä¸­å¿ƒé«˜çº§æœåŠ¡å‰ç½®æ¡ä»¶

## ğŸ¯ æ ¸å¿ƒæ€è·¯

**ä½ çš„æƒ³æ³•éå¸¸æ­£ç¡®ï¼** ğŸ‘

1. **ç°çŠ¶**: `base-info` (kindergartenè¡¨) å­—æ®µä¸å¤Ÿå®Œæ•´
2. **é—®é¢˜**: å¡«å†™æ£€æŸ¥æ–‡æ¡£æ—¶éœ€è¦æ›´å¤šåŸºç¡€ä¿¡æ¯
3. **è§£å†³æ–¹æ¡ˆ**: 
   - æ‰©å±• `kindergarten` è¡¨å­—æ®µ
   - è¿›å…¥æ£€æŸ¥ä¸­å¿ƒæ—¶æ£€æµ‹åŸºç¡€ä¿¡æ¯å®Œæ•´åº¦
   - æç¤ºç”¨æˆ·å®Œå–„å¿…å¡«å­—æ®µ
   - å®Œå–„åæ‰èƒ½äº«å—é«˜çº§æœåŠ¡ï¼ˆAIè‡ªåŠ¨å¡«å……ã€æ™ºèƒ½åˆ†æç­‰ï¼‰

---

## ğŸ“Š å½“å‰base-infoå­—æ®µåˆ†æ

### ç°æœ‰å­—æ®µï¼ˆkindergartenè¡¨ï¼‰

```typescript
// å½“å‰å·²æœ‰å­—æ®µ
{
  // åŸºç¡€ä¿¡æ¯
  id: number;
  name: string;                    // âœ… å¹¼å„¿å›­åç§°
  code: string;                    // âœ… å¹¼å„¿å›­ç¼–ç 
  type: number;                    // âœ… ç±»å‹ï¼š1å…¬åŠ 2æ°‘åŠ 3æ™®æƒ 
  level: number;                   // âœ… ç­‰çº§ï¼š1ä¸€çº§ 2äºŒçº§ 3ä¸‰çº§
  
  // è”ç³»ä¿¡æ¯
  address: string;                 // âœ… åœ°å€
  phone: string;                   // âœ… ç”µè¯
  email: string;                   // âœ… é‚®ç®±
  principal: string;               // âœ… å›­é•¿å§“å
  contactPerson: string;           // âœ… è”ç³»äºº
  consultationPhone: string;       // âœ… å’¨è¯¢ç”µè¯
  
  // è§„æ¨¡ä¿¡æ¯
  area: number;                    // âœ… å åœ°é¢ç§¯
  buildingArea: number;            // âœ… å»ºç­‘é¢ç§¯
  classCount: number;              // âœ… ç­çº§æ•°é‡
  teacherCount: number;            // âœ… æ•™å¸ˆæ•°é‡
  studentCount: number;            // âœ… å­¦ç”Ÿæ•°é‡
  establishedDate: Date;           // âœ… æˆç«‹æ—¶é—´
  
  // å…¶ä»–
  description: string;             // âœ… ç®€ä»‹
  features: string;                // âœ… ç‰¹è‰²è¯¾ç¨‹
  philosophy: string;              // âœ… åŠå­¦ç†å¿µ
  feeDescription: string;          // âœ… æ”¶è´¹æ ‡å‡†
  logoUrl: string;                 // âœ… Logo
  coverImages: string;             // âœ… é…å›¾
}
```

---

## ğŸ” æ£€æŸ¥æ–‡æ¡£éœ€è¦çš„å­—æ®µåˆ†æ

### ä»73ä¸ªæ¨¡æ¿ä¸­æå–çš„å¿…éœ€å­—æ®µ

é€šè¿‡åˆ†æ73ä¸ªæ–‡æ¡£æ¨¡æ¿ï¼Œå‘ç°éœ€è¦ä»¥ä¸‹é¢å¤–å­—æ®µï¼š

```typescript
// éœ€è¦æ–°å¢çš„å­—æ®µ
{
  // 1. è¯ç…§ä¿¡æ¯ï¼ˆå¹´æ£€å¿…éœ€ï¼‰
  licenseNumber: string;           // âŒ åŠå­¦è®¸å¯è¯å·
  licenseIssueDate: Date;          // âŒ è®¸å¯è¯å‘è¯æ—¥æœŸ
  licenseExpiryDate: Date;         // âŒ è®¸å¯è¯æœ‰æ•ˆæœŸ
  businessLicenseNumber: string;   // âŒ è¥ä¸šæ‰§ç…§å·ï¼ˆæ°‘åŠï¼‰
  organizationCode: string;        // âŒ ç»„ç»‡æœºæ„ä»£ç 
  taxNumber: string;               // âŒ ç¨åŠ¡ç™»è®°å·
  
  // 2. åŠå›­æ¡ä»¶ï¼ˆç£å¯¼è¯„ä¼°å¿…éœ€ï¼‰
  outdoorArea: number;             // âŒ æˆ·å¤–æ´»åŠ¨é¢ç§¯
  indoorArea: number;              // âŒ å®¤å†…æ´»åŠ¨é¢ç§¯
  greenArea: number;               // âŒ ç»¿åŒ–é¢ç§¯
  playgroundArea: number;          // âŒ è¿åŠ¨åœºåœ°é¢ç§¯
  
  // 3. è®¾æ–½è®¾å¤‡ï¼ˆç­‰çº§è¯„ä¼°å¿…éœ€ï¼‰
  classroomCount: number;          // âŒ æ•™å®¤æ•°é‡
  activityRoomCount: number;       // âŒ æ´»åŠ¨å®¤æ•°é‡
  dormitoryCount: number;          // âŒ å¯å®¤æ•°é‡
  kitchenArea: number;             // âŒ å¨æˆ¿é¢ç§¯
  medicalRoomArea: number;         // âŒ ä¿å¥å®¤é¢ç§¯
  
  // 4. äººå‘˜é…ç½®ï¼ˆå¹´æ£€å¿…éœ€ï¼‰
  principalQualification: string;  // âŒ å›­é•¿èµ„æ ¼è¯å·
  principalEducation: string;      // âŒ å›­é•¿å­¦å†
  principalWorkYears: number;      // âŒ å›­é•¿å·¥ä½œå¹´é™
  
  qualifiedTeacherCount: number;   // âŒ æŒè¯æ•™å¸ˆæ•°
  bachelorTeacherCount: number;    // âŒ æœ¬ç§‘å­¦å†æ•™å¸ˆæ•°
  nurseCount: number;              // âŒ ä¿è‚²å‘˜æ•°
  cookCount: number;               // âŒ å¨å¸ˆæ•°
  securityCount: number;           // âŒ ä¿å®‰æ•°
  doctorCount: number;             // âŒ ä¿å¥åŒ»ç”Ÿæ•°
  
  // 5. è´¢åŠ¡ä¿¡æ¯ï¼ˆæ™®æƒ è®¤å®šå¿…éœ€ï¼‰
  registeredCapital: number;       // âŒ æ³¨å†Œèµ„é‡‘
  annualRevenue: number;           // âŒ å¹´åº¦æ”¶å…¥
  annualExpenditure: number;       // âŒ å¹´åº¦æ”¯å‡º
  tuitionFee: number;              // âŒ ä¿æ•™è´¹æ ‡å‡†
  boardingFee: number;             // âŒ ä½å®¿è´¹æ ‡å‡†
  mealFee: number;                 // âŒ ä¼™é£Ÿè´¹æ ‡å‡†
  
  // 6. å®‰å…¨ç®¡ç†ï¼ˆä¸“é¡¹æ£€æŸ¥å¿…éœ€ï¼‰
  fireControlCertified: boolean;   // âŒ æ¶ˆé˜²éªŒæ”¶åˆæ ¼
  foodLicenseNumber: string;       // âŒ é£Ÿå“ç»è¥è®¸å¯è¯å·
  foodLicenseExpiryDate: Date;     // âŒ é£Ÿå“è®¸å¯è¯æœ‰æ•ˆæœŸ
  hasSchoolBus: boolean;           // âŒ æ˜¯å¦æœ‰æ ¡è½¦
  schoolBusCount: number;          // âŒ æ ¡è½¦æ•°é‡
  
  // 7. è¡Œæ”¿ä¿¡æ¯ï¼ˆæ£€æŸ¥å¿…éœ€ï¼‰
  cityLevel: string;               // âŒ åŸå¸‚çº§åˆ«ï¼štier1/tier2/tier3/county/township
  educationBureau: string;         // âŒ ä¸»ç®¡æ•™è‚²å±€
  supervisorName: string;          // âŒ è´£ä»»ç£å­¦å§“å
  supervisorPhone: string;         // âŒ è´£ä»»ç£å­¦ç”µè¯
  
  // 8. å…¶ä»–é‡è¦ä¿¡æ¯
  isPuhuiKindergarten: boolean;    // âŒ æ˜¯å¦æ™®æƒ å›­
  puhuiRecognitionDate: Date;      // âŒ æ™®æƒ è®¤å®šæ—¥æœŸ
  lastInspectionDate: Date;        // âŒ ä¸Šæ¬¡å¹´æ£€æ—¥æœŸ
  lastInspectionResult: string;    // âŒ ä¸Šæ¬¡å¹´æ£€ç»“æœ
  currentGrade: string;            // âŒ å½“å‰ç­‰çº§ï¼šä¸€çº§/äºŒçº§/ä¸‰çº§
  gradeEvaluationDate: Date;       // âŒ ç­‰çº§è¯„å®šæ—¥æœŸ
}
```

---

## ğŸ—„ï¸ æ•°æ®åº“æ‰©å±•æ–¹æ¡ˆ

### æ–¹æ¡ˆ1ï¼šç›´æ¥æ‰©å±•kindergartenè¡¨ï¼ˆæ¨èï¼‰

```sql
-- æ‰©å±•kindergartenè¡¨
ALTER TABLE kindergartens

-- 1. è¯ç…§ä¿¡æ¯
ADD COLUMN license_number VARCHAR(100) COMMENT 'åŠå­¦è®¸å¯è¯å·',
ADD COLUMN license_issue_date DATE COMMENT 'è®¸å¯è¯å‘è¯æ—¥æœŸ',
ADD COLUMN license_expiry_date DATE COMMENT 'è®¸å¯è¯æœ‰æ•ˆæœŸ',
ADD COLUMN business_license_number VARCHAR(100) COMMENT 'è¥ä¸šæ‰§ç…§å·',
ADD COLUMN organization_code VARCHAR(100) COMMENT 'ç»„ç»‡æœºæ„ä»£ç ',
ADD COLUMN tax_number VARCHAR(100) COMMENT 'ç¨åŠ¡ç™»è®°å·',

-- 2. åŠå›­æ¡ä»¶
ADD COLUMN outdoor_area INT COMMENT 'æˆ·å¤–æ´»åŠ¨é¢ç§¯ï¼ˆå¹³æ–¹ç±³ï¼‰',
ADD COLUMN indoor_area INT COMMENT 'å®¤å†…æ´»åŠ¨é¢ç§¯ï¼ˆå¹³æ–¹ç±³ï¼‰',
ADD COLUMN green_area INT COMMENT 'ç»¿åŒ–é¢ç§¯ï¼ˆå¹³æ–¹ç±³ï¼‰',
ADD COLUMN playground_area INT COMMENT 'è¿åŠ¨åœºåœ°é¢ç§¯ï¼ˆå¹³æ–¹ç±³ï¼‰',

-- 3. è®¾æ–½è®¾å¤‡
ADD COLUMN classroom_count INT COMMENT 'æ•™å®¤æ•°é‡',
ADD COLUMN activity_room_count INT COMMENT 'æ´»åŠ¨å®¤æ•°é‡',
ADD COLUMN dormitory_count INT COMMENT 'å¯å®¤æ•°é‡',
ADD COLUMN kitchen_area INT COMMENT 'å¨æˆ¿é¢ç§¯ï¼ˆå¹³æ–¹ç±³ï¼‰',
ADD COLUMN medical_room_area INT COMMENT 'ä¿å¥å®¤é¢ç§¯ï¼ˆå¹³æ–¹ç±³ï¼‰',

-- 4. äººå‘˜é…ç½®
ADD COLUMN principal_qualification VARCHAR(100) COMMENT 'å›­é•¿èµ„æ ¼è¯å·',
ADD COLUMN principal_education VARCHAR(50) COMMENT 'å›­é•¿å­¦å†',
ADD COLUMN principal_work_years INT COMMENT 'å›­é•¿å·¥ä½œå¹´é™',
ADD COLUMN qualified_teacher_count INT COMMENT 'æŒè¯æ•™å¸ˆæ•°',
ADD COLUMN bachelor_teacher_count INT COMMENT 'æœ¬ç§‘å­¦å†æ•™å¸ˆæ•°',
ADD COLUMN nurse_count INT COMMENT 'ä¿è‚²å‘˜æ•°',
ADD COLUMN cook_count INT COMMENT 'å¨å¸ˆæ•°',
ADD COLUMN security_count INT COMMENT 'ä¿å®‰æ•°',
ADD COLUMN doctor_count INT COMMENT 'ä¿å¥åŒ»ç”Ÿæ•°',

-- 5. è´¢åŠ¡ä¿¡æ¯
ADD COLUMN registered_capital DECIMAL(15,2) COMMENT 'æ³¨å†Œèµ„é‡‘ï¼ˆå…ƒï¼‰',
ADD COLUMN annual_revenue DECIMAL(15,2) COMMENT 'å¹´åº¦æ”¶å…¥ï¼ˆå…ƒï¼‰',
ADD COLUMN annual_expenditure DECIMAL(15,2) COMMENT 'å¹´åº¦æ”¯å‡ºï¼ˆå…ƒï¼‰',
ADD COLUMN tuition_fee DECIMAL(10,2) COMMENT 'ä¿æ•™è´¹æ ‡å‡†ï¼ˆå…ƒ/æœˆï¼‰',
ADD COLUMN boarding_fee DECIMAL(10,2) COMMENT 'ä½å®¿è´¹æ ‡å‡†ï¼ˆå…ƒ/æœˆï¼‰',
ADD COLUMN meal_fee DECIMAL(10,2) COMMENT 'ä¼™é£Ÿè´¹æ ‡å‡†ï¼ˆå…ƒ/æœˆï¼‰',

-- 6. å®‰å…¨ç®¡ç†
ADD COLUMN fire_control_certified BOOLEAN DEFAULT FALSE COMMENT 'æ¶ˆé˜²éªŒæ”¶åˆæ ¼',
ADD COLUMN food_license_number VARCHAR(100) COMMENT 'é£Ÿå“ç»è¥è®¸å¯è¯å·',
ADD COLUMN food_license_expiry_date DATE COMMENT 'é£Ÿå“è®¸å¯è¯æœ‰æ•ˆæœŸ',
ADD COLUMN has_school_bus BOOLEAN DEFAULT FALSE COMMENT 'æ˜¯å¦æœ‰æ ¡è½¦',
ADD COLUMN school_bus_count INT DEFAULT 0 COMMENT 'æ ¡è½¦æ•°é‡',

-- 7. è¡Œæ”¿ä¿¡æ¯
ADD COLUMN city_level VARCHAR(20) COMMENT 'åŸå¸‚çº§åˆ«ï¼štier1/tier2/tier3/county/township',
ADD COLUMN education_bureau VARCHAR(200) COMMENT 'ä¸»ç®¡æ•™è‚²å±€',
ADD COLUMN supervisor_name VARCHAR(50) COMMENT 'è´£ä»»ç£å­¦å§“å',
ADD COLUMN supervisor_phone VARCHAR(20) COMMENT 'è´£ä»»ç£å­¦ç”µè¯',

-- 8. å…¶ä»–é‡è¦ä¿¡æ¯
ADD COLUMN is_puhui_kindergarten BOOLEAN DEFAULT FALSE COMMENT 'æ˜¯å¦æ™®æƒ å›­',
ADD COLUMN puhui_recognition_date DATE COMMENT 'æ™®æƒ è®¤å®šæ—¥æœŸ',
ADD COLUMN last_inspection_date DATE COMMENT 'ä¸Šæ¬¡å¹´æ£€æ—¥æœŸ',
ADD COLUMN last_inspection_result VARCHAR(50) COMMENT 'ä¸Šæ¬¡å¹´æ£€ç»“æœ',
ADD COLUMN current_grade VARCHAR(20) COMMENT 'å½“å‰ç­‰çº§ï¼šä¸€çº§/äºŒçº§/ä¸‰çº§',
ADD COLUMN grade_evaluation_date DATE COMMENT 'ç­‰çº§è¯„å®šæ—¥æœŸ',

-- 9. å®Œå–„åº¦æ ‡è®°
ADD COLUMN info_completeness INT DEFAULT 0 COMMENT 'ä¿¡æ¯å®Œæ•´åº¦ï¼ˆ0-100ï¼‰',
ADD COLUMN info_last_updated_at DATETIME COMMENT 'ä¿¡æ¯æœ€åæ›´æ–°æ—¶é—´';
```

---

## ğŸ¯ å­—æ®µåˆ†ç±»å’Œä¼˜å…ˆçº§

### å¿…å¡«å­—æ®µï¼ˆè¿›å…¥æ£€æŸ¥ä¸­å¿ƒå¿…éœ€ï¼‰

```typescript
const REQUIRED_FIELDS = {
  // åŸºç¡€ä¿¡æ¯ï¼ˆå·²æœ‰ï¼‰
  basic: [
    'name',              // å¹¼å„¿å›­åç§°
    'type',              // ç±»å‹
    'level',             // ç­‰çº§
    'address',           // åœ°å€
    'phone',             // ç”µè¯
    'principal',         // å›­é•¿å§“å
    'establishedDate',   // æˆç«‹æ—¶é—´
  ],
  
  // è¯ç…§ä¿¡æ¯ï¼ˆæ–°å¢-å¿…å¡«ï¼‰
  license: [
    'licenseNumber',           // åŠå­¦è®¸å¯è¯å·
    'licenseIssueDate',        // å‘è¯æ—¥æœŸ
    'licenseExpiryDate',       // æœ‰æ•ˆæœŸ
  ],
  
  // è§„æ¨¡ä¿¡æ¯ï¼ˆå·²æœ‰ï¼‰
  scale: [
    'area',              // å åœ°é¢ç§¯
    'buildingArea',      // å»ºç­‘é¢ç§¯
    'classCount',        // ç­çº§æ•°
    'teacherCount',      // æ•™å¸ˆæ•°
    'studentCount',      // å­¦ç”Ÿæ•°
  ],
  
  // äººå‘˜é…ç½®ï¼ˆæ–°å¢-å¿…å¡«ï¼‰
  staff: [
    'principalQualification',  // å›­é•¿èµ„æ ¼è¯
    'qualifiedTeacherCount',   // æŒè¯æ•™å¸ˆæ•°
  ],
  
  // è¡Œæ”¿ä¿¡æ¯ï¼ˆæ–°å¢-å¿…å¡«ï¼‰
  admin: [
    'cityLevel',               // åŸå¸‚çº§åˆ«
    'educationBureau',         // ä¸»ç®¡æ•™è‚²å±€
  ]
};
```

### æ¨èå­—æ®µï¼ˆæå‡æœåŠ¡è´¨é‡ï¼‰

```typescript
const RECOMMENDED_FIELDS = {
  // åŠå›­æ¡ä»¶
  facilities: [
    'outdoorArea',
    'classroomCount',
    'activityRoomCount',
  ],
  
  // è´¢åŠ¡ä¿¡æ¯
  finance: [
    'tuitionFee',
    'mealFee',
  ],
  
  // å®‰å…¨ç®¡ç†
  safety: [
    'fireControlCertified',
    'foodLicenseNumber',
  ]
};
```

### å¯é€‰å­—æ®µï¼ˆå®Œå–„ä¿¡æ¯ï¼‰

```typescript
const OPTIONAL_FIELDS = {
  // å…¶ä»–ä¿¡æ¯
  others: [
    'greenArea',
    'dormitoryCount',
    'hasSchoolBus',
    // ...
  ]
};
```

---

## ğŸ’¡ ä¿¡æ¯å®Œæ•´åº¦è®¡ç®—

### å®Œæ•´åº¦è¯„åˆ†ç®—æ³•

```typescript
// services/kindergarten-completeness.service.ts

export class KindergartenCompletenessService {
  // è®¡ç®—ä¿¡æ¯å®Œæ•´åº¦
  static calculateCompleteness(kindergarten: any): {
    score: number;
    level: string;
    missingRequired: string[];
    missingRecommended: string[];
    canUseAdvancedFeatures: boolean;
  } {
    let score = 0;
    const missingRequired: string[] = [];
    const missingRecommended: string[] = [];
    
    // 1. å¿…å¡«å­—æ®µï¼ˆ60åˆ†ï¼‰
    const requiredFields = [
      ...REQUIRED_FIELDS.basic,
      ...REQUIRED_FIELDS.license,
      ...REQUIRED_FIELDS.scale,
      ...REQUIRED_FIELDS.staff,
      ...REQUIRED_FIELDS.admin
    ];
    
    const requiredScore = 60 / requiredFields.length;
    requiredFields.forEach(field => {
      if (kindergarten[field]) {
        score += requiredScore;
      } else {
        missingRequired.push(field);
      }
    });
    
    // 2. æ¨èå­—æ®µï¼ˆ30åˆ†ï¼‰
    const recommendedFields = Object.values(RECOMMENDED_FIELDS).flat();
    const recommendedScore = 30 / recommendedFields.length;
    recommendedFields.forEach(field => {
      if (kindergarten[field]) {
        score += recommendedScore;
      } else {
        missingRecommended.push(field);
      }
    });
    
    // 3. å¯é€‰å­—æ®µï¼ˆ10åˆ†ï¼‰
    const optionalFields = Object.values(OPTIONAL_FIELDS).flat();
    const optionalScore = 10 / optionalFields.length;
    optionalFields.forEach(field => {
      if (kindergarten[field]) {
        score += optionalScore;
      }
    });
    
    // è®¡ç®—ç­‰çº§
    let level = 'incomplete';
    if (score >= 90) level = 'excellent';
    else if (score >= 70) level = 'good';
    else if (score >= 50) level = 'basic';
    
    // æ˜¯å¦å¯ä»¥ä½¿ç”¨é«˜çº§åŠŸèƒ½ï¼ˆå¿…å¡«å­—æ®µå…¨éƒ¨å¡«å†™ï¼‰
    const canUseAdvancedFeatures = missingRequired.length === 0;
    
    return {
      score: Math.round(score),
      level,
      missingRequired,
      missingRecommended,
      canUseAdvancedFeatures
    };
  }
  
  // è·å–ç¼ºå¤±å­—æ®µçš„å‹å¥½æç¤º
  static getMissingFieldsMessage(missingFields: string[]): string[] {
    const fieldLabels: Record<string, string> = {
      licenseNumber: 'åŠå­¦è®¸å¯è¯å·',
      licenseIssueDate: 'è®¸å¯è¯å‘è¯æ—¥æœŸ',
      licenseExpiryDate: 'è®¸å¯è¯æœ‰æ•ˆæœŸ',
      principalQualification: 'å›­é•¿èµ„æ ¼è¯å·',
      qualifiedTeacherCount: 'æŒè¯æ•™å¸ˆæ•°é‡',
      cityLevel: 'åŸå¸‚çº§åˆ«',
      educationBureau: 'ä¸»ç®¡æ•™è‚²å±€',
      // ... æ›´å¤šå­—æ®µ
    };
    
    return missingFields.map(field => fieldLabels[field] || field);
  }
}
```

---

## ğŸ¨ å‰ç«¯æç¤ºç•Œé¢è®¾è®¡

### æ£€æŸ¥ä¸­å¿ƒå…¥å£æç¤º

```vue
<template>
  <div class="inspection-center">
    <!-- ä¿¡æ¯å®Œæ•´åº¦æç¤ºå¡ç‰‡ -->
    <el-alert
      v-if="!completeness.canUseAdvancedFeatures"
      type="warning"
      :closable="false"
      class="completeness-alert"
    >
      <template #title>
        <div class="alert-title">
          <el-icon><Warning /></el-icon>
          <span>åŸºç¡€ä¿¡æ¯ä¸å®Œæ•´ï¼Œè¯·å®Œå–„åäº«å—é«˜çº§æœåŠ¡</span>
        </div>
      </template>
      
      <div class="alert-content">
        <div class="completeness-info">
          <span>å½“å‰å®Œæ•´åº¦ï¼š</span>
          <el-progress
            :percentage="completeness.score"
            :color="getProgressColor(completeness.score)"
            :stroke-width="20"
          />
        </div>
        
        <div class="missing-fields">
          <h4>ç¼ºå°‘ä»¥ä¸‹å¿…å¡«ä¿¡æ¯ï¼š</h4>
          <el-tag
            v-for="field in completeness.missingRequiredLabels"
            :key="field"
            type="danger"
            size="large"
          >
            {{ field }}
          </el-tag>
        </div>
        
        <el-button
          type="primary"
          size="large"
          @click="goToCompleteInfo"
        >
          ç«‹å³å®Œå–„åŸºç¡€ä¿¡æ¯
        </el-button>
      </div>
    </el-alert>
    
    <!-- åŠŸèƒ½é™åˆ¶æç¤º -->
    <div v-if="!completeness.canUseAdvancedFeatures" class="feature-lock">
      <el-card>
        <h3>ğŸ”’ é«˜çº§åŠŸèƒ½å·²é”å®š</h3>
        <p>å®Œå–„åŸºç¡€ä¿¡æ¯åï¼Œæ‚¨å°†è§£é”ä»¥ä¸‹åŠŸèƒ½ï¼š</p>
        <ul>
          <li>âœ¨ AIæ™ºèƒ½å¡«å……æ–‡æ¡£</li>
          <li>âœ¨ ä¸€é”®ç”Ÿæˆå¹´æ£€æŠ¥å‘Š</li>
          <li>âœ¨ æ™ºèƒ½æ•°æ®åˆ†æ</li>
          <li>âœ¨ è‡ªåŠ¨æé†’æœåŠ¡</li>
        </ul>
      </el-card>
    </div>
    
    <!-- æ­£å¸¸åŠŸèƒ½åŒºåŸŸ -->
    <div v-else>
      <!-- æ£€æŸ¥ä¸­å¿ƒæ­£å¸¸åŠŸèƒ½ -->
    </div>
  </div>
</template>

<script setup lang="ts">
import { ref, onMounted } from 'vue';
import { useRouter } from 'vue-router';
import { ElMessage } from 'element-plus';

const router = useRouter();
const completeness = ref({
  score: 0,
  level: 'incomplete',
  missingRequired: [],
  missingRequiredLabels: [],
  canUseAdvancedFeatures: false
});

onMounted(async () => {
  await checkCompleteness();
});

const checkCompleteness = async () => {
  const response = await fetch('/api/kindergarten/completeness');
  const data = await response.json();
  completeness.value = data.data;
};

const goToCompleteInfo = () => {
  router.push('/settings/base-info?highlight=missing');
};

const getProgressColor = (score: number) => {
  if (score >= 90) return '#67c23a';
  if (score >= 70) return '#e6a23c';
  if (score >= 50) return '#f56c6c';
  return '#909399';
};
</script>
```

---

## ğŸ“‹ APIæ¥å£è®¾è®¡

### 1. è·å–ä¿¡æ¯å®Œæ•´åº¦

```typescript
// GET /api/kindergarten/completeness

{
  "success": true,
  "data": {
    "score": 45,
    "level": "incomplete",
    "missingRequired": [
      "licenseNumber",
      "licenseIssueDate",
      "principalQualification"
    ],
    "missingRequiredLabels": [
      "åŠå­¦è®¸å¯è¯å·",
      "è®¸å¯è¯å‘è¯æ—¥æœŸ",
      "å›­é•¿èµ„æ ¼è¯å·"
    ],
    "missingRecommended": [...],
    "canUseAdvancedFeatures": false,
    "message": "è¯·å®Œå–„3ä¸ªå¿…å¡«å­—æ®µåä½¿ç”¨é«˜çº§åŠŸèƒ½"
  }
}
```

### 2. æ‰¹é‡æ›´æ–°åŸºç¡€ä¿¡æ¯

```typescript
// PUT /api/kindergarten/base-info/batch

{
  "licenseNumber": "äº¬æ•™è®¸å­—[2020]001å·",
  "licenseIssueDate": "2020-01-01",
  "licenseExpiryDate": "2025-12-31",
  "principalQualification": "å›­é•¿è¯123456",
  "cityLevel": "tier1",
  "educationBureau": "åŒ—äº¬å¸‚æœé˜³åŒºæ•™è‚²å±€"
}
```

---

**ä¸‹ä¸€æ­¥**: æˆ‘å°†æ›´æ–°å®Œæ•´çš„å¼€å‘è®¡åˆ’ï¼

