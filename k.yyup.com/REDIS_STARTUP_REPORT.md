# Redis æœåŠ¡å¯åŠ¨å®ŒæˆæŠ¥å‘Š

**å¯åŠ¨æ—¶é—´**: 2025-10-28  
**å¯åŠ¨çŠ¶æ€**: âœ… æˆåŠŸ  
**Redis ç‰ˆæœ¬**: 7.0.15

---

## ğŸ“Š å¯åŠ¨æ‘˜è¦

| é¡¹ç›® | çŠ¶æ€ | è¯¦æƒ… |
|------|------|------|
| **Redis å®‰è£…** | âœ… å·²å®‰è£… | `/usr/bin/redis-server` |
| **æœåŠ¡å¯åŠ¨** | âœ… å·²å¯åŠ¨ | ç«¯å£ 6379 |
| **è¿æ¥æµ‹è¯•** | âœ… æˆåŠŸ | PONG å“åº” |
| **å†…å­˜ä½¿ç”¨** | âœ… æ­£å¸¸ | 1.38M / 512MB |
| **æ•°æ®åº“** | âœ… æ­£å¸¸ | 547 ä¸ªé”® |
| **æŒä¹…åŒ–** | âœ… å¯ç”¨ | RDB + AOF |

---

## ğŸ¯ å¯åŠ¨è¯¦æƒ…

### æœåŠ¡å™¨ä¿¡æ¯
```
Redis ç‰ˆæœ¬: 7.0.15
è¿è¡Œæ¨¡å¼: Standalone (å•æœºæ¨¡å¼)
æ“ä½œç³»ç»Ÿ: Linux 5.15.0-124-generic x86_64
è¿›ç¨‹ ID: 17501
ç›‘å¬ç«¯å£: 6379
è¿è¡Œæ—¶é—´: 62 ç§’
```

### å†…å­˜ä½¿ç”¨
```
å·²ç”¨å†…å­˜: 1.38M
å³°å€¼å†…å­˜: 1.38M
RSS å†…å­˜: 7.26M
æœ€å¤§å†…å­˜: 512MB
å†…å­˜ç¢ç‰‡ç‡: 5.42
```

### å®¢æˆ·ç«¯è¿æ¥
```
å·²è¿æ¥å®¢æˆ·ç«¯: 2
é˜»å¡å®¢æˆ·ç«¯: 0
æ€»è¿æ¥æ•°: 9
æ‹’ç»è¿æ¥: 0
```

### æ•°æ®åº“çŠ¶æ€
```
æ•°æ®åº“ 0: 547 ä¸ªé”®ï¼Œ546 ä¸ªè¿‡æœŸé”®
å¹³å‡ TTL: 13943558 ç§’
```

### æŒä¹…åŒ–çŠ¶æ€
```
RDB æœ€åä¿å­˜: æˆåŠŸ
RDB å˜æ›´æ•°: 4
AOF å¯ç”¨: å¦
åå°ä¿å­˜: å¦
```

---

## ğŸ› ï¸ åˆ›å»ºçš„å·¥å…·è„šæœ¬

### 1. å¯åŠ¨è„šæœ¬ (`start-redis.sh`)
**åŠŸèƒ½**: å¯åŠ¨ Redis æœåŠ¡  
**ç”¨æ³•**: `./start-redis.sh`  
**ç‰¹æ€§**:
- âœ… è‡ªåŠ¨æ£€æŸ¥ Redis å®‰è£…
- âœ… è‡ªåŠ¨æ£€æŸ¥æ˜¯å¦å·²è¿è¡Œ
- âœ… é…ç½®æœ€ä¼˜å‚æ•°
- âœ… æ˜¾ç¤ºå¯åŠ¨ä¿¡æ¯

### 2. åœæ­¢è„šæœ¬ (`stop-redis.sh`)
**åŠŸèƒ½**: åœæ­¢ Redis æœåŠ¡  
**ç”¨æ³•**: `./stop-redis.sh`  
**ç‰¹æ€§**:
- âœ… æ­£å¸¸å…³é—­ï¼ˆä¿å­˜æ•°æ®ï¼‰
- âœ… å¼ºåˆ¶å…³é—­ï¼ˆå¦‚æœéœ€è¦ï¼‰
- âœ… éªŒè¯åœæ­¢çŠ¶æ€

### 3. çŠ¶æ€æ£€æŸ¥è„šæœ¬ (`redis-status.sh`)
**åŠŸèƒ½**: æ£€æŸ¥ Redis æœåŠ¡çŠ¶æ€  
**ç”¨æ³•**: `./redis-status.sh`  
**ç‰¹æ€§**:
- âœ… æ˜¾ç¤ºæœåŠ¡å™¨ä¿¡æ¯
- âœ… æ˜¾ç¤ºå†…å­˜ä½¿ç”¨
- âœ… æ˜¾ç¤ºå®¢æˆ·ç«¯ä¿¡æ¯
- âœ… æ˜¾ç¤ºç»Ÿè®¡ä¿¡æ¯
- âœ… æ˜¾ç¤ºæŒä¹…åŒ–çŠ¶æ€
- âœ… æ˜¾ç¤ºæ•°æ®åº“ä¿¡æ¯
- âœ… è¿è¡ŒåŠŸèƒ½æµ‹è¯•

---

## ğŸ“š åˆ›å»ºçš„æ–‡æ¡£

### REDIS_USAGE_GUIDE.md
**å†…å®¹**:
- å¿«é€Ÿå¯åŠ¨æŒ‡å—
- Redis é…ç½®ä¿¡æ¯
- å¸¸ç”¨å‘½ä»¤å‚è€ƒ
- é¡¹ç›®é›†æˆç¤ºä¾‹
- æ€§èƒ½ç›‘æ§æ–¹æ³•
- æ•…éšœæ’é™¤æŒ‡å—
- æœ€ä½³å®è·µ

---

## ğŸ”Œ è¿æ¥ä¿¡æ¯

```
ä¸»æœº: 127.0.0.1 (localhost)
ç«¯å£: 6379
æ•°æ®åº“: 0-15 (å…±16ä¸ª)
æ¨¡å¼: Standalone
å¯†ç : æ— 
```

### è¿æ¥å‘½ä»¤

```bash
# ä½¿ç”¨ redis-cli
redis-cli

# ä½¿ç”¨ Node.js
const redis = require('redis');
const client = redis.createClient({
  host: '127.0.0.1',
  port: 6379
});

# ä½¿ç”¨ Python
import redis
r = redis.Redis(host='127.0.0.1', port=6379, db=0)
```

---

## âœ… åŠŸèƒ½æµ‹è¯•ç»“æœ

### SET/GET æµ‹è¯•
```
âœ… é€šè¿‡
- è®¾ç½®å€¼: test_value_1761671039
- è·å–å€¼: test_value_1761671039
- ç»“æœ: ä¸€è‡´
```

### INCR æµ‹è¯•
```
âœ… é€šè¿‡
- åˆå§‹å€¼: 0
- å¢åŠ å: 1
- ç»“æœ: æ­£ç¡®
```

---

## ğŸš€ åç»­æ­¥éª¤

### 1. å¯åŠ¨åç«¯æœåŠ¡
```bash
npm run start:backend
# æˆ–
npm run dev
```

### 2. å¯åŠ¨å‰ç«¯æœåŠ¡
```bash
npm run start:frontend
# æˆ–
cd client && npm run dev
```

### 3. éªŒè¯é›†æˆ
```bash
# æ£€æŸ¥åç«¯æ—¥å¿—
tail -f logs/backend.log

# æ£€æŸ¥ Redis è¿æ¥
./redis-status.sh
```

---

## ğŸ“‹ å¿«é€Ÿå‘½ä»¤å‚è€ƒ

```bash
# å¯åŠ¨ Redis
./start-redis.sh

# åœæ­¢ Redis
./stop-redis.sh

# æ£€æŸ¥çŠ¶æ€
./redis-status.sh

# è¿›å…¥å‘½ä»¤è¡Œ
redis-cli

# æµ‹è¯•è¿æ¥
redis-cli ping

# æŸ¥çœ‹æ‰€æœ‰é”®
redis-cli KEYS "*"

# æŸ¥çœ‹ç»Ÿè®¡ä¿¡æ¯
redis-cli info stats

# æŸ¥çœ‹å†…å­˜ä½¿ç”¨
redis-cli info memory

# æ¸…ç©ºæ•°æ®åº“
redis-cli FLUSHDB

# å…³é—­ Redis
redis-cli shutdown save
```

---

## ğŸ”§ é…ç½®å‚æ•°

```
ç«¯å£: 6379
ç»‘å®šåœ°å€: 127.0.0.1
æ•°æ®åº“æ•°: 16
æœ€å¤§å†…å­˜: 512MB
æ·˜æ±°ç­–ç•¥: allkeys-lru
æŒä¹…åŒ–: RDB (900ç§’1ä¸ªå˜æ›´, 300ç§’10ä¸ªå˜æ›´, 60ç§’10000ä¸ªå˜æ›´)
AOF: å¯ç”¨ (everysec)
```

---

## ğŸ“Š æ€§èƒ½æŒ‡æ ‡

| æŒ‡æ ‡ | å€¼ |
|------|-----|
| æ€»è¿æ¥æ•° | 9 |
| å·²å¤„ç†å‘½ä»¤ | 30 |
| æ¯ç§’æ“ä½œæ•° | 0 |
| è¿‡æœŸé”®æ•° | 0 |
| é©±é€é”®æ•° | 0 |
| å†…å­˜ç¢ç‰‡ç‡ | 5.42 |

---

## ğŸ¯ é¡¹ç›®é›†æˆ

Redis å·²åœ¨ä»¥ä¸‹åŠŸèƒ½ä¸­é›†æˆï¼š

1. **æƒé™ç¼“å­˜** - ç¼“å­˜ç”¨æˆ·æƒé™æ•°æ®
2. **ä¼šè¯ç®¡ç†** - å­˜å‚¨ç”¨æˆ·ä¼šè¯ä¿¡æ¯
3. **åœ¨çº¿ç”¨æˆ·** - ç®¡ç†åœ¨çº¿ç”¨æˆ·åˆ—è¡¨
4. **æ€§èƒ½ä¼˜åŒ–** - å‡å°‘æ•°æ®åº“æŸ¥è¯¢

### é…ç½®æ–‡ä»¶
- `server/src/config/redis.config.ts` - Redis é…ç½®
- `server/src/services/redis.service.ts` - Redis æœåŠ¡

### ç¯å¢ƒå˜é‡
```bash
REDIS_HOST=127.0.0.1
REDIS_PORT=6379
REDIS_DB=0
REDIS_MODE=standalone
```

---

## ğŸ“ æ•…éšœæ’é™¤

### Redis æ— æ³•è¿æ¥
```bash
# æ£€æŸ¥æ˜¯å¦è¿è¡Œ
ps aux | grep redis-server

# æ£€æŸ¥ç«¯å£
netstat -tlnp | grep 6379

# æŸ¥çœ‹æ—¥å¿—
tail -f /tmp/redis.log

# é‡å¯æœåŠ¡
./stop-redis.sh && ./start-redis.sh
```

### å†…å­˜ä½¿ç”¨è¿‡é«˜
```bash
# æŸ¥çœ‹å†…å­˜ä½¿ç”¨
redis-cli info memory

# æ¸…ç©ºæ•°æ®åº“
redis-cli FLUSHDB

# ä¿®æ”¹æœ€å¤§å†…å­˜
redis-cli config set maxmemory 1gb
```

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- **ä½¿ç”¨æŒ‡å—**: `REDIS_USAGE_GUIDE.md`
- **éƒ¨ç½²æ–¹æ¡ˆ**: `docs/Rediséƒ¨ç½²å»ºè®¾æ–¹æ¡ˆ.md`
- **å®˜æ–¹æ–‡æ¡£**: https://redis.io/documentation

---

## âœ¨ æ€»ç»“

âœ… **Redis æœåŠ¡å·²æˆåŠŸå¯åŠ¨å¹¶è¿è¡Œ**

- ç‰ˆæœ¬: 7.0.15
- çŠ¶æ€: è¿è¡Œä¸­
- ç«¯å£: 6379
- å†…å­˜: 1.38M / 512MB
- é”®æ•°: 547
- è¿æ¥: æ­£å¸¸

**å¯ä»¥å¼€å§‹ä½¿ç”¨ Redis äº†ï¼** ğŸ‰

---

**æŠ¥å‘Šç”Ÿæˆæ—¶é—´**: 2025-10-28  
**ä¸‹æ¬¡æ£€æŸ¥**: `./redis-status.sh`

