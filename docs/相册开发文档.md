# æ™ºæ…§å¹¼å„¿å›­ - ç›¸å†Œåº“åŠŸèƒ½å¼€å‘éœ€æ±‚æ–‡æ¡£

> **æ–‡æ¡£ç‰ˆæœ¬ï¼š** V1.0  
> **åˆ›å»ºæ—¥æœŸï¼š** 2025-11-04  
> **è´Ÿè´£äººï¼š** æŠ€æœ¯å›¢é˜Ÿ  
> **ä¼˜å…ˆçº§ï¼š** P0ï¼ˆé«˜ä¼˜å…ˆçº§ï¼‰

---

## ğŸ“‹ ç›®å½•

1. [åŠŸèƒ½æ¦‚è¿°](#åŠŸèƒ½æ¦‚è¿°)
2. [æ ¸å¿ƒåŠŸèƒ½æ¨¡å—](#æ ¸å¿ƒåŠŸèƒ½æ¨¡å—)
3. [æ•°æ®åº“è®¾è®¡](#æ•°æ®åº“è®¾è®¡)
4. [APIæ¥å£è®¾è®¡](#apiæ¥å£è®¾è®¡)
5. [äººè„¸è¯†åˆ«æŠ€æœ¯æ–¹æ¡ˆ](#äººè„¸è¯†åˆ«æŠ€æœ¯æ–¹æ¡ˆ)
6. [å‰ç«¯UIè®¾è®¡](#å‰ç«¯uiè®¾è®¡)
7. [æŠ€æœ¯æ¶æ„](#æŠ€æœ¯æ¶æ„)
8. [å¼€å‘è®¡åˆ’](#å¼€å‘è®¡åˆ’)
9. [é£é™©è¯„ä¼°](#é£é™©è¯„ä¼°)

---

## ğŸ“– åŠŸèƒ½æ¦‚è¿°

### ä¸šåŠ¡èƒŒæ™¯

å¹¼å„¿å›­æ—¥å¸¸ä¼šäº§ç”Ÿå¤§é‡ç…§ç‰‡ï¼ˆæ´»åŠ¨ã€è¯¾å ‚ã€ç”Ÿæ´»è®°å½•ï¼‰ï¼Œä¼ ç»Ÿæ–¹å¼å­˜åœ¨ä»¥ä¸‹é—®é¢˜ï¼š
- âŒ è€å¸ˆæ‰‹åŠ¨åˆ†å‘ç…§ç‰‡ï¼Œå·¥ä½œé‡å¤§
- âŒ å®¶é•¿æ— æ³•åŠæ—¶çœ‹åˆ°å­©å­ç…§ç‰‡
- âŒ ç…§ç‰‡æ•£è½å„å¤„ï¼Œéš¾ä»¥ç®¡ç†
- âŒ æ— æ³•æ™ºèƒ½è¯†åˆ«ç…§ç‰‡ä¸­çš„å­©å­

### è§£å†³æ–¹æ¡ˆ

å¼€å‘æ™ºèƒ½ç›¸å†Œåº“ç³»ç»Ÿï¼Œå®ç°ï¼š
- âœ… **è€å¸ˆæ™ºèƒ½ä¸Šä¼ **ï¼šAIè‡ªåŠ¨è¯†åˆ«ç…§ç‰‡ä¸­çš„å­¦ç”Ÿ
- âœ… **å®¶é•¿ä¸ªæ€§åŒ–æŸ¥çœ‹**ï¼šåªçœ‹è‡ªå·±å­©å­çš„ç…§ç‰‡æ—¶é—´è½´
- âœ… **å›­é•¿ç»Ÿä¸€ç®¡ç†**ï¼šé›†ä½“ç…§ç‰‡å±•ç¤ºå’Œä¼˜è´¨ç…§ç‰‡æ¨è
- âœ… **ä¸€é”®ç”Ÿæˆè§†é¢‘**ï¼šé…ä¹å¹»ç¯ç‰‡ï¼Œè®°å½•æˆé•¿ç¬é—´

### ç›®æ ‡ç”¨æˆ·

| è§’è‰² | æ ¸å¿ƒéœ€æ±‚ |
|------|---------|
| **æ•™å¸ˆ** | å¿«é€Ÿä¸Šä¼ ã€æ™ºèƒ½æ ‡è®°ã€æ‰¹é‡åˆ†å‘ |
| **å®¶é•¿** | æŸ¥çœ‹å­©å­ç…§ç‰‡ã€ä¸‹è½½ä¿å­˜ã€ç”Ÿæˆçºªå¿µè§†é¢‘ |
| **å›­é•¿/ç®¡ç†å‘˜** | å…¨å±€ç®¡ç†ã€æ•°æ®ç»Ÿè®¡ã€ä¼˜è´¨å†…å®¹æ¨è |

---

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½æ¨¡å—

### æ¨¡å—1ï¼šæ•™å¸ˆç«¯ - æ™ºèƒ½ä¸Šä¼ ä¸åˆ†å‘

#### 1.1 æ‰¹é‡ä¸Šä¼ 
```
åŠŸèƒ½æè¿°ï¼š
- æ”¯æŒæ‹–æ‹½ä¸Šä¼ ï¼ˆå•å¼ /æ‰¹é‡ï¼‰
- æ”¯æŒæ–‡ä»¶å¤¹ä¸Šä¼ 
- ä¸Šä¼ è¿›åº¦å®æ—¶æ˜¾ç¤º
- è‡ªåŠ¨å‹ç¼©ä¼˜åŒ–ï¼ˆ2MBä»¥å†…ï¼‰
- è‡ªåŠ¨ç”Ÿæˆç¼©ç•¥å›¾

æŠ€æœ¯è¦ç‚¹ï¼š
- å‰ç«¯ï¼šVue3 + Element Plus Uploadç»„ä»¶
- åç«¯ï¼šMulter + Sharpå›¾ç‰‡å¤„ç†
- å­˜å‚¨ï¼šé˜¿é‡Œäº‘OSS
```

#### 1.2 AIäººè„¸è¯†åˆ«ï¼ˆæ ¸å¿ƒåŠŸèƒ½ï¼‰
```
åŠŸèƒ½æè¿°ï¼š
- ä¸Šä¼ åè‡ªåŠ¨æ£€æµ‹ç…§ç‰‡ä¸­çš„äººè„¸
- æ¯å¼ è„¸è¿”å›Top3åŒ¹é…å­¦ç”Ÿï¼ˆå¸¦ç½®ä¿¡åº¦ï¼‰
- ç½®ä¿¡åº¦>85%è‡ªåŠ¨æ ‡è®°ï¼Œ<85%éœ€ç¡®è®¤
- æ”¯æŒæ‰‹åŠ¨ä¿®æ­£è¯†åˆ«ç»“æœ

è¯†åˆ«æµç¨‹ï¼š
1. ç…§ç‰‡ä¸Šä¼ åˆ°OSS â†’ è·å¾—URL
2. è°ƒç”¨ç™¾åº¦AIäººè„¸æœç´¢API
3. ä¼ å…¥ç…§ç‰‡URL + äººè„¸åº“ID
4. è¿”å›åŒ¹é…ç»“æœï¼š
   [
     {
       face_box: {x: 100, y: 50, w: 200, h: 200},
       student: {id: 1, name: "å¼ å°æ˜", confidence: 0.95}
     },
     {
       face_box: {x: 400, y: 80, w: 180, h: 180},
       student: {id: 5, name: "æå°çº¢", confidence: 0.82}
     }
   ]
5. è€å¸ˆç¡®è®¤åå»ºç«‹å…³è”

æŠ€æœ¯è¦ç‚¹ï¼š
- APIï¼šç™¾åº¦AIäººè„¸æœç´¢ï¼ˆå…è´¹50ä¸‡æ¬¡/å¹´ï¼‰
- é˜Ÿåˆ—ï¼šBullé˜Ÿåˆ—å¤„ç†ï¼ˆé¿å…QPSè¶…é™ï¼‰
- ç¼“å­˜ï¼šRedisç¼“å­˜è¯†åˆ«ç»“æœ
```

#### 1.3 æ™ºèƒ½æ ‡è®°ç•Œé¢
```
åŠŸèƒ½æè¿°ï¼š
- ç…§ç‰‡ä¸Šç”¨æ–¹æ¡†æ ‡è®°æ£€æµ‹åˆ°çš„äººè„¸
- æ¯ä¸ªæ–¹æ¡†æ˜¾ç¤ºæ¨èå­¦ç”Ÿåˆ—è¡¨
- æ”¯æŒå¿«é€Ÿç¡®è®¤/ä¿®æ”¹/åˆ é™¤
- æ”¯æŒ"å…¨ç­"æŒ‰é’®ï¼ˆé›†ä½“ç…§ï¼‰
- æ‰¹é‡æ“ä½œï¼ˆå¤šé€‰æ ‡è®°ï¼‰

äº¤äº’è®¾è®¡ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“· IMG_001.jpg   [3å¼ è„¸æ£€æµ‹åˆ°]      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  ğŸŸ¦ å¼ å°æ˜ (95%)  âœ“ç¡®è®¤ âœ—      â”‚  â”‚
â”‚  â”‚  ğŸŸ¦ æå°çº¢ (82%)  âœ“ç¡®è®¤ âœ—      â”‚  â”‚
â”‚  â”‚  ğŸŸ¦ ? (65%)      [æ‰‹åŠ¨é€‰æ‹©â–¼]    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  [å…¨ç­] [è·³è¿‡] [ç¡®è®¤æ ‡è®°]            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 1.4 æ´»åŠ¨åˆ†ç±»ä¸ç®¡ç†
```
åŠŸèƒ½æè¿°ï¼š
- åˆ›å»ºæ´»åŠ¨ç›¸å†Œï¼ˆè¿åŠ¨ä¼šã€æ‰‹å·¥è¯¾ã€æˆ·å¤–æ´»åŠ¨ï¼‰
- æ‰¹é‡ç…§ç‰‡å½’ç±»
- æ·»åŠ æ´»åŠ¨æè¿°å’Œæ—¶é—´
- è®¾ç½®ç…§ç‰‡å¯è§æ€§ï¼ˆå…¬å¼€/ç­çº§å†…/ç§å¯†ï¼‰

æ•°æ®å­—æ®µï¼š
- activity_type: æ´»åŠ¨ç±»å‹
- activity_name: æ´»åŠ¨åç§°
- shoot_date: æ‹æ‘„æ—¥æœŸ
- description: æ´»åŠ¨æè¿°
- visibility: å¯è§æ€§ï¼ˆpublic/class/privateï¼‰
```

---

### æ¨¡å—2ï¼šå®¶é•¿ç«¯ - ä¸ªæ€§åŒ–ç›¸å†Œ

#### 2.1 æ—¶é—´è½´å±•ç¤º
```
åŠŸèƒ½æè¿°ï¼š
- æŒ‰æ—¶é—´å€’åºå±•ç¤ºå­©å­ç…§ç‰‡
- æ”¯æŒåˆ‡æ¢è§†å›¾ï¼ˆå¹´/æœˆ/å‘¨/æ—¥ï¼‰
- ç€‘å¸ƒæµå¸ƒå±€ï¼ˆå“åº”å¼ï¼‰
- æ‡’åŠ è½½ä¼˜åŒ–ï¼ˆé¦–å±åªåŠ è½½ç¼©ç•¥å›¾ï¼‰

ç­›é€‰åŠŸèƒ½ï¼š
- æŒ‰æ´»åŠ¨ç±»å‹ï¼ˆè¿åŠ¨ä¼šã€æ‰‹å·¥è¯¾ç­‰ï¼‰
- æŒ‰æ—¶é—´èŒƒå›´ï¼ˆè‡ªå®šä¹‰æ—¥æœŸï¼‰
- æŒ‰åœºæ™¯ï¼ˆæˆ·å¤–ã€å®¤å†…ã€é›†ä½“ã€å•äººï¼‰
- æŒ‰æ”¶è—çŠ¶æ€

UIè®¾è®¡ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“… å®å®çš„æˆé•¿ç›¸å†Œ  [åˆæˆè§†é¢‘]        â”‚
â”‚  â”œâ”€ 2025å¹´11æœˆ â–¼  [ç­›é€‰]            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚                                      â”‚
â”‚  â— 11æœˆ3æ—¥ - æˆ·å¤–æ´»åŠ¨ (8å¼ ) ğŸ“       â”‚
â”‚    â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”              â”‚
â”‚    â”‚ ğŸ“· â”‚ ğŸ“· â”‚ ğŸ“· â”‚+5 â”‚              â”‚
â”‚    â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜              â”‚
â”‚                                      â”‚
â”‚  â— 11æœˆ1æ—¥ - æ‰‹å·¥è¯¾ (3å¼ )            â”‚
â”‚    â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”                   â”‚
â”‚    â”‚ ğŸ“· â”‚ ğŸ“· â”‚ ğŸ“· â”‚                  â”‚
â”‚    â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 2.2 ç…§ç‰‡æŸ¥çœ‹ä¸æ“ä½œ
```
åŠŸèƒ½æè¿°ï¼š
- ç‚¹å‡»æ”¾å¤§æŸ¥çœ‹
- å·¦å³æ»‘åŠ¨åˆ‡æ¢
- åŒæŒ‡ç¼©æ”¾ï¼ˆç§»åŠ¨ç«¯ï¼‰
- ä¸‹è½½åŸå›¾/ç¼©ç•¥å›¾
- åˆ†äº«é“¾æ¥ï¼ˆä¸´æ—¶URLï¼‰
- æ·»åŠ åˆ°æ”¶è—
- è¯„è®ºç‚¹èµï¼ˆå¯é€‰ï¼‰

æŠ€æœ¯è¦ç‚¹ï¼š
- ç»„ä»¶ï¼šVue3 + Element Plus Image Viewer
- ä¼˜åŒ–ï¼šå›¾ç‰‡æ‡’åŠ è½½ + é¢„åŠ è½½ä¸‹ä¸€å¼ 
- å®‰å…¨ï¼šOSSç­¾åURLï¼ˆ1å°æ—¶æœ‰æ•ˆæœŸï¼‰
```

#### 2.3 ä¸€é”®ç”Ÿæˆé…ä¹è§†é¢‘ï¼ˆç‰¹è‰²åŠŸèƒ½ï¼‰
```
åŠŸèƒ½æè¿°ï¼š
- é€‰æ‹©æ—¶é—´èŒƒå›´æˆ–æ‰‹åŠ¨é€‰æ‹©ç…§ç‰‡
- è‡ªåŠ¨ç”Ÿæˆé…ä¹å¹»ç¯ç‰‡è§†é¢‘
- AIæ™ºèƒ½é€‰é…ä¹ï¼ˆæ ¹æ®æ´»åŠ¨ç±»å‹ï¼‰
- æ”¯æŒè‡ªå®šä¹‰æ–‡æ¡ˆå­—å¹•
- å¼‚æ­¥æ¸²æŸ“ï¼Œå®Œæˆåæ¨é€é€šçŸ¥

æŠ€æœ¯æ–¹æ¡ˆï¼š
- FFmpegè§†é¢‘åˆæˆ
- èƒŒæ™¯éŸ³ä¹åº“ï¼ˆé¢„ç½®10é¦–ï¼‰
- æ¸²æŸ“é˜Ÿåˆ—ï¼ˆBullï¼‰
- è¿›åº¦æ¨é€ï¼ˆWebSocketï¼‰

è§†é¢‘è§„æ ¼ï¼š
- åˆ†è¾¨ç‡ï¼š1080P (1920x1080)
- æ—¶é•¿ï¼šæ¯å¼ ç…§ç‰‡3ç§’
- è¿‡æ¸¡æ•ˆæœï¼šæ·¡å…¥æ·¡å‡º
- æ°´å°ï¼šå¹¼å„¿å›­Logo
- æ ¼å¼ï¼šMP4 (H.264)
```

---

### æ¨¡å—3ï¼šå›­é•¿ç«¯ - å…¨å±€ç®¡ç†

#### 3.1 é›†ä½“ç…§ç‰‡åº“
```
åŠŸèƒ½æè¿°ï¼š
- æŸ¥çœ‹æ‰€æœ‰ç­çº§çš„é›†ä½“ç…§ç‰‡
- æŒ‰æ´»åŠ¨åˆ†ç±»å±•ç¤º
- å¤§å±å±•ç¤ºæ¨¡å¼ï¼ˆæ‹›ç”Ÿå®£ä¼ ï¼‰
- å¯¼å‡ºå¹´åº¦ç›¸å†Œ

ç­›é€‰ç»´åº¦ï¼š
- æŒ‰ç­çº§
- æŒ‰æ´»åŠ¨ç±»å‹
- æŒ‰æ—¶é—´èŒƒå›´
- æŒ‰ä¸Šä¼ è€å¸ˆ
```

#### 3.2 ä¼˜è´¨ç…§ç‰‡æ¨èå¢™
```
åŠŸèƒ½æè¿°ï¼š
- è€å¸ˆå¯æ¨èä¼˜è´¨ç…§ç‰‡
- AIè´¨é‡è¯„åˆ†ï¼ˆæ¸…æ™°åº¦ã€æ„å›¾ã€å…‰çº¿ï¼‰
- å›­é•¿å®¡æ ¸é€šè¿‡åå±•ç¤º
- ç”¨äºæ‹›ç”Ÿå®£ä¼ ã€å®˜ç½‘å±•ç¤º

AIè¯„åˆ†ç»´åº¦ï¼š
- æ¸…æ™°åº¦ï¼š0-100åˆ†
- äººè„¸æ•°é‡ï¼šä¼˜å…ˆå¤šäººç…§ç‰‡
- æ„å›¾ç¾å­¦ï¼šé»„é‡‘åˆ†å‰²ã€å¯¹ç§°æ€§
- å…‰çº¿å……è¶³åº¦
- ç»¼åˆè¯„åˆ†ï¼štop20%è‡ªåŠ¨æ¨è
```

#### 3.3 æ•°æ®ç»Ÿè®¡
```
åŠŸèƒ½æŒ‡æ ‡ï¼š
- ç…§ç‰‡æ€»æ•°ã€æœ¬æœˆæ–°å¢
- å„ç­çº§ä¸Šä¼ é‡æ’è¡Œ
- å®¶é•¿è®¿é—®é‡ç»Ÿè®¡
- å­˜å‚¨ç©ºé—´ä½¿ç”¨æƒ…å†µ
- äººè„¸è¯†åˆ«å‡†ç¡®ç‡

å›¾è¡¨å±•ç¤ºï¼š
- ä¸Šä¼ è¶‹åŠ¿å›¾ï¼ˆæŠ˜çº¿å›¾ï¼‰
- æ´»åŠ¨ç±»å‹åˆ†å¸ƒï¼ˆé¥¼å›¾ï¼‰
- ç­çº§å¯¹æ¯”ï¼ˆæŸ±çŠ¶å›¾ï¼‰
```

---

## ğŸ—„ï¸ æ•°æ®åº“è®¾è®¡

### è¡¨1: photosï¼ˆç…§ç‰‡ä¸»è¡¨ï¼‰
```sql
CREATE TABLE `photos` (
  `id` INT UNSIGNED AUTO_INCREMENT PRIMARY KEY COMMENT 'ç…§ç‰‡ID',
  `file_url` VARCHAR(500) NOT NULL COMMENT 'OSSç…§ç‰‡URL',
  `thumbnail_url` VARCHAR(500) DEFAULT NULL COMMENT 'ç¼©ç•¥å›¾URL',
  `original_name` VARCHAR(255) DEFAULT NULL COMMENT 'åŸå§‹æ–‡ä»¶å',
  `file_size` INT UNSIGNED DEFAULT 0 COMMENT 'æ–‡ä»¶å¤§å°(å­—èŠ‚)',
  `width` INT UNSIGNED DEFAULT 0 COMMENT 'å›¾ç‰‡å®½åº¦',
  `height` INT UNSIGNED DEFAULT 0 COMMENT 'å›¾ç‰‡é«˜åº¦',
  
  -- ä¸Šä¼ ä¿¡æ¯
  `upload_user_id` INT UNSIGNED NOT NULL COMMENT 'ä¸Šä¼ è€å¸ˆID',
  `upload_time` DATETIME DEFAULT CURRENT_TIMESTAMP COMMENT 'ä¸Šä¼ æ—¶é—´',
  `kindergarten_id` INT UNSIGNED DEFAULT NULL COMMENT 'å¹¼å„¿å›­ID',
  `class_id` INT UNSIGNED DEFAULT NULL COMMENT 'ç­çº§ID',
  
  -- æ´»åŠ¨ä¿¡æ¯
  `activity_type` VARCHAR(50) DEFAULT NULL COMMENT 'æ´»åŠ¨ç±»å‹',
  `activity_name` VARCHAR(100) DEFAULT NULL COMMENT 'æ´»åŠ¨åç§°',
  `shoot_date` DATE DEFAULT NULL COMMENT 'æ‹æ‘„æ—¥æœŸ',
  `description` TEXT DEFAULT NULL COMMENT 'ç…§ç‰‡æè¿°',
  
  -- AIè¯†åˆ«
  `face_count` INT DEFAULT 0 COMMENT 'æ£€æµ‹åˆ°çš„äººè„¸æ•°é‡',
  `ai_processed` BOOLEAN DEFAULT FALSE COMMENT 'æ˜¯å¦å·²AIå¤„ç†',
  `quality_score` INT DEFAULT 0 COMMENT 'AIè´¨é‡è¯„åˆ†(0-100)',
  
  -- æƒé™ä¸çŠ¶æ€
  `visibility` ENUM('public', 'class', 'private') DEFAULT 'class' COMMENT 'å¯è§æ€§',
  `status` ENUM('pending', 'tagged', 'published', 'archived') DEFAULT 'pending' COMMENT 'çŠ¶æ€',
  `is_recommended` BOOLEAN DEFAULT FALSE COMMENT 'æ˜¯å¦æ¨èå±•ç¤º',
  `recommended_by` INT UNSIGNED DEFAULT NULL COMMENT 'æ¨èäººID',
  `recommended_at` DATETIME DEFAULT NULL COMMENT 'æ¨èæ—¶é—´',
  
  -- ç»Ÿè®¡
  `view_count` INT DEFAULT 0 COMMENT 'æµè§ˆæ¬¡æ•°',
  `download_count` INT DEFAULT 0 COMMENT 'ä¸‹è½½æ¬¡æ•°',
  `like_count` INT DEFAULT 0 COMMENT 'ç‚¹èµæ•°',
  
  -- æ—¶é—´æˆ³
  `created_at` DATETIME DEFAULT CURRENT_TIMESTAMP,
  `updated_at` DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `deleted_at` DATETIME DEFAULT NULL COMMENT 'è½¯åˆ é™¤',
  
  -- ç´¢å¼•
  INDEX `idx_upload_user` (`upload_user_id`),
  INDEX `idx_shoot_date` (`shoot_date`),
  INDEX `idx_activity_type` (`activity_type`),
  INDEX `idx_status` (`status`),
  INDEX `idx_class` (`class_id`),
  INDEX `idx_kindergarten` (`kindergarten_id`),
  INDEX `idx_created_at` (`created_at`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='ç…§ç‰‡ä¸»è¡¨';
```

### è¡¨2: photo_studentsï¼ˆç…§ç‰‡-å­¦ç”Ÿå…³è”è¡¨ï¼‰
```sql
CREATE TABLE `photo_students` (
  `id` INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
  `photo_id` INT UNSIGNED NOT NULL COMMENT 'ç…§ç‰‡ID',
  `student_id` INT UNSIGNED NOT NULL COMMENT 'å­¦ç”ŸID',
  
  -- äººè„¸è¯†åˆ«ä¿¡æ¯
  `confidence` FLOAT DEFAULT 0 COMMENT 'è¯†åˆ«ç½®ä¿¡åº¦(0-1)',
  `face_box` JSON DEFAULT NULL COMMENT 'äººè„¸åæ ‡{x,y,w,h}',
  `face_token` VARCHAR(255) DEFAULT NULL COMMENT 'ç™¾åº¦AIäººè„¸Token',
  
  -- ç¡®è®¤ä¿¡æ¯
  `confirmed_by` INT UNSIGNED DEFAULT NULL COMMENT 'ç¡®è®¤è€å¸ˆID',
  `confirmed_at` DATETIME DEFAULT NULL COMMENT 'ç¡®è®¤æ—¶é—´',
  `is_auto_tagged` BOOLEAN DEFAULT FALSE COMMENT 'æ˜¯å¦AIè‡ªåŠ¨æ ‡è®°',
  `is_primary` BOOLEAN DEFAULT FALSE COMMENT 'æ˜¯å¦ä¸»è§’ï¼ˆç…§ç‰‡ç„¦ç‚¹ï¼‰',
  
  -- å®¶é•¿æ“ä½œ
  `is_favorited` BOOLEAN DEFAULT FALSE COMMENT 'æ˜¯å¦è¢«å®¶é•¿æ”¶è—',
  `parent_note` TEXT DEFAULT NULL COMMENT 'å®¶é•¿å¤‡æ³¨',
  
  -- æ—¶é—´æˆ³
  `created_at` DATETIME DEFAULT CURRENT_TIMESTAMP,
  `updated_at` DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  
  -- ç´¢å¼•
  INDEX `idx_photo` (`photo_id`),
  INDEX `idx_student` (`student_id`),
  INDEX `idx_confidence` (`confidence`),
  UNIQUE KEY `uk_photo_student` (`photo_id`, `student_id`),
  
  FOREIGN KEY (`photo_id`) REFERENCES `photos`(`id`) ON DELETE CASCADE,
  FOREIGN KEY (`student_id`) REFERENCES `students`(`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='ç…§ç‰‡å­¦ç”Ÿå…³è”è¡¨';
```

### è¡¨3: student_face_libraryï¼ˆå­¦ç”Ÿäººè„¸åº“ï¼‰
```sql
CREATE TABLE `student_face_library` (
  `id` INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
  `student_id` INT UNSIGNED NOT NULL COMMENT 'å­¦ç”ŸID',
  `face_token` VARCHAR(255) NOT NULL COMMENT 'ç™¾åº¦AIäººè„¸Token',
  `reference_photo_url` VARCHAR(500) NOT NULL COMMENT 'å‚è€ƒç…§ç‰‡URL',
  `quality_score` FLOAT DEFAULT 0 COMMENT 'äººè„¸è´¨é‡è¯„åˆ†',
  
  -- å»ºæ¡£ä¿¡æ¯
  `created_by` INT UNSIGNED DEFAULT NULL COMMENT 'å»ºæ¡£è€å¸ˆID',
  `is_primary` BOOLEAN DEFAULT FALSE COMMENT 'æ˜¯å¦ä¸»è¦äººè„¸æ¨¡æ¿',
  `last_used_at` DATETIME DEFAULT NULL COMMENT 'æœ€ååŒ¹é…æ—¶é—´',
  `match_count` INT DEFAULT 0 COMMENT 'æˆåŠŸåŒ¹é…æ¬¡æ•°',
  
  -- æ—¶é—´æˆ³
  `created_at` DATETIME DEFAULT CURRENT_TIMESTAMP,
  `updated_at` DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  
  -- ç´¢å¼•
  INDEX `idx_student` (`student_id`),
  INDEX `idx_face_token` (`face_token`),
  UNIQUE KEY `uk_student_token` (`student_id`, `face_token`),
  
  FOREIGN KEY (`student_id`) REFERENCES `students`(`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='å­¦ç”Ÿäººè„¸åº“';
```

### è¡¨4: photo_albumsï¼ˆç›¸å†Œé›†åˆï¼‰
```sql
CREATE TABLE `photo_albums` (
  `id` INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
  `name` VARCHAR(100) NOT NULL COMMENT 'ç›¸å†Œåç§°',
  `type` ENUM('activity', 'monthly', 'yearly', 'custom') DEFAULT 'activity' COMMENT 'ç›¸å†Œç±»å‹',
  `cover_photo_id` INT UNSIGNED DEFAULT NULL COMMENT 'å°é¢ç…§ç‰‡ID',
  
  -- å½’å±ä¿¡æ¯
  `class_id` INT UNSIGNED DEFAULT NULL COMMENT 'ç­çº§ID',
  `kindergarten_id` INT UNSIGNED DEFAULT NULL COMMENT 'å¹¼å„¿å›­ID',
  `created_by` INT UNSIGNED NOT NULL COMMENT 'åˆ›å»ºäººID',
  
  -- ç›¸å†Œä¿¡æ¯
  `description` TEXT DEFAULT NULL COMMENT 'ç›¸å†Œæè¿°',
  `photo_count` INT DEFAULT 0 COMMENT 'ç…§ç‰‡æ•°é‡',
  `start_date` DATE DEFAULT NULL COMMENT 'å¼€å§‹æ—¥æœŸ',
  `end_date` DATE DEFAULT NULL COMMENT 'ç»“æŸæ—¥æœŸ',
  
  -- æƒé™
  `is_public` BOOLEAN DEFAULT FALSE COMMENT 'æ˜¯å¦å…¬å¼€',
  `sort_order` INT DEFAULT 0 COMMENT 'æ’åº',
  
  -- æ—¶é—´æˆ³
  `created_at` DATETIME DEFAULT CURRENT_TIMESTAMP,
  `updated_at` DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `deleted_at` DATETIME DEFAULT NULL,
  
  INDEX `idx_class` (`class_id`),
  INDEX `idx_type` (`type`),
  INDEX `idx_created_by` (`created_by`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='ç›¸å†Œé›†åˆè¡¨';
```

### è¡¨5: photo_album_itemsï¼ˆç›¸å†Œç…§ç‰‡å…³è”ï¼‰
```sql
CREATE TABLE `photo_album_items` (
  `id` INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
  `album_id` INT UNSIGNED NOT NULL COMMENT 'ç›¸å†ŒID',
  `photo_id` INT UNSIGNED NOT NULL COMMENT 'ç…§ç‰‡ID',
  `sort_order` INT DEFAULT 0 COMMENT 'æ’åº',
  `added_at` DATETIME DEFAULT CURRENT_TIMESTAMP,
  
  INDEX `idx_album` (`album_id`),
  INDEX `idx_photo` (`photo_id`),
  UNIQUE KEY `uk_album_photo` (`album_id`, `photo_id`),
  
  FOREIGN KEY (`album_id`) REFERENCES `photo_albums`(`id`) ON DELETE CASCADE,
  FOREIGN KEY (`photo_id`) REFERENCES `photos`(`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='ç›¸å†Œç…§ç‰‡å…³è”è¡¨';
```

### è¡¨6: photo_videosï¼ˆç”Ÿæˆçš„è§†é¢‘ï¼‰
```sql
CREATE TABLE `photo_videos` (
  `id` INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
  `user_id` INT UNSIGNED NOT NULL COMMENT 'åˆ›å»ºç”¨æˆ·ID',
  `student_id` INT UNSIGNED DEFAULT NULL COMMENT 'å…³è”å­¦ç”ŸID',
  `video_url` VARCHAR(500) DEFAULT NULL COMMENT 'è§†é¢‘URL',
  `cover_url` VARCHAR(500) DEFAULT NULL COMMENT 'å°é¢URL',
  
  -- è§†é¢‘ä¿¡æ¯
  `title` VARCHAR(100) DEFAULT NULL COMMENT 'è§†é¢‘æ ‡é¢˜',
  `duration` INT DEFAULT 0 COMMENT 'æ—¶é•¿ï¼ˆç§’ï¼‰',
  `photo_count` INT DEFAULT 0 COMMENT 'ç…§ç‰‡æ•°é‡',
  `music_name` VARCHAR(100) DEFAULT NULL COMMENT 'é…ä¹åç§°',
  
  -- ç”Ÿæˆå‚æ•°
  `date_range_start` DATE DEFAULT NULL COMMENT 'ç…§ç‰‡æ—¶é—´èŒƒå›´å¼€å§‹',
  `date_range_end` DATE DEFAULT NULL COMMENT 'ç…§ç‰‡æ—¶é—´èŒƒå›´ç»“æŸ',
  `template_type` VARCHAR(50) DEFAULT NULL COMMENT 'æ¨¡æ¿ç±»å‹',
  
  -- ä»»åŠ¡çŠ¶æ€
  `status` ENUM('pending', 'processing', 'completed', 'failed') DEFAULT 'pending',
  `progress` INT DEFAULT 0 COMMENT 'æ¸²æŸ“è¿›åº¦(0-100)',
  `error_message` TEXT DEFAULT NULL COMMENT 'é”™è¯¯ä¿¡æ¯',
  
  -- ç»Ÿè®¡
  `view_count` INT DEFAULT 0 COMMENT 'è§‚çœ‹æ¬¡æ•°',
  `download_count` INT DEFAULT 0 COMMENT 'ä¸‹è½½æ¬¡æ•°',
  
  -- æ—¶é—´æˆ³
  `created_at` DATETIME DEFAULT CURRENT_TIMESTAMP,
  `completed_at` DATETIME DEFAULT NULL COMMENT 'å®Œæˆæ—¶é—´',
  `updated_at` DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  
  INDEX `idx_user` (`user_id`),
  INDEX `idx_student` (`student_id`),
  INDEX `idx_status` (`status`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='ç”Ÿæˆçš„è§†é¢‘è¡¨';
```

---

## ğŸ”Œ APIæ¥å£è®¾è®¡

### æ•™å¸ˆç«¯API

#### 1. æ‰¹é‡ä¸Šä¼ ç…§ç‰‡
```typescript
POST /api/photos/upload
Content-Type: multipart/form-data

Request:
{
  files: File[],              // ç…§ç‰‡æ–‡ä»¶æ•°ç»„
  activityType?: string,      // æ´»åŠ¨ç±»å‹
  activityName?: string,      // æ´»åŠ¨åç§°
  shootDate?: string,         // æ‹æ‘„æ—¥æœŸ
  classId?: number,           // ç­çº§ID
  description?: string        // æè¿°
}

Response:
{
  success: true,
  data: {
    uploaded: [
      {
        photoId: 1,
        fileUrl: "https://oss.../photo1.jpg",
        thumbnailUrl: "https://oss.../photo1_thumb.jpg",
        faceCount: 3,
        aiTaskId: "task_xxx"  // AIè¯†åˆ«ä»»åŠ¡ID
      }
    ],
    failed: []
  }
}
```

#### 2. è·å–AIè¯†åˆ«ç»“æœ
```typescript
GET /api/photos/:photoId/face-detection

Response:
{
  success: true,
  data: {
    photoId: 1,
    faces: [
      {
        faceId: "face_1",
        faceBox: {x: 100, y: 50, w: 200, h: 200},
        candidates: [
          {studentId: 1, name: "å¼ å°æ˜", confidence: 0.95},
          {studentId: 5, name: "æå°çº¢", confidence: 0.82},
          {studentId: 9, name: "ç‹å°åˆš", confidence: 0.75}
        ]
      },
      {
        faceId: "face_2",
        faceBox: {x: 400, y: 80, w: 180, h: 180},
        candidates: [...]
      }
    ],
    processStatus: "completed"
  }
}
```

#### 3. ç¡®è®¤ç…§ç‰‡æ ‡è®°
```typescript
POST /api/photos/:photoId/tag-students

Request:
{
  tags: [
    {
      faceId: "face_1",
      studentId: 1,
      isPrimary: true
    },
    {
      faceId: "face_2",
      studentId: 5,
      isPrimary: false
    }
  ],
  isClassPhoto: false  // æ˜¯å¦å…¨ç­ç…§ç‰‡
}

Response:
{
  success: true,
  data: {
    photoId: 1,
    taggedCount: 2,
    notifiedParents: [8, 12]  // å·²é€šçŸ¥çš„å®¶é•¿ID
  }
}
```

#### 4. æ‰¹é‡æ ‡è®°ï¼ˆå…¨ç­æŒ‰é’®ï¼‰
```typescript
POST /api/photos/:photoId/tag-all-class

Request:
{
  classId: 5
}

Response:
{
  success: true,
  data: {
    photoId: 1,
    studentIds: [1,2,3,4,5,6,7,8,9,10],  // å…¨ç­å­¦ç”Ÿ
    notifiedParents: 20
  }
}
```

---

### å®¶é•¿ç«¯API

#### 5. è·å–å­©å­ç›¸å†Œæ—¶é—´è½´
```typescript
GET /api/photos/my-child/:childId/timeline

Query Parameters:
{
  page: 1,
  pageSize: 20,
  startDate?: "2025-01-01",
  endDate?: "2025-12-31",
  activityType?: "outdoor",
  onlyFavorite?: false
}

Response:
{
  success: true,
  data: {
    total: 156,
    photos: [
      {
        id: 1,
        url: "https://oss.../photo1.jpg",
        thumbnailUrl: "https://oss.../photo1_thumb.jpg",
        shootDate: "2025-11-03",
        activityType: "outdoor",
        activityName: "ç§‹æ¸¸æ´»åŠ¨",
        isFavorited: false,
        isPrimary: true,  // å­©å­æ˜¯å¦æ˜¯ä¸»è§’
        teacherName: "å¼ è€å¸ˆ"
      }
    ],
    groupedByDate: {
      "2025-11-03": [/* å½“å¤©ç…§ç‰‡ */],
      "2025-11-01": [/* å½“å¤©ç…§ç‰‡ */]
    }
  }
}
```

#### 6. ç”Ÿæˆé…ä¹è§†é¢‘
```typescript
POST /api/photos/generate-video

Request:
{
  studentId: 2067,
  photoIds?: [1,2,3,4,5],  // æŒ‡å®šç…§ç‰‡ï¼Œæˆ–æŒ‰æ—¶é—´èŒƒå›´
  dateRange?: {
    start: "2025-09-01",
    end: "2025-11-30"
  },
  musicType?: "sweet",      // é…ä¹ç±»å‹
  title?: "å®å®çš„ç§‹å¤©",
  includeSubtitles: true
}

Response:
{
  success: true,
  data: {
    videoId: 1,
    status: "processing",
    progress: 0,
    estimatedTime: 180  // é¢„è®¡3åˆ†é’Ÿ
  }
}
```

#### 7. æŸ¥è¯¢è§†é¢‘ç”Ÿæˆè¿›åº¦
```typescript
GET /api/photos/videos/:videoId/progress

Response:
{
  success: true,
  data: {
    videoId: 1,
    status: "processing",  // pending/processing/completed/failed
    progress: 65,          // 0-100
    currentStep: "æ·»åŠ é…ä¹",
    videoUrl: null,        // completedåæ‰æœ‰
    estimatedRemaining: 60 // å‰©ä½™ç§’æ•°
  }
}
```

---

### å›­é•¿ç«¯API

#### 8. è·å–ä¼˜è´¨ç…§ç‰‡æ¨èåˆ—è¡¨
```typescript
GET /api/photos/recommended

Query Parameters:
{
  page: 1,
  pageSize: 20,
  minScore?: 80,  // æœ€ä½è¯„åˆ†
  classId?: number
}

Response:
{
  success: true,
  data: {
    photos: [
      {
        id: 1,
        url: "...",
        qualityScore: 95,
        likeCount: 28,
        recommendedBy: "æè€å¸ˆ",
        description: "è¿åŠ¨ä¼šç²¾å½©ç¬é—´"
      }
    ]
  }
}
```

#### 9. ç…§ç‰‡æ•°æ®ç»Ÿè®¡
```typescript
GET /api/photos/statistics

Query Parameters:
{
  startDate: "2025-01-01",
  endDate: "2025-12-31",
  kindergartenId?: number
}

Response:
{
  success: true,
  data: {
    totalPhotos: 15680,
    thisMonthUploaded: 1520,
    totalStorage: "32.5GB",
    avgQualityScore: 82,
    
    uploadTrend: [
      {date: "2025-11", count: 1520},
      {date: "2025-10", count: 1380}
    ],
    
    classRanking: [
      {classId: 1, className: "å¤§ä¸€ç­", photoCount: 580, teacher: "å¼ è€å¸ˆ"},
      {classId: 2, className: "å¤§äºŒç­", photoCount: 520, teacher: "æè€å¸ˆ"}
    ],
    
    activityDistribution: {
      "outdoor": 4500,
      "indoor": 3200,
      "handcraft": 2800
    }
  }
}
```

---

## ğŸ¤– äººè„¸è¯†åˆ«æŠ€æœ¯æ–¹æ¡ˆ

### æŠ€æœ¯é€‰å‹ï¼šç™¾åº¦AIäººè„¸è¯†åˆ«

**å®˜æ–¹æ–‡æ¡£ï¼š** https://ai.baidu.com/ai-doc/FACE/yk37c1u4t

**é€‰æ‹©ç†ç”±ï¼š**
- âœ… å…è´¹é¢åº¦ï¼š50ä¸‡æ¬¡/å¹´ï¼ˆå¤Ÿç”¨8-10å¹´ï¼‰
- âœ… å‡†ç¡®ç‡é«˜ï¼šå„¿ç«¥è¯†åˆ«å‡†ç¡®ç‡>90%
- âœ… æ¥å…¥ç®€å•ï¼šRESTful APIï¼Œ1å¤©æ¥å…¥
- âœ… æ–‡æ¡£å®Œå–„ï¼šä¸­æ–‡æ–‡æ¡£ï¼Œç¤ºä¾‹ä¸°å¯Œ
- âœ… ä¸ªäººå¯ç”¨ï¼šæ— éœ€ä¼ä¸šè®¤è¯

---

### æ ¸å¿ƒAPIè¯´æ˜

#### API 1: äººè„¸æ³¨å†Œï¼ˆå»ºæ¡£ï¼‰
```typescript
// ç™¾åº¦APIæ¥å£ï¼ˆé¢„ç•™ï¼‰
POST https://aip.baidubce.com/rest/2.0/face/v3/faceset/user/add

Request:
{
  image: "base64å›¾ç‰‡" æˆ– "å›¾ç‰‡URL",
  image_type: "URL",
  group_id: "kindergarten_students",  // äººè„¸åº“ID
  user_id: "student_2067",            // å­¦ç”Ÿå”¯ä¸€æ ‡è¯†
  user_info: "å¼ å°æ˜|å¤§ä¸€ç­",
  quality_control: "NORMAL",
  liveness_control: "NONE"
}

Response:
{
  error_code: 0,
  error_msg: "SUCCESS",
  result: {
    face_token: "35235asfas21421...",
    location: {
      left: 117, top: 131, width: 172, height: 170
    }
  }
}

// æˆ‘ä»¬çš„Serviceå°è£…ï¼ˆé¢„ç•™æ¥å£ï¼‰
async registerStudentFace(
  studentId: number,
  photoUrl: string
): Promise<{faceToken: string, quality: number}>
```

#### API 2: äººè„¸æœç´¢ï¼ˆè¯†åˆ«ï¼‰
```typescript
// ç™¾åº¦APIæ¥å£ï¼ˆé¢„ç•™ï¼‰
POST https://aip.baidubce.com/rest/2.0/face/v3/search

Request:
{
  image: "å›¾ç‰‡URL",
  image_type: "URL",
  group_id_list: "kindergarten_students",
  max_face_num: 10,        // æœ€å¤šæ£€æµ‹10å¼ è„¸
  max_user_num: 3,         // æ¯å¼ è„¸è¿”å›Top3
  match_threshold: 75      // ç½®ä¿¡åº¦é˜ˆå€¼
}

Response:
{
  error_code: 0,
  error_msg: "SUCCESS",
  result: {
    face_num: 2,
    face_list: [
      {
        face_token: "...",
        location: {left: 100, top: 50, width: 200, height: 200},
        user_list: [
          {
            user_id: "student_2067",
            user_info: "å¼ å°æ˜|å¤§ä¸€ç­",
            score: 95.5  // ç½®ä¿¡åº¦
          },
          {
            user_id: "student_2070",
            user_info: "æå°çº¢|å¤§ä¸€ç­",
            score: 82.3
          }
        ]
      }
    ]
  }
}

// æˆ‘ä»¬çš„Serviceå°è£…ï¼ˆé¢„ç•™æ¥å£ï¼‰
async searchFacesInPhoto(
  photoUrl: string
): Promise<Array<{
  faceBox: {x,y,w,h},
  students: Array<{id, name, confidence}>
}>>
```

#### API 3: äººè„¸å¯¹æ¯”ï¼ˆå¯é€‰ï¼‰
```typescript
// ç”¨äºäººè„¸åº“è´¨é‡éªŒè¯
POST https://aip.baidubce.com/rest/2.0/face/v3/match

Request:
{
  image: "å›¾ç‰‡URL1",
  image_type: "URL",
  face_token: "å·²æ³¨å†Œçš„face_token"
}

Response:
{
  error_code: 0,
  result: {
    score: 88.5,  // ç›¸ä¼¼åº¦
    face_list: [...]
  }
}
```

---

### ç™¾åº¦AI Serviceå®ç°ï¼ˆé¢„ç•™æ¥å£ï¼‰

```typescript
// /server/src/services/baidu-face.service.ts

export class BaiduFaceService {
  private apiKey: string;
  private secretKey: string;
  private accessToken: string;
  private groupId: string = 'kindergarten_students';

  constructor() {
    this.apiKey = process.env.BAIDU_FACE_API_KEY || '';
    this.secretKey = process.env.BAIDU_FACE_SECRET_KEY || '';
    // åˆå§‹åŒ–æ—¶è·å–access_token
  }

  /**
   * è·å–Access Tokenï¼ˆé¢„ç•™ï¼‰
   */
  async getAccessToken(): Promise<string> {
    // è°ƒç”¨ç™¾åº¦OAuthæ¥å£è·å–token
    // https://aip.baidubce.com/oauth/2.0/token
  }

  /**
   * æ³¨å†Œå­¦ç”Ÿäººè„¸ï¼ˆé¢„ç•™ï¼‰
   */
  async registerStudentFace(
    studentId: number,
    photoUrl: string,
    studentInfo: {name: string, className: string}
  ): Promise<{faceToken: string, quality: number}> {
    // å®ç°ï¼šè°ƒç”¨ç™¾åº¦faceset/user/addæ¥å£
  }

  /**
   * æœç´¢ç…§ç‰‡ä¸­çš„äººè„¸ï¼ˆé¢„ç•™ï¼‰
   */
  async searchFacesInPhoto(
    photoUrl: string,
    options?: {
      maxFaces?: number,
      matchThreshold?: number
    }
  ): Promise<Array<FaceSearchResult>> {
    // å®ç°ï¼šè°ƒç”¨ç™¾åº¦face/v3/searchæ¥å£
  }

  /**
   * æ‰¹é‡æ³¨å†Œï¼ˆé¢„ç•™ï¼‰
   */
  async batchRegisterFaces(
    students: Array<{
      studentId: number,
      photoUrls: string[],
      info: {name, className}
    }>
  ): Promise<{success: number, failed: number}> {
    // å®ç°ï¼šé˜Ÿåˆ—æ‰¹é‡å¤„ç†
  }

  /**
   * æ›´æ–°äººè„¸åº“ï¼ˆé¢„ç•™ï¼‰
   */
  async updateStudentFace(
    studentId: number,
    oldFaceToken: string,
    newPhotoUrl: string
  ): Promise<boolean> {
    // å®ç°ï¼šåˆ é™¤æ—§çš„ï¼Œæ·»åŠ æ–°çš„
  }

  /**
   * åˆ é™¤äººè„¸ï¼ˆé¢„ç•™ï¼‰
   */
  async deleteStudentFace(
    studentId: number,
    faceToken: string
  ): Promise<boolean> {
    // å®ç°ï¼šè°ƒç”¨ç™¾åº¦faceset/user/deleteæ¥å£
  }
}
```


---

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### ç³»ç»Ÿæ¶æ„å›¾

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   å‰ç«¯ä¸‰ç«¯       â”‚
                    â”‚ å®¶é•¿/æ•™å¸ˆ/å›­é•¿   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Node.jsåç«¯   â”‚
                    â”‚   Express API   â”‚
                    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”˜
                         â”‚    â”‚   â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                     â”‚                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
â”‚  é˜¿é‡Œäº‘OSS     â”‚  â”‚   ç™¾åº¦AIäººè„¸    â”‚  â”‚   MySQL    â”‚
â”‚  (ç…§ç‰‡å­˜å‚¨)    â”‚  â”‚   è¯†åˆ«æœåŠ¡      â”‚  â”‚  (å…ƒæ•°æ®)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   é˜¿é‡Œäº‘CDN    â”‚
â”‚   (åŠ é€Ÿè®¿é—®)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æŠ€æœ¯æ ˆ

**å‰ç«¯ï¼š**
- Vue 3 + TypeScript
- Element Plusï¼ˆPCç«¯ï¼‰
- Vant UIï¼ˆç§»åŠ¨ç«¯ï¼‰
- EChartsï¼ˆæ•°æ®ç»Ÿè®¡ï¼‰

**åç«¯ï¼š**
- Node.js + TypeScript
- Express + Sequelize ORM
- Bullé˜Ÿåˆ—ï¼ˆå¼‚æ­¥ä»»åŠ¡ï¼‰
- FFmpegï¼ˆè§†é¢‘ç”Ÿæˆï¼‰

**å­˜å‚¨ï¼š**
- é˜¿é‡Œäº‘OSSï¼ˆç…§ç‰‡æ–‡ä»¶ï¼‰
- MySQLï¼ˆå…ƒæ•°æ®ï¼‰
- Redisï¼ˆç¼“å­˜ï¼‰

**AIæœåŠ¡ï¼š**
- ç™¾åº¦AIäººè„¸è¯†åˆ«
- ç™¾åº¦AIå›¾åƒè´¨é‡è¯„ä¼°ï¼ˆå¯é€‰ï¼‰

---

## ğŸ“ æŠ€æœ¯å®ç°ç»†èŠ‚

### 1. ç…§ç‰‡ä¸Šä¼ æµç¨‹

```
æ•™å¸ˆä¸Šä¼  â†’ å‰ç«¯é¢„å¤„ç† â†’ åç«¯æ¥æ”¶ â†’ OSSå­˜å‚¨ â†’ å¼‚æ­¥AIè¯†åˆ«

è¯¦ç»†æµç¨‹ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. å‰ç«¯ï¼š                                        â”‚
â”‚    - ç”¨æˆ·é€‰æ‹©ç…§ç‰‡ï¼ˆæ”¯æŒå¤šé€‰ï¼‰                    â”‚
â”‚    - å‰ç«¯å‹ç¼©ï¼ˆmax 2MBï¼‰                        â”‚
â”‚    - æ˜¾ç¤ºä¸Šä¼ è¿›åº¦æ¡                              â”‚
â”‚                                                  â”‚
â”‚ 2. åç«¯æ¥æ”¶ï¼š                                    â”‚
â”‚    - Multeræ¥æ”¶æ–‡ä»¶                             â”‚
â”‚    - å†æ¬¡å‹ç¼©ä¼˜åŒ–ï¼ˆSharpï¼‰                      â”‚
â”‚    - ç”Ÿæˆç¼©ç•¥å›¾ï¼ˆ400x400ï¼‰                      â”‚
â”‚                                                  â”‚
â”‚ 3. OSSå­˜å‚¨ï¼š                                     â”‚
â”‚    - ä¸Šä¼ åŸå›¾åˆ° photos/YYYY/MM/DD/uuid.jpg     â”‚
â”‚    - ä¸Šä¼ ç¼©ç•¥å›¾åˆ° photos/thumbnails/uuid.jpg   â”‚
â”‚    - è·å¾—å…¬ç½‘URL                                â”‚
â”‚                                                  â”‚
â”‚ 4. æ•°æ®åº“è®°å½•ï¼š                                  â”‚
â”‚    - æ’å…¥photosè¡¨                               â”‚
â”‚    - çŠ¶æ€è®¾ä¸ºpending                            â”‚
â”‚                                                  â”‚
â”‚ 5. å¼‚æ­¥AIè¯†åˆ«ï¼š                                  â”‚
â”‚    - æ·»åŠ åˆ°Bullé˜Ÿåˆ—                             â”‚
â”‚    - Workerå¤„ç†ï¼šè°ƒç”¨ç™¾åº¦AI                     â”‚
â”‚    - è¿”å›è¯†åˆ«ç»“æœ                                â”‚
â”‚    - æ›´æ–°æ•°æ®åº“çŠ¶æ€ä¸ºtagged                     â”‚
â”‚    - WebSocketæ¨é€ç»“æœç»™å‰ç«¯                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. äººè„¸è¯†åˆ«ä¼˜åŒ–ç­–ç•¥

```typescript
// QPSé™æµç­–ç•¥ï¼ˆåº”å¯¹ç™¾åº¦API 2æ¬¡/ç§’é™åˆ¶ï¼‰
class FaceRecognitionQueue {
  private queue: Bull.Queue;
  
  constructor() {
    this.queue = new Bull('face-recognition', {
      redis: redisConfig,
      limiter: {
        max: 2,        // æ¯ç§’æœ€å¤š2ä¸ªä»»åŠ¡
        duration: 1000 // 1ç§’
      }
    });
  }

  async addPhotoToQueue(photoId: number, photoUrl: string) {
    await this.queue.add({
      photoId,
      photoUrl,
      retryCount: 0
    }, {
      attempts: 3,           // å¤±è´¥é‡è¯•3æ¬¡
      backoff: {
        type: 'exponential',
        delay: 2000
      }
    });
  }
}

// è¯†åˆ«ç»“æœç¼“å­˜ï¼ˆé¿å…é‡å¤è¯†åˆ«ï¼‰
async searchFace(photoUrl: string): Promise<FaceResult> {
  // 1. æ£€æŸ¥ç¼“å­˜
  const cached = await redis.get(`face:${photoUrl}`);
  if (cached) return JSON.parse(cached);
  
  // 2. è°ƒç”¨ç™¾åº¦API
  const result = await baiduFaceAPI.search(photoUrl);
  
  // 3. ç¼“å­˜ç»“æœï¼ˆ7å¤©ï¼‰
  await redis.setex(`face:${photoUrl}`, 7*24*3600, JSON.stringify(result));
  
  return result;
}
```

### 3. äººè„¸åº“å»ºæ¡£æ–¹æ¡ˆ

```
å»ºæ¡£æ—¶æœºï¼š
â”œâ”€ æ–°ç”Ÿå…¥å­¦æ—¶ï¼šæ‹æ‘„3-5å¼ æ¸…æ™°ç…§ç‰‡
â”œâ”€ æ¯å­¦æœŸåˆï¼šæ›´æ–°ç…§ç‰‡ï¼ˆé€‚åº”æˆé•¿å˜åŒ–ï¼‰
â””â”€ æ‰‹åŠ¨è¡¥å……ï¼šè¯†åˆ«å¤±è´¥æ—¶è€å¸ˆæ·»åŠ 

å»ºæ¡£è¦æ±‚ï¼š
â”œâ”€ ç…§ç‰‡è´¨é‡ï¼šæ¸…æ™°ã€æ­£é¢ã€å…‰çº¿å……è¶³
â”œâ”€ æ•°é‡ï¼šæ¯ä¸ªå­¦ç”Ÿè‡³å°‘3å¼ ï¼ˆä¸åŒè§’åº¦ï¼‰
â”œâ”€ æ›´æ–°é¢‘ç‡ï¼šæ¯å­¦æœŸ1æ¬¡

å®ç°æ¥å£ï¼ˆé¢„ç•™ï¼‰ï¼š
POST /api/students/:studentId/register-faces
{
  photoUrls: ["url1", "url2", "url3"]
}
```

### 4. è§†é¢‘ç”ŸæˆæŠ€æœ¯æ–¹æ¡ˆ

```bash
# FFmpegå‘½ä»¤ç¤ºä¾‹
ffmpeg -y \
  -loop 1 -t 3 -i photo1.jpg \
  -loop 1 -t 3 -i photo2.jpg \
  -loop 1 -t 3 -i photo3.jpg \
  -i music.mp3 \
  -filter_complex "\
    [0:v]scale=1920:1080:force_original_aspect_ratio=decrease,\
         pad=1920:1080:(ow-iw)/2:(oh-ih)/2,\
         fade=t=in:st=0:d=0.5,fade=t=out:st=2.5:d=0.5[v0];\
    [1:v]scale=1920:1080:force_original_aspect_ratio=decrease,\
         pad=1920:1080:(ow-iw)/2:(oh-ih)/2,\
         fade=t=in:st=0:d=0.5,fade=t=out:st=2.5:d=0.5[v1];\
    [2:v]scale=1920:1080:force_original_aspect_ratio=decrease,\
         pad=1920:1080:(ow-iw)/2:(oh-ih)/2,\
         fade=t=in:st=0:d=0.5,fade=t=out:st=2.5:d=0.5[v2];\
    [v0][v1][v2]concat=n=3:v=1:a=0[vout]" \
  -map "[vout]" -map 3:a \
  -c:v libx264 -preset medium -crf 23 \
  -c:a aac -b:a 128k \
  -shortest \
  output.mp4
```

```typescript
// è§†é¢‘ç”ŸæˆServiceï¼ˆé¢„ç•™æ¥å£ï¼‰
class VideoGenerationService {
  async generateVideo(
    photos: string[],
    musicPath: string,
    options: {
      title?: string,
      duration?: number,  // æ¯å¼ ç…§ç‰‡æ—¶é•¿
      transition?: string // è¿‡æ¸¡æ•ˆæœ
    }
  ): Promise<{videoUrl: string}> {
    // 1. åˆ›å»ºä»»åŠ¡
    const taskId = await this.createTask(photos.length);
    
    // 2. æ·»åŠ åˆ°é˜Ÿåˆ—
    await videoQueue.add({taskId, photos, musicPath, options});
    
    // 3. è¿”å›ä»»åŠ¡ID
    return {taskId, status: 'pending'};
  }
}
```

---

## ğŸ¨ å‰ç«¯UIè®¾è®¡

### æ•™å¸ˆç«¯ - ä¸Šä¼ é¡µé¢

```vue
<!-- /client/src/pages/teacher-center/photo-album/upload.vue -->

<template>
  <div class="photo-upload-page">
    <!-- é¡¶éƒ¨ä¿¡æ¯æ  -->
    <el-row class="header">
      <el-col :span="12">
        <h2>ğŸ“¸ æ‰¹é‡ä¸Šä¼ ç…§ç‰‡</h2>
      </el-col>
      <el-col :span="12" class="text-right">
        <el-tag>å·²ä¸Šä¼  {{ uploadedCount }}/{{ totalCount }}</el-tag>
      </el-col>
    </el-row>

    <!-- æ´»åŠ¨ä¿¡æ¯ -->
    <el-card class="activity-info">
      <el-form :model="form" label-width="100px">
        <el-form-item label="æ´»åŠ¨ç±»å‹">
          <el-select v-model="form.activityType">
            <el-option label="æˆ·å¤–æ´»åŠ¨" value="outdoor" />
            <el-option label="æ‰‹å·¥è¯¾" value="handcraft" />
            <el-option label="è¿åŠ¨ä¼š" value="sports" />
          </el-select>
        </el-form-item>
        <el-form-item label="æ‹æ‘„æ—¥æœŸ">
          <el-date-picker v-model="form.shootDate" />
        </el-form-item>
      </el-form>
    </el-card>

    <!-- æ‹–æ‹½ä¸Šä¼ åŒºåŸŸ -->
    <el-upload
      drag
      multiple
      :auto-upload="false"
      :on-change="handleFileSelect"
      accept="image/*"
    >
      <el-icon><upload-filled /></el-icon>
      <div>æ‹–æ‹½ç…§ç‰‡åˆ°æ­¤å¤„ï¼Œæˆ–ç‚¹å‡»é€‰æ‹©</div>
      <template #tip>
        <div class="upload-tip">æ”¯æŒJPG/PNGï¼Œå•å¼ ä¸è¶…è¿‡10MB</div>
      </template>
    </el-upload>

    <!-- ç…§ç‰‡é¢„è§ˆåˆ—è¡¨ -->
    <div class="photo-list">
      <div v-for="photo in photos" :key="photo.id" class="photo-item">
        <img :src="photo.preview" />
        
        <!-- AIè¯†åˆ«ç»“æœè¦†ç›–å±‚ -->
        <div v-if="photo.aiResult" class="ai-overlay">
          <div v-for="face in photo.aiResult.faces" 
               :key="face.faceId"
               class="face-box"
               :style="getFaceBoxStyle(face.faceBox)">
            
            <!-- è¯†åˆ«æ¨èåˆ—è¡¨ -->
            <div class="candidates">
              <div v-for="student in face.candidates" 
                   :key="student.studentId"
                   class="candidate-item"
                   :class="{confirmed: student.confirmed}">
                <span>{{ student.name }}</span>
                <el-tag :type="getConfidenceType(student.confidence)">
                  {{ (student.confidence * 100).toFixed(0) }}%
                </el-tag>
                <el-button size="small" @click="confirmTag(photo.id, face.faceId, student.studentId)">
                  ç¡®è®¤
                </el-button>
              </div>
            </div>
          </div>
        </div>

        <!-- æ“ä½œæŒ‰é’® -->
        <div class="actions">
          <el-button @click="tagAsClassPhoto(photo.id)">
            å…¨ç­
          </el-button>
          <el-button @click="skipPhoto(photo.id)">
            è·³è¿‡
          </el-button>
        </div>
      </div>
    </div>

    <!-- åº•éƒ¨æ“ä½œ -->
    <el-row class="footer">
      <el-button type="primary" @click="submitAll">
        ç¡®è®¤ä¸Šä¼  ({{ confirmedCount }}/{{ totalCount }})
      </el-button>
    </el-row>
  </div>
</template>
```

### å®¶é•¿ç«¯ - æ—¶é—´è½´é¡µé¢

```vue
<!-- /client/src/pages/parent-center/photo-album/timeline.vue -->

<template>
  <div class="photo-timeline-page">
    <!-- é¡¶éƒ¨æ“ä½œæ  -->
    <div class="header">
      <h2>ğŸ“· {{ childName }}çš„æˆé•¿ç›¸å†Œ</h2>
      <div class="actions">
        <el-button type="primary" @click="generateVideo">
          ğŸ¬ ç”Ÿæˆé…ä¹è§†é¢‘
        </el-button>
        <el-button @click="showFilter = !showFilter">
          ç­›é€‰
        </el-button>
      </div>
    </div>

    <!-- ç­›é€‰å™¨ -->
    <el-card v-if="showFilter" class="filter-card">
      <el-form inline>
        <el-form-item label="æ—¶é—´èŒƒå›´">
          <el-date-picker 
            v-model="dateRange" 
            type="daterange"
            range-separator="-"
          />
        </el-form-item>
        <el-form-item label="æ´»åŠ¨ç±»å‹">
          <el-select v-model="activityType" clearable>
            <el-option label="å…¨éƒ¨" value="" />
            <el-option label="æˆ·å¤–æ´»åŠ¨" value="outdoor" />
            <el-option label="æ‰‹å·¥è¯¾" value="handcraft" />
          </el-select>
        </el-form-item>
      </el-form>
    </el-card>

    <!-- æ—¶é—´è½´å±•ç¤º -->
    <div class="timeline">
      <div v-for="group in photoGroups" :key="group.date" class="timeline-group">
        <div class="date-header">
          <span class="date">{{ group.date }}</span>
          <span class="activity">{{ group.activityName }}</span>
          <el-tag>{{ group.photos.length }}å¼ </el-tag>
        </div>

        <!-- ç…§ç‰‡ç½‘æ ¼ -->
        <div class="photo-grid">
          <div v-for="photo in group.photos.slice(0, 4)" 
               :key="photo.id"
               class="photo-card"
               @click="viewPhoto(photo)">
            <el-image 
              :src="photo.thumbnailUrl" 
              :preview-src-list="getPhotoUrls(group.photos)"
              fit="cover"
              lazy
            >
              <template #placeholder>
                <div class="image-loading">åŠ è½½ä¸­...</div>
              </template>
            </el-image>
            
            <!-- ä¸»è§’æ ‡è®° -->
            <el-tag v-if="photo.isPrimary" class="primary-tag" type="success">
              ä¸»è§’
            </el-tag>
            
            <!-- æ”¶è—æŒ‰é’® -->
            <el-icon class="favorite-icon" 
                     :class="{favorited: photo.isFavorited}"
                     @click.stop="toggleFavorite(photo.id)">
              <star-filled v-if="photo.isFavorited" />
              <star v-else />
            </el-icon>
          </div>

          <!-- æ›´å¤šç…§ç‰‡æç¤º -->
          <div v-if="group.photos.length > 4" 
               class="more-photos"
               @click="viewAllPhotos(group.date)">
            <span>+{{ group.photos.length - 4 }}</span>
          </div>
        </div>
      </div>
    </div>

    <!-- åŠ è½½æ›´å¤š -->
    <div v-if="hasMore" class="load-more">
      <el-button @click="loadMore">åŠ è½½æ›´å¤š</el-button>
    </div>
  </div>
</template>
```

### å›­é•¿ç«¯ - ç»Ÿè®¡é¡µé¢

```vue
<!-- /client/src/pages/centers/photo-statistics.vue -->

<template>
  <div class="photo-statistics-page">
    <!-- æ•°æ®æ¦‚è§ˆå¡ç‰‡ -->
    <el-row :gutter="20" class="stats-cards">
      <el-col :span="6">
        <el-card>
          <div class="stat-item">
            <div class="icon">ğŸ“¸</div>
            <div class="value">{{ stats.totalPhotos }}</div>
            <div class="label">ç…§ç‰‡æ€»æ•°</div>
          </div>
        </el-card>
      </el-col>
      
      <el-col :span="6">
        <el-card>
          <div class="stat-item">
            <div class="icon">ğŸ“ˆ</div>
            <div class="value">+{{ stats.thisMonthUploaded }}</div>
            <div class="label">æœ¬æœˆæ–°å¢</div>
          </div>
        </el-card>
      </el-col>
      
      <el-col :span="6">
        <el-card>
          <div class="stat-item">
            <div class="icon">ğŸ’¾</div>
            <div class="value">{{ stats.totalStorage }}</div>
            <div class="label">å­˜å‚¨ç©ºé—´</div>
          </div>
        </el-card>
      </el-col>
      
      <el-col :span="6">
        <el-card>
          <div class="stat-item">
            <div class="icon">ğŸ¯</div>
            <div class="value">{{ stats.avgQualityScore }}</div>
            <div class="label">å¹³å‡è´¨é‡åˆ†</div>
          </div>
        </el-card>
      </el-col>
    </el-row>

    <!-- å›¾è¡¨å±•ç¤º -->
    <el-row :gutter="20" class="charts">
      <el-col :span="12">
        <el-card title="ä¸Šä¼ è¶‹åŠ¿">
          <div ref="uploadTrendChart" style="height: 300px"></div>
        </el-card>
      </el-col>
      
      <el-col :span="12">
        <el-card title="æ´»åŠ¨ç±»å‹åˆ†å¸ƒ">
          <div ref="activityPieChart" style="height: 300px"></div>
        </el-card>
      </el-col>
    </el-row>

    <!-- ç­çº§æ’è¡Œæ¦œ -->
    <el-card title="ç­çº§ä¸Šä¼ æ’è¡Œ" class="ranking-card">
      <el-table :data="stats.classRanking">
        <el-table-column prop="rank" label="æ’å" width="80">
          <template #default="{row}">
            <el-tag :type="getRankType(row.rank)">
              ç¬¬{{ row.rank }}å
            </el-tag>
          </template>
        </el-table-column>
        <el-table-column prop="className" label="ç­çº§" />
        <el-table-column prop="teacher" label="æ•™å¸ˆ" />
        <el-table-column prop="photoCount" label="ç…§ç‰‡æ•°" />
        <el-table-column label="æ“ä½œ">
          <template #default="{row}">
            <el-button size="small" @click="viewClassPhotos(row.classId)">
              æŸ¥çœ‹
            </el-button>
          </template>
        </el-table-column>
      </el-table>
    </el-card>
  </div>
</template>
```

---

## â±ï¸ å¼€å‘è®¡åˆ’

### é˜¶æ®µ1ï¼šMVPåŸºç¡€ç‰ˆï¼ˆ1å‘¨ï¼‰

**ç›®æ ‡ï¼š** å®ç°åŸºæœ¬ä¸Šä¼ å’ŒæŸ¥çœ‹åŠŸèƒ½ï¼ˆä¸å«AIï¼‰

| ä»»åŠ¡ | å·¥æ—¶ | è´Ÿè´£æ¨¡å— |
|------|------|---------|
| æ•°æ®åº“è¡¨è®¾è®¡ä¸åˆ›å»º | 0.5å¤© | åç«¯ |
| OSSæœåŠ¡é›†æˆ | 0.5å¤© | åç«¯ |
| ç…§ç‰‡ä¸Šä¼ API | 1å¤© | åç«¯ |
| æ•™å¸ˆä¸Šä¼ ç•Œé¢ | 1å¤© | å‰ç«¯ |
| å®¶é•¿æ—¶é—´è½´ç•Œé¢ | 1å¤© | å‰ç«¯ |
| æ‰‹åŠ¨æ ‡è®°å­¦ç”ŸåŠŸèƒ½ | 0.5å¤© | å‰åç«¯ |
| åŸºç¡€æƒé™æ§åˆ¶ | 0.5å¤© | åç«¯ |
| æµ‹è¯•ä¼˜åŒ– | 1å¤© | å…¨æ ˆ |

**äº¤ä»˜ç‰©ï¼š**
- âœ… æ•™å¸ˆå¯ä¸Šä¼ ç…§ç‰‡
- âœ… æ•™å¸ˆå¯æ‰‹åŠ¨æ ‡è®°å­¦ç”Ÿ
- âœ… å®¶é•¿å¯æŸ¥çœ‹å­©å­ç…§ç‰‡
- âœ… åŸºç¡€ç­›é€‰å’Œç¿»é¡µ

---

### é˜¶æ®µ2ï¼šAIè¯†åˆ«ç‰ˆï¼ˆ1å‘¨ï¼‰

**ç›®æ ‡ï¼š** é›†æˆç™¾åº¦äººè„¸è¯†åˆ«

| ä»»åŠ¡ | å·¥æ—¶ | è´Ÿè´£æ¨¡å— |
|------|------|---------|
| ç™¾åº¦AI SDKé›†æˆ | 0.5å¤© | åç«¯ |
| äººè„¸åº“å»ºæ¡£åŠŸèƒ½ | 1å¤© | åç«¯ |
| äººè„¸æœç´¢Service | 1å¤© | åç«¯ |
| Bullé˜Ÿåˆ—é…ç½® | 0.5å¤© | åç«¯ |
| AIè¯†åˆ«ç»“æœUI | 1.5å¤© | å‰ç«¯ |
| äººè„¸æ ‡æ³¨äº¤äº’ | 1å¤© | å‰ç«¯ |
| æ‰¹é‡å»ºæ¡£å·¥å…· | 0.5å¤© | ç®¡ç†å·¥å…· |
| æµ‹è¯•ä¼˜åŒ– | 1å¤© | å…¨æ ˆ |

**äº¤ä»˜ç‰©ï¼š**
- âœ… ä¸Šä¼ åè‡ªåŠ¨AIè¯†åˆ«
- âœ… æ™ºèƒ½æ¨èåŒ¹é…å­¦ç”Ÿ
- âœ… è€å¸ˆå¿«é€Ÿç¡®è®¤æ ‡è®°
- âœ… å…¨ç­ç…§ç‰‡ä¸€é”®åˆ†å‘

---

### é˜¶æ®µ3ï¼šå®Œæ•´ç‰ˆï¼ˆ1å‘¨ï¼‰

**ç›®æ ‡ï¼š** è§†é¢‘ç”Ÿæˆã€é«˜çº§åŠŸèƒ½

| ä»»åŠ¡ | å·¥æ—¶ | è´Ÿè´£æ¨¡å— |
|------|------|---------|
| FFmpegè§†é¢‘ç”Ÿæˆ | 1.5å¤© | åç«¯ |
| é…ä¹åº“å‡†å¤‡ | 0.5å¤© | ç´ æ |
| è§†é¢‘æ¸²æŸ“é˜Ÿåˆ— | 1å¤© | åç«¯ |
| è¿›åº¦æ¨é€WebSocket | 0.5å¤© | åç«¯ |
| è§†é¢‘ç”ŸæˆUI | 1å¤© | å‰ç«¯ |
| å›­é•¿ç»Ÿè®¡é¡µé¢ | 1å¤© | å‰ç«¯ |
| ä¼˜è´¨ç…§ç‰‡æ¨è | 0.5å¤© | å‰åç«¯ |
| æµ‹è¯•ä¼˜åŒ– | 1å¤© | å…¨æ ˆ |

**äº¤ä»˜ç‰©ï¼š**
- âœ… ä¸€é”®ç”Ÿæˆé…ä¹è§†é¢‘
- âœ… å›­é•¿æ•°æ®ç»Ÿè®¡
- âœ… ä¼˜è´¨ç…§ç‰‡æ¨èå¢™
- âœ… å®Œæ•´æƒé™ä½“ç³»

---

## âš ï¸ é£é™©è¯„ä¼°ä¸åº”å¯¹

### é£é™©1ï¼šäººè„¸è¯†åˆ«å‡†ç¡®ç‡ä¸è¶³

**é£é™©ç­‰çº§ï¼š** ğŸ”´ é«˜

**å¯èƒ½åŸå› ï¼š**
- å„¿ç«¥é¢éƒ¨å˜åŒ–å¿«
- æ‹ç…§è§’åº¦å¤šæ ·
- å…‰çº¿æ¡ä»¶ä¸ä¸€è‡´
- é®æŒ¡ï¼ˆæˆ´å£ç½©ã€å¸½å­ï¼‰

**åº”å¯¹ç­–ç•¥ï¼š**
1. **å¤šæ¨¡æ¿å»ºæ¡£**ï¼šæ¯ä¸ªå­¦ç”Ÿ3-5å¼ ä¸åŒè§’åº¦ç…§ç‰‡
2. **ç½®ä¿¡åº¦é˜ˆå€¼**ï¼š>85%è‡ªåŠ¨æ ‡è®°ï¼Œ<85%äººå·¥ç¡®è®¤
3. **å®šæœŸæ›´æ–°**ï¼šæ¯å­¦æœŸé‡æ–°å½•å…¥äººè„¸
4. **äººå·¥å…œåº•**ï¼šè€å¸ˆå¯æ‰‹åŠ¨ä¿®æ­£ä»»ä½•ç»“æœ
5. **å­¦ä¹ ä¼˜åŒ–**ï¼šè®°å½•å¤±è´¥æ¡ˆä¾‹ï¼Œä¼˜åŒ–åŒ¹é…ç­–ç•¥

---

### é£é™©2ï¼šå­˜å‚¨æˆæœ¬è¶…é¢„ç®—

**é£é™©ç­‰çº§ï¼š** ğŸŸ¡ ä¸­

**å¯èƒ½åŸå› ï¼š**
- ç…§ç‰‡ä¸Šä¼ é‡è¶…é¢„æœŸ
- æœªå¯ç”¨å‹ç¼©
- ç”Ÿå‘½å‘¨æœŸè§„åˆ™æœªé…ç½®

**åº”å¯¹ç­–ç•¥ï¼š**
1. **å¼ºåˆ¶å‹ç¼©**ï¼šåç«¯è‡ªåŠ¨å‹ç¼©åˆ°2MBä»¥å†…
2. **ç”Ÿå‘½å‘¨æœŸ**ï¼š30å¤©åè‡ªåŠ¨è½¬ä½é¢‘å­˜å‚¨
3. **æˆæœ¬ç›‘æ§**ï¼šæ¯å‘¨å‘é€æˆæœ¬æŠ¥è¡¨
4. **é¢„ç®—é¢„è­¦**ï¼šè¶…50å…ƒ/æœˆè‡ªåŠ¨å‘Šè­¦
5. **æ¸…ç†ç­–ç•¥**ï¼š1å¹´ä»¥ä¸Šç…§ç‰‡å¯é€‰æ‹©æ€§å½’æ¡£

---

### é£é™©3ï¼šQPSé™åˆ¶å¯¼è‡´å¤„ç†ç¼“æ…¢

**é£é™©ç­‰çº§ï¼š** ğŸŸ¢ ä½

**å¯èƒ½åŸå› ï¼š**
- ç™¾åº¦AIä¸ªäººè´¦å·QPS=2æ¬¡/ç§’
- å¤šè€å¸ˆåŒæ—¶æ‰¹é‡ä¸Šä¼ 

**åº”å¯¹ç­–ç•¥ï¼š**
1. **é˜Ÿåˆ—å¤„ç†**ï¼šBullé˜Ÿåˆ—è‡ªåŠ¨é™æµ
2. **å¼‚æ­¥è¯†åˆ«**ï¼šä¸Šä¼ å’Œè¯†åˆ«åˆ†ç¦»
3. **è¿›åº¦æ¨é€**ï¼šå®æ—¶åé¦ˆç»™è€å¸ˆ
4. **æ‰¹é‡ä¼˜åŒ–**ï¼šä¸€å¼ ç…§ç‰‡å¤šå¼ è„¸ï¼Œä¸€æ¬¡è°ƒç”¨
5. **å‡çº§æ–¹æ¡ˆ**ï¼šå¿…è¦æ—¶å‡çº§ä¼ä¸šè´¦å·ï¼ˆ10QPSï¼‰

---

### é£é™©4ï¼šéšç§æ³„éœ²

**é£é™©ç­‰çº§ï¼š** ğŸ”´ é«˜

**å¯èƒ½åŸå› ï¼š**
- OSS URLæ³„éœ²
- æƒé™æ§åˆ¶ä¸ä¸¥
- ç…§ç‰‡è¢«çˆ¬è™«æŠ“å–

**åº”å¯¹ç­–ç•¥ï¼š**
1. **ç§æœ‰Bucket**ï¼šOSSè®¾ä¸ºç§æœ‰è¯»å†™
2. **ç­¾åURL**ï¼šä¸´æ—¶URLï¼Œ1å°æ—¶è¿‡æœŸ
3. **é˜²ç›—é“¾**ï¼šOSSé…ç½®Refererç™½åå•
4. **æ°´å°ä¿æŠ¤**ï¼šç…§ç‰‡è‡ªåŠ¨æ·»åŠ å›­æ‰€æ°´å°
5. **ä¸‹è½½é™åˆ¶**ï¼šæ¯ä¸ªå®¶é•¿æ¯å¤©æœ€å¤šä¸‹è½½20å¼ 
6. **è®¿é—®æ—¥å¿—**ï¼šè®°å½•æ‰€æœ‰ç…§ç‰‡è®¿é—®ï¼Œå¼‚å¸¸å‘Šè­¦

---

## ğŸ“¦ ä¾èµ–åŒ…æ¸…å•

### åç«¯ä¾èµ–
```json
{
  "ali-oss": "^6.18.0",           // é˜¿é‡Œäº‘OSS SDK
  "baidu-aip-sdk": "^4.16.0",     // ç™¾åº¦AI SDKï¼ˆé¢„ç•™ï¼‰
  "sharp": "^0.32.0",              // å›¾ç‰‡å¤„ç†
  "multer": "^1.4.5-lts.1",        // æ–‡ä»¶ä¸Šä¼ 
  "bull": "^4.11.0",               // ä»»åŠ¡é˜Ÿåˆ—
  "fluent-ffmpeg": "^2.1.2",       // è§†é¢‘ç”Ÿæˆ
  "uuid": "^9.0.0"                 // å”¯ä¸€IDç”Ÿæˆ
}
```

### å‰ç«¯ä¾èµ–
```json
{
  "@element-plus/icons-vue": "latest",  // å›¾æ ‡
  "vue-cropper": "^1.0.0",              // å›¾ç‰‡è£å‰ªï¼ˆå¯é€‰ï¼‰
  "vue3-waterfall": "^1.0.0"            // ç€‘å¸ƒæµå¸ƒå±€
}
```

---

## ğŸ”§ ç¯å¢ƒé…ç½®

### åç«¯.envé…ç½®
```bash
# ==================== OSSé…ç½® ====================
OSS_ACCESS_KEY_ID=LTAI5t...              # é˜¿é‡Œäº‘AccessKeyï¼ˆå¾…å¡«å†™ï¼‰
OSS_ACCESS_KEY_SECRET=3Kxxx...           # é˜¿é‡Œäº‘SecretKeyï¼ˆå¾…å¡«å†™ï¼‰
OSS_BUCKET=kyyup-photos                  # Bucketåç§°
OSS_REGION=oss-cn-beijing                # åœ°åŸŸ
OSS_CDN_DOMAIN=https://photos.kyyup.com  # CDNåŸŸåï¼ˆå¯é€‰ï¼‰
OSS_PATH_PREFIX=kindergarten/            # å­˜å‚¨è·¯å¾„å‰ç¼€

# ==================== ç™¾åº¦AIé…ç½® ====================
BAIDU_FACE_APP_ID=2345678                # ç™¾åº¦åº”ç”¨IDï¼ˆå¾…å¡«å†™ï¼‰
BAIDU_FACE_API_KEY=kxGt8m...             # ç™¾åº¦API Keyï¼ˆå¾…å¡«å†™ï¼‰
BAIDU_FACE_SECRET_KEY=YnPq7H...          # ç™¾åº¦Secret Keyï¼ˆå¾…å¡«å†™ï¼‰
BAIDU_FACE_GROUP_ID=kindergarten_students # äººè„¸åº“ID

# ==================== è§†é¢‘ç”Ÿæˆé…ç½® ====================
VIDEO_MUSIC_DIR=/uploads/music           # é…ä¹æ–‡ä»¶ç›®å½•
VIDEO_OUTPUT_DIR=/uploads/videos         # è§†é¢‘è¾“å‡ºç›®å½•
VIDEO_WATERMARK_PATH=/assets/logo.png    # æ°´å°logoè·¯å¾„
FFMPEG_PATH=/usr/bin/ffmpeg              # FFmpegè·¯å¾„
```

---

## ğŸ“‹ å¼€å‘ä¼˜å…ˆçº§

### P0ï¼ˆå¿…é¡»ï¼‰- MVPæ ¸å¿ƒåŠŸèƒ½
- âœ… ç…§ç‰‡ä¸Šä¼ ï¼ˆæ•™å¸ˆï¼‰
- âœ… ç…§ç‰‡æŸ¥çœ‹ï¼ˆå®¶é•¿ï¼‰
- âœ… æ‰‹åŠ¨æ ‡è®°å­¦ç”Ÿ
- âœ… æ—¶é—´è½´å±•ç¤º
- âœ… åŸºç¡€ç­›é€‰

### P1ï¼ˆé‡è¦ï¼‰- AIè¯†åˆ«
- âœ… ç™¾åº¦AIé›†æˆ
- âœ… è‡ªåŠ¨äººè„¸è¯†åˆ«
- âœ… æ™ºèƒ½æ¨è
- âœ… äººè„¸åº“å»ºæ¡£

### P2ï¼ˆå¯é€‰ï¼‰- é«˜çº§åŠŸèƒ½
- â³ é…ä¹è§†é¢‘ç”Ÿæˆ
- â³ ä¼˜è´¨ç…§ç‰‡æ¨è
- â³ æ•°æ®ç»Ÿè®¡å›¾è¡¨
- â³ æ‰¹é‡ä¸‹è½½

---

## ğŸ“Š æŠ€æœ¯æŒ‡æ ‡

### æ€§èƒ½è¦æ±‚
| æŒ‡æ ‡ | ç›®æ ‡å€¼ |
|------|--------|
| ç…§ç‰‡ä¸Šä¼ é€Ÿåº¦ | < 3ç§’/å¼ ï¼ˆ2MBï¼‰ |
| AIè¯†åˆ«é€Ÿåº¦ | < 5ç§’/å¼ ï¼ˆ3å¼ è„¸ï¼‰ |
| æ—¶é—´è½´åŠ è½½ | < 1ç§’ï¼ˆ20å¼ ï¼‰ |
| è§†é¢‘ç”Ÿæˆ | < 5åˆ†é’Ÿï¼ˆ100å¼ ç…§ç‰‡ï¼‰ |
| å¹¶å‘ä¸Šä¼  | æ”¯æŒ10ä¸ªè€å¸ˆåŒæ—¶ä¸Šä¼  |

### å®¹é‡è§„åˆ’
| é¡¹ç›® | è§„æ ¼ |
|------|------|
| å•å¼ ç…§ç‰‡ | < 2MBï¼ˆå‹ç¼©åï¼‰ |
| ç¼©ç•¥å›¾ | < 200KB |
| å¹´åº¦ç…§ç‰‡æ•° | 18,000å¼ ï¼ˆ500å­¦ç”Ÿï¼‰ |
| å¹´åº¦å­˜å‚¨ | 36GB |
| 3å¹´æ€»å­˜å‚¨ | 108GB |

---

## ğŸ¯ æˆåŠŸæ ‡å‡†

### ä¸šåŠ¡æŒ‡æ ‡
- âœ… æ•™å¸ˆä¸Šä¼ æ•ˆç‡æå‡80%ï¼ˆå¯¹æ¯”æ‰‹åŠ¨åˆ†å‘ï¼‰
- âœ… å®¶é•¿æ»¡æ„åº¦>90%
- âœ… AIè¯†åˆ«å‡†ç¡®ç‡>85%
- âœ… ç…§ç‰‡æŸ¥çœ‹ç‡>60%ï¼ˆå®¶é•¿æ´»è·ƒåº¦ï¼‰

### æŠ€æœ¯æŒ‡æ ‡
- âœ… APIå“åº”æ—¶é—´<2ç§’
- âœ… ç…§ç‰‡åŠ è½½æˆåŠŸç‡>99%
- âœ… ç³»ç»Ÿå¯ç”¨æ€§>99.5%
- âœ… æ— é‡å¤§å®‰å…¨äº‹æ•…

---

## ğŸ“ é™„å½•

### A. ç™¾åº¦AIæ¥å£é¢„ç•™æ¸…å•

```typescript
// æ‰€æœ‰ç™¾åº¦AIç›¸å…³æ¥å£éƒ½é¢„ç•™ï¼Œå¾…å¼€é€šåå¡«å…¥çœŸå®Key

// 1. è·å–Access Token
async getBaiduAccessToken(): Promise<string>

// 2. æ³¨å†Œäººè„¸
async addFaceToLibrary(
  studentId: number, 
  imageUrl: string
): Promise<{faceToken: string}>

// 3. æœç´¢äººè„¸
async searchFace(
  imageUrl: string
): Promise<FaceSearchResult[]>

// 4. æ›´æ–°äººè„¸
async updateFace(
  studentId: number, 
  faceToken: string,
  newImageUrl: string
): Promise<boolean>

// 5. åˆ é™¤äººè„¸
async deleteFace(
  studentId: number,
  faceToken: string
): Promise<boolean>

// 6. è·å–äººè„¸åº“åˆ—è¡¨
async listFaceGroups(): Promise<GroupInfo[]>

// 7. è·å–å­¦ç”Ÿäººè„¸åˆ—è¡¨
async getStudentFaces(
  studentId: number
): Promise<FaceInfo[]>
```

### B. æ´»åŠ¨ç±»å‹æšä¸¾
```typescript
export enum ActivityType {
  OUTDOOR = 'outdoor',         // æˆ·å¤–æ´»åŠ¨
  INDOOR = 'indoor',           // å®¤å†…æ´»åŠ¨
  HANDCRAFT = 'handcraft',     // æ‰‹å·¥è¯¾
  SPORTS = 'sports',           // è¿åŠ¨ä¼š
  PERFORMANCE = 'performance', // æ–‡è‰ºè¡¨æ¼”
  MEAL = 'meal',               // ç”¨é¤æ—¶é—´
  NAP = 'nap',                 // åˆä¼‘
  READING = 'reading',         // é˜…è¯»æ—¶é—´
  MUSIC = 'music',             // éŸ³ä¹è¯¾
  ART = 'art',                 // ç¾æœ¯è¯¾
  SCIENCE = 'science',         // ç§‘å­¦å®éªŒ
  CELEBRATION = 'celebration', // èŠ‚æ—¥åº†ç¥
  EXCURSION = 'excursion',     // éƒŠæ¸¸
  GRADUATION = 'graduation',   // æ¯•ä¸šå…¸ç¤¼
  OTHER = 'other'              // å…¶ä»–
}
```

### C. é…ä¹éŸ³ä¹åº“
```
é¢„ç½®10é¦–å„¿ç«¥é…ä¹ï¼š
â”œâ”€ sweet.mp3        - æ¸©é¦¨ç”œèœœï¼ˆé€‚åˆæ—¥å¸¸ç”Ÿæ´»ç…§ï¼‰
â”œâ”€ cheerful.mp3     - æ¬¢å¿«æ´»æ³¼ï¼ˆé€‚åˆè¿åŠ¨ä¼šï¼‰
â”œâ”€ dreamy.mp3       - æ¢¦å¹»æŸ”å’Œï¼ˆé€‚åˆåˆä¼‘ã€é˜…è¯»ï¼‰
â”œâ”€ energetic.mp3    - æ´»åŠ›å››å°„ï¼ˆé€‚åˆæˆ·å¤–æ´»åŠ¨ï¼‰
â”œâ”€ gentle.mp3       - æ¸©æŸ”èˆ’ç¼“ï¼ˆé€‚åˆæ‰‹å·¥è¯¾ï¼‰
â”œâ”€ playful.mp3      - ä¿çš®å¯çˆ±ï¼ˆé€‚åˆæ¸¸æˆæ—¶é—´ï¼‰
â”œâ”€ proud.mp3        - éª„å‚²è‡ªè±ªï¼ˆé€‚åˆè¡¨æ¼”ã€æ¯•ä¸šï¼‰
â”œâ”€ spring.mp3       - æ˜¥å¤©æ°”æ¯ï¼ˆé€‚åˆæ˜¥æ¸¸ï¼‰
â”œâ”€ summer.mp3       - å¤æ—¥æ¬¢ä¹ï¼ˆé€‚åˆå¤å­£æ´»åŠ¨ï¼‰
â””â”€ autumn.mp3       - ç§‹æ—¥æ¸©æš–ï¼ˆé€‚åˆç§‹æ¸¸ï¼‰
```

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

### ç™¾åº¦AI
- å®˜æ–¹æ–‡æ¡£ï¼šhttps://ai.baidu.com/ai-doc/FACE/
- æ§åˆ¶å°ï¼šhttps://console.bce.baidu.com/ai/#/ai/face/
- æŠ€æœ¯è®ºå›ï¼šhttps://ai.baidu.com/forum/

### é˜¿é‡Œäº‘OSS
- å®˜æ–¹æ–‡æ¡£ï¼šhttps://help.aliyun.com/product/31815.html
- æ§åˆ¶å°ï¼šhttps://oss.console.aliyun.com/
- SDKæ–‡æ¡£ï¼šhttps://github.com/ali-sdk/ali-oss

---

## âœ… éªŒæ”¶æ ‡å‡†

### åŠŸèƒ½éªŒæ”¶
- [ ] æ•™å¸ˆå¯æ‰¹é‡ä¸Šä¼ ç…§ç‰‡ï¼ˆ10å¼ ä»¥ä¸Šï¼‰
- [ ] AIè‡ªåŠ¨è¯†åˆ«äººè„¸å¹¶æ¨èå­¦ç”Ÿï¼ˆå‡†ç¡®ç‡>85%ï¼‰
- [ ] æ•™å¸ˆå¯å¿«é€Ÿç¡®è®¤/ä¿®æ­£æ ‡è®°
- [ ] å®¶é•¿å¯æŸ¥çœ‹å­©å­ç…§ç‰‡æ—¶é—´è½´
- [ ] å®¶é•¿å¯ä¸‹è½½ç…§ç‰‡
- [ ] å®¶é•¿å¯ç”Ÿæˆé…ä¹è§†é¢‘
- [ ] å›­é•¿å¯æŸ¥çœ‹æ•°æ®ç»Ÿè®¡
- [ ] å›­é•¿å¯æŸ¥çœ‹ä¼˜è´¨ç…§ç‰‡æ¨è

### æ€§èƒ½éªŒæ”¶
- [ ] ç…§ç‰‡ä¸Šä¼ é€Ÿåº¦<3ç§’/å¼ 
- [ ] AIè¯†åˆ«é€Ÿåº¦<5ç§’/å¼ 
- [ ] æ—¶é—´è½´åŠ è½½<1ç§’
- [ ] æ”¯æŒ10ä¸ªè€å¸ˆåŒæ—¶ä¸Šä¼ 

### å®‰å…¨éªŒæ”¶
- [ ] OSSç§æœ‰æƒé™é…ç½®
- [ ] ç­¾åURLæœ‰æ•ˆæœŸæ§åˆ¶
- [ ] é˜²ç›—é“¾é…ç½®
- [ ] å®¶é•¿åªèƒ½çœ‹è‡ªå·±å­©å­ç…§ç‰‡
- [ ] æ— SQLæ³¨å…¥æ¼æ´
- [ ] æ— XSSæ¼æ´

---

**æ–‡æ¡£ç»“æŸ**

> æœ€åæ›´æ–°ï¼š2025-11-04  
> çŠ¶æ€ï¼šå¾…è¯„å®¡  
> ä¸‹ä¸€æ­¥ï¼šæŠ€æœ¯è¯„å®¡ â†’ æ•°æ®åº“åˆ›å»º â†’ å¼€å‘å¯åŠ¨

